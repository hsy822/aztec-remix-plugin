var P8=Object.defineProperty;var g4=r=>{throw TypeError(r)};var B8=(r,e,t)=>e in r?P8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var x=(r,e,t)=>B8(r,typeof e!="symbol"?e+"":e,t),Lb=(r,e,t)=>e.has(r)||g4("Cannot "+t);var Ie=(r,e,t)=>(Lb(r,e,"read from private field"),t?t.call(r):e.get(r)),Nt=(r,e,t)=>e.has(r)?g4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Vt=(r,e,t,n)=>(Lb(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Lt=(r,e,t)=>(Lb(r,e,"access private method"),t);function N8(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function wP(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Db={exports:{}},Eg={},Mb={exports:{}},vr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _4;function O8(){if(_4)return vr;_4=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(ee){return ee===null||typeof ee!="object"?null:(ee=y&&ee[y]||ee["@@iterator"],typeof ee=="function"?ee:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,S={};function P(ee,re,se){this.props=ee,this.context=re,this.refs=S,this.updater=se||E}P.prototype.isReactComponent={},P.prototype.setState=function(ee,re){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,re,"setState")},P.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function N(){}N.prototype=P.prototype;function k(ee,re,se){this.props=ee,this.context=re,this.refs=S,this.updater=se||E}var R=k.prototype=new N;R.constructor=k,I(R,P.prototype),R.isPureReactComponent=!0;var L=Array.isArray,U=Object.prototype.hasOwnProperty,te={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function oe(ee,re,se){var Y,J={},Se=null,Me=null;if(re!=null)for(Y in re.ref!==void 0&&(Me=re.ref),re.key!==void 0&&(Se=""+re.key),re)U.call(re,Y)&&!V.hasOwnProperty(Y)&&(J[Y]=re[Y]);var Ce=arguments.length-2;if(Ce===1)J.children=se;else if(1<Ce){for(var Re=Array(Ce),je=0;je<Ce;je++)Re[je]=arguments[je+2];J.children=Re}if(ee&&ee.defaultProps)for(Y in Ce=ee.defaultProps,Ce)J[Y]===void 0&&(J[Y]=Ce[Y]);return{$$typeof:r,type:ee,key:Se,ref:Me,props:J,_owner:te.current}}function de(ee,re){return{$$typeof:r,type:ee.type,key:re,ref:ee.ref,props:ee.props,_owner:ee._owner}}function Ee(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===r}function Fe(ee){var re={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(se){return re[se]})}var j=/\/+/g;function fe(ee,re){return typeof ee=="object"&&ee!==null&&ee.key!=null?Fe(""+ee.key):re.toString(36)}function z(ee,re,se,Y,J){var Se=typeof ee;(Se==="undefined"||Se==="boolean")&&(ee=null);var Me=!1;if(ee===null)Me=!0;else switch(Se){case"string":case"number":Me=!0;break;case"object":switch(ee.$$typeof){case r:case e:Me=!0}}if(Me)return Me=ee,J=J(Me),ee=Y===""?"."+fe(Me,0):Y,L(J)?(se="",ee!=null&&(se=ee.replace(j,"$&/")+"/"),z(J,re,se,"",function(je){return je})):J!=null&&(Ee(J)&&(J=de(J,se+(!J.key||Me&&Me.key===J.key?"":(""+J.key).replace(j,"$&/")+"/")+ee)),re.push(J)),1;if(Me=0,Y=Y===""?".":Y+":",L(ee))for(var Ce=0;Ce<ee.length;Ce++){Se=ee[Ce];var Re=Y+fe(Se,Ce);Me+=z(Se,re,se,Re,J)}else if(Re=b(ee),typeof Re=="function")for(ee=Re.call(ee),Ce=0;!(Se=ee.next()).done;)Se=Se.value,Re=Y+fe(Se,Ce++),Me+=z(Se,re,se,Re,J);else if(Se==="object")throw re=String(ee),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Me}function Q(ee,re,se){if(ee==null)return ee;var Y=[],J=0;return z(ee,Y,"","",function(Se){return re.call(se,Se,J++)}),Y}function me(ee){if(ee._status===-1){var re=ee._result;re=re(),re.then(function(se){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=se)},function(se){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=se)}),ee._status===-1&&(ee._status=0,ee._result=re)}if(ee._status===1)return ee._result.default;throw ee._result}var pe={current:null},xe={transition:null},ce={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:xe,ReactCurrentOwner:te};function ve(){throw Error("act(...) is not supported in production builds of React.")}return vr.Children={map:Q,forEach:function(ee,re,se){Q(ee,function(){re.apply(this,arguments)},se)},count:function(ee){var re=0;return Q(ee,function(){re++}),re},toArray:function(ee){return Q(ee,function(re){return re})||[]},only:function(ee){if(!Ee(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},vr.Component=P,vr.Fragment=t,vr.Profiler=i,vr.PureComponent=k,vr.StrictMode=n,vr.Suspense=d,vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,vr.act=ve,vr.cloneElement=function(ee,re,se){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var Y=I({},ee.props),J=ee.key,Se=ee.ref,Me=ee._owner;if(re!=null){if(re.ref!==void 0&&(Se=re.ref,Me=te.current),re.key!==void 0&&(J=""+re.key),ee.type&&ee.type.defaultProps)var Ce=ee.type.defaultProps;for(Re in re)U.call(re,Re)&&!V.hasOwnProperty(Re)&&(Y[Re]=re[Re]===void 0&&Ce!==void 0?Ce[Re]:re[Re])}var Re=arguments.length-2;if(Re===1)Y.children=se;else if(1<Re){Ce=Array(Re);for(var je=0;je<Re;je++)Ce[je]=arguments[je+2];Y.children=Ce}return{$$typeof:r,type:ee.type,key:J,ref:Se,props:Y,_owner:Me}},vr.createContext=function(ee){return ee={$$typeof:c,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:s,_context:ee},ee.Consumer=ee},vr.createElement=oe,vr.createFactory=function(ee){var re=oe.bind(null,ee);return re.type=ee,re},vr.createRef=function(){return{current:null}},vr.forwardRef=function(ee){return{$$typeof:u,render:ee}},vr.isValidElement=Ee,vr.lazy=function(ee){return{$$typeof:m,_payload:{_status:-1,_result:ee},_init:me}},vr.memo=function(ee,re){return{$$typeof:l,type:ee,compare:re===void 0?null:re}},vr.startTransition=function(ee){var re=xe.transition;xe.transition={};try{ee()}finally{xe.transition=re}},vr.unstable_act=ve,vr.useCallback=function(ee,re){return pe.current.useCallback(ee,re)},vr.useContext=function(ee){return pe.current.useContext(ee)},vr.useDebugValue=function(){},vr.useDeferredValue=function(ee){return pe.current.useDeferredValue(ee)},vr.useEffect=function(ee,re){return pe.current.useEffect(ee,re)},vr.useId=function(){return pe.current.useId()},vr.useImperativeHandle=function(ee,re,se){return pe.current.useImperativeHandle(ee,re,se)},vr.useInsertionEffect=function(ee,re){return pe.current.useInsertionEffect(ee,re)},vr.useLayoutEffect=function(ee,re){return pe.current.useLayoutEffect(ee,re)},vr.useMemo=function(ee,re){return pe.current.useMemo(ee,re)},vr.useReducer=function(ee,re,se){return pe.current.useReducer(ee,re,se)},vr.useRef=function(ee){return pe.current.useRef(ee)},vr.useState=function(ee){return pe.current.useState(ee)},vr.useSyncExternalStore=function(ee,re,se){return pe.current.useSyncExternalStore(ee,re,se)},vr.useTransition=function(){return pe.current.useTransition()},vr.version="18.3.1",vr}var y4;function bA(){return y4||(y4=1,Mb.exports=O8()),Mb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4;function F8(){if(w4)return Eg;w4=1;var r=bA(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,l){var m,y={},b=null,E=null;l!==void 0&&(b=""+l),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)n.call(d,m)&&!s.hasOwnProperty(m)&&(y[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:u,key:b,ref:E,props:y,_owner:i.current}}return Eg.Fragment=t,Eg.jsx=c,Eg.jsxs=c,Eg}var v4;function L8(){return v4||(v4=1,Db.exports=F8()),Db.exports}var Ot=L8(),at=bA();const hi=Zc(at),b4=N8({__proto__:null,default:hi},[at]);function D8(r){if(r.sheet)return r.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===r)return document.styleSheets[e]}function M8(r){var e=document.createElement("style");return e.setAttribute("data-emotion",r.key),r.nonce!==void 0&&e.setAttribute("nonce",r.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var j8=function(){function r(t){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=r.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(M8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=D8(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},r}(),os="-ms-",_w="-moz-",Ur="-webkit-",vP="comm",EA="rule",SA="decl",$8="@import",bP="@keyframes",U8="@layer",z8=Math.abs,sv=String.fromCharCode,H8=Object.assign;function q8(r,e){return Mi(r,0)^45?(((e<<2^Mi(r,0))<<2^Mi(r,1))<<2^Mi(r,2))<<2^Mi(r,3):0}function EP(r){return r.trim()}function V8(r,e){return(r=e.exec(r))?r[0]:r}function zr(r,e,t){return r.replace(e,t)}function JS(r,e){return r.indexOf(e)}function Mi(r,e){return r.charCodeAt(e)|0}function S_(r,e,t){return r.slice(e,t)}function kc(r){return r.length}function xA(r){return r.length}function D0(r,e){return e.push(r),r}function W8(r,e){return r.map(e).join("")}var av=1,Zp=1,SP=0,ia=0,li=0,cm="";function ov(r,e,t,n,i,s,c){return{value:r,root:e,parent:t,type:n,props:i,children:s,line:av,column:Zp,length:c,return:""}}function Sg(r,e){return H8(ov("",null,null,"",null,null,0),r,{length:-r.length},e)}function Z8(){return li}function K8(){return li=ia>0?Mi(cm,--ia):0,Zp--,li===10&&(Zp=1,av--),li}function Sa(){return li=ia<SP?Mi(cm,ia++):0,Zp++,li===10&&(Zp=1,av++),li}function jc(){return Mi(cm,ia)}function ew(){return ia}function cy(r,e){return S_(cm,r,e)}function x_(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xP(r){return av=Zp=1,SP=kc(cm=r),ia=0,[]}function AP(r){return cm="",r}function tw(r){return EP(cy(ia-1,QS(r===91?r+2:r===40?r+1:r)))}function G8(r){for(;(li=jc())&&li<33;)Sa();return x_(r)>2||x_(li)>3?"":" "}function Y8(r,e){for(;--e&&Sa()&&!(li<48||li>102||li>57&&li<65||li>70&&li<97););return cy(r,ew()+(e<6&&jc()==32&&Sa()==32))}function QS(r){for(;Sa();)switch(li){case r:return ia;case 34:case 39:r!==34&&r!==39&&QS(li);break;case 40:r===41&&QS(r);break;case 92:Sa();break}return ia}function X8(r,e){for(;Sa()&&r+li!==57;)if(r+li===84&&jc()===47)break;return"/*"+cy(e,ia-1)+"*"+sv(r===47?r:Sa())}function J8(r){for(;!x_(jc());)Sa();return cy(r,ia)}function Q8(r){return AP(rw("",null,null,null,[""],r=xP(r),0,[0],r))}function rw(r,e,t,n,i,s,c,u,d){for(var l=0,m=0,y=c,b=0,E=0,I=0,S=1,P=1,N=1,k=0,R="",L=i,U=s,te=n,V=R;P;)switch(I=k,k=Sa()){case 40:if(I!=108&&Mi(V,y-1)==58){JS(V+=zr(tw(k),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:V+=tw(k);break;case 9:case 10:case 13:case 32:V+=G8(I);break;case 92:V+=Y8(ew()-1,7);continue;case 47:switch(jc()){case 42:case 47:D0(eL(X8(Sa(),ew()),e,t),d);break;default:V+="/"}break;case 123*S:u[l++]=kc(V)*N;case 125*S:case 59:case 0:switch(k){case 0:case 125:P=0;case 59+m:N==-1&&(V=zr(V,/\f/g,"")),E>0&&kc(V)-y&&D0(E>32?S4(V+";",n,t,y-1):S4(zr(V," ","")+";",n,t,y-2),d);break;case 59:V+=";";default:if(D0(te=E4(V,e,t,l,m,i,u,R,L=[],U=[],y),s),k===123)if(m===0)rw(V,e,te,te,L,s,y,u,U);else switch(b===99&&Mi(V,3)===110?100:b){case 100:case 108:case 109:case 115:rw(r,te,te,n&&D0(E4(r,te,te,0,0,i,u,R,i,L=[],y),U),i,U,y,u,n?L:U);break;default:rw(V,te,te,te,[""],U,0,u,U)}}l=m=E=0,S=N=1,R=V="",y=c;break;case 58:y=1+kc(V),E=I;default:if(S<1){if(k==123)--S;else if(k==125&&S++==0&&K8()==125)continue}switch(V+=sv(k),k*S){case 38:N=m>0?1:(V+="\f",-1);break;case 44:u[l++]=(kc(V)-1)*N,N=1;break;case 64:jc()===45&&(V+=tw(Sa())),b=jc(),m=y=kc(R=V+=J8(ew())),k++;break;case 45:I===45&&kc(V)==2&&(S=0)}}return s}function E4(r,e,t,n,i,s,c,u,d,l,m){for(var y=i-1,b=i===0?s:[""],E=xA(b),I=0,S=0,P=0;I<n;++I)for(var N=0,k=S_(r,y+1,y=z8(S=c[I])),R=r;N<E;++N)(R=EP(S>0?b[N]+" "+k:zr(k,/&\f/g,b[N])))&&(d[P++]=R);return ov(r,e,t,i===0?EA:u,d,l,m)}function eL(r,e,t){return ov(r,e,t,vP,sv(Z8()),S_(r,2,-2),0)}function S4(r,e,t,n){return ov(r,e,t,SA,S_(r,0,n),S_(r,n+1,-1),n)}function Rp(r,e){for(var t="",n=xA(r),i=0;i<n;i++)t+=e(r[i],i,r,e)||"";return t}function tL(r,e,t,n){switch(r.type){case U8:if(r.children.length)break;case $8:case SA:return r.return=r.return||r.value;case vP:return"";case bP:return r.return=r.value+"{"+Rp(r.children,n)+"}";case EA:r.value=r.props.join(",")}return kc(t=Rp(r.children,n))?r.return=r.value+"{"+t+"}":""}function rL(r){var e=xA(r);return function(t,n,i,s){for(var c="",u=0;u<e;u++)c+=r[u](t,n,i,s)||"";return c}}function nL(r){return function(e){e.root||(e=e.return)&&r(e)}}function iL(r){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=r(t)),e[t]}}var sL=function(e,t,n){for(var i=0,s=0;i=s,s=jc(),i===38&&s===12&&(t[n]=1),!x_(s);)Sa();return cy(e,ia)},aL=function(e,t){var n=-1,i=44;do switch(x_(i)){case 0:i===38&&jc()===12&&(t[n]=1),e[n]+=sL(ia-1,t,n);break;case 2:e[n]+=tw(i);break;case 4:if(i===44){e[++n]=jc()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=sv(i)}while(i=Sa());return e},oL=function(e,t){return AP(aL(xP(e),t))},x4=new WeakMap,cL=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!x4.get(n))&&!i){x4.set(e,!0);for(var s=[],c=oL(t,s),u=n.props,d=0,l=0;d<c.length;d++)for(var m=0;m<u.length;m++,l++)e.props[l]=s[d]?c[d].replace(/&\f/g,u[m]):u[m]+" "+c[d]}}},uL=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function CP(r,e){switch(q8(r,e)){case 5103:return Ur+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ur+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Ur+r+_w+r+os+r+r;case 6828:case 4268:return Ur+r+os+r+r;case 6165:return Ur+r+os+"flex-"+r+r;case 5187:return Ur+r+zr(r,/(\w+).+(:[^]+)/,Ur+"box-$1$2"+os+"flex-$1$2")+r;case 5443:return Ur+r+os+"flex-item-"+zr(r,/flex-|-self/,"")+r;case 4675:return Ur+r+os+"flex-line-pack"+zr(r,/align-content|flex-|-self/,"")+r;case 5548:return Ur+r+os+zr(r,"shrink","negative")+r;case 5292:return Ur+r+os+zr(r,"basis","preferred-size")+r;case 6060:return Ur+"box-"+zr(r,"-grow","")+Ur+r+os+zr(r,"grow","positive")+r;case 4554:return Ur+zr(r,/([^-])(transform)/g,"$1"+Ur+"$2")+r;case 6187:return zr(zr(zr(r,/(zoom-|grab)/,Ur+"$1"),/(image-set)/,Ur+"$1"),r,"")+r;case 5495:case 3959:return zr(r,/(image-set\([^]*)/,Ur+"$1$`$1");case 4968:return zr(zr(r,/(.+:)(flex-)?(.*)/,Ur+"box-pack:$3"+os+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ur+r+r;case 4095:case 3583:case 4068:case 2532:return zr(r,/(.+)-inline(.+)/,Ur+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kc(r)-1-e>6)switch(Mi(r,e+1)){case 109:if(Mi(r,e+4)!==45)break;case 102:return zr(r,/(.+:)(.+)-([^]+)/,"$1"+Ur+"$2-$3$1"+_w+(Mi(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~JS(r,"stretch")?CP(zr(r,"stretch","fill-available"),e)+r:r}break;case 4949:if(Mi(r,e+1)!==115)break;case 6444:switch(Mi(r,kc(r)-3-(~JS(r,"!important")&&10))){case 107:return zr(r,":",":"+Ur)+r;case 101:return zr(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ur+(Mi(r,14)===45?"inline-":"")+"box$3$1"+Ur+"$2$3$1"+os+"$2box$3")+r}break;case 5936:switch(Mi(r,e+11)){case 114:return Ur+r+os+zr(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Ur+r+os+zr(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Ur+r+os+zr(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return Ur+r+os+r+r}return r}var lL=function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case SA:e.return=CP(e.value,e.length);break;case bP:return Rp([Sg(e,{value:zr(e.value,"@","@"+Ur)})],i);case EA:if(e.length)return W8(e.props,function(s){switch(V8(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Rp([Sg(e,{props:[zr(s,/:(read-\w+)/,":"+_w+"$1")]})],i);case"::placeholder":return Rp([Sg(e,{props:[zr(s,/:(plac\w+)/,":"+Ur+"input-$1")]}),Sg(e,{props:[zr(s,/:(plac\w+)/,":"+_w+"$1")]}),Sg(e,{props:[zr(s,/:(plac\w+)/,os+"input-$1")]})],i)}return""})}},fL=[lL],dL=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(S){var P=S.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||fL,s={},c,u=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(S){for(var P=S.getAttribute("data-emotion").split(" "),N=1;N<P.length;N++)s[P[N]]=!0;u.push(S)});var d,l=[cL,uL];{var m,y=[tL,nL(function(S){m.insert(S)})],b=rL(l.concat(i,y)),E=function(P){return Rp(Q8(P),b)};d=function(P,N,k,R){m=k,E(P?P+"{"+N.styles+"}":N.styles),R&&(I.inserted[N.name]=!0)}}var I={key:t,sheet:new j8({key:t,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return I.sheet.hydrate(u),I};function ex(){return ex=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ex.apply(null,arguments)}var jb={exports:{}},Zr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A4;function hL(){if(A4)return Zr;A4=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,l=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,y=r?Symbol.for("react.suspense"):60113,b=r?Symbol.for("react.suspense_list"):60120,E=r?Symbol.for("react.memo"):60115,I=r?Symbol.for("react.lazy"):60116,S=r?Symbol.for("react.block"):60121,P=r?Symbol.for("react.fundamental"):60117,N=r?Symbol.for("react.responder"):60118,k=r?Symbol.for("react.scope"):60119;function R(U){if(typeof U=="object"&&U!==null){var te=U.$$typeof;switch(te){case e:switch(U=U.type,U){case d:case l:case n:case s:case i:case y:return U;default:switch(U=U&&U.$$typeof,U){case u:case m:case I:case E:case c:return U;default:return te}}case t:return te}}}function L(U){return R(U)===l}return Zr.AsyncMode=d,Zr.ConcurrentMode=l,Zr.ContextConsumer=u,Zr.ContextProvider=c,Zr.Element=e,Zr.ForwardRef=m,Zr.Fragment=n,Zr.Lazy=I,Zr.Memo=E,Zr.Portal=t,Zr.Profiler=s,Zr.StrictMode=i,Zr.Suspense=y,Zr.isAsyncMode=function(U){return L(U)||R(U)===d},Zr.isConcurrentMode=L,Zr.isContextConsumer=function(U){return R(U)===u},Zr.isContextProvider=function(U){return R(U)===c},Zr.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},Zr.isForwardRef=function(U){return R(U)===m},Zr.isFragment=function(U){return R(U)===n},Zr.isLazy=function(U){return R(U)===I},Zr.isMemo=function(U){return R(U)===E},Zr.isPortal=function(U){return R(U)===t},Zr.isProfiler=function(U){return R(U)===s},Zr.isStrictMode=function(U){return R(U)===i},Zr.isSuspense=function(U){return R(U)===y},Zr.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===n||U===l||U===s||U===i||U===y||U===b||typeof U=="object"&&U!==null&&(U.$$typeof===I||U.$$typeof===E||U.$$typeof===c||U.$$typeof===u||U.$$typeof===m||U.$$typeof===P||U.$$typeof===N||U.$$typeof===k||U.$$typeof===S)},Zr.typeOf=R,Zr}var C4;function pL(){return C4||(C4=1,jb.exports=hL()),jb.exports}var $b,T4;function mL(){if(T4)return $b;T4=1;var r=pL(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[r.ForwardRef]=n,s[r.Memo]=i;function c(I){return r.isMemo(I)?i:s[I.$$typeof]||e}var u=Object.defineProperty,d=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,b=Object.prototype;function E(I,S,P){if(typeof S!="string"){if(b){var N=y(S);N&&N!==b&&E(I,N,P)}var k=d(S);l&&(k=k.concat(l(S)));for(var R=c(I),L=c(S),U=0;U<k.length;++U){var te=k[U];if(!t[te]&&!(P&&P[te])&&!(L&&L[te])&&!(R&&R[te])){var V=m(S,te);try{u(I,te,V)}catch{}}}}return I}return $b=E,$b}mL();var gL=!0;function _L(r,e,t){var n="";return t.split(" ").forEach(function(i){r[i]!==void 0?e.push(r[i]+";"):i&&(n+=i+" ")}),n}var TP=function(e,t,n){var i=e.key+"-"+t.name;(n===!1||gL===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},yL=function(e,t,n){TP(e,t,n);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function wL(r){for(var e=0,t,n=0,i=r.length;i>=4;++n,i-=4)t=r.charCodeAt(n)&255|(r.charCodeAt(++n)&255)<<8|(r.charCodeAt(++n)&255)<<16|(r.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(r.charCodeAt(n+2)&255)<<16;case 2:e^=(r.charCodeAt(n+1)&255)<<8;case 1:e^=r.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var vL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bL=/[A-Z]|^ms/g,EL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IP=function(e){return e.charCodeAt(1)===45},I4=function(e){return e!=null&&typeof e!="boolean"},Ub=iL(function(r){return IP(r)?r:r.replace(bL,"-$&").toLowerCase()}),k4=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(EL,function(n,i,s){return Rc={name:i,styles:s,next:Rc},i})}return vL[e]!==1&&!IP(e)&&typeof t=="number"&&t!==0?t+"px":t};function A_(r,e,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Rc={name:i.name,styles:i.styles,next:Rc},i.name;var s=t;if(s.styles!==void 0){var c=s.next;if(c!==void 0)for(;c!==void 0;)Rc={name:c.name,styles:c.styles,next:Rc},c=c.next;var u=s.styles+";";return u}return SL(r,e,t)}case"function":{if(r!==void 0){var d=Rc,l=t(r);return Rc=d,A_(r,e,l)}break}}var m=t;return m}function SL(r,e,t){var n="";if(Array.isArray(t))for(var i=0;i<t.length;i++)n+=A_(r,e,t[i])+";";else for(var s in t){var c=t[s];if(typeof c!="object"){var u=c;I4(u)&&(n+=Ub(s)+":"+k4(s,u)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&e==null)for(var d=0;d<c.length;d++)I4(c[d])&&(n+=Ub(s)+":"+k4(s,c[d])+";");else{var l=A_(r,e,c);switch(s){case"animation":case"animationName":{n+=Ub(s)+":"+l+";";break}default:n+=s+"{"+l+"}"}}}return n}var R4=/label:\s*([^\s;{]+)\s*(;|$)/g,Rc;function xL(r,e,t){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var n=!0,i="";Rc=void 0;var s=r[0];if(s==null||s.raw===void 0)n=!1,i+=A_(t,e,s);else{var c=s;i+=c[0]}for(var u=1;u<r.length;u++)if(i+=A_(t,e,r[u]),n){var d=s;i+=d[u]}R4.lastIndex=0;for(var l="",m;(m=R4.exec(i))!==null;)l+="-"+m[1];var y=wL(i)+l;return{name:y,styles:i,next:Rc}}var AL=function(e){return e()},CL=b4.useInsertionEffect?b4.useInsertionEffect:!1,TL=CL||AL,kP=at.createContext(typeof HTMLElement<"u"?dL({key:"css"}):null);kP.Provider;var IL=function(e){return at.forwardRef(function(t,n){var i=at.useContext(kP);return e(t,i,n)})},kL=at.createContext({}),cv={}.hasOwnProperty,tx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",RP=function(e,t){var n={};for(var i in t)cv.call(t,i)&&(n[i]=t[i]);return n[tx]=e,n},RL=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return TP(t,n,i),TL(function(){return yL(t,n,i)}),null},PL=IL(function(r,e,t){var n=r.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=r[tx],s=[n],c="";typeof r.className=="string"?c=_L(e.registered,s,r.className):r.className!=null&&(c=r.className+" ");var u=xL(s,void 0,at.useContext(kL));c+=e.key+"-"+u.name;var d={};for(var l in r)cv.call(r,l)&&l!=="css"&&l!==tx&&(d[l]=r[l]);return d.className=c,t&&(d.ref=t),at.createElement(at.Fragment,null,at.createElement(RL,{cache:e,serialized:u,isStringTag:typeof i=="string"}),at.createElement(i,d))}),PP=PL,zb=Ot.Fragment,tr=function(e,t,n){return cv.call(t,"css")?Ot.jsx(PP,RP(e,t),n):Ot.jsx(e,t,n)},yi=function(e,t,n){return cv.call(t,"css")?Ot.jsxs(PP,RP(e,t),n):Ot.jsxs(e,t,n)},M0={},Hb={exports:{}},Ws={},qb={exports:{}},Vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4;function BL(){return P4||(P4=1,function(r){function e(xe,ce){var ve=xe.length;xe.push(ce);e:for(;0<ve;){var ee=ve-1>>>1,re=xe[ee];if(0<i(re,ce))xe[ee]=ce,xe[ve]=re,ve=ee;else break e}}function t(xe){return xe.length===0?null:xe[0]}function n(xe){if(xe.length===0)return null;var ce=xe[0],ve=xe.pop();if(ve!==ce){xe[0]=ve;e:for(var ee=0,re=xe.length,se=re>>>1;ee<se;){var Y=2*(ee+1)-1,J=xe[Y],Se=Y+1,Me=xe[Se];if(0>i(J,ve))Se<re&&0>i(Me,J)?(xe[ee]=Me,xe[Se]=ve,ee=Se):(xe[ee]=J,xe[Y]=ve,ee=Y);else if(Se<re&&0>i(Me,ve))xe[ee]=Me,xe[Se]=ve,ee=Se;else break e}}return ce}function i(xe,ce){var ve=xe.sortIndex-ce.sortIndex;return ve!==0?ve:xe.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();r.unstable_now=function(){return c.now()-u}}var d=[],l=[],m=1,y=null,b=3,E=!1,I=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(xe){for(var ce=t(l);ce!==null;){if(ce.callback===null)n(l);else if(ce.startTime<=xe)n(l),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(l)}}function L(xe){if(S=!1,R(xe),!I)if(t(d)!==null)I=!0,me(U);else{var ce=t(l);ce!==null&&pe(L,ce.startTime-xe)}}function U(xe,ce){I=!1,S&&(S=!1,N(oe),oe=-1),E=!0;var ve=b;try{for(R(ce),y=t(d);y!==null&&(!(y.expirationTime>ce)||xe&&!Fe());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,b=y.priorityLevel;var re=ee(y.expirationTime<=ce);ce=r.unstable_now(),typeof re=="function"?y.callback=re:y===t(d)&&n(d),R(ce)}else n(d);y=t(d)}if(y!==null)var se=!0;else{var Y=t(l);Y!==null&&pe(L,Y.startTime-ce),se=!1}return se}finally{y=null,b=ve,E=!1}}var te=!1,V=null,oe=-1,de=5,Ee=-1;function Fe(){return!(r.unstable_now()-Ee<de)}function j(){if(V!==null){var xe=r.unstable_now();Ee=xe;var ce=!0;try{ce=V(!0,xe)}finally{ce?fe():(te=!1,V=null)}}else te=!1}var fe;if(typeof k=="function")fe=function(){k(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=j,fe=function(){Q.postMessage(null)}}else fe=function(){P(j,0)};function me(xe){V=xe,te||(te=!0,fe())}function pe(xe,ce){oe=P(function(){xe(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(xe){xe.callback=null},r.unstable_continueExecution=function(){I||E||(I=!0,me(U))},r.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<xe?Math.floor(1e3/xe):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(xe){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var ve=b;b=ce;try{return xe()}finally{b=ve}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(xe,ce){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var ve=b;b=xe;try{return ce()}finally{b=ve}},r.unstable_scheduleCallback=function(xe,ce,ve){var ee=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ee+ve:ee):ve=ee,xe){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ve+re,xe={id:m++,callback:ce,priorityLevel:xe,startTime:ve,expirationTime:re,sortIndex:-1},ve>ee?(xe.sortIndex=ve,e(l,xe),t(d)===null&&xe===t(l)&&(S?(N(oe),oe=-1):S=!0,pe(L,ve-ee))):(xe.sortIndex=re,e(d,xe),I||E||(I=!0,me(U))),xe},r.unstable_shouldYield=Fe,r.unstable_wrapCallback=function(xe){var ce=b;return function(){var ve=b;b=ce;try{return xe.apply(this,arguments)}finally{b=ve}}}}(Vb)),Vb}var B4;function NL(){return B4||(B4=1,qb.exports=BL()),qb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N4;function OL(){if(N4)return Ws;N4=1;var r=bA(),e=NL();function t(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(a,o){c(a,o),c(a+"Capture",o)}function c(a,o){for(i[a]=o,a=0;a<o.length;a++)n.add(o[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function b(a){return d.call(y,a)?!0:d.call(m,a)?!1:l.test(a)?y[a]=!0:(m[a]=!0,!1)}function E(a,o,h,_){if(h!==null&&h.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return _?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function I(a,o,h,_){if(o===null||typeof o>"u"||E(a,o,h,_))return!0;if(_)return!1;if(h!==null)switch(h.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(a,o,h,_,T,F,ne){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=_,this.attributeNamespace=T,this.mustUseProperty=h,this.propertyName=a,this.type=o,this.sanitizeURL=F,this.removeEmptyString=ne}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){P[a]=new S(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];P[o]=new S(o,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){P[a]=new S(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){P[a]=new S(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){P[a]=new S(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){P[a]=new S(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){P[a]=new S(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){P[a]=new S(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){P[a]=new S(a,5,!1,a.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(N,k);P[o]=new S(o,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(N,k);P[o]=new S(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(N,k);P[o]=new S(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){P[a]=new S(a,1,!1,a.toLowerCase(),null,!1,!1)}),P.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){P[a]=new S(a,1,!1,a.toLowerCase(),null,!0,!0)});function R(a,o,h,_){var T=P.hasOwnProperty(o)?P[o]:null;(T!==null?T.type!==0:_||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(I(o,h,T,_)&&(h=null),_||T===null?b(o)&&(h===null?a.removeAttribute(o):a.setAttribute(o,""+h)):T.mustUseProperty?a[T.propertyName]=h===null?T.type===3?!1:"":h:(o=T.attributeName,_=T.attributeNamespace,h===null?a.removeAttribute(o):(T=T.type,h=T===3||T===4&&h===!0?"":""+h,_?a.setAttributeNS(_,o,h):a.setAttribute(o,h))))}var L=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),te=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),Fe=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),xe=Symbol.iterator;function ce(a){return a===null||typeof a!="object"?null:(a=xe&&a[xe]||a["@@iterator"],typeof a=="function"?a:null)}var ve=Object.assign,ee;function re(a){if(ee===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);ee=o&&o[1]||""}return`
`+ee+a}var se=!1;function Y(a,o){if(!a||se)return"";se=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Je){var _=Je}Reflect.construct(a,[],o)}else{try{o.call()}catch(Je){_=Je}a.call(o.prototype)}else{try{throw Error()}catch(Je){_=Je}a()}}catch(Je){if(Je&&_&&typeof Je.stack=="string"){for(var T=Je.stack.split(`
`),F=_.stack.split(`
`),ne=T.length-1,Te=F.length-1;1<=ne&&0<=Te&&T[ne]!==F[Te];)Te--;for(;1<=ne&&0<=Te;ne--,Te--)if(T[ne]!==F[Te]){if(ne!==1||Te!==1)do if(ne--,Te--,0>Te||T[ne]!==F[Te]){var Be=`
`+T[ne].replace(" at new "," at ");return a.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",a.displayName)),Be}while(1<=ne&&0<=Te);break}}}finally{se=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?re(a):""}function J(a){switch(a.tag){case 5:return re(a.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return a=Y(a.type,!1),a;case 11:return a=Y(a.type.render,!1),a;case 1:return a=Y(a.type,!0),a;default:return""}}function Se(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case V:return"Fragment";case te:return"Portal";case de:return"Profiler";case oe:return"StrictMode";case fe:return"Suspense";case z:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Fe:return(a.displayName||"Context")+".Consumer";case Ee:return(a._context.displayName||"Context")+".Provider";case j:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Q:return o=a.displayName||null,o!==null?o:Se(a.type)||"Memo";case me:o=a._payload,a=a._init;try{return Se(a(o))}catch{}}return null}function Me(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(o);case 8:return o===oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ce(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Re(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function je(a){var o=Re(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),_=""+a[o];if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var T=h.get,F=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return T.call(this)},set:function(ne){_=""+ne,F.call(this,ne)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return _},setValue:function(ne){_=""+ne},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Ge(a){a._valueTracker||(a._valueTracker=je(a))}function ct(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var h=o.getValue(),_="";return a&&(_=Re(a)?a.checked?"true":"false":a.value),a=_,a!==h?(o.setValue(a),!0):!1}function pt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function W(a,o){var h=o.checked;return ve({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function He(a,o){var h=o.defaultValue==null?"":o.defaultValue,_=o.checked!=null?o.checked:o.defaultChecked;h=Ce(o.value!=null?o.value:h),a._wrapperState={initialChecked:_,initialValue:h,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function _e(a,o){o=o.checked,o!=null&&R(a,"checked",o,!1)}function ge(a,o){_e(a,o);var h=Ce(o.value),_=o.type;if(h!=null)_==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(_==="submit"||_==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?he(a,o.type,h):o.hasOwnProperty("defaultValue")&&he(a,o.type,Ce(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function ue(a,o,h){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var _=o.type;if(!(_!=="submit"&&_!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,h||o===a.value||(a.value=o),a.defaultValue=o}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function he(a,o,h){(o!=="number"||pt(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Ke=Array.isArray;function Ve(a,o,h,_){if(a=a.options,o){o={};for(var T=0;T<h.length;T++)o["$"+h[T]]=!0;for(h=0;h<a.length;h++)T=o.hasOwnProperty("$"+a[h].value),a[h].selected!==T&&(a[h].selected=T),T&&_&&(a[h].defaultSelected=!0)}else{for(h=""+Ce(h),o=null,T=0;T<a.length;T++){if(a[T].value===h){a[T].selected=!0,_&&(a[T].defaultSelected=!0);return}o!==null||a[T].disabled||(o=a[T])}o!==null&&(o.selected=!0)}}function Oe(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ve({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function et(a,o){var h=o.value;if(h==null){if(h=o.children,o=o.defaultValue,h!=null){if(o!=null)throw Error(t(92));if(Ke(h)){if(1<h.length)throw Error(t(93));h=h[0]}o=h}o==null&&(o=""),h=o}a._wrapperState={initialValue:Ce(h)}}function be(a,o){var h=Ce(o.value),_=Ce(o.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),o.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),_!=null&&(a.defaultValue=""+_)}function Ae(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function Ze(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?Ze(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var X,B=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,h,_,T){MSApp.execUnsafeLocalFunction(function(){return a(o,h,_,T)})}:a}(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(X=X||document.createElement("div"),X.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=X.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function w(a,o){if(o){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=o;return}}a.textContent=o}var v={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A=["Webkit","ms","Moz","O"];Object.keys(v).forEach(function(a){A.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),v[o]=v[a]})});function Z(a,o,h){return o==null||typeof o=="boolean"||o===""?"":h||typeof o!="number"||o===0||v.hasOwnProperty(a)&&v[a]?(""+o).trim():o+"px"}function ae(a,o){a=a.style;for(var h in o)if(o.hasOwnProperty(h)){var _=h.indexOf("--")===0,T=Z(h,o[h],_);h==="float"&&(h="cssFloat"),_?a.setProperty(h,T):a[h]=T}}var Ne=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ze(a,o){if(o){if(Ne[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function _t(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function At(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ir=null,cr=null,Kn=null;function Br(a){if(a=$h(a)){if(typeof Ir!="function")throw Error(t(280));var o=a.stateNode;o&&(o=Uh(o),Ir(a.stateNode,a.type,o))}}function Fs(a){cr?Kn?Kn.push(a):Kn=[a]:cr=a}function ho(){if(cr){var a=cr,o=Kn;if(Kn=cr=null,Br(a),o)for(a=0;a<o.length;a++)Br(o[a])}}function Bi(a,o){return a(o)}function Xo(){}var ie=!1;function D(a,o,h){if(ie)return a(o,h);ie=!0;try{return Bi(a,o,h)}finally{ie=!1,(cr!==null||Kn!==null)&&(Xo(),ho())}}function q(a,o){var h=a.stateNode;if(h===null)return null;var _=Uh(h);if(_===null)return null;h=_[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(a=a.type,_=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!_;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(t(231,o,typeof h));return h}var we=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){we=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch{we=!1}function Ye(a,o,h,_,T,F,ne,Te,Be){var Je=Array.prototype.slice.call(arguments,3);try{o.apply(h,Je)}catch(ht){this.onError(ht)}}var it=!1,Gt=null,Er=!1,Nr=null,Xr={onError:function(a){it=!0,Gt=a}};function Or(a,o,h,_,T,F,ne,Te,Be){it=!1,Gt=null,Ye.apply(Xr,arguments)}function Jo(a,o,h,_,T,F,ne,Te,Be){if(Or.apply(this,arguments),it){if(it){var Je=Gt;it=!1,Gt=null}else throw Error(t(198));Er||(Er=!0,Nr=Je)}}function po(a){var o=a,h=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(h=o.return),a=o.return;while(a)}return o.tag===3?h:null}function gs(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function bh(a){if(po(a)!==a)throw Error(t(188))}function gm(a){var o=a.alternate;if(!o){if(o=po(a),o===null)throw Error(t(188));return o!==a?null:a}for(var h=a,_=o;;){var T=h.return;if(T===null)break;var F=T.alternate;if(F===null){if(_=T.return,_!==null){h=_;continue}break}if(T.child===F.child){for(F=T.child;F;){if(F===h)return bh(T),a;if(F===_)return bh(T),o;F=F.sibling}throw Error(t(188))}if(h.return!==_.return)h=T,_=F;else{for(var ne=!1,Te=T.child;Te;){if(Te===h){ne=!0,h=T,_=F;break}if(Te===_){ne=!0,_=T,h=F;break}Te=Te.sibling}if(!ne){for(Te=F.child;Te;){if(Te===h){ne=!0,h=F,_=T;break}if(Te===_){ne=!0,_=F,h=T;break}Te=Te.sibling}if(!ne)throw Error(t(189))}}if(h.alternate!==_)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?a:o}function Eh(a){return a=gm(a),a!==null?Ju(a):null}function Ju(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=Ju(a);if(o!==null)return o;a=a.sibling}return null}var Qo=e.unstable_scheduleCallback,qi=e.unstable_cancelCallback,ec=e.unstable_shouldYield,hf=e.unstable_requestPaint,yn=e.unstable_now,mo=e.unstable_getCurrentPriorityLevel,Gc=e.unstable_ImmediatePriority,Yc=e.unstable_UserBlockingPriority,tc=e.unstable_NormalPriority,Sh=e.unstable_LowPriority,Ls=e.unstable_IdlePriority,Xc=null,Vi=null;function Qu(a){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(Xc,a,void 0,(a.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:Wi,xh=Math.log,_m=Math.LN2;function Wi(a){return a>>>=0,a===0?32:31-(xh(a)/_m|0)|0}var ka=64,Zi=4194304;function Ds(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function go(a,o){var h=a.pendingLanes;if(h===0)return 0;var _=0,T=a.suspendedLanes,F=a.pingedLanes,ne=h&268435455;if(ne!==0){var Te=ne&~T;Te!==0?_=Ds(Te):(F&=ne,F!==0&&(_=Ds(F)))}else ne=h&~T,ne!==0?_=Ds(ne):F!==0&&(_=Ds(F));if(_===0)return 0;if(o!==0&&o!==_&&(o&T)===0&&(T=_&-_,F=o&-o,T>=F||T===16&&(F&4194240)!==0))return o;if((_&4)!==0&&(_|=h&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=_;0<o;)h=31-_s(o),T=1<<h,_|=a[h],o&=~T;return _}function el(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pf(a,o){for(var h=a.suspendedLanes,_=a.pingedLanes,T=a.expirationTimes,F=a.pendingLanes;0<F;){var ne=31-_s(F),Te=1<<ne,Be=T[ne];Be===-1?((Te&h)===0||(Te&_)!==0)&&(T[ne]=el(Te,o)):Be<=o&&(a.expiredLanes|=Te),F&=~Te}}function tl(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function mf(){var a=ka;return ka<<=1,(ka&4194240)===0&&(ka=64),a}function Jc(a){for(var o=[],h=0;31>h;h++)o.push(a);return o}function _o(a,o,h){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-_s(o),a[o]=h}function Ah(a,o){var h=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var _=a.eventTimes;for(a=a.expirationTimes;0<h;){var T=31-_s(h),F=1<<T;o[T]=0,_[T]=-1,a[T]=-1,h&=~F}}function Ra(a,o){var h=a.entangledLanes|=o;for(a=a.entanglements;h;){var _=31-_s(h),T=1<<_;T&o|a[_]&o&&(a[_]|=o),h&=~T}}var Jt=0;function Qn(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var gf,_f,oa,yf,Ch,rl=!1,Qc=[],ca=null,ei=null,Ms=null,yo=new Map,ua=new Map,la=[],wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Th(a,o){switch(a){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":yo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(o.pointerId)}}function rc(a,o,h,_,T,F){return a===null||a.nativeEvent!==F?(a={blockedOn:o,domEventName:h,eventSystemFlags:_,nativeEvent:F,targetContainers:[T]},o!==null&&(o=$h(o),o!==null&&_f(o)),a):(a.eventSystemFlags|=_,o=a.targetContainers,T!==null&&o.indexOf(T)===-1&&o.push(T),a)}function vf(a,o,h,_,T){switch(o){case"focusin":return ca=rc(ca,a,o,h,_,T),!0;case"dragenter":return ei=rc(ei,a,o,h,_,T),!0;case"mouseover":return Ms=rc(Ms,a,o,h,_,T),!0;case"pointerover":var F=T.pointerId;return yo.set(F,rc(yo.get(F)||null,a,o,h,_,T)),!0;case"gotpointercapture":return F=T.pointerId,ua.set(F,rc(ua.get(F)||null,a,o,h,_,T)),!0}return!1}function bf(a){var o=uu(a.target);if(o!==null){var h=po(o);if(h!==null){if(o=h.tag,o===13){if(o=gs(h),o!==null){a.blockedOn=o,Ch(a.priority,function(){oa(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function fa(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var h=Lr(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var _=new h.constructor(h.type,h);xt=_,h.target.dispatchEvent(_),xt=null}else return o=$h(h),o!==null&&_f(o),a.blockedOn=h,!1;o.shift()}return!0}function Ef(a,o,h){fa(a)&&h.delete(o)}function ym(){rl=!1,ca!==null&&fa(ca)&&(ca=null),ei!==null&&fa(ei)&&(ei=null),Ms!==null&&fa(Ms)&&(Ms=null),yo.forEach(Ef),ua.forEach(Ef)}function eu(a,o){a.blockedOn===o&&(a.blockedOn=null,rl||(rl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ym)))}function tu(a){function o(T){return eu(T,a)}if(0<Qc.length){eu(Qc[0],a);for(var h=1;h<Qc.length;h++){var _=Qc[h];_.blockedOn===a&&(_.blockedOn=null)}}for(ca!==null&&eu(ca,a),ei!==null&&eu(ei,a),Ms!==null&&eu(Ms,a),yo.forEach(o),ua.forEach(o),h=0;h<la.length;h++)_=la[h],_.blockedOn===a&&(_.blockedOn=null);for(;0<la.length&&(h=la[0],h.blockedOn===null);)bf(h),h.blockedOn===null&&la.shift()}var ye=L.ReactCurrentBatchConfig,Ue=!0;function lt(a,o,h,_){var T=Jt,F=ye.transition;ye.transition=null;try{Jt=1,jr(a,o,h,_)}finally{Jt=T,ye.transition=F}}function kt(a,o,h,_){var T=Jt,F=ye.transition;ye.transition=null;try{Jt=4,jr(a,o,h,_)}finally{Jt=T,ye.transition=F}}function jr(a,o,h,_){if(Ue){var T=Lr(a,o,h,_);if(T===null)Pm(a,o,_,ir,h),Th(a,_);else if(vf(T,a,o,h,_))_.stopPropagation();else if(Th(a,_),o&4&&-1<wf.indexOf(a)){for(;T!==null;){var F=$h(T);if(F!==null&&gf(F),F=Lr(a,o,h,_),F===null&&Pm(a,o,_,ir,h),F===T)break;T=F}T!==null&&_.stopPropagation()}else Pm(a,o,_,null,h)}}var ir=null;function Lr(a,o,h,_){if(ir=null,a=At(_),a=uu(a),a!==null)if(o=po(a),o===null)a=null;else if(h=o.tag,h===13){if(a=gs(o),a!==null)return a;a=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return ir=a,null}function On(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mo()){case Gc:return 1;case Yc:return 4;case tc:case Sh:return 16;case Ls:return 536870912;default:return 16}default:return 16}}var rn=null,nn=null,Sr=null;function $n(){if(Sr)return Sr;var a,o=nn,h=o.length,_,T="value"in rn?rn.value:rn.textContent,F=T.length;for(a=0;a<h&&o[a]===T[a];a++);var ne=h-a;for(_=1;_<=ne&&o[h-_]===T[F-_];_++);return Sr=T.slice(a,1<_?1-_:void 0)}function ln(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function pi(){return!0}function mi(){return!1}function Tn(a){function o(h,_,T,F,ne){this._reactName=h,this._targetInst=T,this.type=_,this.nativeEvent=F,this.target=ne,this.currentTarget=null;for(var Te in a)a.hasOwnProperty(Te)&&(h=a[Te],this[Te]=h?h(F):F[Te]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?pi:mi,this.isPropagationStopped=mi,this}return ve(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),o}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Tn(Sn),Ni=ve({},Sn,{view:0,detail:0}),nl=Tn(Ni),nc,Ki,il,Un=ve({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cy,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==il&&(il&&a.type==="mousemove"?(nc=a.screenX-il.screenX,Ki=a.screenY-il.screenY):Ki=nc=0,il=a),nc)},movementY:function(a){return"movementY"in a?a.movementY:Ki}}),wm=Tn(Un),Pa=ve({},Un,{dataTransfer:0}),Hv=Tn(Pa),vm=ve({},Ni,{relatedTarget:0}),bm=Tn(vm),qv=ve({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ih=Tn(qv),Vv=ve({},Sn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Wv=Tn(Vv),Zv=ve({},Sn,{data:0}),Ay=Tn(Zv),kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yv(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Gv[a])?!!o[a]:!1}function Cy(){return Yv}var QC=ve({},Ni,{key:function(a){if(a.key){var o=kh[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=ln(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Kv[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cy,charCode:function(a){return a.type==="keypress"?ln(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ln(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Em=Tn(QC),Xv=ve({},Un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ty=Tn(Xv),Jv=ve({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cy}),Qv=Tn(Jv),xr=ve({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ic=Tn(xr),Ba=ve({},Un,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),eb=Tn(Ba),sl=[9,13,27,32],Sf=u&&"CompositionEvent"in window,ru=null;u&&"documentMode"in document&&(ru=document.documentMode);var Sm=u&&"TextEvent"in window&&!ru,Rh=u&&(!Sf||ru&&8<ru&&11>=ru),Ph=" ",sc=!1;function al(a,o){switch(a){case"keyup":return sl.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xi(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ha=!1;function nu(a,o){switch(a){case"compositionend":return xi(o);case"keypress":return o.which!==32?null:(sc=!0,Ph);case"textInput":return a=o.data,a===Ph&&sc?null:a;default:return null}}function ol(a,o){if(ha)return a==="compositionend"||!Sf&&al(a,o)?(a=$n(),Sr=nn=rn=null,ha=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Rh&&o.locale!=="ko"?null:o.data;default:return null}}var tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!tb[a.type]:o==="textarea"}function xm(a,o,h,_){Fs(_),o=au(o,"onChange"),0<o.length&&(h=new da("onChange","change",null,h,_),a.push({event:h,listeners:o}))}var js=null,xf=null;function e4(a){pl(a,0)}function pa(a){var o=Oa(a);if(ct(o))return a}function ys(a,o){if(a==="change")return o}var Gi=!1;if(u){var kr;if(u){var iu="oninput"in document;if(!iu){var Bh=document.createElement("div");Bh.setAttribute("oninput","return;"),iu=typeof Bh.oninput=="function"}kr=iu}else kr=!1;Gi=kr&&(!document.documentMode||9<document.documentMode)}function Am(){js&&(js.detachEvent("onpropertychange",su),xf=js=null)}function su(a){if(a.propertyName==="value"&&pa(xf)){var o=[];xm(o,xf,a,At(a)),D(e4,o)}}function Iy(a,o,h){a==="focusin"?(Am(),js=o,xf=h,js.attachEvent("onpropertychange",su)):a==="focusout"&&Am()}function Cm(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return pa(xf)}function cl(a,o){if(a==="click")return pa(o)}function rb(a,o){if(a==="input"||a==="change")return pa(o)}function nb(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var zn=typeof Object.is=="function"?Object.is:nb;function wo(a,o){if(zn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var h=Object.keys(a),_=Object.keys(o);if(h.length!==_.length)return!1;for(_=0;_<h.length;_++){var T=h[_];if(!d.call(o,T)||!zn(a[T],o[T]))return!1}return!0}function ky(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ry(a,o){var h=ky(a);a=0;for(var _;h;){if(h.nodeType===3){if(_=a+h.textContent.length,a<=o&&_>=o)return{node:h,offset:o-a};a=_}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ky(h)}}function ul(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?ul(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Tm(){for(var a=window,o=pt();o instanceof a.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)a=o.contentWindow;else break;o=pt(a.document)}return o}function Nh(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function ib(a){var o=Tm(),h=a.focusedElem,_=a.selectionRange;if(o!==h&&h&&h.ownerDocument&&ul(h.ownerDocument.documentElement,h)){if(_!==null&&Nh(h)){if(o=_.start,a=_.end,a===void 0&&(a=o),"selectionStart"in h)h.selectionStart=o,h.selectionEnd=Math.min(a,h.value.length);else if(a=(o=h.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var T=h.textContent.length,F=Math.min(_.start,T);_=_.end===void 0?F:Math.min(_.end,T),!a.extend&&F>_&&(T=_,_=F,F=T),T=Ry(h,F);var ne=Ry(h,_);T&&ne&&(a.rangeCount!==1||a.anchorNode!==T.node||a.anchorOffset!==T.offset||a.focusNode!==ne.node||a.focusOffset!==ne.offset)&&(o=o.createRange(),o.setStart(T.node,T.offset),a.removeAllRanges(),F>_?(a.addRange(o),a.extend(ne.node,ne.offset)):(o.setEnd(ne.node,ne.offset),a.addRange(o)))}}for(o=[],a=h;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<o.length;h++)a=o[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Py=u&&"documentMode"in document&&11>=document.documentMode,ll=null,Im=null,Af=null,km=!1;function By(a,o,h){var _=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;km||ll==null||ll!==pt(_)||(_=ll,"selectionStart"in _&&Nh(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Af&&wo(Af,_)||(Af=_,_=au(Im,"onSelect"),0<_.length&&(o=new da("onSelect","select",null,o,h),a.push({event:o,listeners:_}),o.target=ll)))}function Oh(a,o){var h={};return h[a.toLowerCase()]=o.toLowerCase(),h["Webkit"+a]="webkit"+o,h["Moz"+a]="moz"+o,h}var fl={animationend:Oh("Animation","AnimationEnd"),animationiteration:Oh("Animation","AnimationIteration"),animationstart:Oh("Animation","AnimationStart"),transitionend:Oh("Transition","TransitionEnd")},Rm={},Ny={};u&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Fh(a){if(Rm[a])return Rm[a];if(!fl[a])return a;var o=fl[a],h;for(h in o)if(o.hasOwnProperty(h)&&h in Ny)return Rm[a]=o[h];return a}var Oy=Fh("animationend"),Fy=Fh("animationiteration"),Ly=Fh("animationstart"),dl=Fh("transitionend"),Dy=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oc(a,o){Dy.set(a,o),s(o,[a])}for(var hl=0;hl<My.length;hl++){var Lh=My[hl],Cf=Lh.toLowerCase(),sb=Lh[0].toUpperCase()+Lh.slice(1);oc(Cf,"on"+sb)}oc(Oy,"onAnimationEnd"),oc(Fy,"onAnimationIteration"),oc(Ly,"onAnimationStart"),oc("dblclick","onDoubleClick"),oc("focusin","onFocus"),oc("focusout","onBlur"),oc(dl,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ab=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tf));function jy(a,o,h){var _=a.type||"unknown-event";a.currentTarget=h,Jo(_,o,void 0,a),a.currentTarget=null}function pl(a,o){o=(o&4)!==0;for(var h=0;h<a.length;h++){var _=a[h],T=_.event;_=_.listeners;e:{var F=void 0;if(o)for(var ne=_.length-1;0<=ne;ne--){var Te=_[ne],Be=Te.instance,Je=Te.currentTarget;if(Te=Te.listener,Be!==F&&T.isPropagationStopped())break e;jy(T,Te,Je),F=Be}else for(ne=0;ne<_.length;ne++){if(Te=_[ne],Be=Te.instance,Je=Te.currentTarget,Te=Te.listener,Be!==F&&T.isPropagationStopped())break e;jy(T,Te,Je),F=Be}}}if(Er)throw a=Nr,Er=!1,Nr=null,a}function fn(a,o){var h=o[Mm];h===void 0&&(h=o[Mm]=new Set);var _=a+"__bubble";h.has(_)||($y(o,a,2,!1),h.add(_))}function Dh(a,o,h){var _=0;o&&(_|=4),$y(h,a,_,o)}var If="_reactListening"+Math.random().toString(36).slice(2);function kf(a){if(!a[If]){a[If]=!0,n.forEach(function(h){h!=="selectionchange"&&(ab.has(h)||Dh(h,!1,a),Dh(h,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[If]||(o[If]=!0,Dh("selectionchange",!1,o))}}function $y(a,o,h,_){switch(On(o)){case 1:var T=lt;break;case 4:T=kt;break;default:T=jr}h=T.bind(null,o,h,a),T=void 0,!we||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(T=!0),_?T!==void 0?a.addEventListener(o,h,{capture:!0,passive:T}):a.addEventListener(o,h,!0):T!==void 0?a.addEventListener(o,h,{passive:T}):a.addEventListener(o,h,!1)}function Pm(a,o,h,_,T){var F=_;if((o&1)===0&&(o&2)===0&&_!==null)e:for(;;){if(_===null)return;var ne=_.tag;if(ne===3||ne===4){var Te=_.stateNode.containerInfo;if(Te===T||Te.nodeType===8&&Te.parentNode===T)break;if(ne===4)for(ne=_.return;ne!==null;){var Be=ne.tag;if((Be===3||Be===4)&&(Be=ne.stateNode.containerInfo,Be===T||Be.nodeType===8&&Be.parentNode===T))return;ne=ne.return}for(;Te!==null;){if(ne=uu(Te),ne===null)return;if(Be=ne.tag,Be===5||Be===6){_=F=ne;continue e}Te=Te.parentNode}}_=_.return}D(function(){var Je=F,ht=At(h),gt=[];e:{var dt=Dy.get(a);if(dt!==void 0){var Rt=da,Bt=a;switch(a){case"keypress":if(ln(h)===0)break e;case"keydown":case"keyup":Rt=Em;break;case"focusin":Bt="focus",Rt=bm;break;case"focusout":Bt="blur",Rt=bm;break;case"beforeblur":case"afterblur":Rt=bm;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=Hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=Qv;break;case Oy:case Fy:case Ly:Rt=Ih;break;case dl:Rt=ic;break;case"scroll":Rt=nl;break;case"wheel":Rt=eb;break;case"copy":case"cut":case"paste":Rt=Wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=Ty}var Ft=(o&4)!==0,Yn=!Ft&&a==="scroll",qe=Ft?dt!==null?dt+"Capture":null:dt;Ft=[];for(var De=Je,We;De!==null;){We=De;var bt=We.stateNode;if(We.tag===5&&bt!==null&&(We=bt,qe!==null&&(bt=q(De,qe),bt!=null&&Ft.push(Rf(De,bt,We)))),Yn)break;De=De.return}0<Ft.length&&(dt=new Rt(dt,Bt,null,h,ht),gt.push({event:dt,listeners:Ft}))}}if((o&7)===0){e:{if(dt=a==="mouseover"||a==="pointerover",Rt=a==="mouseout"||a==="pointerout",dt&&h!==xt&&(Bt=h.relatedTarget||h.fromElement)&&(uu(Bt)||Bt[Na]))break e;if((Rt||dt)&&(dt=ht.window===ht?ht:(dt=ht.ownerDocument)?dt.defaultView||dt.parentWindow:window,Rt?(Bt=h.relatedTarget||h.toElement,Rt=Je,Bt=Bt?uu(Bt):null,Bt!==null&&(Yn=po(Bt),Bt!==Yn||Bt.tag!==5&&Bt.tag!==6)&&(Bt=null)):(Rt=null,Bt=Je),Rt!==Bt)){if(Ft=wm,bt="onMouseLeave",qe="onMouseEnter",De="mouse",(a==="pointerout"||a==="pointerover")&&(Ft=Ty,bt="onPointerLeave",qe="onPointerEnter",De="pointer"),Yn=Rt==null?dt:Oa(Rt),We=Bt==null?dt:Oa(Bt),dt=new Ft(bt,De+"leave",Rt,h,ht),dt.target=Yn,dt.relatedTarget=We,bt=null,uu(ht)===Je&&(Ft=new Ft(qe,De+"enter",Bt,h,ht),Ft.target=We,Ft.relatedTarget=Yn,bt=Ft),Yn=bt,Rt&&Bt)t:{for(Ft=Rt,qe=Bt,De=0,We=Ft;We;We=ml(We))De++;for(We=0,bt=qe;bt;bt=ml(bt))We++;for(;0<De-We;)Ft=ml(Ft),De--;for(;0<We-De;)qe=ml(qe),We--;for(;De--;){if(Ft===qe||qe!==null&&Ft===qe.alternate)break t;Ft=ml(Ft),qe=ml(qe)}Ft=null}else Ft=null;Rt!==null&&Uy(gt,dt,Rt,Ft,!1),Bt!==null&&Yn!==null&&Uy(gt,Yn,Bt,Ft,!0)}}e:{if(dt=Je?Oa(Je):window,Rt=dt.nodeName&&dt.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&dt.type==="file")var Mt=ys;else if(ac(dt))if(Gi)Mt=rb;else{Mt=Cm;var Zt=Iy}else(Rt=dt.nodeName)&&Rt.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(Mt=cl);if(Mt&&(Mt=Mt(a,Je))){xm(gt,Mt,h,ht);break e}Zt&&Zt(a,dt,Je),a==="focusout"&&(Zt=dt._wrapperState)&&Zt.controlled&&dt.type==="number"&&he(dt,"number",dt.value)}switch(Zt=Je?Oa(Je):window,a){case"focusin":(ac(Zt)||Zt.contentEditable==="true")&&(ll=Zt,Im=Je,Af=null);break;case"focusout":Af=Im=ll=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,By(gt,h,ht);break;case"selectionchange":if(Py)break;case"keydown":case"keyup":By(gt,h,ht)}var Kt;if(Sf)e:{switch(a){case"compositionstart":var sr="onCompositionStart";break e;case"compositionend":sr="onCompositionEnd";break e;case"compositionupdate":sr="onCompositionUpdate";break e}sr=void 0}else ha?al(a,h)&&(sr="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(sr="onCompositionStart");sr&&(Rh&&h.locale!=="ko"&&(ha||sr!=="onCompositionStart"?sr==="onCompositionEnd"&&ha&&(Kt=$n()):(rn=ht,nn="value"in rn?rn.value:rn.textContent,ha=!0)),Zt=au(Je,sr),0<Zt.length&&(sr=new Ay(sr,a,null,h,ht),gt.push({event:sr,listeners:Zt}),Kt?sr.data=Kt:(Kt=xi(h),Kt!==null&&(sr.data=Kt)))),(Kt=Sm?nu(a,h):ol(a,h))&&(Je=au(Je,"onBeforeInput"),0<Je.length&&(ht=new Ay("onBeforeInput","beforeinput",null,h,ht),gt.push({event:ht,listeners:Je}),ht.data=Kt))}pl(gt,o)})}function Rf(a,o,h){return{instance:a,listener:o,currentTarget:h}}function au(a,o){for(var h=o+"Capture",_=[];a!==null;){var T=a,F=T.stateNode;T.tag===5&&F!==null&&(T=F,F=q(a,h),F!=null&&_.unshift(Rf(a,F,T)),F=q(a,o),F!=null&&_.push(Rf(a,F,T))),a=a.return}return _}function ml(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Uy(a,o,h,_,T){for(var F=o._reactName,ne=[];h!==null&&h!==_;){var Te=h,Be=Te.alternate,Je=Te.stateNode;if(Be!==null&&Be===_)break;Te.tag===5&&Je!==null&&(Te=Je,T?(Be=q(h,F),Be!=null&&ne.unshift(Rf(h,Be,Te))):T||(Be=q(h,F),Be!=null&&ne.push(Rf(h,Be,Te)))),h=h.return}ne.length!==0&&a.push({event:o,listeners:ne})}var ob=/\r\n?/g,cb=/\u0000|\uFFFD/g;function gl(a){return(typeof a=="string"?a:""+a).replace(ob,`
`).replace(cb,"")}function _l(a,o,h){if(o=gl(o),gl(a)!==o&&h)throw Error(t(425))}function Mh(){}var Bm=null,Nm=null;function Om(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,jh=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(a){return zy.resolve(null).then(a).catch(lb)}:Fm;function lb(a){setTimeout(function(){throw a})}function Lm(a,o){var h=o,_=0;do{var T=h.nextSibling;if(a.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"){if(_===0){a.removeChild(T),tu(o);return}_--}else h!=="$"&&h!=="$?"&&h!=="$!"||_++;h=T}while(h);tu(o)}function ws(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function Dm(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return a;o--}else h==="/$"&&o++}a=a.previousSibling}return null}var ou=Math.random().toString(36).slice(2),ma="__reactFiber$"+ou,cu="__reactProps$"+ou,Na="__reactContainer$"+ou,Mm="__reactEvents$"+ou,fb="__reactListeners$"+ou,db="__reactHandles$"+ou;function uu(a){var o=a[ma];if(o)return o;for(var h=a.parentNode;h;){if(o=h[Na]||h[ma]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(a=Dm(a);a!==null;){if(h=a[ma])return h;a=Dm(a)}return o}a=h,h=a.parentNode}return null}function $h(a){return a=a[ma]||a[Na],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Oa(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Uh(a){return a[cu]||null}var zh=[],lu=-1;function vo(a){return{current:a}}function dn(a){0>lu||(a.current=zh[lu],zh[lu]=null,lu--)}function $r(a,o){lu++,zh[lu]=a.current,a.current=o}var Yi={},Ai=vo(Yi),Xi=vo(!1),ti=Yi;function fu(a,o){var h=a.type.contextTypes;if(!h)return Yi;var _=a.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===o)return _.__reactInternalMemoizedMaskedChildContext;var T={},F;for(F in h)T[F]=o[F];return _&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=T),T}function Oi(a){return a=a.childContextTypes,a!=null}function Hh(){dn(Xi),dn(Ai)}function jm(a,o,h){if(Ai.current!==Yi)throw Error(t(168));$r(Ai,o),$r(Xi,h)}function Pf(a,o,h){var _=a.stateNode;if(o=o.childContextTypes,typeof _.getChildContext!="function")return h;_=_.getChildContext();for(var T in _)if(!(T in o))throw Error(t(108,Me(a)||"Unknown",T));return ve({},h,_)}function Bf(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Yi,ti=Ai.current,$r(Ai,a),$r(Xi,Xi.current),!0}function $m(a,o,h){var _=a.stateNode;if(!_)throw Error(t(169));h?(a=Pf(a,o,ti),_.__reactInternalMemoizedMergedChildContext=a,dn(Xi),dn(Ai),$r(Ai,a)):dn(Xi),$r(Xi,h)}var Fa=null,Nf=!1,qh=!1;function Um(a){Fa===null?Fa=[a]:Fa.push(a)}function Hy(a){Nf=!0,Um(a)}function bo(){if(!qh&&Fa!==null){qh=!0;var a=0,o=Jt;try{var h=Fa;for(Jt=1;a<h.length;a++){var _=h[a];do _=_(!0);while(_!==null)}Fa=null,Nf=!1}catch(T){throw Fa!==null&&(Fa=Fa.slice(a+1)),Qo(Gc,bo),T}finally{Jt=o,qh=!1}}return null}var du=[],Eo=0,$s=null,yl=0,vs=[],Ji=0,cc=null,La=1,Da="";function uc(a,o){du[Eo++]=yl,du[Eo++]=$s,$s=a,yl=o}function Of(a,o,h){vs[Ji++]=La,vs[Ji++]=Da,vs[Ji++]=cc,cc=a;var _=La;a=Da;var T=32-_s(_)-1;_&=~(1<<T),h+=1;var F=32-_s(o)+T;if(30<F){var ne=T-T%5;F=(_&(1<<ne)-1).toString(32),_>>=ne,T-=ne,La=1<<32-_s(o)+T|h<<T|_,Da=F+a}else La=1<<F|h<<T|_,Da=a}function wl(a){a.return!==null&&(uc(a,1),Of(a,1,0))}function Vh(a){for(;a===$s;)$s=du[--Eo],du[Eo]=null,yl=du[--Eo],du[Eo]=null;for(;a===cc;)cc=vs[--Ji],vs[Ji]=null,Da=vs[--Ji],vs[Ji]=null,La=vs[--Ji],vs[Ji]=null}var Qi=null,es=null,hn=!1,Us=null;function Wh(a,o){var h=Ha(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=a,o=a.deletions,o===null?(a.deletions=[h],a.flags|=16):o.push(h)}function zm(a,o){switch(a.tag){case 5:var h=a.type;return o=o.nodeType!==1||h.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,Qi=a,es=ws(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,Qi=a,es=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(h=cc!==null?{id:La,overflow:Da}:null,a.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=Ha(18,null,null,0),h.stateNode=o,h.return=a,a.child=h,Qi=a,es=null,!0):!1;default:return!1}}function Zh(a){return(a.mode&1)!==0&&(a.flags&128)===0}function sn(a){if(hn){var o=es;if(o){var h=o;if(!zm(a,o)){if(Zh(a))throw Error(t(418));o=ws(h.nextSibling);var _=Qi;o&&zm(a,o)?Wh(_,h):(a.flags=a.flags&-4097|2,hn=!1,Qi=a)}}else{if(Zh(a))throw Error(t(418));a.flags=a.flags&-4097|2,hn=!1,Qi=a}}}function Hm(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Qi=a}function Ff(a){if(a!==Qi)return!1;if(!hn)return Hm(a),hn=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!Om(a.type,a.memoizedProps)),o&&(o=es)){if(Zh(a))throw qy(),Error(t(418));for(;o;)Wh(a,o),o=ws(o.nextSibling)}if(Hm(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(o===0){es=ws(a.nextSibling);break e}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++}a=a.nextSibling}es=null}}else es=Qi?ws(a.stateNode.nextSibling):null;return!0}function qy(){for(var a=es;a;)a=ws(a.nextSibling)}function vl(){es=Qi=null,hn=!1}function Vy(a){Us===null?Us=[a]:Us.push(a)}var hb=L.ReactCurrentBatchConfig;function bl(a,o,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var _=h.stateNode}if(!_)throw Error(t(147,a));var T=_,F=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===F?o.ref:(o=function(ne){var Te=T.refs;ne===null?delete Te[F]:Te[F]=ne},o._stringRef=F,o)}if(typeof a!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,a))}return a}function Kh(a,o){throw a=Object.prototype.toString.call(o),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function lc(a){var o=a._init;return o(a._payload)}function qm(a){function o(qe,De){if(a){var We=qe.deletions;We===null?(qe.deletions=[De],qe.flags|=16):We.push(De)}}function h(qe,De){if(!a)return null;for(;De!==null;)o(qe,De),De=De.sibling;return null}function _(qe,De){for(qe=new Map;De!==null;)De.key!==null?qe.set(De.key,De):qe.set(De.index,De),De=De.sibling;return qe}function T(qe,De){return qe=Nl(qe,De),qe.index=0,qe.sibling=null,qe}function F(qe,De,We){return qe.index=We,a?(We=qe.alternate,We!==null?(We=We.index,We<De?(qe.flags|=2,De):We):(qe.flags|=2,De)):(qe.flags|=1048576,De)}function ne(qe){return a&&qe.alternate===null&&(qe.flags|=2),qe}function Te(qe,De,We,bt){return De===null||De.tag!==6?(De=Rb(We,qe.mode,bt),De.return=qe,De):(De=T(De,We),De.return=qe,De)}function Be(qe,De,We,bt){var Mt=We.type;return Mt===V?ht(qe,De,We.props.children,bt,We.key):De!==null&&(De.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===me&&lc(Mt)===De.type)?(bt=T(De,We.props),bt.ref=bl(qe,De,We),bt.return=qe,bt):(bt=k0(We.type,We.key,We.props,null,qe.mode,bt),bt.ref=bl(qe,De,We),bt.return=qe,bt)}function Je(qe,De,We,bt){return De===null||De.tag!==4||De.stateNode.containerInfo!==We.containerInfo||De.stateNode.implementation!==We.implementation?(De=Pb(We,qe.mode,bt),De.return=qe,De):(De=T(De,We.children||[]),De.return=qe,De)}function ht(qe,De,We,bt,Mt){return De===null||De.tag!==7?(De=td(We,qe.mode,bt,Mt),De.return=qe,De):(De=T(De,We),De.return=qe,De)}function gt(qe,De,We){if(typeof De=="string"&&De!==""||typeof De=="number")return De=Rb(""+De,qe.mode,We),De.return=qe,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case U:return We=k0(De.type,De.key,De.props,null,qe.mode,We),We.ref=bl(qe,null,De),We.return=qe,We;case te:return De=Pb(De,qe.mode,We),De.return=qe,De;case me:var bt=De._init;return gt(qe,bt(De._payload),We)}if(Ke(De)||ce(De))return De=td(De,qe.mode,We,null),De.return=qe,De;Kh(qe,De)}return null}function dt(qe,De,We,bt){var Mt=De!==null?De.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Mt!==null?null:Te(qe,De,""+We,bt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case U:return We.key===Mt?Be(qe,De,We,bt):null;case te:return We.key===Mt?Je(qe,De,We,bt):null;case me:return Mt=We._init,dt(qe,De,Mt(We._payload),bt)}if(Ke(We)||ce(We))return Mt!==null?null:ht(qe,De,We,bt,null);Kh(qe,We)}return null}function Rt(qe,De,We,bt,Mt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return qe=qe.get(We)||null,Te(De,qe,""+bt,Mt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case U:return qe=qe.get(bt.key===null?We:bt.key)||null,Be(De,qe,bt,Mt);case te:return qe=qe.get(bt.key===null?We:bt.key)||null,Je(De,qe,bt,Mt);case me:var Zt=bt._init;return Rt(qe,De,We,Zt(bt._payload),Mt)}if(Ke(bt)||ce(bt))return qe=qe.get(We)||null,ht(De,qe,bt,Mt,null);Kh(De,bt)}return null}function Bt(qe,De,We,bt){for(var Mt=null,Zt=null,Kt=De,sr=De=0,Ii=null;Kt!==null&&sr<We.length;sr++){Kt.index>sr?(Ii=Kt,Kt=null):Ii=Kt.sibling;var Dr=dt(qe,Kt,We[sr],bt);if(Dr===null){Kt===null&&(Kt=Ii);break}a&&Kt&&Dr.alternate===null&&o(qe,Kt),De=F(Dr,De,sr),Zt===null?Mt=Dr:Zt.sibling=Dr,Zt=Dr,Kt=Ii}if(sr===We.length)return h(qe,Kt),hn&&uc(qe,sr),Mt;if(Kt===null){for(;sr<We.length;sr++)Kt=gt(qe,We[sr],bt),Kt!==null&&(De=F(Kt,De,sr),Zt===null?Mt=Kt:Zt.sibling=Kt,Zt=Kt);return hn&&uc(qe,sr),Mt}for(Kt=_(qe,Kt);sr<We.length;sr++)Ii=Rt(Kt,qe,sr,We[sr],bt),Ii!==null&&(a&&Ii.alternate!==null&&Kt.delete(Ii.key===null?sr:Ii.key),De=F(Ii,De,sr),Zt===null?Mt=Ii:Zt.sibling=Ii,Zt=Ii);return a&&Kt.forEach(function(Ol){return o(qe,Ol)}),hn&&uc(qe,sr),Mt}function Ft(qe,De,We,bt){var Mt=ce(We);if(typeof Mt!="function")throw Error(t(150));if(We=Mt.call(We),We==null)throw Error(t(151));for(var Zt=Mt=null,Kt=De,sr=De=0,Ii=null,Dr=We.next();Kt!==null&&!Dr.done;sr++,Dr=We.next()){Kt.index>sr?(Ii=Kt,Kt=null):Ii=Kt.sibling;var Ol=dt(qe,Kt,Dr.value,bt);if(Ol===null){Kt===null&&(Kt=Ii);break}a&&Kt&&Ol.alternate===null&&o(qe,Kt),De=F(Ol,De,sr),Zt===null?Mt=Ol:Zt.sibling=Ol,Zt=Ol,Kt=Ii}if(Dr.done)return h(qe,Kt),hn&&uc(qe,sr),Mt;if(Kt===null){for(;!Dr.done;sr++,Dr=We.next())Dr=gt(qe,Dr.value,bt),Dr!==null&&(De=F(Dr,De,sr),Zt===null?Mt=Dr:Zt.sibling=Dr,Zt=Dr);return hn&&uc(qe,sr),Mt}for(Kt=_(qe,Kt);!Dr.done;sr++,Dr=We.next())Dr=Rt(Kt,qe,sr,Dr.value,bt),Dr!==null&&(a&&Dr.alternate!==null&&Kt.delete(Dr.key===null?sr:Dr.key),De=F(Dr,De,sr),Zt===null?Mt=Dr:Zt.sibling=Dr,Zt=Dr);return a&&Kt.forEach(function(R8){return o(qe,R8)}),hn&&uc(qe,sr),Mt}function Yn(qe,De,We,bt){if(typeof We=="object"&&We!==null&&We.type===V&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case U:e:{for(var Mt=We.key,Zt=De;Zt!==null;){if(Zt.key===Mt){if(Mt=We.type,Mt===V){if(Zt.tag===7){h(qe,Zt.sibling),De=T(Zt,We.props.children),De.return=qe,qe=De;break e}}else if(Zt.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===me&&lc(Mt)===Zt.type){h(qe,Zt.sibling),De=T(Zt,We.props),De.ref=bl(qe,Zt,We),De.return=qe,qe=De;break e}h(qe,Zt);break}else o(qe,Zt);Zt=Zt.sibling}We.type===V?(De=td(We.props.children,qe.mode,bt,We.key),De.return=qe,qe=De):(bt=k0(We.type,We.key,We.props,null,qe.mode,bt),bt.ref=bl(qe,De,We),bt.return=qe,qe=bt)}return ne(qe);case te:e:{for(Zt=We.key;De!==null;){if(De.key===Zt)if(De.tag===4&&De.stateNode.containerInfo===We.containerInfo&&De.stateNode.implementation===We.implementation){h(qe,De.sibling),De=T(De,We.children||[]),De.return=qe,qe=De;break e}else{h(qe,De);break}else o(qe,De);De=De.sibling}De=Pb(We,qe.mode,bt),De.return=qe,qe=De}return ne(qe);case me:return Zt=We._init,Yn(qe,De,Zt(We._payload),bt)}if(Ke(We))return Bt(qe,De,We,bt);if(ce(We))return Ft(qe,De,We,bt);Kh(qe,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,De!==null&&De.tag===6?(h(qe,De.sibling),De=T(De,We),De.return=qe,qe=De):(h(qe,De),De=Rb(We,qe.mode,bt),De.return=qe,qe=De),ne(qe)):h(qe,De)}return Yn}var hu=qm(!0),Vm=qm(!1),Lf=vo(null),Gh=null,pu=null,Df=null;function Mf(){Df=pu=Gh=null}function Wm(a){var o=Lf.current;dn(Lf),a._currentValue=o}function Yh(a,o,h){for(;a!==null;){var _=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,_!==null&&(_.childLanes|=o)):_!==null&&(_.childLanes&o)!==o&&(_.childLanes|=o),a===h)break;a=a.return}}function El(a,o){Gh=a,Df=pu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&o)!==0&&(ns=!0),a.firstContext=null)}function zs(a){var o=a._currentValue;if(Df!==a)if(a={context:a,memoizedValue:o,next:null},pu===null){if(Gh===null)throw Error(t(308));pu=a,Gh.dependencies={lanes:0,firstContext:a}}else pu=pu.next=a;return o}var mu=null;function Zm(a){mu===null?mu=[a]:mu.push(a)}function Wy(a,o,h,_){var T=o.interleaved;return T===null?(h.next=h,Zm(o)):(h.next=T.next,T.next=h),o.interleaved=h,So(a,_)}function So(a,o){a.lanes|=o;var h=a.alternate;for(h!==null&&(h.lanes|=o),h=a,a=a.return;a!==null;)a.childLanes|=o,h=a.alternate,h!==null&&(h.childLanes|=o),h=a,a=a.return;return h.tag===3?h.stateNode:null}var fc=!1;function Km(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function xo(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function dc(a,o,h){var _=a.updateQueue;if(_===null)return null;if(_=_.shared,(Cr&2)!==0){var T=_.pending;return T===null?o.next=o:(o.next=T.next,T.next=o),_.pending=o,So(a,h)}return T=_.interleaved,T===null?(o.next=o,Zm(_)):(o.next=T.next,T.next=o),_.interleaved=o,So(a,h)}function Xh(a,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var _=o.lanes;_&=a.pendingLanes,h|=_,o.lanes=h,Ra(a,h)}}function Ky(a,o){var h=a.updateQueue,_=a.alternate;if(_!==null&&(_=_.updateQueue,h===_)){var T=null,F=null;if(h=h.firstBaseUpdate,h!==null){do{var ne={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};F===null?T=F=ne:F=F.next=ne,h=h.next}while(h!==null);F===null?T=F=o:F=F.next=o}else T=F=o;h={baseState:_.baseState,firstBaseUpdate:T,lastBaseUpdate:F,shared:_.shared,effects:_.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=o:a.next=o,h.lastBaseUpdate=o}function Jh(a,o,h,_){var T=a.updateQueue;fc=!1;var F=T.firstBaseUpdate,ne=T.lastBaseUpdate,Te=T.shared.pending;if(Te!==null){T.shared.pending=null;var Be=Te,Je=Be.next;Be.next=null,ne===null?F=Je:ne.next=Je,ne=Be;var ht=a.alternate;ht!==null&&(ht=ht.updateQueue,Te=ht.lastBaseUpdate,Te!==ne&&(Te===null?ht.firstBaseUpdate=Je:Te.next=Je,ht.lastBaseUpdate=Be))}if(F!==null){var gt=T.baseState;ne=0,ht=Je=Be=null,Te=F;do{var dt=Te.lane,Rt=Te.eventTime;if((_&dt)===dt){ht!==null&&(ht=ht.next={eventTime:Rt,lane:0,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null});e:{var Bt=a,Ft=Te;switch(dt=o,Rt=h,Ft.tag){case 1:if(Bt=Ft.payload,typeof Bt=="function"){gt=Bt.call(Rt,gt,dt);break e}gt=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Ft.payload,dt=typeof Bt=="function"?Bt.call(Rt,gt,dt):Bt,dt==null)break e;gt=ve({},gt,dt);break e;case 2:fc=!0}}Te.callback!==null&&Te.lane!==0&&(a.flags|=64,dt=T.effects,dt===null?T.effects=[Te]:dt.push(Te))}else Rt={eventTime:Rt,lane:dt,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},ht===null?(Je=ht=Rt,Be=gt):ht=ht.next=Rt,ne|=dt;if(Te=Te.next,Te===null){if(Te=T.shared.pending,Te===null)break;dt=Te,Te=dt.next,dt.next=null,T.lastBaseUpdate=dt,T.shared.pending=null}}while(!0);if(ht===null&&(Be=gt),T.baseState=Be,T.firstBaseUpdate=Je,T.lastBaseUpdate=ht,o=T.shared.interleaved,o!==null){T=o;do ne|=T.lane,T=T.next;while(T!==o)}else F===null&&(T.shared.lanes=0);Xf|=ne,a.lanes=ne,a.memoizedState=gt}}function Ma(a,o,h){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var _=a[o],T=_.callback;if(T!==null){if(_.callback=null,_=h,typeof T!="function")throw Error(t(191,T));T.call(_)}}}var jf={},ja=vo(jf),Sl=vo(jf),$f=vo(jf);function gu(a){if(a===jf)throw Error(t(174));return a}function _u(a,o){switch($r($f,o),$r(Sl,a),$r(ja,jf),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ut(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=ut(o,a)}dn(ja),$r(ja,o)}function hc(){dn(ja),dn(Sl),dn($f)}function Qh(a){gu($f.current);var o=gu(ja.current),h=ut(o,a.type);o!==h&&($r(Sl,a),$r(ja,h))}function Gm(a){Sl.current===a&&(dn(ja),dn(Sl))}var wn=vo(0);function ep(a){for(var o=a;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var yu=[];function Uf(){for(var a=0;a<yu.length;a++)yu[a]._workInProgressVersionPrimary=null;yu.length=0}var tp=L.ReactCurrentDispatcher,Ym=L.ReactCurrentBatchConfig,wu=0,xn=null,Gn=null,ri=null,rp=!1,zf=!1,Hf=0,pb=0;function Ci(){throw Error(t(321))}function Xm(a,o){if(o===null)return!1;for(var h=0;h<o.length&&h<a.length;h++)if(!zn(a[h],o[h]))return!1;return!0}function Jm(a,o,h,_,T,F){if(wu=F,xn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,tp.current=a===null||a.memoizedState===null?gb:l0,a=h(_,T),zf){F=0;do{if(zf=!1,Hf=0,25<=F)throw Error(t(301));F+=1,ri=Gn=null,o.updateQueue=null,tp.current=pn,a=h(_,T)}while(zf)}if(tp.current=ap,o=Gn!==null&&Gn.next!==null,wu=0,ri=Gn=xn=null,rp=!1,o)throw Error(t(300));return a}function Qm(){var a=Hf!==0;return Hf=0,a}function $a(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?xn.memoizedState=ri=a:ri=ri.next=a,ri}function Hs(){if(Gn===null){var a=xn.alternate;a=a!==null?a.memoizedState:null}else a=Gn.next;var o=ri===null?xn.memoizedState:ri.next;if(o!==null)ri=o,Gn=a;else{if(a===null)throw Error(t(310));Gn=a,a={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},ri===null?xn.memoizedState=ri=a:ri=ri.next=a}return ri}function qf(a,o){return typeof o=="function"?o(a):o}function eg(a){var o=Hs(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=a;var _=Gn,T=_.baseQueue,F=h.pending;if(F!==null){if(T!==null){var ne=T.next;T.next=F.next,F.next=ne}_.baseQueue=T=F,h.pending=null}if(T!==null){F=T.next,_=_.baseState;var Te=ne=null,Be=null,Je=F;do{var ht=Je.lane;if((wu&ht)===ht)Be!==null&&(Be=Be.next={lane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),_=Je.hasEagerState?Je.eagerState:a(_,Je.action);else{var gt={lane:ht,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null};Be===null?(Te=Be=gt,ne=_):Be=Be.next=gt,xn.lanes|=ht,Xf|=ht}Je=Je.next}while(Je!==null&&Je!==F);Be===null?ne=_:Be.next=Te,zn(_,o.memoizedState)||(ns=!0),o.memoizedState=_,o.baseState=ne,o.baseQueue=Be,h.lastRenderedState=_}if(a=h.interleaved,a!==null){T=a;do F=T.lane,xn.lanes|=F,Xf|=F,T=T.next;while(T!==a)}else T===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function tg(a){var o=Hs(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=a;var _=h.dispatch,T=h.pending,F=o.memoizedState;if(T!==null){h.pending=null;var ne=T=T.next;do F=a(F,ne.action),ne=ne.next;while(ne!==T);zn(F,o.memoizedState)||(ns=!0),o.memoizedState=F,o.baseQueue===null&&(o.baseState=F),h.lastRenderedState=F}return[F,_]}function Gy(){}function Yy(a,o){var h=xn,_=Hs(),T=o(),F=!zn(_.memoizedState,T);if(F&&(_.memoizedState=T,ns=!0),_=_.queue,Al(Qy.bind(null,h,_,a),[a]),_.getSnapshot!==o||F||ri!==null&&ri.memoizedState.tag&1){if(h.flags|=2048,Ua(9,Jy.bind(null,h,_,T,o),void 0,null),ii===null)throw Error(t(349));(wu&30)!==0||Xy(h,o,T)}return T}function Xy(a,o,h){a.flags|=16384,a={getSnapshot:o,value:h},o=xn.updateQueue,o===null?(o={lastEffect:null,stores:null},xn.updateQueue=o,o.stores=[a]):(h=o.stores,h===null?o.stores=[a]:h.push(a))}function Jy(a,o,h,_){o.value=h,o.getSnapshot=_,e0(o)&&rg(a)}function Qy(a,o,h){return h(function(){e0(o)&&rg(a)})}function e0(a){var o=a.getSnapshot;a=a.value;try{var h=o();return!zn(a,h)}catch{return!0}}function rg(a){var o=So(a,1);o!==null&&Ao(o,a,1,-1)}function t0(a){var o=$a();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qf,lastRenderedState:a},o.queue=a,a=a.dispatch=c0.bind(null,xn,a),[o.memoizedState,a]}function Ua(a,o,h,_){return a={tag:a,create:o,destroy:h,deps:_,next:null},o=xn.updateQueue,o===null?(o={lastEffect:null,stores:null},xn.updateQueue=o,o.lastEffect=a.next=a):(h=o.lastEffect,h===null?o.lastEffect=a.next=a:(_=h.next,h.next=a,a.next=_,o.lastEffect=a)),a}function r0(){return Hs().memoizedState}function np(a,o,h,_){var T=$a();xn.flags|=a,T.memoizedState=Ua(1|o,h,void 0,_===void 0?null:_)}function xl(a,o,h,_){var T=Hs();_=_===void 0?null:_;var F=void 0;if(Gn!==null){var ne=Gn.memoizedState;if(F=ne.destroy,_!==null&&Xm(_,ne.deps)){T.memoizedState=Ua(o,h,F,_);return}}xn.flags|=a,T.memoizedState=Ua(1|o,h,F,_)}function ip(a,o){return np(8390656,8,a,o)}function Al(a,o){return xl(2048,8,a,o)}function sp(a,o){return xl(4,2,a,o)}function n0(a,o){return xl(4,4,a,o)}function i0(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function s0(a,o,h){return h=h!=null?h.concat([a]):null,xl(4,4,i0.bind(null,o,a),h)}function ng(){}function ts(a,o){var h=Hs();o=o===void 0?null:o;var _=h.memoizedState;return _!==null&&o!==null&&Xm(o,_[1])?_[0]:(h.memoizedState=[a,o],a)}function Cl(a,o){var h=Hs();o=o===void 0?null:o;var _=h.memoizedState;return _!==null&&o!==null&&Xm(o,_[1])?_[0]:(a=a(),h.memoizedState=[a,o],a)}function a0(a,o,h){return(wu&21)===0?(a.baseState&&(a.baseState=!1,ns=!0),a.memoizedState=h):(zn(h,o)||(h=mf(),xn.lanes|=h,Xf|=h,a.baseState=!0),o)}function o0(a,o){var h=Jt;Jt=h!==0&&4>h?h:4,a(!0);var _=Ym.transition;Ym.transition={};try{a(!1),o()}finally{Jt=h,Ym.transition=_}}function ig(){return Hs().memoizedState}function mb(a,o,h){var _=Pl(a);if(h={lane:_,action:h,hasEagerState:!1,eagerState:null,next:null},sg(a))ag(o,h);else if(h=Wy(a,o,h,_),h!==null){var T=Ss();Ao(h,a,_,T),u0(h,o,_)}}function c0(a,o,h){var _=Pl(a),T={lane:_,action:h,hasEagerState:!1,eagerState:null,next:null};if(sg(a))ag(o,T);else{var F=a.alternate;if(a.lanes===0&&(F===null||F.lanes===0)&&(F=o.lastRenderedReducer,F!==null))try{var ne=o.lastRenderedState,Te=F(ne,h);if(T.hasEagerState=!0,T.eagerState=Te,zn(Te,ne)){var Be=o.interleaved;Be===null?(T.next=T,Zm(o)):(T.next=Be.next,Be.next=T),o.interleaved=T;return}}catch{}finally{}h=Wy(a,o,T,_),h!==null&&(T=Ss(),Ao(h,a,_,T),u0(h,o,_))}}function sg(a){var o=a.alternate;return a===xn||o!==null&&o===xn}function ag(a,o){zf=rp=!0;var h=a.pending;h===null?o.next=o:(o.next=h.next,h.next=o),a.pending=o}function u0(a,o,h){if((h&4194240)!==0){var _=o.lanes;_&=a.pendingLanes,h|=_,o.lanes=h,Ra(a,h)}}var ap={readContext:zs,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},gb={readContext:zs,useCallback:function(a,o){return $a().memoizedState=[a,o===void 0?null:o],a},useContext:zs,useEffect:ip,useImperativeHandle:function(a,o,h){return h=h!=null?h.concat([a]):null,np(4194308,4,i0.bind(null,o,a),h)},useLayoutEffect:function(a,o){return np(4194308,4,a,o)},useInsertionEffect:function(a,o){return np(4,2,a,o)},useMemo:function(a,o){var h=$a();return o=o===void 0?null:o,a=a(),h.memoizedState=[a,o],a},useReducer:function(a,o,h){var _=$a();return o=h!==void 0?h(o):o,_.memoizedState=_.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},_.queue=a,a=a.dispatch=mb.bind(null,xn,a),[_.memoizedState,a]},useRef:function(a){var o=$a();return a={current:a},o.memoizedState=a},useState:t0,useDebugValue:ng,useDeferredValue:function(a){return $a().memoizedState=a},useTransition:function(){var a=t0(!1),o=a[0];return a=o0.bind(null,a[1]),$a().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,h){var _=xn,T=$a();if(hn){if(h===void 0)throw Error(t(407));h=h()}else{if(h=o(),ii===null)throw Error(t(349));(wu&30)!==0||Xy(_,o,h)}T.memoizedState=h;var F={value:h,getSnapshot:o};return T.queue=F,ip(Qy.bind(null,_,F,a),[a]),_.flags|=2048,Ua(9,Jy.bind(null,_,F,h,o),void 0,null),h},useId:function(){var a=$a(),o=ii.identifierPrefix;if(hn){var h=Da,_=La;h=(_&~(1<<32-_s(_)-1)).toString(32)+h,o=":"+o+"R"+h,h=Hf++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=pb++,o=":"+o+"r"+h.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},l0={readContext:zs,useCallback:ts,useContext:zs,useEffect:Al,useImperativeHandle:s0,useInsertionEffect:sp,useLayoutEffect:n0,useMemo:Cl,useReducer:eg,useRef:r0,useState:function(){return eg(qf)},useDebugValue:ng,useDeferredValue:function(a){var o=Hs();return a0(o,Gn.memoizedState,a)},useTransition:function(){var a=eg(qf)[0],o=Hs().memoizedState;return[a,o]},useMutableSource:Gy,useSyncExternalStore:Yy,useId:ig,unstable_isNewReconciler:!1},pn={readContext:zs,useCallback:ts,useContext:zs,useEffect:Al,useImperativeHandle:s0,useInsertionEffect:sp,useLayoutEffect:n0,useMemo:Cl,useReducer:tg,useRef:r0,useState:function(){return tg(qf)},useDebugValue:ng,useDeferredValue:function(a){var o=Hs();return Gn===null?o.memoizedState=a:a0(o,Gn.memoizedState,a)},useTransition:function(){var a=tg(qf)[0],o=Hs().memoizedState;return[a,o]},useMutableSource:Gy,useSyncExternalStore:Yy,useId:ig,unstable_isNewReconciler:!1};function ni(a,o){if(a&&a.defaultProps){o=ve({},o),a=a.defaultProps;for(var h in a)o[h]===void 0&&(o[h]=a[h]);return o}return o}function vu(a,o,h,_){o=a.memoizedState,h=h(_,o),h=h==null?o:ve({},o,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var pc={isMounted:function(a){return(a=a._reactInternals)?po(a)===a:!1},enqueueSetState:function(a,o,h){a=a._reactInternals;var _=Ss(),T=Pl(a),F=xo(_,T);F.payload=o,h!=null&&(F.callback=h),o=dc(a,F,T),o!==null&&(Ao(o,a,T,_),Xh(o,a,T))},enqueueReplaceState:function(a,o,h){a=a._reactInternals;var _=Ss(),T=Pl(a),F=xo(_,T);F.tag=1,F.payload=o,h!=null&&(F.callback=h),o=dc(a,F,T),o!==null&&(Ao(o,a,T,_),Xh(o,a,T))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var h=Ss(),_=Pl(a),T=xo(h,_);T.tag=2,o!=null&&(T.callback=o),o=dc(a,T,_),o!==null&&(Ao(o,a,_,h),Xh(o,a,_))}};function og(a,o,h,_,T,F,ne){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(_,F,ne):o.prototype&&o.prototype.isPureReactComponent?!wo(h,_)||!wo(T,F):!0}function f0(a,o,h){var _=!1,T=Yi,F=o.contextType;return typeof F=="object"&&F!==null?F=zs(F):(T=Oi(o)?ti:Ai.current,_=o.contextTypes,F=(_=_!=null)?fu(a,T):Yi),o=new o(h,F),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=pc,a.stateNode=o,o._reactInternals=a,_&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=T,a.__reactInternalMemoizedMaskedChildContext=F),o}function d0(a,o,h,_){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,_),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,_),o.state!==a&&pc.enqueueReplaceState(o,o.state,null)}function Vf(a,o,h,_){var T=a.stateNode;T.props=h,T.state=a.memoizedState,T.refs={},Km(a);var F=o.contextType;typeof F=="object"&&F!==null?T.context=zs(F):(F=Oi(o)?ti:Ai.current,T.context=fu(a,F)),T.state=a.memoizedState,F=o.getDerivedStateFromProps,typeof F=="function"&&(vu(a,o,F,h),T.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(o=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),o!==T.state&&pc.enqueueReplaceState(T,T.state,null),Jh(a,h,T,_),T.state=a.memoizedState),typeof T.componentDidMount=="function"&&(a.flags|=4194308)}function Ti(a,o){try{var h="",_=o;do h+=J(_),_=_.return;while(_);var T=h}catch(F){T=`
Error generating stack: `+F.message+`
`+F.stack}return{value:a,source:o,stack:T,digest:null}}function Wf(a,o,h){return{value:a,source:null,stack:h??null,digest:o??null}}function cg(a,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var _b=typeof WeakMap=="function"?WeakMap:Map;function h0(a,o,h){h=xo(-1,h),h.tag=3,h.payload={element:null};var _=o.value;return h.callback=function(){S0||(S0=!0,Eb=_),cg(a,o)},h}function rs(a,o,h){h=xo(-1,h),h.tag=3;var _=a.type.getDerivedStateFromError;if(typeof _=="function"){var T=o.value;h.payload=function(){return _(T)},h.callback=function(){cg(a,o)}}var F=a.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(h.callback=function(){cg(a,o),typeof _!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var ne=o.stack;this.componentDidCatch(o.value,{componentStack:ne!==null?ne:""})}),h}function op(a,o,h){var _=a.pingCache;if(_===null){_=a.pingCache=new _b;var T=new Set;_.set(o,T)}else T=_.get(o),T===void 0&&(T=new Set,_.set(o,T));T.has(h)||(T.add(h),a=w8.bind(null,a,o,h),o.then(a,a))}function p0(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function m0(a,o,h,_,T){return(a.mode&1)===0?(a===o?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=xo(-1,1),o.tag=2,dc(h,o,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=T,a)}var yb=L.ReactCurrentOwner,ns=!1;function Fi(a,o,h,_){o.child=a===null?Vm(o,null,h,_):hu(o,a.child,h,_)}function g0(a,o,h,_,T){h=h.render;var F=o.ref;return El(o,T),_=Jm(a,o,h,_,F,T),h=Qm(),a!==null&&!ns?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~T,p(a,o,T)):(hn&&h&&wl(o),o.flags|=1,Fi(a,o,_,T),o.child)}function _0(a,o,h,_,T){if(a===null){var F=h.type;return typeof F=="function"&&!kb(F)&&F.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=F,Zf(a,o,F,_,T)):(a=k0(h.type,null,_,o,o.mode,T),a.ref=o.ref,a.return=o,o.child=a)}if(F=a.child,(a.lanes&T)===0){var ne=F.memoizedProps;if(h=h.compare,h=h!==null?h:wo,h(ne,_)&&a.ref===o.ref)return p(a,o,T)}return o.flags|=1,a=Nl(F,_),a.ref=o.ref,a.return=o,o.child=a}function Zf(a,o,h,_,T){if(a!==null){var F=a.memoizedProps;if(wo(F,_)&&a.ref===o.ref)if(ns=!1,o.pendingProps=_=F,(a.lanes&T)!==0)(a.flags&131072)!==0&&(ns=!0);else return o.lanes=a.lanes,p(a,o,T)}return cp(a,o,h,_,T)}function y0(a,o,h){var _=o.pendingProps,T=_.children,F=a!==null?a.memoizedState:null;if(_.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},$r(lp,as),as|=h;else{if((h&1073741824)===0)return a=F!==null?F.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,$r(lp,as),as|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=F!==null?F.baseLanes:h,$r(lp,as),as|=_}else F!==null?(_=F.baseLanes|h,o.memoizedState=null):_=h,$r(lp,as),as|=_;return Fi(a,o,T,h),o.child}function w0(a,o){var h=o.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function cp(a,o,h,_,T){var F=Oi(h)?ti:Ai.current;return F=fu(o,F),El(o,T),h=Jm(a,o,h,_,F,T),_=Qm(),a!==null&&!ns?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~T,p(a,o,T)):(hn&&_&&wl(o),o.flags|=1,Fi(a,o,h,T),o.child)}function v0(a,o,h,_,T){if(Oi(h)){var F=!0;Bf(o)}else F=!1;if(El(o,T),o.stateNode===null)g(a,o),f0(o,h,_),Vf(o,h,_,T),_=!0;else if(a===null){var ne=o.stateNode,Te=o.memoizedProps;ne.props=Te;var Be=ne.context,Je=h.contextType;typeof Je=="object"&&Je!==null?Je=zs(Je):(Je=Oi(h)?ti:Ai.current,Je=fu(o,Je));var ht=h.getDerivedStateFromProps,gt=typeof ht=="function"||typeof ne.getSnapshotBeforeUpdate=="function";gt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Te!==_||Be!==Je)&&d0(o,ne,_,Je),fc=!1;var dt=o.memoizedState;ne.state=dt,Jh(o,_,ne,T),Be=o.memoizedState,Te!==_||dt!==Be||Xi.current||fc?(typeof ht=="function"&&(vu(o,h,ht,_),Be=o.memoizedState),(Te=fc||og(o,h,Te,_,dt,Be,Je))?(gt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(o.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=_,o.memoizedState=Be),ne.props=_,ne.state=Be,ne.context=Je,_=Te):(typeof ne.componentDidMount=="function"&&(o.flags|=4194308),_=!1)}else{ne=o.stateNode,Zy(a,o),Te=o.memoizedProps,Je=o.type===o.elementType?Te:ni(o.type,Te),ne.props=Je,gt=o.pendingProps,dt=ne.context,Be=h.contextType,typeof Be=="object"&&Be!==null?Be=zs(Be):(Be=Oi(h)?ti:Ai.current,Be=fu(o,Be));var Rt=h.getDerivedStateFromProps;(ht=typeof Rt=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Te!==gt||dt!==Be)&&d0(o,ne,_,Be),fc=!1,dt=o.memoizedState,ne.state=dt,Jh(o,_,ne,T);var Bt=o.memoizedState;Te!==gt||dt!==Bt||Xi.current||fc?(typeof Rt=="function"&&(vu(o,h,Rt,_),Bt=o.memoizedState),(Je=fc||og(o,h,Je,_,dt,Bt,Be)||!1)?(ht||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(_,Bt,Be),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(_,Bt,Be)),typeof ne.componentDidUpdate=="function"&&(o.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof ne.componentDidUpdate!="function"||Te===a.memoizedProps&&dt===a.memoizedState||(o.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Te===a.memoizedProps&&dt===a.memoizedState||(o.flags|=1024),o.memoizedProps=_,o.memoizedState=Bt),ne.props=_,ne.state=Bt,ne.context=Be,_=Je):(typeof ne.componentDidUpdate!="function"||Te===a.memoizedProps&&dt===a.memoizedState||(o.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Te===a.memoizedProps&&dt===a.memoizedState||(o.flags|=1024),_=!1)}return ug(a,o,h,_,F,T)}function ug(a,o,h,_,T,F){w0(a,o);var ne=(o.flags&128)!==0;if(!_&&!ne)return T&&$m(o,h,!1),p(a,o,F);_=o.stateNode,yb.current=o;var Te=ne&&typeof h.getDerivedStateFromError!="function"?null:_.render();return o.flags|=1,a!==null&&ne?(o.child=hu(o,a.child,null,F),o.child=hu(o,null,Te,F)):Fi(a,o,Te,F),o.memoizedState=_.state,T&&$m(o,h,!0),o.child}function bu(a){var o=a.stateNode;o.pendingContext?jm(a,o.pendingContext,o.pendingContext!==o.context):o.context&&jm(a,o.context,!1),_u(a,o.containerInfo)}function lg(a,o,h,_,T){return vl(),Vy(T),o.flags|=256,Fi(a,o,h,_),o.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function dg(a){return{baseLanes:a,cachePool:null,transitions:null}}function hg(a,o,h){var _=o.pendingProps,T=wn.current,F=!1,ne=(o.flags&128)!==0,Te;if((Te=ne)||(Te=a!==null&&a.memoizedState===null?!1:(T&2)!==0),Te?(F=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(T|=1),$r(wn,T&1),a===null)return sn(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((o.mode&1)===0?o.lanes=1:a.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(ne=_.children,a=_.fallback,F?(_=o.mode,F=o.child,ne={mode:"hidden",children:ne},(_&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=ne):F=R0(ne,_,0,null),a=td(a,_,h,null),F.return=o,a.return=o,F.sibling=a,o.child=F,o.child.memoizedState=dg(h),o.memoizedState=fg,a):pg(o,ne));if(T=a.memoizedState,T!==null&&(Te=T.dehydrated,Te!==null))return mg(a,o,ne,_,Te,T,h);if(F){F=_.fallback,ne=o.mode,T=a.child,Te=T.sibling;var Be={mode:"hidden",children:_.children};return(ne&1)===0&&o.child!==T?(_=o.child,_.childLanes=0,_.pendingProps=Be,o.deletions=null):(_=Nl(T,Be),_.subtreeFlags=T.subtreeFlags&14680064),Te!==null?F=Nl(Te,F):(F=td(F,ne,h,null),F.flags|=2),F.return=o,_.return=o,_.sibling=F,o.child=_,_=F,F=o.child,ne=a.child.memoizedState,ne=ne===null?dg(h):{baseLanes:ne.baseLanes|h,cachePool:null,transitions:ne.transitions},F.memoizedState=ne,F.childLanes=a.childLanes&~h,o.memoizedState=fg,_}return F=a.child,a=F.sibling,_=Nl(F,{mode:"visible",children:_.children}),(o.mode&1)===0&&(_.lanes=h),_.return=o,_.sibling=null,a!==null&&(h=o.deletions,h===null?(o.deletions=[a],o.flags|=16):h.push(a)),o.child=_,o.memoizedState=null,_}function pg(a,o){return o=R0({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function za(a,o,h,_){return _!==null&&Vy(_),hu(o,a.child,null,h),a=pg(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function mg(a,o,h,_,T,F,ne){if(h)return o.flags&256?(o.flags&=-257,_=Wf(Error(t(422))),za(a,o,ne,_)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(F=_.fallback,T=o.mode,_=R0({mode:"visible",children:_.children},T,0,null),F=td(F,T,ne,null),F.flags|=2,_.return=o,F.return=o,_.sibling=F,o.child=_,(o.mode&1)!==0&&hu(o,a.child,null,ne),o.child.memoizedState=dg(ne),o.memoizedState=fg,F);if((o.mode&1)===0)return za(a,o,ne,null);if(T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var Te=_.dgst;return _=Te,F=Error(t(419)),_=Wf(F,_,void 0),za(a,o,ne,_)}if(Te=(ne&a.childLanes)!==0,ns||Te){if(_=ii,_!==null){switch(ne&-ne){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(_.suspendedLanes|ne))!==0?0:T,T!==0&&T!==F.retryLane&&(F.retryLane=T,So(a,T),Ao(_,a,T,-1))}return Ib(),_=Wf(Error(t(421))),za(a,o,ne,_)}return T.data==="$?"?(o.flags|=128,o.child=a.child,o=v8.bind(null,a),T._reactRetry=o,null):(a=F.treeContext,es=ws(T.nextSibling),Qi=o,hn=!0,Us=null,a!==null&&(vs[Ji++]=La,vs[Ji++]=Da,vs[Ji++]=cc,La=a.id,Da=a.overflow,cc=o),o=pg(o,_.children),o.flags|=4096,o)}function Kf(a,o,h){a.lanes|=o;var _=a.alternate;_!==null&&(_.lanes|=o),Yh(a.return,o,h)}function Tl(a,o,h,_,T){var F=a.memoizedState;F===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:_,tail:h,tailMode:T}:(F.isBackwards=o,F.rendering=null,F.renderingStartTime=0,F.last=_,F.tail=h,F.tailMode=T)}function f(a,o,h){var _=o.pendingProps,T=_.revealOrder,F=_.tail;if(Fi(a,o,_.children,h),_=wn.current,(_&2)!==0)_=_&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Kf(a,h,o);else if(a.tag===19)Kf(a,h,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}_&=1}if($r(wn,_),(o.mode&1)===0)o.memoizedState=null;else switch(T){case"forwards":for(h=o.child,T=null;h!==null;)a=h.alternate,a!==null&&ep(a)===null&&(T=h),h=h.sibling;h=T,h===null?(T=o.child,o.child=null):(T=h.sibling,h.sibling=null),Tl(o,!1,T,h,F);break;case"backwards":for(h=null,T=o.child,o.child=null;T!==null;){if(a=T.alternate,a!==null&&ep(a)===null){o.child=T;break}a=T.sibling,T.sibling=h,h=T,T=a}Tl(o,!0,h,null,F);break;case"together":Tl(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function g(a,o){(o.mode&1)===0&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function p(a,o,h){if(a!==null&&(o.dependencies=a.dependencies),Xf|=o.lanes,(h&o.childLanes)===0)return null;if(a!==null&&o.child!==a.child)throw Error(t(153));if(o.child!==null){for(a=o.child,h=Nl(a,a.pendingProps),o.child=h,h.return=o;a.sibling!==null;)a=a.sibling,h=h.sibling=Nl(a,a.pendingProps),h.return=o;h.sibling=null}return o.child}function C(a,o,h){switch(o.tag){case 3:bu(o),vl();break;case 5:Qh(o);break;case 1:Oi(o.type)&&Bf(o);break;case 4:_u(o,o.stateNode.containerInfo);break;case 10:var _=o.type._context,T=o.memoizedProps.value;$r(Lf,_._currentValue),_._currentValue=T;break;case 13:if(_=o.memoizedState,_!==null)return _.dehydrated!==null?($r(wn,wn.current&1),o.flags|=128,null):(h&o.child.childLanes)!==0?hg(a,o,h):($r(wn,wn.current&1),a=p(a,o,h),a!==null?a.sibling:null);$r(wn,wn.current&1);break;case 19:if(_=(h&o.childLanes)!==0,(a.flags&128)!==0){if(_)return f(a,o,h);o.flags|=128}if(T=o.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),$r(wn,wn.current),_)break;return null;case 22:case 23:return o.lanes=0,y0(a,o,h)}return p(a,o,h)}var O,$,K,G;O=function(a,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},$=function(){},K=function(a,o,h,_){var T=a.memoizedProps;if(T!==_){a=o.stateNode,gu(ja.current);var F=null;switch(h){case"input":T=W(a,T),_=W(a,_),F=[];break;case"select":T=ve({},T,{value:void 0}),_=ve({},_,{value:void 0}),F=[];break;case"textarea":T=Oe(a,T),_=Oe(a,_),F=[];break;default:typeof T.onClick!="function"&&typeof _.onClick=="function"&&(a.onclick=Mh)}ze(h,_);var ne;h=null;for(Je in T)if(!_.hasOwnProperty(Je)&&T.hasOwnProperty(Je)&&T[Je]!=null)if(Je==="style"){var Te=T[Je];for(ne in Te)Te.hasOwnProperty(ne)&&(h||(h={}),h[ne]="")}else Je!=="dangerouslySetInnerHTML"&&Je!=="children"&&Je!=="suppressContentEditableWarning"&&Je!=="suppressHydrationWarning"&&Je!=="autoFocus"&&(i.hasOwnProperty(Je)?F||(F=[]):(F=F||[]).push(Je,null));for(Je in _){var Be=_[Je];if(Te=T!=null?T[Je]:void 0,_.hasOwnProperty(Je)&&Be!==Te&&(Be!=null||Te!=null))if(Je==="style")if(Te){for(ne in Te)!Te.hasOwnProperty(ne)||Be&&Be.hasOwnProperty(ne)||(h||(h={}),h[ne]="");for(ne in Be)Be.hasOwnProperty(ne)&&Te[ne]!==Be[ne]&&(h||(h={}),h[ne]=Be[ne])}else h||(F||(F=[]),F.push(Je,h)),h=Be;else Je==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Te=Te?Te.__html:void 0,Be!=null&&Te!==Be&&(F=F||[]).push(Je,Be)):Je==="children"?typeof Be!="string"&&typeof Be!="number"||(F=F||[]).push(Je,""+Be):Je!=="suppressContentEditableWarning"&&Je!=="suppressHydrationWarning"&&(i.hasOwnProperty(Je)?(Be!=null&&Je==="onScroll"&&fn("scroll",a),F||Te===Be||(F=[])):(F=F||[]).push(Je,Be))}h&&(F=F||[]).push("style",h);var Je=F;(o.updateQueue=Je)&&(o.flags|=4)}},G=function(a,o,h,_){h!==_&&(o.flags|=4)};function ke(a,o){if(!hn)switch(a.tailMode){case"hidden":o=a.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var _=null;h!==null;)h.alternate!==null&&(_=h),h=h.sibling;_===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:_.sibling=null}}function le(a){var o=a.alternate!==null&&a.alternate.child===a.child,h=0,_=0;if(o)for(var T=a.child;T!==null;)h|=T.lanes|T.childLanes,_|=T.subtreeFlags&14680064,_|=T.flags&14680064,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)h|=T.lanes|T.childLanes,_|=T.subtreeFlags,_|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=_,a.childLanes=h,o}function Pe(a,o,h){var _=o.pendingProps;switch(Vh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(o),null;case 1:return Oi(o.type)&&Hh(),le(o),null;case 3:return _=o.stateNode,hc(),dn(Xi),dn(Ai),Uf(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(a===null||a.child===null)&&(Ff(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Us!==null&&(Ab(Us),Us=null))),$(a,o),le(o),null;case 5:Gm(o);var T=gu($f.current);if(h=o.type,a!==null&&o.stateNode!=null)K(a,o,h,_,T),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!_){if(o.stateNode===null)throw Error(t(166));return le(o),null}if(a=gu(ja.current),Ff(o)){_=o.stateNode,h=o.type;var F=o.memoizedProps;switch(_[ma]=o,_[cu]=F,a=(o.mode&1)!==0,h){case"dialog":fn("cancel",_),fn("close",_);break;case"iframe":case"object":case"embed":fn("load",_);break;case"video":case"audio":for(T=0;T<Tf.length;T++)fn(Tf[T],_);break;case"source":fn("error",_);break;case"img":case"image":case"link":fn("error",_),fn("load",_);break;case"details":fn("toggle",_);break;case"input":He(_,F),fn("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!F.multiple},fn("invalid",_);break;case"textarea":et(_,F),fn("invalid",_)}ze(h,F),T=null;for(var ne in F)if(F.hasOwnProperty(ne)){var Te=F[ne];ne==="children"?typeof Te=="string"?_.textContent!==Te&&(F.suppressHydrationWarning!==!0&&_l(_.textContent,Te,a),T=["children",Te]):typeof Te=="number"&&_.textContent!==""+Te&&(F.suppressHydrationWarning!==!0&&_l(_.textContent,Te,a),T=["children",""+Te]):i.hasOwnProperty(ne)&&Te!=null&&ne==="onScroll"&&fn("scroll",_)}switch(h){case"input":Ge(_),ue(_,F,!0);break;case"textarea":Ge(_),Ae(_);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(_.onclick=Mh)}_=T,o.updateQueue=_,_!==null&&(o.flags|=4)}else{ne=T.nodeType===9?T:T.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ze(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=ne.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof _.is=="string"?a=ne.createElement(h,{is:_.is}):(a=ne.createElement(h),h==="select"&&(ne=a,_.multiple?ne.multiple=!0:_.size&&(ne.size=_.size))):a=ne.createElementNS(a,h),a[ma]=o,a[cu]=_,O(a,o,!1,!1),o.stateNode=a;e:{switch(ne=_t(h,_),h){case"dialog":fn("cancel",a),fn("close",a),T=_;break;case"iframe":case"object":case"embed":fn("load",a),T=_;break;case"video":case"audio":for(T=0;T<Tf.length;T++)fn(Tf[T],a);T=_;break;case"source":fn("error",a),T=_;break;case"img":case"image":case"link":fn("error",a),fn("load",a),T=_;break;case"details":fn("toggle",a),T=_;break;case"input":He(a,_),T=W(a,_),fn("invalid",a);break;case"option":T=_;break;case"select":a._wrapperState={wasMultiple:!!_.multiple},T=ve({},_,{value:void 0}),fn("invalid",a);break;case"textarea":et(a,_),T=Oe(a,_),fn("invalid",a);break;default:T=_}ze(h,T),Te=T;for(F in Te)if(Te.hasOwnProperty(F)){var Be=Te[F];F==="style"?ae(a,Be):F==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Be!=null&&B(a,Be)):F==="children"?typeof Be=="string"?(h!=="textarea"||Be!=="")&&w(a,Be):typeof Be=="number"&&w(a,""+Be):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?Be!=null&&F==="onScroll"&&fn("scroll",a):Be!=null&&R(a,F,Be,ne))}switch(h){case"input":Ge(a),ue(a,_,!1);break;case"textarea":Ge(a),Ae(a);break;case"option":_.value!=null&&a.setAttribute("value",""+Ce(_.value));break;case"select":a.multiple=!!_.multiple,F=_.value,F!=null?Ve(a,!!_.multiple,F,!1):_.defaultValue!=null&&Ve(a,!!_.multiple,_.defaultValue,!0);break;default:typeof T.onClick=="function"&&(a.onclick=Mh)}switch(h){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return le(o),null;case 6:if(a&&o.stateNode!=null)G(a,o,a.memoizedProps,_);else{if(typeof _!="string"&&o.stateNode===null)throw Error(t(166));if(h=gu($f.current),gu(ja.current),Ff(o)){if(_=o.stateNode,h=o.memoizedProps,_[ma]=o,(F=_.nodeValue!==h)&&(a=Qi,a!==null))switch(a.tag){case 3:_l(_.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&_l(_.nodeValue,h,(a.mode&1)!==0)}F&&(o.flags|=4)}else _=(h.nodeType===9?h:h.ownerDocument).createTextNode(_),_[ma]=o,o.stateNode=_}return le(o),null;case 13:if(dn(wn),_=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(hn&&es!==null&&(o.mode&1)!==0&&(o.flags&128)===0)qy(),vl(),o.flags|=98560,F=!1;else if(F=Ff(o),_!==null&&_.dehydrated!==null){if(a===null){if(!F)throw Error(t(318));if(F=o.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(t(317));F[ma]=o}else vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;le(o),F=!1}else Us!==null&&(Ab(Us),Us=null),F=!0;if(!F)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=h,o):(_=_!==null,_!==(a!==null&&a.memoizedState!==null)&&_&&(o.child.flags|=8192,(o.mode&1)!==0&&(a===null||(wn.current&1)!==0?_i===0&&(_i=3):Ib())),o.updateQueue!==null&&(o.flags|=4),le(o),null);case 4:return hc(),$(a,o),a===null&&kf(o.stateNode.containerInfo),le(o),null;case 10:return Wm(o.type._context),le(o),null;case 17:return Oi(o.type)&&Hh(),le(o),null;case 19:if(dn(wn),F=o.memoizedState,F===null)return le(o),null;if(_=(o.flags&128)!==0,ne=F.rendering,ne===null)if(_)ke(F,!1);else{if(_i!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(ne=ep(a),ne!==null){for(o.flags|=128,ke(F,!1),_=ne.updateQueue,_!==null&&(o.updateQueue=_,o.flags|=4),o.subtreeFlags=0,_=h,h=o.child;h!==null;)F=h,a=_,F.flags&=14680066,ne=F.alternate,ne===null?(F.childLanes=0,F.lanes=a,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=ne.childLanes,F.lanes=ne.lanes,F.child=ne.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=ne.memoizedProps,F.memoizedState=ne.memoizedState,F.updateQueue=ne.updateQueue,F.type=ne.type,a=ne.dependencies,F.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return $r(wn,wn.current&1|2),o.child}a=a.sibling}F.tail!==null&&yn()>fp&&(o.flags|=128,_=!0,ke(F,!1),o.lanes=4194304)}else{if(!_)if(a=ep(ne),a!==null){if(o.flags|=128,_=!0,h=a.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),ke(F,!0),F.tail===null&&F.tailMode==="hidden"&&!ne.alternate&&!hn)return le(o),null}else 2*yn()-F.renderingStartTime>fp&&h!==1073741824&&(o.flags|=128,_=!0,ke(F,!1),o.lanes=4194304);F.isBackwards?(ne.sibling=o.child,o.child=ne):(h=F.last,h!==null?h.sibling=ne:o.child=ne,F.last=ne)}return F.tail!==null?(o=F.tail,F.rendering=o,F.tail=o.sibling,F.renderingStartTime=yn(),o.sibling=null,h=wn.current,$r(wn,_?h&1|2:h&1),o):(le(o),null);case 22:case 23:return Tb(),_=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==_&&(o.flags|=8192),_&&(o.mode&1)!==0?(as&1073741824)!==0&&(le(o),o.subtreeFlags&6&&(o.flags|=8192)):le(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function vt(a,o){switch(Vh(o),o.tag){case 1:return Oi(o.type)&&Hh(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return hc(),dn(Xi),dn(Ai),Uf(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 5:return Gm(o),null;case 13:if(dn(wn),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(t(340));vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return dn(wn),null;case 4:return hc(),null;case 10:return Wm(o.type._context),null;case 22:case 23:return Tb(),null;case 24:return null;default:return null}}var ot=!1,rt=!1,Dt=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Qt(a,o){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(_){Hn(a,o,_)}else h.current=null}function rr(a,o,h){try{h()}catch(_){Hn(a,o,_)}}var Ar=!1;function er(a,o){if(Bm=Ue,a=Tm(),Nh(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var _=h.getSelection&&h.getSelection();if(_&&_.rangeCount!==0){h=_.anchorNode;var T=_.anchorOffset,F=_.focusNode;_=_.focusOffset;try{h.nodeType,F.nodeType}catch{h=null;break e}var ne=0,Te=-1,Be=-1,Je=0,ht=0,gt=a,dt=null;t:for(;;){for(var Rt;gt!==h||T!==0&&gt.nodeType!==3||(Te=ne+T),gt!==F||_!==0&&gt.nodeType!==3||(Be=ne+_),gt.nodeType===3&&(ne+=gt.nodeValue.length),(Rt=gt.firstChild)!==null;)dt=gt,gt=Rt;for(;;){if(gt===a)break t;if(dt===h&&++Je===T&&(Te=ne),dt===F&&++ht===_&&(Be=ne),(Rt=gt.nextSibling)!==null)break;gt=dt,dt=gt.parentNode}gt=Rt}h=Te===-1||Be===-1?null:{start:Te,end:Be}}else h=null}h=h||{start:0,end:0}}else h=null;for(Nm={focusedElem:a,selectionRange:h},Ue=!1,mt=o;mt!==null;)if(o=mt,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,mt=a;else for(;mt!==null;){o=mt;try{var Bt=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Bt!==null){var Ft=Bt.memoizedProps,Yn=Bt.memoizedState,qe=o.stateNode,De=qe.getSnapshotBeforeUpdate(o.elementType===o.type?Ft:ni(o.type,Ft),Yn);qe.__reactInternalSnapshotBeforeUpdate=De}break;case 3:var We=o.stateNode.containerInfo;We.nodeType===1?We.textContent="":We.nodeType===9&&We.documentElement&&We.removeChild(We.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(bt){Hn(o,o.return,bt)}if(a=o.sibling,a!==null){a.return=o.return,mt=a;break}mt=o.return}return Bt=Ar,Ar=!1,Bt}function Et(a,o,h){var _=o.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var T=_=_.next;do{if((T.tag&a)===a){var F=T.destroy;T.destroy=void 0,F!==void 0&&rr(o,h,F)}T=T.next}while(T!==_)}}function pr(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&a)===a){var _=h.create;h.destroy=_()}h=h.next}while(h!==o)}}function vn(a){var o=a.ref;if(o!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof o=="function"?o(a):o.current=a}}function Ht(a){var o=a.alternate;o!==null&&(a.alternate=null,Ht(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[ma],delete o[cu],delete o[Mm],delete o[fb],delete o[db])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Fr(a){return a.tag===5||a.tag===3||a.tag===4}function ur(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Fr(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Yt(a,o,h){var _=a.tag;if(_===5||_===6)a=a.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(a,o):h.insertBefore(a,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(a,h)):(o=h,o.appendChild(a)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Mh));else if(_!==4&&(a=a.child,a!==null))for(Yt(a,o,h),a=a.sibling;a!==null;)Yt(a,o,h),a=a.sibling}function Wt(a,o,h){var _=a.tag;if(_===5||_===6)a=a.stateNode,o?h.insertBefore(a,o):h.appendChild(a);else if(_!==4&&(a=a.child,a!==null))for(Wt(a,o,h),a=a.sibling;a!==null;)Wt(a,o,h),a=a.sibling}var an=null,is=!1;function bs(a,o,h){for(h=h.child;h!==null;)mc(a,o,h),h=h.sibling}function mc(a,o,h){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(Xc,h)}catch{}switch(h.tag){case 5:rt||Qt(h,o);case 6:var _=an,T=is;an=null,bs(a,o,h),an=_,is=T,an!==null&&(is?(a=an,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):an.removeChild(h.stateNode));break;case 18:an!==null&&(is?(a=an,h=h.stateNode,a.nodeType===8?Lm(a.parentNode,h):a.nodeType===1&&Lm(a,h),tu(a)):Lm(an,h.stateNode));break;case 4:_=an,T=is,an=h.stateNode.containerInfo,is=!0,bs(a,o,h),an=_,is=T;break;case 0:case 11:case 14:case 15:if(!rt&&(_=h.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){T=_=_.next;do{var F=T,ne=F.destroy;F=F.tag,ne!==void 0&&((F&2)!==0||(F&4)!==0)&&rr(h,o,ne),T=T.next}while(T!==_)}bs(a,o,h);break;case 1:if(!rt&&(Qt(h,o),_=h.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=h.memoizedProps,_.state=h.memoizedState,_.componentWillUnmount()}catch(Te){Hn(h,o,Te)}bs(a,o,h);break;case 21:bs(a,o,h);break;case 22:h.mode&1?(rt=(_=rt)||h.memoizedState!==null,bs(a,o,h),rt=_):bs(a,o,h);break;default:bs(a,o,h)}}function Eu(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new Dt),o.forEach(function(_){var T=b8.bind(null,a,_);h.has(_)||(h.add(_),_.then(T,T))})}}function ss(a,o){var h=o.deletions;if(h!==null)for(var _=0;_<h.length;_++){var T=h[_];try{var F=a,ne=o,Te=ne;e:for(;Te!==null;){switch(Te.tag){case 5:an=Te.stateNode,is=!1;break e;case 3:an=Te.stateNode.containerInfo,is=!0;break e;case 4:an=Te.stateNode.containerInfo,is=!0;break e}Te=Te.return}if(an===null)throw Error(t(160));mc(F,ne,T),an=null,is=!1;var Be=T.alternate;Be!==null&&(Be.return=null),T.return=null}catch(Je){Hn(T,o,Je)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)gg(o,a),o=o.sibling}function gg(a,o){var h=a.alternate,_=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ss(o,a),gi(a),_&4){try{Et(3,a,a.return),pr(3,a)}catch(Ft){Hn(a,a.return,Ft)}try{Et(5,a,a.return)}catch(Ft){Hn(a,a.return,Ft)}}break;case 1:ss(o,a),gi(a),_&512&&h!==null&&Qt(h,h.return);break;case 5:if(ss(o,a),gi(a),_&512&&h!==null&&Qt(h,h.return),a.flags&32){var T=a.stateNode;try{w(T,"")}catch(Ft){Hn(a,a.return,Ft)}}if(_&4&&(T=a.stateNode,T!=null)){var F=a.memoizedProps,ne=h!==null?h.memoizedProps:F,Te=a.type,Be=a.updateQueue;if(a.updateQueue=null,Be!==null)try{Te==="input"&&F.type==="radio"&&F.name!=null&&_e(T,F),_t(Te,ne);var Je=_t(Te,F);for(ne=0;ne<Be.length;ne+=2){var ht=Be[ne],gt=Be[ne+1];ht==="style"?ae(T,gt):ht==="dangerouslySetInnerHTML"?B(T,gt):ht==="children"?w(T,gt):R(T,ht,gt,Je)}switch(Te){case"input":ge(T,F);break;case"textarea":be(T,F);break;case"select":var dt=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!F.multiple;var Rt=F.value;Rt!=null?Ve(T,!!F.multiple,Rt,!1):dt!==!!F.multiple&&(F.defaultValue!=null?Ve(T,!!F.multiple,F.defaultValue,!0):Ve(T,!!F.multiple,F.multiple?[]:"",!1))}T[cu]=F}catch(Ft){Hn(a,a.return,Ft)}}break;case 6:if(ss(o,a),gi(a),_&4){if(a.stateNode===null)throw Error(t(162));T=a.stateNode,F=a.memoizedProps;try{T.nodeValue=F}catch(Ft){Hn(a,a.return,Ft)}}break;case 3:if(ss(o,a),gi(a),_&4&&h!==null&&h.memoizedState.isDehydrated)try{tu(o.containerInfo)}catch(Ft){Hn(a,a.return,Ft)}break;case 4:ss(o,a),gi(a);break;case 13:ss(o,a),gi(a),T=a.child,T.flags&8192&&(F=T.memoizedState!==null,T.stateNode.isHidden=F,!F||T.alternate!==null&&T.alternate.memoizedState!==null||(bb=yn())),_&4&&Eu(a);break;case 22:if(ht=h!==null&&h.memoizedState!==null,a.mode&1?(rt=(Je=rt)||ht,ss(o,a),rt=Je):ss(o,a),gi(a),_&8192){if(Je=a.memoizedState!==null,(a.stateNode.isHidden=Je)&&!ht&&(a.mode&1)!==0)for(mt=a,ht=a.child;ht!==null;){for(gt=mt=ht;mt!==null;){switch(dt=mt,Rt=dt.child,dt.tag){case 0:case 11:case 14:case 15:Et(4,dt,dt.return);break;case 1:Qt(dt,dt.return);var Bt=dt.stateNode;if(typeof Bt.componentWillUnmount=="function"){_=dt,h=dt.return;try{o=_,Bt.props=o.memoizedProps,Bt.state=o.memoizedState,Bt.componentWillUnmount()}catch(Ft){Hn(_,h,Ft)}}break;case 5:Qt(dt,dt.return);break;case 22:if(dt.memoizedState!==null){Su(gt);continue}}Rt!==null?(Rt.return=dt,mt=Rt):Su(gt)}ht=ht.sibling}e:for(ht=null,gt=a;;){if(gt.tag===5){if(ht===null){ht=gt;try{T=gt.stateNode,Je?(F=T.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(Te=gt.stateNode,Be=gt.memoizedProps.style,ne=Be!=null&&Be.hasOwnProperty("display")?Be.display:null,Te.style.display=Z("display",ne))}catch(Ft){Hn(a,a.return,Ft)}}}else if(gt.tag===6){if(ht===null)try{gt.stateNode.nodeValue=Je?"":gt.memoizedProps}catch(Ft){Hn(a,a.return,Ft)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===a)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===a)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===a)break e;ht===gt&&(ht=null),gt=gt.return}ht===gt&&(ht=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:ss(o,a),gi(a),_&4&&Eu(a);break;case 21:break;default:ss(o,a),gi(a)}}function gi(a){var o=a.flags;if(o&2){try{e:{for(var h=a.return;h!==null;){if(Fr(h)){var _=h;break e}h=h.return}throw Error(t(160))}switch(_.tag){case 5:var T=_.stateNode;_.flags&32&&(w(T,""),_.flags&=-33);var F=ur(a);Wt(a,F,T);break;case 3:case 4:var ne=_.stateNode.containerInfo,Te=ur(a);Yt(a,Te,ne);break;default:throw Error(t(161))}}catch(Be){Hn(a,a.return,Be)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function wb(a,o,h){mt=a,b0(a)}function b0(a,o,h){for(var _=(a.mode&1)!==0;mt!==null;){var T=mt,F=T.child;if(T.tag===22&&_){var ne=T.memoizedState!==null||ot;if(!ne){var Te=T.alternate,Be=Te!==null&&Te.memoizedState!==null||rt;Te=ot;var Je=rt;if(ot=ne,(rt=Be)&&!Je)for(mt=T;mt!==null;)ne=mt,Be=ne.child,ne.tag===22&&ne.memoizedState!==null?_g(T):Be!==null?(Be.return=ne,mt=Be):_g(T);for(;F!==null;)mt=F,b0(F),F=F.sibling;mt=T,ot=Te,rt=Je}up(a)}else(T.subtreeFlags&8772)!==0&&F!==null?(F.return=T,mt=F):up(a)}}function up(a){for(;mt!==null;){var o=mt;if((o.flags&8772)!==0){var h=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:rt||pr(5,o);break;case 1:var _=o.stateNode;if(o.flags&4&&!rt)if(h===null)_.componentDidMount();else{var T=o.elementType===o.type?h.memoizedProps:ni(o.type,h.memoizedProps);_.componentDidUpdate(T,h.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var F=o.updateQueue;F!==null&&Ma(o,F,_);break;case 3:var ne=o.updateQueue;if(ne!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=o.child.stateNode;break;case 1:h=o.child.stateNode}Ma(o,ne,h)}break;case 5:var Te=o.stateNode;if(h===null&&o.flags&4){h=Te;var Be=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":Be.autoFocus&&h.focus();break;case"img":Be.src&&(h.src=Be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Je=o.alternate;if(Je!==null){var ht=Je.memoizedState;if(ht!==null){var gt=ht.dehydrated;gt!==null&&tu(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rt||o.flags&512&&vn(o)}catch(dt){Hn(o,o.return,dt)}}if(o===a){mt=null;break}if(h=o.sibling,h!==null){h.return=o.return,mt=h;break}mt=o.return}}function Su(a){for(;mt!==null;){var o=mt;if(o===a){mt=null;break}var h=o.sibling;if(h!==null){h.return=o.return,mt=h;break}mt=o.return}}function _g(a){for(;mt!==null;){var o=mt;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{pr(4,o)}catch(Be){Hn(o,h,Be)}break;case 1:var _=o.stateNode;if(typeof _.componentDidMount=="function"){var T=o.return;try{_.componentDidMount()}catch(Be){Hn(o,T,Be)}}var F=o.return;try{vn(o)}catch(Be){Hn(o,F,Be)}break;case 5:var ne=o.return;try{vn(o)}catch(Be){Hn(o,ne,Be)}}}catch(Be){Hn(o,o.return,Be)}if(o===a){mt=null;break}var Te=o.sibling;if(Te!==null){Te.return=o.return,mt=Te;break}mt=o.return}}var Gf=Math.ceil,Il=L.ReactCurrentDispatcher,Yf=L.ReactCurrentOwner,Es=L.ReactCurrentBatchConfig,Cr=0,ii=null,Fn=null,si=0,as=0,lp=vo(0),_i=0,yg=null,Xf=0,E0=0,vb=0,wg=null,qs=null,bb=0,fp=1/0,xu=null,S0=!1,Eb=null,kl=null,x0=!1,Rl=null,A0=0,vg=0,Sb=null,C0=-1,T0=0;function Ss(){return(Cr&6)!==0?yn():C0!==-1?C0:C0=yn()}function Pl(a){return(a.mode&1)===0?1:(Cr&2)!==0&&si!==0?si&-si:hb.transition!==null?(T0===0&&(T0=mf()),T0):(a=Jt,a!==0||(a=window.event,a=a===void 0?16:On(a.type)),a)}function Ao(a,o,h,_){if(50<vg)throw vg=0,Sb=null,Error(t(185));_o(a,h,_),((Cr&2)===0||a!==ii)&&(a===ii&&((Cr&2)===0&&(E0|=h),_i===4&&Bl(a,si)),Vs(a,_),h===1&&Cr===0&&(o.mode&1)===0&&(fp=yn()+500,Nf&&bo()))}function Vs(a,o){var h=a.callbackNode;pf(a,o);var _=go(a,a===ii?si:0);if(_===0)h!==null&&qi(h),a.callbackNode=null,a.callbackPriority=0;else if(o=_&-_,a.callbackPriority!==o){if(h!=null&&qi(h),o===1)a.tag===0?Hy(r4.bind(null,a)):Um(r4.bind(null,a)),jh(function(){(Cr&6)===0&&bo()}),h=null;else{switch(Qn(_)){case 1:h=Gc;break;case 4:h=Yc;break;case 16:h=tc;break;case 536870912:h=Ls;break;default:h=tc}h=l4(h,t4.bind(null,a))}a.callbackPriority=o,a.callbackNode=h}}function t4(a,o){if(C0=-1,T0=0,(Cr&6)!==0)throw Error(t(327));var h=a.callbackNode;if(dp()&&a.callbackNode!==h)return null;var _=go(a,a===ii?si:0);if(_===0)return null;if((_&30)!==0||(_&a.expiredLanes)!==0||o)o=I0(a,_);else{o=_;var T=Cr;Cr|=2;var F=i4();(ii!==a||si!==o)&&(xu=null,fp=yn()+500,Qf(a,o));do try{_8();break}catch(Te){n4(a,Te)}while(!0);Mf(),Il.current=F,Cr=T,Fn!==null?o=0:(ii=null,si=0,o=_i)}if(o!==0){if(o===2&&(T=tl(a),T!==0&&(_=T,o=xb(a,T))),o===1)throw h=yg,Qf(a,0),Bl(a,_),Vs(a,yn()),h;if(o===6)Bl(a,_);else{if(T=a.current.alternate,(_&30)===0&&!m8(T)&&(o=I0(a,_),o===2&&(F=tl(a),F!==0&&(_=F,o=xb(a,F))),o===1))throw h=yg,Qf(a,0),Bl(a,_),Vs(a,yn()),h;switch(a.finishedWork=T,a.finishedLanes=_,o){case 0:case 1:throw Error(t(345));case 2:ed(a,qs,xu);break;case 3:if(Bl(a,_),(_&130023424)===_&&(o=bb+500-yn(),10<o)){if(go(a,0)!==0)break;if(T=a.suspendedLanes,(T&_)!==_){Ss(),a.pingedLanes|=a.suspendedLanes&T;break}a.timeoutHandle=Fm(ed.bind(null,a,qs,xu),o);break}ed(a,qs,xu);break;case 4:if(Bl(a,_),(_&4194240)===_)break;for(o=a.eventTimes,T=-1;0<_;){var ne=31-_s(_);F=1<<ne,ne=o[ne],ne>T&&(T=ne),_&=~F}if(_=T,_=yn()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*Gf(_/1960))-_,10<_){a.timeoutHandle=Fm(ed.bind(null,a,qs,xu),_);break}ed(a,qs,xu);break;case 5:ed(a,qs,xu);break;default:throw Error(t(329))}}}return Vs(a,yn()),a.callbackNode===h?t4.bind(null,a):null}function xb(a,o){var h=wg;return a.current.memoizedState.isDehydrated&&(Qf(a,o).flags|=256),a=I0(a,o),a!==2&&(o=qs,qs=h,o!==null&&Ab(o)),a}function Ab(a){qs===null?qs=a:qs.push.apply(qs,a)}function m8(a){for(var o=a;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var _=0;_<h.length;_++){var T=h[_],F=T.getSnapshot;T=T.value;try{if(!zn(F(),T))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Bl(a,o){for(o&=~vb,o&=~E0,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var h=31-_s(o),_=1<<h;a[h]=-1,o&=~_}}function r4(a){if((Cr&6)!==0)throw Error(t(327));dp();var o=go(a,0);if((o&1)===0)return Vs(a,yn()),null;var h=I0(a,o);if(a.tag!==0&&h===2){var _=tl(a);_!==0&&(o=_,h=xb(a,_))}if(h===1)throw h=yg,Qf(a,0),Bl(a,o),Vs(a,yn()),h;if(h===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,ed(a,qs,xu),Vs(a,yn()),null}function Cb(a,o){var h=Cr;Cr|=1;try{return a(o)}finally{Cr=h,Cr===0&&(fp=yn()+500,Nf&&bo())}}function Jf(a){Rl!==null&&Rl.tag===0&&(Cr&6)===0&&dp();var o=Cr;Cr|=1;var h=Es.transition,_=Jt;try{if(Es.transition=null,Jt=1,a)return a()}finally{Jt=_,Es.transition=h,Cr=o,(Cr&6)===0&&bo()}}function Tb(){as=lp.current,dn(lp)}function Qf(a,o){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,ub(h)),Fn!==null)for(h=Fn.return;h!==null;){var _=h;switch(Vh(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Hh();break;case 3:hc(),dn(Xi),dn(Ai),Uf();break;case 5:Gm(_);break;case 4:hc();break;case 13:dn(wn);break;case 19:dn(wn);break;case 10:Wm(_.type._context);break;case 22:case 23:Tb()}h=h.return}if(ii=a,Fn=a=Nl(a.current,null),si=as=o,_i=0,yg=null,vb=E0=Xf=0,qs=wg=null,mu!==null){for(o=0;o<mu.length;o++)if(h=mu[o],_=h.interleaved,_!==null){h.interleaved=null;var T=_.next,F=h.pending;if(F!==null){var ne=F.next;F.next=T,_.next=ne}h.pending=_}mu=null}return a}function n4(a,o){do{var h=Fn;try{if(Mf(),tp.current=ap,rp){for(var _=xn.memoizedState;_!==null;){var T=_.queue;T!==null&&(T.pending=null),_=_.next}rp=!1}if(wu=0,ri=Gn=xn=null,zf=!1,Hf=0,Yf.current=null,h===null||h.return===null){_i=1,yg=o,Fn=null;break}e:{var F=a,ne=h.return,Te=h,Be=o;if(o=si,Te.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var Je=Be,ht=Te,gt=ht.tag;if((ht.mode&1)===0&&(gt===0||gt===11||gt===15)){var dt=ht.alternate;dt?(ht.updateQueue=dt.updateQueue,ht.memoizedState=dt.memoizedState,ht.lanes=dt.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Rt=p0(ne);if(Rt!==null){Rt.flags&=-257,m0(Rt,ne,Te,F,o),Rt.mode&1&&op(F,Je,o),o=Rt,Be=Je;var Bt=o.updateQueue;if(Bt===null){var Ft=new Set;Ft.add(Be),o.updateQueue=Ft}else Bt.add(Be);break e}else{if((o&1)===0){op(F,Je,o),Ib();break e}Be=Error(t(426))}}else if(hn&&Te.mode&1){var Yn=p0(ne);if(Yn!==null){(Yn.flags&65536)===0&&(Yn.flags|=256),m0(Yn,ne,Te,F,o),Vy(Ti(Be,Te));break e}}F=Be=Ti(Be,Te),_i!==4&&(_i=2),wg===null?wg=[F]:wg.push(F),F=ne;do{switch(F.tag){case 3:F.flags|=65536,o&=-o,F.lanes|=o;var qe=h0(F,Be,o);Ky(F,qe);break e;case 1:Te=Be;var De=F.type,We=F.stateNode;if((F.flags&128)===0&&(typeof De.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(kl===null||!kl.has(We)))){F.flags|=65536,o&=-o,F.lanes|=o;var bt=rs(F,Te,o);Ky(F,bt);break e}}F=F.return}while(F!==null)}a4(h)}catch(Mt){o=Mt,Fn===h&&h!==null&&(Fn=h=h.return);continue}break}while(!0)}function i4(){var a=Il.current;return Il.current=ap,a===null?ap:a}function Ib(){(_i===0||_i===3||_i===2)&&(_i=4),ii===null||(Xf&268435455)===0&&(E0&268435455)===0||Bl(ii,si)}function I0(a,o){var h=Cr;Cr|=2;var _=i4();(ii!==a||si!==o)&&(xu=null,Qf(a,o));do try{g8();break}catch(T){n4(a,T)}while(!0);if(Mf(),Cr=h,Il.current=_,Fn!==null)throw Error(t(261));return ii=null,si=0,_i}function g8(){for(;Fn!==null;)s4(Fn)}function _8(){for(;Fn!==null&&!ec();)s4(Fn)}function s4(a){var o=u4(a.alternate,a,as);a.memoizedProps=a.pendingProps,o===null?a4(a):Fn=o,Yf.current=null}function a4(a){var o=a;do{var h=o.alternate;if(a=o.return,(o.flags&32768)===0){if(h=Pe(h,o,as),h!==null){Fn=h;return}}else{if(h=vt(h,o),h!==null){h.flags&=32767,Fn=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{_i=6,Fn=null;return}}if(o=o.sibling,o!==null){Fn=o;return}Fn=o=a}while(o!==null);_i===0&&(_i=5)}function ed(a,o,h){var _=Jt,T=Es.transition;try{Es.transition=null,Jt=1,y8(a,o,h,_)}finally{Es.transition=T,Jt=_}return null}function y8(a,o,h,_){do dp();while(Rl!==null);if((Cr&6)!==0)throw Error(t(327));h=a.finishedWork;var T=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var F=h.lanes|h.childLanes;if(Ah(a,F),a===ii&&(Fn=ii=null,si=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||x0||(x0=!0,l4(tc,function(){return dp(),null})),F=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||F){F=Es.transition,Es.transition=null;var ne=Jt;Jt=1;var Te=Cr;Cr|=4,Yf.current=null,er(a,h),gg(h,a),ib(Nm),Ue=!!Bm,Nm=Bm=null,a.current=h,wb(h),hf(),Cr=Te,Jt=ne,Es.transition=F}else a.current=h;if(x0&&(x0=!1,Rl=a,A0=T),F=a.pendingLanes,F===0&&(kl=null),Qu(h.stateNode),Vs(a,yn()),o!==null)for(_=a.onRecoverableError,h=0;h<o.length;h++)T=o[h],_(T.value,{componentStack:T.stack,digest:T.digest});if(S0)throw S0=!1,a=Eb,Eb=null,a;return(A0&1)!==0&&a.tag!==0&&dp(),F=a.pendingLanes,(F&1)!==0?a===Sb?vg++:(vg=0,Sb=a):vg=0,bo(),null}function dp(){if(Rl!==null){var a=Qn(A0),o=Es.transition,h=Jt;try{if(Es.transition=null,Jt=16>a?16:a,Rl===null)var _=!1;else{if(a=Rl,Rl=null,A0=0,(Cr&6)!==0)throw Error(t(331));var T=Cr;for(Cr|=4,mt=a.current;mt!==null;){var F=mt,ne=F.child;if((mt.flags&16)!==0){var Te=F.deletions;if(Te!==null){for(var Be=0;Be<Te.length;Be++){var Je=Te[Be];for(mt=Je;mt!==null;){var ht=mt;switch(ht.tag){case 0:case 11:case 15:Et(8,ht,F)}var gt=ht.child;if(gt!==null)gt.return=ht,mt=gt;else for(;mt!==null;){ht=mt;var dt=ht.sibling,Rt=ht.return;if(Ht(ht),ht===Je){mt=null;break}if(dt!==null){dt.return=Rt,mt=dt;break}mt=Rt}}}var Bt=F.alternate;if(Bt!==null){var Ft=Bt.child;if(Ft!==null){Bt.child=null;do{var Yn=Ft.sibling;Ft.sibling=null,Ft=Yn}while(Ft!==null)}}mt=F}}if((F.subtreeFlags&2064)!==0&&ne!==null)ne.return=F,mt=ne;else e:for(;mt!==null;){if(F=mt,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:Et(9,F,F.return)}var qe=F.sibling;if(qe!==null){qe.return=F.return,mt=qe;break e}mt=F.return}}var De=a.current;for(mt=De;mt!==null;){ne=mt;var We=ne.child;if((ne.subtreeFlags&2064)!==0&&We!==null)We.return=ne,mt=We;else e:for(ne=De;mt!==null;){if(Te=mt,(Te.flags&2048)!==0)try{switch(Te.tag){case 0:case 11:case 15:pr(9,Te)}}catch(Mt){Hn(Te,Te.return,Mt)}if(Te===ne){mt=null;break e}var bt=Te.sibling;if(bt!==null){bt.return=Te.return,mt=bt;break e}mt=Te.return}}if(Cr=T,bo(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(Xc,a)}catch{}_=!0}return _}finally{Jt=h,Es.transition=o}}return!1}function o4(a,o,h){o=Ti(h,o),o=h0(a,o,1),a=dc(a,o,1),o=Ss(),a!==null&&(_o(a,1,o),Vs(a,o))}function Hn(a,o,h){if(a.tag===3)o4(a,a,h);else for(;o!==null;){if(o.tag===3){o4(o,a,h);break}else if(o.tag===1){var _=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(kl===null||!kl.has(_))){a=Ti(h,a),a=rs(o,a,1),o=dc(o,a,1),a=Ss(),o!==null&&(_o(o,1,a),Vs(o,a));break}}o=o.return}}function w8(a,o,h){var _=a.pingCache;_!==null&&_.delete(o),o=Ss(),a.pingedLanes|=a.suspendedLanes&h,ii===a&&(si&h)===h&&(_i===4||_i===3&&(si&130023424)===si&&500>yn()-bb?Qf(a,0):vb|=h),Vs(a,o)}function c4(a,o){o===0&&((a.mode&1)===0?o=1:(o=Zi,Zi<<=1,(Zi&130023424)===0&&(Zi=4194304)));var h=Ss();a=So(a,o),a!==null&&(_o(a,o,h),Vs(a,h))}function v8(a){var o=a.memoizedState,h=0;o!==null&&(h=o.retryLane),c4(a,h)}function b8(a,o){var h=0;switch(a.tag){case 13:var _=a.stateNode,T=a.memoizedState;T!==null&&(h=T.retryLane);break;case 19:_=a.stateNode;break;default:throw Error(t(314))}_!==null&&_.delete(o),c4(a,h)}var u4;u4=function(a,o,h){if(a!==null)if(a.memoizedProps!==o.pendingProps||Xi.current)ns=!0;else{if((a.lanes&h)===0&&(o.flags&128)===0)return ns=!1,C(a,o,h);ns=(a.flags&131072)!==0}else ns=!1,hn&&(o.flags&1048576)!==0&&Of(o,yl,o.index);switch(o.lanes=0,o.tag){case 2:var _=o.type;g(a,o),a=o.pendingProps;var T=fu(o,Ai.current);El(o,h),T=Jm(null,o,_,a,T,h);var F=Qm();return o.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Oi(_)?(F=!0,Bf(o)):F=!1,o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Km(o),T.updater=pc,o.stateNode=T,T._reactInternals=o,Vf(o,_,a,h),o=ug(null,o,_,!0,F,h)):(o.tag=0,hn&&F&&wl(o),Fi(null,o,T,h),o=o.child),o;case 16:_=o.elementType;e:{switch(g(a,o),a=o.pendingProps,T=_._init,_=T(_._payload),o.type=_,T=o.tag=S8(_),a=ni(_,a),T){case 0:o=cp(null,o,_,a,h);break e;case 1:o=v0(null,o,_,a,h);break e;case 11:o=g0(null,o,_,a,h);break e;case 14:o=_0(null,o,_,ni(_.type,a),h);break e}throw Error(t(306,_,""))}return o;case 0:return _=o.type,T=o.pendingProps,T=o.elementType===_?T:ni(_,T),cp(a,o,_,T,h);case 1:return _=o.type,T=o.pendingProps,T=o.elementType===_?T:ni(_,T),v0(a,o,_,T,h);case 3:e:{if(bu(o),a===null)throw Error(t(387));_=o.pendingProps,F=o.memoizedState,T=F.element,Zy(a,o),Jh(o,_,null,h);var ne=o.memoizedState;if(_=ne.element,F.isDehydrated)if(F={element:_,isDehydrated:!1,cache:ne.cache,pendingSuspenseBoundaries:ne.pendingSuspenseBoundaries,transitions:ne.transitions},o.updateQueue.baseState=F,o.memoizedState=F,o.flags&256){T=Ti(Error(t(423)),o),o=lg(a,o,_,h,T);break e}else if(_!==T){T=Ti(Error(t(424)),o),o=lg(a,o,_,h,T);break e}else for(es=ws(o.stateNode.containerInfo.firstChild),Qi=o,hn=!0,Us=null,h=Vm(o,null,_,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(vl(),_===T){o=p(a,o,h);break e}Fi(a,o,_,h)}o=o.child}return o;case 5:return Qh(o),a===null&&sn(o),_=o.type,T=o.pendingProps,F=a!==null?a.memoizedProps:null,ne=T.children,Om(_,T)?ne=null:F!==null&&Om(_,F)&&(o.flags|=32),w0(a,o),Fi(a,o,ne,h),o.child;case 6:return a===null&&sn(o),null;case 13:return hg(a,o,h);case 4:return _u(o,o.stateNode.containerInfo),_=o.pendingProps,a===null?o.child=hu(o,null,_,h):Fi(a,o,_,h),o.child;case 11:return _=o.type,T=o.pendingProps,T=o.elementType===_?T:ni(_,T),g0(a,o,_,T,h);case 7:return Fi(a,o,o.pendingProps,h),o.child;case 8:return Fi(a,o,o.pendingProps.children,h),o.child;case 12:return Fi(a,o,o.pendingProps.children,h),o.child;case 10:e:{if(_=o.type._context,T=o.pendingProps,F=o.memoizedProps,ne=T.value,$r(Lf,_._currentValue),_._currentValue=ne,F!==null)if(zn(F.value,ne)){if(F.children===T.children&&!Xi.current){o=p(a,o,h);break e}}else for(F=o.child,F!==null&&(F.return=o);F!==null;){var Te=F.dependencies;if(Te!==null){ne=F.child;for(var Be=Te.firstContext;Be!==null;){if(Be.context===_){if(F.tag===1){Be=xo(-1,h&-h),Be.tag=2;var Je=F.updateQueue;if(Je!==null){Je=Je.shared;var ht=Je.pending;ht===null?Be.next=Be:(Be.next=ht.next,ht.next=Be),Je.pending=Be}}F.lanes|=h,Be=F.alternate,Be!==null&&(Be.lanes|=h),Yh(F.return,h,o),Te.lanes|=h;break}Be=Be.next}}else if(F.tag===10)ne=F.type===o.type?null:F.child;else if(F.tag===18){if(ne=F.return,ne===null)throw Error(t(341));ne.lanes|=h,Te=ne.alternate,Te!==null&&(Te.lanes|=h),Yh(ne,h,o),ne=F.sibling}else ne=F.child;if(ne!==null)ne.return=F;else for(ne=F;ne!==null;){if(ne===o){ne=null;break}if(F=ne.sibling,F!==null){F.return=ne.return,ne=F;break}ne=ne.return}F=ne}Fi(a,o,T.children,h),o=o.child}return o;case 9:return T=o.type,_=o.pendingProps.children,El(o,h),T=zs(T),_=_(T),o.flags|=1,Fi(a,o,_,h),o.child;case 14:return _=o.type,T=ni(_,o.pendingProps),T=ni(_.type,T),_0(a,o,_,T,h);case 15:return Zf(a,o,o.type,o.pendingProps,h);case 17:return _=o.type,T=o.pendingProps,T=o.elementType===_?T:ni(_,T),g(a,o),o.tag=1,Oi(_)?(a=!0,Bf(o)):a=!1,El(o,h),f0(o,_,T),Vf(o,_,T,h),ug(null,o,_,!0,a,h);case 19:return f(a,o,h);case 22:return y0(a,o,h)}throw Error(t(156,o.tag))};function l4(a,o){return Qo(a,o)}function E8(a,o,h,_){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(a,o,h,_){return new E8(a,o,h,_)}function kb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function S8(a){if(typeof a=="function")return kb(a)?1:0;if(a!=null){if(a=a.$$typeof,a===j)return 11;if(a===Q)return 14}return 2}function Nl(a,o){var h=a.alternate;return h===null?(h=Ha(a.tag,o,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=o,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,o=a.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function k0(a,o,h,_,T,F){var ne=2;if(_=a,typeof a=="function")kb(a)&&(ne=1);else if(typeof a=="string")ne=5;else e:switch(a){case V:return td(h.children,T,F,o);case oe:ne=8,T|=8;break;case de:return a=Ha(12,h,o,T|2),a.elementType=de,a.lanes=F,a;case fe:return a=Ha(13,h,o,T),a.elementType=fe,a.lanes=F,a;case z:return a=Ha(19,h,o,T),a.elementType=z,a.lanes=F,a;case pe:return R0(h,T,F,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ee:ne=10;break e;case Fe:ne=9;break e;case j:ne=11;break e;case Q:ne=14;break e;case me:ne=16,_=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return o=Ha(ne,h,o,T),o.elementType=a,o.type=_,o.lanes=F,o}function td(a,o,h,_){return a=Ha(7,a,_,o),a.lanes=h,a}function R0(a,o,h,_){return a=Ha(22,a,_,o),a.elementType=pe,a.lanes=h,a.stateNode={isHidden:!1},a}function Rb(a,o,h){return a=Ha(6,a,null,o),a.lanes=h,a}function Pb(a,o,h){return o=Ha(4,a.children!==null?a.children:[],a.key,o),o.lanes=h,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function x8(a,o,h,_,T){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jc(0),this.expirationTimes=Jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.identifierPrefix=_,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Bb(a,o,h,_,T,F,ne,Te,Be){return a=new x8(a,o,h,Te,Be),o===1?(o=1,F===!0&&(o|=8)):o=0,F=Ha(3,null,null,o),a.current=F,F.stateNode=a,F.memoizedState={element:_,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(F),a}function A8(a,o,h){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:_==null?null:""+_,children:a,containerInfo:o,implementation:h}}function f4(a){if(!a)return Yi;a=a._reactInternals;e:{if(po(a)!==a||a.tag!==1)throw Error(t(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Oi(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(a.tag===1){var h=a.type;if(Oi(h))return Pf(a,h,o)}return o}function d4(a,o,h,_,T,F,ne,Te,Be){return a=Bb(h,_,!0,a,T,F,ne,Te,Be),a.context=f4(null),h=a.current,_=Ss(),T=Pl(h),F=xo(_,T),F.callback=o??null,dc(h,F,T),a.current.lanes=T,_o(a,T,_),Vs(a,_),a}function P0(a,o,h,_){var T=o.current,F=Ss(),ne=Pl(T);return h=f4(h),o.context===null?o.context=h:o.pendingContext=h,o=xo(F,ne),o.payload={element:a},_=_===void 0?null:_,_!==null&&(o.callback=_),a=dc(T,o,ne),a!==null&&(Ao(a,T,ne,F),Xh(a,T,ne)),ne}function B0(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function h4(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<o?h:o}}function Nb(a,o){h4(a,o),(a=a.alternate)&&h4(a,o)}function C8(){return null}var p4=typeof reportError=="function"?reportError:function(a){console.error(a)};function Ob(a){this._internalRoot=a}N0.prototype.render=Ob.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(t(409));P0(a,o,null,null)},N0.prototype.unmount=Ob.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Jf(function(){P0(null,a,null,null)}),o[Na]=null}};function N0(a){this._internalRoot=a}N0.prototype.unstable_scheduleHydration=function(a){if(a){var o=yf();a={blockedOn:null,target:a,priority:o};for(var h=0;h<la.length&&o!==0&&o<la[h].priority;h++);la.splice(h,0,a),h===0&&bf(a)}};function Fb(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function O0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function m4(){}function T8(a,o,h,_,T){if(T){if(typeof _=="function"){var F=_;_=function(){var Je=B0(ne);F.call(Je)}}var ne=d4(o,_,a,0,null,!1,!1,"",m4);return a._reactRootContainer=ne,a[Na]=ne.current,kf(a.nodeType===8?a.parentNode:a),Jf(),ne}for(;T=a.lastChild;)a.removeChild(T);if(typeof _=="function"){var Te=_;_=function(){var Je=B0(Be);Te.call(Je)}}var Be=Bb(a,0,!1,null,null,!1,!1,"",m4);return a._reactRootContainer=Be,a[Na]=Be.current,kf(a.nodeType===8?a.parentNode:a),Jf(function(){P0(o,Be,h,_)}),Be}function F0(a,o,h,_,T){var F=h._reactRootContainer;if(F){var ne=F;if(typeof T=="function"){var Te=T;T=function(){var Be=B0(ne);Te.call(Be)}}P0(o,ne,a,T)}else ne=T8(h,o,a,T,_);return B0(ne)}gf=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var h=Ds(o.pendingLanes);h!==0&&(Ra(o,h|1),Vs(o,yn()),(Cr&6)===0&&(fp=yn()+500,bo()))}break;case 13:Jf(function(){var _=So(a,1);if(_!==null){var T=Ss();Ao(_,a,1,T)}}),Nb(a,1)}},_f=function(a){if(a.tag===13){var o=So(a,134217728);if(o!==null){var h=Ss();Ao(o,a,134217728,h)}Nb(a,134217728)}},oa=function(a){if(a.tag===13){var o=Pl(a),h=So(a,o);if(h!==null){var _=Ss();Ao(h,a,o,_)}Nb(a,o)}},yf=function(){return Jt},Ch=function(a,o){var h=Jt;try{return Jt=a,o()}finally{Jt=h}},Ir=function(a,o,h){switch(o){case"input":if(ge(a,h),o=h.name,h.type==="radio"&&o!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<h.length;o++){var _=h[o];if(_!==a&&_.form===a.form){var T=Uh(_);if(!T)throw Error(t(90));ct(_),ge(_,T)}}}break;case"textarea":be(a,h);break;case"select":o=h.value,o!=null&&Ve(a,!!h.multiple,o,!1)}},Bi=Cb,Xo=Jf;var I8={usingClientEntryPoint:!1,Events:[$h,Oa,Uh,Fs,ho,Cb]},bg={findFiberByHostInstance:uu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k8={bundleType:bg.bundleType,version:bg.version,rendererPackageName:bg.rendererPackageName,rendererConfig:bg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Eh(a),a===null?null:a.stateNode},findFiberByHostInstance:bg.findFiberByHostInstance||C8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var L0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!L0.isDisabled&&L0.supportsFiber)try{Xc=L0.inject(k8),Vi=L0}catch{}}return Ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I8,Ws.createPortal=function(a,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fb(o))throw Error(t(200));return A8(a,o,null,h)},Ws.createRoot=function(a,o){if(!Fb(a))throw Error(t(299));var h=!1,_="",T=p4;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(_=o.identifierPrefix),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=Bb(a,1,!1,null,null,h,!1,_,T),a[Na]=o.current,kf(a.nodeType===8?a.parentNode:a),new Ob(o)},Ws.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Eh(o),a=a===null?null:a.stateNode,a},Ws.flushSync=function(a){return Jf(a)},Ws.hydrate=function(a,o,h){if(!O0(o))throw Error(t(200));return F0(null,a,o,!0,h)},Ws.hydrateRoot=function(a,o,h){if(!Fb(a))throw Error(t(405));var _=h!=null&&h.hydratedSources||null,T=!1,F="",ne=p4;if(h!=null&&(h.unstable_strictMode===!0&&(T=!0),h.identifierPrefix!==void 0&&(F=h.identifierPrefix),h.onRecoverableError!==void 0&&(ne=h.onRecoverableError)),o=d4(o,null,a,1,h??null,T,!1,F,ne),a[Na]=o.current,kf(a),_)for(a=0;a<_.length;a++)h=_[a],T=h._getVersion,T=T(h._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[h,T]:o.mutableSourceEagerHydrationData.push(h,T);return new N0(o)},Ws.render=function(a,o,h){if(!O0(o))throw Error(t(200));return F0(null,a,o,!1,h)},Ws.unmountComponentAtNode=function(a){if(!O0(a))throw Error(t(40));return a._reactRootContainer?(Jf(function(){F0(null,null,a,!1,function(){a._reactRootContainer=null,a[Na]=null})}),!0):!1},Ws.unstable_batchedUpdates=Cb,Ws.unstable_renderSubtreeIntoContainer=function(a,o,h,_){if(!O0(h))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return F0(a,o,h,!1,_)},Ws.version="18.3.1-next-f1338f8080-20240426",Ws}var O4;function BP(){if(O4)return Hb.exports;O4=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hb.exports=OL(),Hb.exports}var F4;function FL(){if(F4)return M0;F4=1;var r=BP();return M0.createRoot=r.createRoot,M0.hydrateRoot=r.hydrateRoot,M0}var LL=FL(),Wb={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var L4;function DL(){return L4||(L4=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var s="",c=0;c<arguments.length;c++){var u=arguments[c];u&&(s=i(s,n(u)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var c="";for(var u in s)e.call(s,u)&&s[u]&&(c=i(c,u));return c}function i(s,c){return c?s?s+" "+c:s+c:s}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(Wb)),Wb.exports}var ML=DL();const Tr=Zc(ML);function NP(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function D4(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function jL(r){var e=$L(r,"string");return typeof e=="symbol"?e:String(e)}function $L(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function UL(r,e,t){var n=at.useRef(r!==void 0),i=at.useState(e),s=i[0],c=i[1],u=r!==void 0,d=n.current;return n.current=u,!u&&d&&s!==e&&c(e),[u?r:s,at.useCallback(function(l){for(var m=arguments.length,y=new Array(m>1?m-1:0),b=1;b<m;b++)y[b-1]=arguments[b];t&&t.apply(void 0,[l].concat(y)),c(l)},[t])]}function zL(r,e){return Object.keys(e).reduce(function(t,n){var i,s=t,c=s[D4(n)],u=s[n],d=NP(s,[D4(n),n].map(jL)),l=e[n],m=UL(u,c,r[l]),y=m[0],b=m[1];return ex({},d,(i={},i[n]=y,i[l]=b,i))},r)}function rx(r,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},rx(r,e)}function HL(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,rx(r,e)}const qL=["xxl","xl","lg","md","sm","xs"],VL="xs",uv=at.createContext({prefixes:{},breakpoints:qL,minBreakpoint:VL}),{Consumer:vX,Provider:bX}=uv;function Yr(r,e){const{prefixes:t}=at.useContext(uv);return r||t[e]||e}function WL(){const{breakpoints:r}=at.useContext(uv);return r}function ZL(){const{minBreakpoint:r}=at.useContext(uv);return r}function KL(r){return r&&r.ownerDocument||document}function GL(r){var e=KL(r);return e&&e.defaultView||window}function YL(r,e){return GL(r).getComputedStyle(r,e)}var XL=/([A-Z])/g;function JL(r){return r.replace(XL,"-$1").toLowerCase()}var QL=/^ms-/;function j0(r){return JL(r).replace(QL,"-ms-")}var eD=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function tD(r){return!!(r&&eD.test(r))}function yw(r,e){var t="",n="";if(typeof e=="string")return r.style.getPropertyValue(j0(e))||YL(r).getPropertyValue(j0(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?r.style.removeProperty(j0(i)):tD(i)?n+=i+"("+s+") ":t+=j0(i)+": "+s+";"}),n&&(t+="transform: "+n+";"),r.style.cssText+=";"+t}var Zb={exports:{}},Kb,M4;function rD(){if(M4)return Kb;M4=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kb=r,Kb}var Gb,j4;function nD(){if(j4)return Gb;j4=1;var r=rD();function e(){}function t(){}return t.resetWarningCache=e,Gb=function(){function n(c,u,d,l,m,y){if(y!==r){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Gb}var $4;function iD(){return $4||($4=1,Zb.exports=nD()()),Zb.exports}var sD=iD();const _n=Zc(sD);var aD=BP();const Gg=Zc(aD),U4={disabled:!1},OP=hi.createContext(null);var oD=function(e){return e.scrollTop},Yg="unmounted",Dl="exited",Pu="entering",jl="entered",ww="exiting",Yu=function(r){HL(e,r);function e(n,i){var s;s=r.call(this,n,i)||this;var c=i,u=c&&!c.isMounting?n.enter:n.appear,d;return s.appearStatus=null,n.in?u?(d=Dl,s.appearStatus=Pu):d=jl:n.unmountOnExit||n.mountOnEnter?d=Yg:d=Dl,s.state={status:d},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var c=i.in;return c&&s.status===Yg?{status:Dl}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var c=this.state.status;this.props.in?c!==Pu&&c!==jl&&(s=Pu):(c===Pu||c===jl)&&(s=ww)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,c,u;return s=c=u=i,i!=null&&typeof i!="number"&&(s=i.exit,c=i.enter,u=i.appear!==void 0?i.appear:c),{exit:s,enter:c,appear:u}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Pu){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Gg.findDOMNode(this);c&&oD(c)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Dl&&this.setState({status:Yg})},t.performEnter=function(i){var s=this,c=this.props.enter,u=this.context?this.context.isMounting:i,d=this.props.nodeRef?[u]:[Gg.findDOMNode(this),u],l=d[0],m=d[1],y=this.getTimeouts(),b=u?y.appear:y.enter;if(!i&&!c||U4.disabled){this.safeSetState({status:jl},function(){s.props.onEntered(l)});return}this.props.onEnter(l,m),this.safeSetState({status:Pu},function(){s.props.onEntering(l,m),s.onTransitionEnd(b,function(){s.safeSetState({status:jl},function(){s.props.onEntered(l,m)})})})},t.performExit=function(){var i=this,s=this.props.exit,c=this.getTimeouts(),u=this.props.nodeRef?void 0:Gg.findDOMNode(this);if(!s||U4.disabled){this.safeSetState({status:Dl},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:ww},function(){i.props.onExiting(u),i.onTransitionEnd(c.exit,function(){i.safeSetState({status:Dl},function(){i.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,c=!0;return this.nextCallback=function(u){c&&(c=!1,s.nextCallback=null,i(u))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var c=this.props.nodeRef?this.props.nodeRef.current:Gg.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!c||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],l=d[0],m=d[1];this.props.addEndListener(l,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Yg)return null;var s=this.props,c=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var u=NP(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return hi.createElement(OP.Provider,{value:null},typeof c=="function"?c(i,u):hi.cloneElement(hi.Children.only(c),u))},e}(hi.Component);Yu.contextType=OP;Yu.propTypes={};function hp(){}Yu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:hp,onEntering:hp,onEntered:hp,onExit:hp,onExiting:hp,onExited:hp};Yu.UNMOUNTED=Yg;Yu.EXITED=Dl;Yu.ENTERING=Pu;Yu.ENTERED=jl;Yu.EXITING=ww;function cD(){const r=at.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function FP(r){if(!r||typeof r=="function")return null;const{major:e}=cD();return e>=19?r.props.ref:r.ref}const uD=!!(typeof window<"u"&&window.document&&window.document.createElement);var nx=!1,ix=!1;try{var Yb={get passive(){return nx=!0},get once(){return ix=nx=!0}};uD&&(window.addEventListener("test",Yb,Yb),window.removeEventListener("test",Yb,!0))}catch{}function lD(r,e,t,n){if(n&&typeof n!="boolean"&&!ix){var i=n.once,s=n.capture,c=t;!ix&&i&&(c=t.__once||function u(d){this.removeEventListener(e,u,s),t.call(this,d)},t.__once=c),r.addEventListener(e,c,nx?n:s)}r.addEventListener(e,t,n)}function fD(r,e,t,n){var i=n&&typeof n!="boolean"?n.capture:n;r.removeEventListener(e,t,i),t.__once&&r.removeEventListener(e,t.__once,i)}function LP(r,e,t,n){return lD(r,e,t,n),function(){fD(r,e,t,n)}}function dD(r,e,t,n){if(n===void 0&&(n=!0),r){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,n),r.dispatchEvent(i)}}function hD(r){var e=yw(r,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function pD(r,e,t){t===void 0&&(t=5);var n=!1,i=setTimeout(function(){n||dD(r,"transitionend",!0)},e+t),s=LP(r,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(i),s()}}function mD(r,e,t,n){t==null&&(t=hD(r)||0);var i=pD(r,t,n),s=LP(r,"transitionend",e);return function(){i(),s()}}function z4(r,e){const t=yw(r,e)||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function DP(r,e){const t=z4(r,"transitionDuration"),n=z4(r,"transitionDelay"),i=mD(r,s=>{s.target===r&&(i(),e(s))},t+n)}function xg(...r){return r.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function MP(r){r.offsetHeight}const H4=r=>!r||typeof r=="function"?r:e=>{r.current=e};function gD(r,e){const t=H4(r),n=H4(e);return i=>{t&&t(i),n&&n(i)}}function _D(r,e){return at.useMemo(()=>gD(r,e),[r,e])}function yD(r){return r&&"setState"in r?Gg.findDOMNode(r):r??null}const jP=hi.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:n,onExiting:i,onExited:s,addEndListener:c,children:u,childRef:d,...l},m)=>{const y=at.useRef(null),b=_D(y,d),E=te=>{b(yD(te))},I=te=>V=>{te&&y.current&&te(y.current,V)},S=at.useCallback(I(r),[r]),P=at.useCallback(I(e),[e]),N=at.useCallback(I(t),[t]),k=at.useCallback(I(n),[n]),R=at.useCallback(I(i),[i]),L=at.useCallback(I(s),[s]),U=at.useCallback(I(c),[c]);return Ot.jsx(Yu,{ref:m,...l,onEnter:S,onEntered:N,onEntering:P,onExit:k,onExited:L,onExiting:R,addEndListener:U,nodeRef:y,children:typeof u=="function"?(te,V)=>u(te,{...V,ref:E}):hi.cloneElement(u,{ref:E})})}),wD={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function vD(r,e){const t=`offset${r[0].toUpperCase()}${r.slice(1)}`,n=e[t],i=wD[r];return n+parseInt(yw(e,i[0]),10)+parseInt(yw(e,i[1]),10)}const bD={[Dl]:"collapse",[ww]:"collapsing",[Pu]:"collapsing",[jl]:"collapse show"},$0=hi.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:n,onExiting:i,className:s,children:c,dimension:u="height",in:d=!1,timeout:l=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:b=!1,getDimensionValue:E=vD,...I},S)=>{const P=typeof u=="function"?u():u,N=at.useMemo(()=>xg(te=>{te.style[P]="0"},r),[P,r]),k=at.useMemo(()=>xg(te=>{const V=`scroll${P[0].toUpperCase()}${P.slice(1)}`;te.style[P]=`${te[V]}px`},e),[P,e]),R=at.useMemo(()=>xg(te=>{te.style[P]=null},t),[P,t]),L=at.useMemo(()=>xg(te=>{te.style[P]=`${E(P,te)}px`,MP(te)},n),[n,E,P]),U=at.useMemo(()=>xg(te=>{te.style[P]=null},i),[P,i]);return Ot.jsx(jP,{ref:S,addEndListener:DP,...I,"aria-expanded":I.role?d:null,onEnter:N,onEntering:k,onEntered:R,onExit:L,onExiting:U,childRef:FP(c),in:d,timeout:l,mountOnEnter:m,unmountOnExit:y,appear:b,children:(te,V)=>hi.cloneElement(c,{...V,className:Tr(s,c.props.className,bD[te],P==="width"&&"collapse-horizontal")})})});function ED(r){const e=at.useRef(r);return at.useEffect(()=>{e.current=r},[r]),e}function SD(r){const e=ED(r);return at.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const AA=r=>at.forwardRef((e,t)=>Ot.jsx("div",{...e,ref:t,className:Tr(e.className,r)})),$P=AA("h4");$P.displayName="DivStyledAsH4";const UP=at.forwardRef(({className:r,bsPrefix:e,as:t=$P,...n},i)=>(e=Yr(e,"alert-heading"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));UP.displayName="AlertHeading";function xD(r){const e=at.useRef(r);return at.useEffect(()=>{e.current=r},[r]),e}function AD(r){const e=xD(r);return at.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Pp=globalThis||void 0||self;typeof Pp<"u"&&Pp.navigator&&Pp.navigator.product;const CD=["as","disabled"];function TD(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function ID(r){return!r||r.trim()==="#"}function CA({tagName:r,disabled:e,href:t,target:n,rel:i,role:s,onClick:c,tabIndex:u=0,type:d}){r||(t!=null||n!=null||i!=null?r="a":r="button");const l={tagName:r};if(r==="button")return[{type:d||"button",disabled:e},l];const m=b=>{if((e||r==="a"&&ID(t))&&b.preventDefault(),e){b.stopPropagation();return}c==null||c(b)},y=b=>{b.key===" "&&(b.preventDefault(),m(b))};return r==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:u,href:t,target:r==="a"?n:void 0,"aria-disabled":e||void 0,rel:r==="a"?i:void 0,onClick:m,onKeyDown:y},l]}const kD=at.forwardRef((r,e)=>{let{as:t,disabled:n}=r,i=TD(r,CD);const[s,{tagName:c}]=CA(Object.assign({tagName:t,disabled:n},i));return Ot.jsx(c,Object.assign({},i,s,{ref:e}))});kD.displayName="Button";const RD=["onKeyDown"];function PD(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function BD(r){return!r||r.trim()==="#"}const zP=at.forwardRef((r,e)=>{let{onKeyDown:t}=r,n=PD(r,RD);const[i]=CA(Object.assign({tagName:"a"},n)),s=AD(c=>{i.onKeyDown(c),t==null||t(c)});return BD(n.href)||n.role==="button"?Ot.jsx("a",Object.assign({ref:e},n,i,{onKeyDown:s})):Ot.jsx("a",Object.assign({ref:e},n,{onKeyDown:t}))});zP.displayName="Anchor";const HP=at.forwardRef(({className:r,bsPrefix:e,as:t=zP,...n},i)=>(e=Yr(e,"alert-link"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));HP.displayName="AlertLink";const ND={[Pu]:"show",[jl]:"show"},sx=at.forwardRef(({className:r,children:e,transitionClasses:t={},onEnter:n,...i},s)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},u=at.useCallback((d,l)=>{MP(d),n==null||n(d,l)},[n]);return Ot.jsx(jP,{ref:s,addEndListener:DP,...c,onEnter:u,childRef:FP(e),children:(d,l)=>at.cloneElement(e,{...l,className:Tr("fade",r,e.props.className,ND[d],t[d])})})});sx.displayName="Fade";const OD={"aria-label":_n.string,onClick:_n.func,variant:_n.oneOf(["white"])},TA=at.forwardRef(({className:r,variant:e,"aria-label":t="Close",...n},i)=>Ot.jsx("button",{ref:i,type:"button",className:Tr("btn-close",e&&`btn-close-${e}`,r),"aria-label":t,...n}));TA.displayName="CloseButton";TA.propTypes=OD;const qP=at.forwardRef((r,e)=>{const{bsPrefix:t,show:n=!0,closeLabel:i="Close alert",closeVariant:s,className:c,children:u,variant:d="primary",onClose:l,dismissible:m,transition:y=sx,...b}=zL(r,{show:"onClose"}),E=Yr(t,"alert"),I=SD(N=>{l&&l(!1,N)}),S=y===!0?sx:y,P=Ot.jsxs("div",{role:"alert",...S?void 0:b,ref:e,className:Tr(c,E,d&&`${E}-${d}`,m&&`${E}-dismissible`),children:[m&&Ot.jsx(TA,{onClick:I,"aria-label":i,variant:s}),u]});return S?Ot.jsx(S,{unmountOnExit:!0,...b,ref:void 0,in:n,children:P}):n?P:null});qP.displayName="Alert";const FD=Object.assign(qP,{Link:HP,Heading:UP}),ax=at.forwardRef(({as:r,bsPrefix:e,variant:t="primary",size:n,active:i=!1,disabled:s=!1,className:c,...u},d)=>{const l=Yr(e,"btn"),[m,{tagName:y}]=CA({tagName:r,disabled:s,...u}),b=y;return Ot.jsx(b,{...m,...u,ref:d,disabled:s,className:Tr(c,l,i&&"active",t&&`${l}-${t}`,n&&`${l}-${n}`,u.href&&s&&"disabled")})});ax.displayName="Button";const IA=at.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=Yr(e,"card-body"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));IA.displayName="CardBody";const VP=at.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=Yr(e,"card-footer"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));VP.displayName="CardFooter";const WP=at.createContext(null);WP.displayName="CardHeaderContext";const ZP=at.forwardRef(({bsPrefix:r,className:e,as:t="div",...n},i)=>{const s=Yr(r,"card-header"),c=at.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return Ot.jsx(WP.Provider,{value:c,children:Ot.jsx(t,{ref:i,...n,className:Tr(e,s)})})});ZP.displayName="CardHeader";const KP=at.forwardRef(({bsPrefix:r,className:e,variant:t,as:n="img",...i},s)=>{const c=Yr(r,"card-img");return Ot.jsx(n,{ref:s,className:Tr(t?`${c}-${t}`:c,e),...i})});KP.displayName="CardImg";const GP=at.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=Yr(e,"card-img-overlay"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));GP.displayName="CardImgOverlay";const YP=at.forwardRef(({className:r,bsPrefix:e,as:t="a",...n},i)=>(e=Yr(e,"card-link"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));YP.displayName="CardLink";const LD=AA("h6"),XP=at.forwardRef(({className:r,bsPrefix:e,as:t=LD,...n},i)=>(e=Yr(e,"card-subtitle"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));XP.displayName="CardSubtitle";const JP=at.forwardRef(({className:r,bsPrefix:e,as:t="p",...n},i)=>(e=Yr(e,"card-text"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));JP.displayName="CardText";const DD=AA("h5"),QP=at.forwardRef(({className:r,bsPrefix:e,as:t=DD,...n},i)=>(e=Yr(e,"card-title"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));QP.displayName="CardTitle";const eB=at.forwardRef(({bsPrefix:r,className:e,bg:t,text:n,border:i,body:s=!1,children:c,as:u="div",...d},l)=>{const m=Yr(r,"card");return Ot.jsx(u,{ref:l,...d,className:Tr(e,m,t&&`bg-${t}`,n&&`text-${n}`,i&&`border-${i}`),children:s?Ot.jsx(IA,{children:c}):c})});eB.displayName="Card";const qa=Object.assign(eB,{Img:KP,Title:QP,Subtitle:XP,Body:IA,Link:YP,Text:JP,Header:ZP,Footer:VP,ImgOverlay:GP});function MD(r,e){return at.Children.toArray(r).some(t=>at.isValidElement(t)&&t.type===e)}function jD({as:r,bsPrefix:e,className:t,...n}){e=Yr(e,"col");const i=WL(),s=ZL(),c=[],u=[];return i.forEach(d=>{const l=n[d];delete n[d];let m,y,b;typeof l=="object"&&l!=null?{span:m,offset:y,order:b}=l:m=l;const E=d!==s?`-${d}`:"";m&&c.push(m===!0?`${e}${E}`:`${e}${E}-${m}`),b!=null&&u.push(`order${E}-${b}`),y!=null&&u.push(`offset${E}-${y}`)}),[{...n,className:Tr(t,...c,...u)},{as:r,bsPrefix:e,spans:c}]}const tB=at.forwardRef((r,e)=>{const[{className:t,...n},{as:i="div",bsPrefix:s,spans:c}]=jD(r);return Ot.jsx(i,{...n,ref:e,className:Tr(t,!c.length&&s)})});tB.displayName="Col";const rB=at.forwardRef(({bsPrefix:r,fluid:e=!1,as:t="div",className:n,...i},s)=>{const c=Yr(r,"container"),u=typeof e=="string"?`-${e}`:"-fluid";return Ot.jsx(t,{ref:s,...i,className:Tr(n,e?`${c}${u}`:c)})});rB.displayName="Container";const nB=at.createContext(null);nB.displayName="InputGroupContext";const $D={type:_n.string,tooltip:_n.bool,as:_n.elementType},lv=at.forwardRef(({as:r="div",className:e,type:t="valid",tooltip:n=!1,...i},s)=>Ot.jsx(r,{...i,ref:s,className:Tr(e,`${t}-${n?"tooltip":"feedback"}`)}));lv.displayName="Feedback";lv.propTypes=$D;const Ku=at.createContext({}),uy=at.forwardRef(({id:r,bsPrefix:e,className:t,type:n="checkbox",isValid:i=!1,isInvalid:s=!1,as:c="input",...u},d)=>{const{controlId:l}=at.useContext(Ku);return e=Yr(e,"form-check-input"),Ot.jsx(c,{...u,ref:d,type:n,id:r||l,className:Tr(t,e,i&&"is-valid",s&&"is-invalid")})});uy.displayName="FormCheckInput";const vw=at.forwardRef(({bsPrefix:r,className:e,htmlFor:t,...n},i)=>{const{controlId:s}=at.useContext(Ku);return r=Yr(r,"form-check-label"),Ot.jsx("label",{...n,ref:i,htmlFor:t||s,className:Tr(e,r)})});vw.displayName="FormCheckLabel";const iB=at.forwardRef(({id:r,bsPrefix:e,bsSwitchPrefix:t,inline:n=!1,reverse:i=!1,disabled:s=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:l,feedbackType:m,className:y,style:b,title:E="",type:I="checkbox",label:S,children:P,as:N="input",...k},R)=>{e=Yr(e,"form-check"),t=Yr(t,"form-switch");const{controlId:L}=at.useContext(Ku),U=at.useMemo(()=>({controlId:r||L}),[L,r]),te=!P&&S!=null&&S!==!1||MD(P,vw),V=Ot.jsx(uy,{...k,type:I==="switch"?"checkbox":I,ref:R,isValid:c,isInvalid:u,disabled:s,as:N});return Ot.jsx(Ku.Provider,{value:U,children:Ot.jsx("div",{style:b,className:Tr(y,te&&e,n&&`${e}-inline`,i&&`${e}-reverse`,I==="switch"&&t),children:P||Ot.jsxs(Ot.Fragment,{children:[V,te&&Ot.jsx(vw,{title:E,children:S}),l&&Ot.jsx(lv,{type:m,tooltip:d,children:l})]})})})});iB.displayName="FormCheck";const bw=Object.assign(iB,{Input:uy,Label:vw}),sB=at.forwardRef(({bsPrefix:r,type:e,size:t,htmlSize:n,id:i,className:s,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:l,as:m="input",...y},b)=>{const{controlId:E}=at.useContext(Ku);return r=Yr(r,"form-control"),Ot.jsx(m,{...y,type:e,size:n,ref:b,readOnly:l,id:i||E,className:Tr(s,d?`${r}-plaintext`:r,t&&`${r}-${t}`,e==="color"&&`${r}-color`,c&&"is-valid",u&&"is-invalid")})});sB.displayName="FormControl";const UD=Object.assign(sB,{Feedback:lv}),aB=at.forwardRef(({className:r,bsPrefix:e,as:t="div",...n},i)=>(e=Yr(e,"form-floating"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));aB.displayName="FormFloating";const kA=at.forwardRef(({controlId:r,as:e="div",...t},n)=>{const i=at.useMemo(()=>({controlId:r}),[r]);return Ot.jsx(Ku.Provider,{value:i,children:Ot.jsx(e,{...t,ref:n})})});kA.displayName="FormGroup";const oB=at.forwardRef(({as:r="label",bsPrefix:e,column:t=!1,visuallyHidden:n=!1,className:i,htmlFor:s,...c},u)=>{const{controlId:d}=at.useContext(Ku);e=Yr(e,"form-label");let l="col-form-label";typeof t=="string"&&(l=`${l} ${l}-${t}`);const m=Tr(i,e,n&&"visually-hidden",t&&l);return s=s||d,t?Ot.jsx(tB,{ref:u,as:"label",className:m,htmlFor:s,...c}):Ot.jsx(r,{ref:u,className:m,htmlFor:s,...c})});oB.displayName="FormLabel";const cB=at.forwardRef(({bsPrefix:r,className:e,id:t,...n},i)=>{const{controlId:s}=at.useContext(Ku);return r=Yr(r,"form-range"),Ot.jsx("input",{...n,type:"range",ref:i,className:Tr(e,r),id:t||s})});cB.displayName="FormRange";const uB=at.forwardRef(({bsPrefix:r,size:e,htmlSize:t,className:n,isValid:i=!1,isInvalid:s=!1,id:c,...u},d)=>{const{controlId:l}=at.useContext(Ku);return r=Yr(r,"form-select"),Ot.jsx("select",{...u,size:t,ref:d,className:Tr(n,r,e&&`${r}-${e}`,i&&"is-valid",s&&"is-invalid"),id:c||l})});uB.displayName="FormSelect";const lB=at.forwardRef(({bsPrefix:r,className:e,as:t="small",muted:n,...i},s)=>(r=Yr(r,"form-text"),Ot.jsx(t,{...i,ref:s,className:Tr(e,r,n&&"text-muted")})));lB.displayName="FormText";const fB=at.forwardRef((r,e)=>Ot.jsx(bw,{...r,ref:e,type:"switch"}));fB.displayName="Switch";const zD=Object.assign(fB,{Input:bw.Input,Label:bw.Label}),dB=at.forwardRef(({bsPrefix:r,className:e,children:t,controlId:n,label:i,...s},c)=>(r=Yr(r,"form-floating"),Ot.jsxs(kA,{ref:c,className:Tr(e,r),controlId:n,...s,children:[t,Ot.jsx("label",{htmlFor:n,children:i})]})));dB.displayName="FloatingLabel";const HD={_ref:_n.any,validated:_n.bool,as:_n.elementType},RA=at.forwardRef(({className:r,validated:e,as:t="form",...n},i)=>Ot.jsx(t,{...n,ref:i,className:Tr(r,e&&"was-validated")}));RA.displayName="Form";RA.propTypes=HD;const rd=Object.assign(RA,{Group:kA,Control:UD,Floating:aB,Check:bw,Switch:zD,Label:oB,Text:lB,Range:cB,Select:uB,FloatingLabel:dB}),fv=at.forwardRef(({className:r,bsPrefix:e,as:t="span",...n},i)=>(e=Yr(e,"input-group-text"),Ot.jsx(t,{ref:i,className:Tr(r,e),...n})));fv.displayName="InputGroupText";const qD=r=>Ot.jsx(fv,{children:Ot.jsx(uy,{type:"checkbox",...r})}),VD=r=>Ot.jsx(fv,{children:Ot.jsx(uy,{type:"radio",...r})}),hB=at.forwardRef(({bsPrefix:r,size:e,hasValidation:t,className:n,as:i="div",...s},c)=>{r=Yr(r,"input-group");const u=at.useMemo(()=>({}),[]);return Ot.jsx(nB.Provider,{value:u,children:Ot.jsx(i,{ref:c,...s,className:Tr(n,r,e&&`${r}-${e}`,t&&"has-validation")})})});hB.displayName="InputGroup";const q4=Object.assign(hB,{Text:fv,Radio:VD,Checkbox:qD}),ox=at.forwardRef(({bsPrefix:r,variant:e,animation:t="border",size:n,as:i="div",className:s,...c},u)=>{r=Yr(r,"spinner");const d=`${r}-${t}`;return Ot.jsx(i,{ref:u,...c,className:Tr(s,d,n&&`${d}-${n}`,e&&`text-${e}`)})});ox.displayName="Spinner";var WD=["color","size","title","className"];function cx(){return cx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},cx.apply(null,arguments)}function ZD(r,e){if(r==null)return{};var t,n,i=KD(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.includes(t)||{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function KD(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}var pB=at.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,i=r.size,s=i===void 0?"1em":i,c=r.title,u=c===void 0?null:c,d=r.className,l=d===void 0?"":d,m=ZD(r,WD);return hi.createElement("svg",cx({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:n,className:["bi","bi-arrow-repeat",l].filter(Boolean).join(" ")},m),u?hi.createElement("title",null,u):null,hi.createElement("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"}),hi.createElement("path",{fillRule:"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"}))});pB.propTypes={color:_n.string,size:_n.oneOfType([_n.string,_n.number]),title:_n.string,className:_n.string};var GD=["color","size","title","className"];function ux(){return ux=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ux.apply(null,arguments)}function YD(r,e){if(r==null)return{};var t,n,i=XD(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.includes(t)||{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function XD(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}var Xg=at.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,i=r.size,s=i===void 0?"1em":i,c=r.title,u=c===void 0?null:c,d=r.className,l=d===void 0?"":d,m=YD(r,GD);return hi.createElement("svg",ux({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:n,className:["bi","bi-chevron-down",l].filter(Boolean).join(" ")},m),u?hi.createElement("title",null,u):null,hi.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"}))});Xg.propTypes={color:_n.string,size:_n.oneOfType([_n.string,_n.number]),title:_n.string,className:_n.string};var JD=["color","size","title","className"];function lx(){return lx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},lx.apply(null,arguments)}function QD(r,e){if(r==null)return{};var t,n,i=eM(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.includes(t)||{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function eM(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}var Jg=at.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,i=r.size,s=i===void 0?"1em":i,c=r.title,u=c===void 0?null:c,d=r.className,l=d===void 0?"":d,m=QD(r,JD);return hi.createElement("svg",lx({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:n,className:["bi","bi-chevron-up",l].filter(Boolean).join(" ")},m),u?hi.createElement("title",null,u):null,hi.createElement("path",{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708z"}))});Jg.propTypes={color:_n.string,size:_n.oneOfType([_n.string,_n.number]),title:_n.string,className:_n.string};var PA={},dv={};dv.byteLength=nM;dv.toByteArray=sM;dv.fromByteArray=cM;var Pc=[],Ka=[],tM=typeof Uint8Array<"u"?Uint8Array:Array,Xb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var pp=0,rM=Xb.length;pp<rM;++pp)Pc[pp]=Xb[pp],Ka[Xb.charCodeAt(pp)]=pp;Ka[45]=62;Ka[95]=63;function mB(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function nM(r){var e=mB(r),t=e[0],n=e[1];return(t+n)*3/4-n}function iM(r,e,t){return(e+t)*3/4-t}function sM(r){var e,t=mB(r),n=t[0],i=t[1],s=new tM(iM(r,n,i)),c=0,u=i>0?n-4:n,d;for(d=0;d<u;d+=4)e=Ka[r.charCodeAt(d)]<<18|Ka[r.charCodeAt(d+1)]<<12|Ka[r.charCodeAt(d+2)]<<6|Ka[r.charCodeAt(d+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=e&255;return i===2&&(e=Ka[r.charCodeAt(d)]<<2|Ka[r.charCodeAt(d+1)]>>4,s[c++]=e&255),i===1&&(e=Ka[r.charCodeAt(d)]<<10|Ka[r.charCodeAt(d+1)]<<4|Ka[r.charCodeAt(d+2)]>>2,s[c++]=e>>8&255,s[c++]=e&255),s}function aM(r){return Pc[r>>18&63]+Pc[r>>12&63]+Pc[r>>6&63]+Pc[r&63]}function oM(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(aM(n));return i.join("")}function cM(r){for(var e,t=r.length,n=t%3,i=[],s=16383,c=0,u=t-n;c<u;c+=s)i.push(oM(r,c,c+s>u?u:c+s));return n===1?(e=r[t-1],i.push(Pc[e>>2]+Pc[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(Pc[e>>10]+Pc[e>>4&63]+Pc[e<<2&63]+"=")),i.join("")}var BA={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */BA.read=function(r,e,t,n,i){var s,c,u=i*8-n-1,d=(1<<u)-1,l=d>>1,m=-7,y=t?i-1:0,b=t?-1:1,E=r[e+y];for(y+=b,s=E&(1<<-m)-1,E>>=-m,m+=u;m>0;s=s*256+r[e+y],y+=b,m-=8);for(c=s&(1<<-m)-1,s>>=-m,m+=n;m>0;c=c*256+r[e+y],y+=b,m-=8);if(s===0)s=1-l;else{if(s===d)return c?NaN:(E?-1:1)*(1/0);c=c+Math.pow(2,n),s=s-l}return(E?-1:1)*c*Math.pow(2,s-n)};BA.write=function(r,e,t,n,i,s){var c,u,d,l=s*8-i-1,m=(1<<l)-1,y=m>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=n?0:s-1,I=n?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=m):(c=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-c))<1&&(c--,d*=2),c+y>=1?e+=b/d:e+=b*Math.pow(2,1-y),e*d>=2&&(c++,d/=2),c+y>=m?(u=0,c=m):c+y>=1?(u=(e*d-1)*Math.pow(2,i),c=c+y):(u=e*Math.pow(2,y-1)*Math.pow(2,i),c=0));i>=8;r[t+E]=u&255,E+=I,u/=256,i-=8);for(c=c<<i|u,l+=i;l>0;r[t+E]=c&255,E+=I,c/=256,l-=8);r[t+E-I]|=S*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=dv,t=BA,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=m,r.SlowBuffer=U,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:c,SharedArrayBuffer:u}=globalThis;m.TYPED_ARRAY_SUPPORT=d(),!m.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const w=new s(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,s.prototype),Object.setPrototypeOf(w,v),w.foo()===42}catch{return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}});function l(w){if(w>i)throw new RangeError('The value "'+w+'" is invalid for option "size"');const v=new s(w);return Object.setPrototypeOf(v,m.prototype),v}function m(w,v,A){if(typeof w=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(w)}return y(w,v,A)}m.poolSize=8192;function y(w,v,A){if(typeof w=="string")return S(w,v);if(c.isView(w))return N(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(Ae(w,c)||w&&Ae(w.buffer,c)||typeof u<"u"&&(Ae(w,u)||w&&Ae(w.buffer,u)))return k(w,v,A);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=w.valueOf&&w.valueOf();if(Z!=null&&Z!==w)return m.from(Z,v,A);const ae=R(w);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return m.from(w[Symbol.toPrimitive]("string"),v,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}m.from=function(w,v,A){return y(w,v,A)},Object.setPrototypeOf(m.prototype,s.prototype),Object.setPrototypeOf(m,s);function b(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function E(w,v,A){return b(w),w<=0?l(w):v!==void 0?typeof A=="string"?l(w).fill(v,A):l(w).fill(v):l(w)}m.alloc=function(w,v,A){return E(w,v,A)};function I(w){return b(w),l(w<0?0:L(w)|0)}m.allocUnsafe=function(w){return I(w)},m.allocUnsafeSlow=function(w){return I(w)};function S(w,v){if((typeof v!="string"||v==="")&&(v="utf8"),!m.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const A=te(w,v)|0;let Z=l(A);const ae=Z.write(w,v);return ae!==A&&(Z=Z.slice(0,ae)),Z}function P(w){const v=w.length<0?0:L(w.length)|0,A=l(v);for(let Z=0;Z<v;Z+=1)A[Z]=w[Z]&255;return A}function N(w){if(Ae(w,s)){const v=new s(w);return k(v.buffer,v.byteOffset,v.byteLength)}return P(w)}function k(w,v,A){if(v<0||w.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<v+(A||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return v===void 0&&A===void 0?Z=new s(w):A===void 0?Z=new s(w,v):Z=new s(w,v,A),Object.setPrototypeOf(Z,m.prototype),Z}function R(w){if(m.isBuffer(w)){const v=L(w.length)|0,A=l(v);return A.length===0||w.copy(A,0,0,v),A}if(w.length!==void 0)return typeof w.length!="number"||Ze(w.length)?l(0):P(w);if(w.type==="Buffer"&&Array.isArray(w.data))return P(w.data)}function L(w){if(w>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return w|0}function U(w){return+w!=w&&(w=0),m.alloc(+w)}m.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==m.prototype},m.compare=function(v,A){if(Ae(v,s)&&(v=m.from(v,v.offset,v.byteLength)),Ae(A,s)&&(A=m.from(A,A.offset,A.byteLength)),!m.isBuffer(v)||!m.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===A)return 0;let Z=v.length,ae=A.length;for(let Ne=0,ze=Math.min(Z,ae);Ne<ze;++Ne)if(v[Ne]!==A[Ne]){Z=v[Ne],ae=A[Ne];break}return Z<ae?-1:ae<Z?1:0},m.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(v,A){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return m.alloc(0);let Z;if(A===void 0)for(A=0,Z=0;Z<v.length;++Z)A+=v[Z].length;const ae=m.allocUnsafe(A);let Ne=0;for(Z=0;Z<v.length;++Z){let ze=v[Z];if(Ae(ze,s))Ne+ze.length>ae.length?(m.isBuffer(ze)||(ze=m.from(ze)),ze.copy(ae,Ne)):s.prototype.set.call(ae,ze,Ne);else if(m.isBuffer(ze))ze.copy(ae,Ne);else throw new TypeError('"list" argument must be an Array of Buffers');Ne+=ze.length}return ae};function te(w,v){if(m.isBuffer(w))return w.length;if(c.isView(w)||Ae(w,c))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);const A=w.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&A===0)return 0;let ae=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return Ke(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return et(w).length;default:if(ae)return Z?-1:Ke(w).length;v=(""+v).toLowerCase(),ae=!0}}m.byteLength=te;function V(w,v,A){let Z=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,v>>>=0,A<=v))return"";for(w||(w="utf8");;)switch(w){case"hex":return re(this,v,A);case"utf8":case"utf-8":return pe(this,v,A);case"ascii":return ve(this,v,A);case"latin1":case"binary":return ee(this,v,A);case"base64":return me(this,v,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,v,A);default:if(Z)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),Z=!0}}m.prototype._isBuffer=!0;function oe(w,v,A){const Z=w[v];w[v]=w[A],w[A]=Z}m.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let A=0;A<v;A+=2)oe(this,A,A+1);return this},m.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let A=0;A<v;A+=4)oe(this,A,A+3),oe(this,A+1,A+2);return this},m.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let A=0;A<v;A+=8)oe(this,A,A+7),oe(this,A+1,A+6),oe(this,A+2,A+5),oe(this,A+3,A+4);return this},m.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?pe(this,0,v):V.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(v){if(!m.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:m.compare(this,v)===0},m.prototype.inspect=function(){let v="";const A=r.INSPECT_MAX_BYTES;return v=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(v+=" ... "),"<Buffer "+v+">"},n&&(m.prototype[n]=m.prototype.inspect),m.prototype.compare=function(v,A,Z,ae,Ne){if(Ae(v,s)&&(v=m.from(v,v.offset,v.byteLength)),!m.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(A===void 0&&(A=0),Z===void 0&&(Z=v?v.length:0),ae===void 0&&(ae=0),Ne===void 0&&(Ne=this.length),A<0||Z>v.length||ae<0||Ne>this.length)throw new RangeError("out of range index");if(ae>=Ne&&A>=Z)return 0;if(ae>=Ne)return-1;if(A>=Z)return 1;if(A>>>=0,Z>>>=0,ae>>>=0,Ne>>>=0,this===v)return 0;let ze=Ne-ae,_t=Z-A;const xt=Math.min(ze,_t),At=this.slice(ae,Ne),Ir=v.slice(A,Z);for(let cr=0;cr<xt;++cr)if(At[cr]!==Ir[cr]){ze=At[cr],_t=Ir[cr];break}return ze<_t?-1:_t<ze?1:0};function de(w,v,A,Z,ae){if(w.length===0)return-1;if(typeof A=="string"?(Z=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,Ze(A)&&(A=ae?0:w.length-1),A<0&&(A=w.length+A),A>=w.length){if(ae)return-1;A=w.length-1}else if(A<0)if(ae)A=0;else return-1;if(typeof v=="string"&&(v=m.from(v,Z)),m.isBuffer(v))return v.length===0?-1:Ee(w,v,A,Z,ae);if(typeof v=="number")return v=v&255,typeof s.prototype.indexOf=="function"?ae?s.prototype.indexOf.call(w,v,A):s.prototype.lastIndexOf.call(w,v,A):Ee(w,[v],A,Z,ae);throw new TypeError("val must be string, number or Buffer")}function Ee(w,v,A,Z,ae){let Ne=1,ze=w.length,_t=v.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(w.length<2||v.length<2)return-1;Ne=2,ze/=2,_t/=2,A/=2}function xt(Ir,cr){return Ne===1?Ir[cr]:Ir.readUInt16BE(cr*Ne)}let At;if(ae){let Ir=-1;for(At=A;At<ze;At++)if(xt(w,At)===xt(v,Ir===-1?0:At-Ir)){if(Ir===-1&&(Ir=At),At-Ir+1===_t)return Ir*Ne}else Ir!==-1&&(At-=At-Ir),Ir=-1}else for(A+_t>ze&&(A=ze-_t),At=A;At>=0;At--){let Ir=!0;for(let cr=0;cr<_t;cr++)if(xt(w,At+cr)!==xt(v,cr)){Ir=!1;break}if(Ir)return At}return-1}m.prototype.includes=function(v,A,Z){return this.indexOf(v,A,Z)!==-1},m.prototype.indexOf=function(v,A,Z){return de(this,v,A,Z,!0)},m.prototype.lastIndexOf=function(v,A,Z){return de(this,v,A,Z,!1)};function Fe(w,v,A,Z){A=Number(A)||0;const ae=w.length-A;Z?(Z=Number(Z),Z>ae&&(Z=ae)):Z=ae;const Ne=v.length;Z>Ne/2&&(Z=Ne/2);let ze;for(ze=0;ze<Z;++ze){const _t=parseInt(v.substr(ze*2,2),16);if(Ze(_t))return ze;w[A+ze]=_t}return ze}function j(w,v,A,Z){return be(Ke(v,w.length-A),w,A,Z)}function fe(w,v,A,Z){return be(Ve(v),w,A,Z)}function z(w,v,A,Z){return be(et(v),w,A,Z)}function Q(w,v,A,Z){return be(Oe(v,w.length-A),w,A,Z)}m.prototype.write=function(v,A,Z,ae){if(A===void 0)ae="utf8",Z=this.length,A=0;else if(Z===void 0&&typeof A=="string")ae=A,Z=this.length,A=0;else if(isFinite(A))A=A>>>0,isFinite(Z)?(Z=Z>>>0,ae===void 0&&(ae="utf8")):(ae=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ne=this.length-A;if((Z===void 0||Z>Ne)&&(Z=Ne),v.length>0&&(Z<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");let ze=!1;for(;;)switch(ae){case"hex":return Fe(this,v,A,Z);case"utf8":case"utf-8":return j(this,v,A,Z);case"ascii":case"latin1":case"binary":return fe(this,v,A,Z);case"base64":return z(this,v,A,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,v,A,Z);default:if(ze)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),ze=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function me(w,v,A){return v===0&&A===w.length?e.fromByteArray(w):e.fromByteArray(w.slice(v,A))}function pe(w,v,A){A=Math.min(w.length,A);const Z=[];let ae=v;for(;ae<A;){const Ne=w[ae];let ze=null,_t=Ne>239?4:Ne>223?3:Ne>191?2:1;if(ae+_t<=A){let xt,At,Ir,cr;switch(_t){case 1:Ne<128&&(ze=Ne);break;case 2:xt=w[ae+1],(xt&192)===128&&(cr=(Ne&31)<<6|xt&63,cr>127&&(ze=cr));break;case 3:xt=w[ae+1],At=w[ae+2],(xt&192)===128&&(At&192)===128&&(cr=(Ne&15)<<12|(xt&63)<<6|At&63,cr>2047&&(cr<55296||cr>57343)&&(ze=cr));break;case 4:xt=w[ae+1],At=w[ae+2],Ir=w[ae+3],(xt&192)===128&&(At&192)===128&&(Ir&192)===128&&(cr=(Ne&15)<<18|(xt&63)<<12|(At&63)<<6|Ir&63,cr>65535&&cr<1114112&&(ze=cr))}}ze===null?(ze=65533,_t=1):ze>65535&&(ze-=65536,Z.push(ze>>>10&1023|55296),ze=56320|ze&1023),Z.push(ze),ae+=_t}return ce(Z)}const xe=4096;function ce(w){const v=w.length;if(v<=xe)return String.fromCharCode.apply(String,w);let A="",Z=0;for(;Z<v;)A+=String.fromCharCode.apply(String,w.slice(Z,Z+=xe));return A}function ve(w,v,A){let Z="";A=Math.min(w.length,A);for(let ae=v;ae<A;++ae)Z+=String.fromCharCode(w[ae]&127);return Z}function ee(w,v,A){let Z="";A=Math.min(w.length,A);for(let ae=v;ae<A;++ae)Z+=String.fromCharCode(w[ae]);return Z}function re(w,v,A){const Z=w.length;(!v||v<0)&&(v=0),(!A||A<0||A>Z)&&(A=Z);let ae="";for(let Ne=v;Ne<A;++Ne)ae+=ut[w[Ne]];return ae}function se(w,v,A){const Z=w.slice(v,A);let ae="";for(let Ne=0;Ne<Z.length-1;Ne+=2)ae+=String.fromCharCode(Z[Ne]+Z[Ne+1]*256);return ae}m.prototype.slice=function(v,A){const Z=this.length;v=~~v,A=A===void 0?Z:~~A,v<0?(v+=Z,v<0&&(v=0)):v>Z&&(v=Z),A<0?(A+=Z,A<0&&(A=0)):A>Z&&(A=Z),A<v&&(A=v);const ae=this.subarray(v,A);return Object.setPrototypeOf(ae,m.prototype),ae};function Y(w,v,A){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+v>A)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(v,A,Z){v=v>>>0,A=A>>>0,Z||Y(v,A,this.length);let ae=this[v],Ne=1,ze=0;for(;++ze<A&&(Ne*=256);)ae+=this[v+ze]*Ne;return ae},m.prototype.readUintBE=m.prototype.readUIntBE=function(v,A,Z){v=v>>>0,A=A>>>0,Z||Y(v,A,this.length);let ae=this[v+--A],Ne=1;for(;A>0&&(Ne*=256);)ae+=this[v+--A]*Ne;return ae},m.prototype.readUint8=m.prototype.readUInt8=function(v,A){return v=v>>>0,A||Y(v,1,this.length),this[v]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(v,A){return v=v>>>0,A||Y(v,2,this.length),this[v]|this[v+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(v,A){return v=v>>>0,A||Y(v,2,this.length),this[v]<<8|this[v+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(v,A){return v=v>>>0,A||Y(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(v,A){return v=v>>>0,A||Y(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},m.prototype.readBigUInt64LE=X(function(v){v=v>>>0,_e(v,"offset");const A=this[v],Z=this[v+7];(A===void 0||Z===void 0)&&ge(v,this.length-8);const ae=A+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,Ne=this[++v]+this[++v]*2**8+this[++v]*2**16+Z*2**24;return BigInt(ae)+(BigInt(Ne)<<BigInt(32))}),m.prototype.readBigUInt64BE=X(function(v){v=v>>>0,_e(v,"offset");const A=this[v],Z=this[v+7];(A===void 0||Z===void 0)&&ge(v,this.length-8);const ae=A*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],Ne=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+Z;return(BigInt(ae)<<BigInt(32))+BigInt(Ne)}),m.prototype.readIntLE=function(v,A,Z){v=v>>>0,A=A>>>0,Z||Y(v,A,this.length);let ae=this[v],Ne=1,ze=0;for(;++ze<A&&(Ne*=256);)ae+=this[v+ze]*Ne;return Ne*=128,ae>=Ne&&(ae-=Math.pow(2,8*A)),ae},m.prototype.readIntBE=function(v,A,Z){v=v>>>0,A=A>>>0,Z||Y(v,A,this.length);let ae=A,Ne=1,ze=this[v+--ae];for(;ae>0&&(Ne*=256);)ze+=this[v+--ae]*Ne;return Ne*=128,ze>=Ne&&(ze-=Math.pow(2,8*A)),ze},m.prototype.readInt8=function(v,A){return v=v>>>0,A||Y(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},m.prototype.readInt16LE=function(v,A){v=v>>>0,A||Y(v,2,this.length);const Z=this[v]|this[v+1]<<8;return Z&32768?Z|4294901760:Z},m.prototype.readInt16BE=function(v,A){v=v>>>0,A||Y(v,2,this.length);const Z=this[v+1]|this[v]<<8;return Z&32768?Z|4294901760:Z},m.prototype.readInt32LE=function(v,A){return v=v>>>0,A||Y(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},m.prototype.readInt32BE=function(v,A){return v=v>>>0,A||Y(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},m.prototype.readBigInt64LE=X(function(v){v=v>>>0,_e(v,"offset");const A=this[v],Z=this[v+7];(A===void 0||Z===void 0)&&ge(v,this.length-8);const ae=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(Z<<24);return(BigInt(ae)<<BigInt(32))+BigInt(A+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),m.prototype.readBigInt64BE=X(function(v){v=v>>>0,_e(v,"offset");const A=this[v],Z=this[v+7];(A===void 0||Z===void 0)&&ge(v,this.length-8);const ae=(A<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(ae)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+Z)}),m.prototype.readFloatLE=function(v,A){return v=v>>>0,A||Y(v,4,this.length),t.read(this,v,!0,23,4)},m.prototype.readFloatBE=function(v,A){return v=v>>>0,A||Y(v,4,this.length),t.read(this,v,!1,23,4)},m.prototype.readDoubleLE=function(v,A){return v=v>>>0,A||Y(v,8,this.length),t.read(this,v,!0,52,8)},m.prototype.readDoubleBE=function(v,A){return v=v>>>0,A||Y(v,8,this.length),t.read(this,v,!1,52,8)};function J(w,v,A,Z,ae,Ne){if(!m.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>ae||v<Ne)throw new RangeError('"value" argument is out of bounds');if(A+Z>w.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(v,A,Z,ae){if(v=+v,A=A>>>0,Z=Z>>>0,!ae){const _t=Math.pow(2,8*Z)-1;J(this,v,A,Z,_t,0)}let Ne=1,ze=0;for(this[A]=v&255;++ze<Z&&(Ne*=256);)this[A+ze]=v/Ne&255;return A+Z},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(v,A,Z,ae){if(v=+v,A=A>>>0,Z=Z>>>0,!ae){const _t=Math.pow(2,8*Z)-1;J(this,v,A,Z,_t,0)}let Ne=Z-1,ze=1;for(this[A+Ne]=v&255;--Ne>=0&&(ze*=256);)this[A+Ne]=v/ze&255;return A+Z},m.prototype.writeUint8=m.prototype.writeUInt8=function(v,A,Z){return v=+v,A=A>>>0,Z||J(this,v,A,1,255,0),this[A]=v&255,A+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(v,A,Z){return v=+v,A=A>>>0,Z||J(this,v,A,2,65535,0),this[A]=v&255,this[A+1]=v>>>8,A+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(v,A,Z){return v=+v,A=A>>>0,Z||J(this,v,A,2,65535,0),this[A]=v>>>8,this[A+1]=v&255,A+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(v,A,Z){return v=+v,A=A>>>0,Z||J(this,v,A,4,4294967295,0),this[A+3]=v>>>24,this[A+2]=v>>>16,this[A+1]=v>>>8,this[A]=v&255,A+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(v,A,Z){return v=+v,A=A>>>0,Z||J(this,v,A,4,4294967295,0),this[A]=v>>>24,this[A+1]=v>>>16,this[A+2]=v>>>8,this[A+3]=v&255,A+4};function Se(w,v,A,Z,ae){He(v,Z,ae,w,A,7);let Ne=Number(v&BigInt(4294967295));w[A++]=Ne,Ne=Ne>>8,w[A++]=Ne,Ne=Ne>>8,w[A++]=Ne,Ne=Ne>>8,w[A++]=Ne;let ze=Number(v>>BigInt(32)&BigInt(4294967295));return w[A++]=ze,ze=ze>>8,w[A++]=ze,ze=ze>>8,w[A++]=ze,ze=ze>>8,w[A++]=ze,A}function Me(w,v,A,Z,ae){He(v,Z,ae,w,A,7);let Ne=Number(v&BigInt(4294967295));w[A+7]=Ne,Ne=Ne>>8,w[A+6]=Ne,Ne=Ne>>8,w[A+5]=Ne,Ne=Ne>>8,w[A+4]=Ne;let ze=Number(v>>BigInt(32)&BigInt(4294967295));return w[A+3]=ze,ze=ze>>8,w[A+2]=ze,ze=ze>>8,w[A+1]=ze,ze=ze>>8,w[A]=ze,A+8}m.prototype.writeBigUInt64LE=X(function(v,A=0){return Se(this,v,A,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=X(function(v,A=0){return Me(this,v,A,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(v,A,Z,ae){if(v=+v,A=A>>>0,!ae){const xt=Math.pow(2,8*Z-1);J(this,v,A,Z,xt-1,-xt)}let Ne=0,ze=1,_t=0;for(this[A]=v&255;++Ne<Z&&(ze*=256);)v<0&&_t===0&&this[A+Ne-1]!==0&&(_t=1),this[A+Ne]=(v/ze>>0)-_t&255;return A+Z},m.prototype.writeIntBE=function(v,A,Z,ae){if(v=+v,A=A>>>0,!ae){const xt=Math.pow(2,8*Z-1);J(this,v,A,Z,xt-1,-xt)}let Ne=Z-1,ze=1,_t=0;for(this[A+Ne]=v&255;--Ne>=0&&(ze*=256);)v<0&&_t===0&&this[A+Ne+1]!==0&&(_t=1),this[A+Ne]=(v/ze>>0)-_t&255;return A+Z},m.prototype.writeInt8=function(v,A,Z){return v=+v,A=A>>>0,Z||J(this,v,A,1,127,-128),v<0&&(v=255+v+1),this[A]=v&255,A+1},m.prototype.writeInt16LE=function(v,A,Z){return v=+v,A=A>>>0,Z||J(this,v,A,2,32767,-32768),this[A]=v&255,this[A+1]=v>>>8,A+2},m.prototype.writeInt16BE=function(v,A,Z){return v=+v,A=A>>>0,Z||J(this,v,A,2,32767,-32768),this[A]=v>>>8,this[A+1]=v&255,A+2},m.prototype.writeInt32LE=function(v,A,Z){return v=+v,A=A>>>0,Z||J(this,v,A,4,2147483647,-2147483648),this[A]=v&255,this[A+1]=v>>>8,this[A+2]=v>>>16,this[A+3]=v>>>24,A+4},m.prototype.writeInt32BE=function(v,A,Z){return v=+v,A=A>>>0,Z||J(this,v,A,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[A]=v>>>24,this[A+1]=v>>>16,this[A+2]=v>>>8,this[A+3]=v&255,A+4},m.prototype.writeBigInt64LE=X(function(v,A=0){return Se(this,v,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=X(function(v,A=0){return Me(this,v,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(w,v,A,Z,ae,Ne){if(A+Z>w.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function Re(w,v,A,Z,ae){return v=+v,A=A>>>0,ae||Ce(w,v,A,4),t.write(w,v,A,Z,23,4),A+4}m.prototype.writeFloatLE=function(v,A,Z){return Re(this,v,A,!0,Z)},m.prototype.writeFloatBE=function(v,A,Z){return Re(this,v,A,!1,Z)};function je(w,v,A,Z,ae){return v=+v,A=A>>>0,ae||Ce(w,v,A,8),t.write(w,v,A,Z,52,8),A+8}m.prototype.writeDoubleLE=function(v,A,Z){return je(this,v,A,!0,Z)},m.prototype.writeDoubleBE=function(v,A,Z){return je(this,v,A,!1,Z)},m.prototype.copy=function(v,A,Z,ae){if(!m.isBuffer(v))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!ae&&ae!==0&&(ae=this.length),A>=v.length&&(A=v.length),A||(A=0),ae>0&&ae<Z&&(ae=Z),ae===Z||v.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),v.length-A<ae-Z&&(ae=v.length-A+Z);const Ne=ae-Z;return this===v&&typeof s.prototype.copyWithin=="function"?this.copyWithin(A,Z,ae):s.prototype.set.call(v,this.subarray(Z,ae),A),Ne},m.prototype.fill=function(v,A,Z,ae){if(typeof v=="string"){if(typeof A=="string"?(ae=A,A=0,Z=this.length):typeof Z=="string"&&(ae=Z,Z=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!m.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(v.length===1){const ze=v.charCodeAt(0);(ae==="utf8"&&ze<128||ae==="latin1")&&(v=ze)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(A<0||this.length<A||this.length<Z)throw new RangeError("Out of range index");if(Z<=A)return this;A=A>>>0,Z=Z===void 0?this.length:Z>>>0,v||(v=0);let Ne;if(typeof v=="number")for(Ne=A;Ne<Z;++Ne)this[Ne]=v;else{const ze=m.isBuffer(v)?v:m.from(v,ae),_t=ze.length;if(_t===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(Ne=0;Ne<Z-A;++Ne)this[Ne+A]=ze[Ne%_t]}return this};const Ge={};function ct(w,v,A){Ge[w]=class extends A{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ae,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}}}ct("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ct("ERR_INVALID_ARG_TYPE",function(w,v){return`The "${w}" argument must be of type number. Received type ${typeof v}`},TypeError),ct("ERR_OUT_OF_RANGE",function(w,v,A){let Z=`The value of "${w}" is out of range.`,ae=A;return Number.isInteger(A)&&Math.abs(A)>2**32?ae=pt(String(A)):typeof A=="bigint"&&(ae=String(A),(A>BigInt(2)**BigInt(32)||A<-(BigInt(2)**BigInt(32)))&&(ae=pt(ae)),ae+="n"),Z+=` It must be ${v}. Received ${ae}`,Z},RangeError);function pt(w){let v="",A=w.length;const Z=w[0]==="-"?1:0;for(;A>=Z+4;A-=3)v=`_${w.slice(A-3,A)}${v}`;return`${w.slice(0,A)}${v}`}function W(w,v,A){_e(v,"offset"),(w[v]===void 0||w[v+A]===void 0)&&ge(v,w.length-(A+1))}function He(w,v,A,Z,ae,Ne){if(w>A||w<v){const ze=typeof v=="bigint"?"n":"";let _t;throw v===0||v===BigInt(0)?_t=`>= 0${ze} and < 2${ze} ** ${(Ne+1)*8}${ze}`:_t=`>= -(2${ze} ** ${(Ne+1)*8-1}${ze}) and < 2 ** ${(Ne+1)*8-1}${ze}`,new Ge.ERR_OUT_OF_RANGE("value",_t,w)}W(Z,ae,Ne)}function _e(w,v){if(typeof w!="number")throw new Ge.ERR_INVALID_ARG_TYPE(v,"number",w)}function ge(w,v,A){throw Math.floor(w)!==w?(_e(w,A),new Ge.ERR_OUT_OF_RANGE("offset","an integer",w)):v<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,w)}const ue=/[^+/0-9A-Za-z-_]/g;function he(w){if(w=w.split("=")[0],w=w.trim().replace(ue,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function Ke(w,v){v=v||1/0;let A;const Z=w.length;let ae=null;const Ne=[];for(let ze=0;ze<Z;++ze){if(A=w.charCodeAt(ze),A>55295&&A<57344){if(!ae){if(A>56319){(v-=3)>-1&&Ne.push(239,191,189);continue}else if(ze+1===Z){(v-=3)>-1&&Ne.push(239,191,189);continue}ae=A;continue}if(A<56320){(v-=3)>-1&&Ne.push(239,191,189),ae=A;continue}A=(ae-55296<<10|A-56320)+65536}else ae&&(v-=3)>-1&&Ne.push(239,191,189);if(ae=null,A<128){if((v-=1)<0)break;Ne.push(A)}else if(A<2048){if((v-=2)<0)break;Ne.push(A>>6|192,A&63|128)}else if(A<65536){if((v-=3)<0)break;Ne.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((v-=4)<0)break;Ne.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return Ne}function Ve(w){const v=[];for(let A=0;A<w.length;++A)v.push(w.charCodeAt(A)&255);return v}function Oe(w,v){let A,Z,ae;const Ne=[];for(let ze=0;ze<w.length&&!((v-=2)<0);++ze)A=w.charCodeAt(ze),Z=A>>8,ae=A%256,Ne.push(ae),Ne.push(Z);return Ne}function et(w){return e.toByteArray(he(w))}function be(w,v,A,Z){let ae;for(ae=0;ae<Z&&!(ae+A>=v.length||ae>=w.length);++ae)v[ae+A]=w[ae];return ae}function Ae(w,v){return w instanceof v||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===v.name}function Ze(w){return w!==w}const ut=function(){const w="0123456789abcdef",v=new Array(256);for(let A=0;A<16;++A){const Z=A*16;for(let ae=0;ae<16;++ae)v[Z+ae]=w[A]+w[ae]}return v}();function X(w){return typeof BigInt>"u"?B:w}function B(){throw new Error("BigInt not supported")}})(PA);const $e=PA.Buffer,bp=PA.Buffer,uM="modulepreload",lM=function(r){return"/"+r},V4={},Xe=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(t.map(d=>{if(d=lM(d),d in V4)return;V4[d]=!0;const l=d.endsWith(".css"),m=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=l?"stylesheet":uM,l||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),l)return new Promise((b,E)=>{y.addEventListener("load",b),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function fM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gB={exports:{}},Jn=gB.exports={},Ec,Sc;function fx(){throw new Error("setTimeout has not been defined")}function dx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ec=setTimeout:Ec=fx}catch{Ec=fx}try{typeof clearTimeout=="function"?Sc=clearTimeout:Sc=dx}catch{Sc=dx}})();function _B(r){if(Ec===setTimeout)return setTimeout(r,0);if((Ec===fx||!Ec)&&setTimeout)return Ec=setTimeout,setTimeout(r,0);try{return Ec(r,0)}catch{try{return Ec.call(null,r,0)}catch{return Ec.call(this,r,0)}}}function dM(r){if(Sc===clearTimeout)return clearTimeout(r);if((Sc===dx||!Sc)&&clearTimeout)return Sc=clearTimeout,clearTimeout(r);try{return Sc(r)}catch{try{return Sc.call(null,r)}catch{return Sc.call(this,r)}}}var Uu=[],Bp=!1,xd,nw=-1;function hM(){!Bp||!xd||(Bp=!1,xd.length?Uu=xd.concat(Uu):nw=-1,Uu.length&&yB())}function yB(){if(!Bp){var r=_B(hM);Bp=!0;for(var e=Uu.length;e;){for(xd=Uu,Uu=[];++nw<e;)xd&&xd[nw].run();nw=-1,e=Uu.length}xd=null,Bp=!1,dM(r)}}Jn.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Uu.push(new wB(r,e)),Uu.length===1&&!Bp&&_B(yB)};function wB(r,e){this.fun=r,this.array=e}wB.prototype.run=function(){this.fun.apply(null,this.array)};Jn.title="browser";Jn.browser=!0;Jn.env={};Jn.argv=[];Jn.version="";Jn.versions={};function Xu(){}Jn.on=Xu;Jn.addListener=Xu;Jn.once=Xu;Jn.off=Xu;Jn.removeListener=Xu;Jn.removeAllListeners=Xu;Jn.emit=Xu;Jn.prependListener=Xu;Jn.prependOnceListener=Xu;Jn.listeners=function(r){return[]};Jn.binding=function(r){throw new Error("process.binding is not supported")};Jn.cwd=function(){return"/"};Jn.chdir=function(r){throw new Error("process.chdir is not supported")};Jn.umask=function(){return 0};var pM=gB.exports;const Hr=fM(pM);var mM={};/*! For license information please see index.js.LICENSE.txt */var vB={742:(r,e)=>{e.byteLength=l,e.toByteArray=y,e.fromByteArray=I;for(var t=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=s.length;c<u;++c)t[c]=s[c],n[s.charCodeAt(c)]=c;n[45]=62,n[95]=63;function d(S){var P=S.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=S.indexOf("=");N===-1&&(N=P);var k=N===P?0:4-N%4;return[N,k]}function l(S){var P=d(S),N=P[0],k=P[1];return(N+k)*3/4-k}function m(S,P,N){return(P+N)*3/4-N}function y(S){var P,N=d(S),k=N[0],R=N[1],L=new i(m(S,k,R)),U=0,te=R>0?k-4:k,V;for(V=0;V<te;V+=4)P=n[S.charCodeAt(V)]<<18|n[S.charCodeAt(V+1)]<<12|n[S.charCodeAt(V+2)]<<6|n[S.charCodeAt(V+3)],L[U++]=P>>16&255,L[U++]=P>>8&255,L[U++]=P&255;return R===2&&(P=n[S.charCodeAt(V)]<<2|n[S.charCodeAt(V+1)]>>4,L[U++]=P&255),R===1&&(P=n[S.charCodeAt(V)]<<10|n[S.charCodeAt(V+1)]<<4|n[S.charCodeAt(V+2)]>>2,L[U++]=P>>8&255,L[U++]=P&255),L}function b(S){return t[S>>18&63]+t[S>>12&63]+t[S>>6&63]+t[S&63]}function E(S,P,N){for(var k,R=[],L=P;L<N;L+=3)k=(S[L]<<16&16711680)+(S[L+1]<<8&65280)+(S[L+2]&255),R.push(b(k));return R.join("")}function I(S){for(var P,N=S.length,k=N%3,R=[],L=16383,U=0,te=N-k;U<te;U+=L)R.push(E(S,U,U+L>te?te:U+L));return k===1?(P=S[N-1],R.push(t[P>>2]+t[P<<4&63]+"==")):k===2&&(P=(S[N-2]<<8)+S[N-1],R.push(t[P>>10]+t[P>>4&63]+t[P<<2&63]+"=")),R.join("")}},764:(r,e,t)=>{const n=t(742),i=t(645),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.lW=l,e.h2=50;const c=2147483647;l.TYPED_ARRAY_SUPPORT=u(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const X=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(X,B),X.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function d(X){if(X>c)throw new RangeError('The value "'+X+'" is invalid for option "size"');const B=new Uint8Array(X);return Object.setPrototypeOf(B,l.prototype),B}function l(X,B,w){if(typeof X=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(X)}return m(X,B,w)}l.poolSize=8192;function m(X,B,w){if(typeof X=="string")return I(X,B);if(ArrayBuffer.isView(X))return P(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(et(X,ArrayBuffer)||X&&et(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(et(X,SharedArrayBuffer)||X&&et(X.buffer,SharedArrayBuffer)))return N(X,B,w);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const v=X.valueOf&&X.valueOf();if(v!=null&&v!==X)return l.from(v,B,w);const A=k(X);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return l.from(X[Symbol.toPrimitive]("string"),B,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}l.from=function(X,B,w){return m(X,B,w)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function y(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function b(X,B,w){return y(X),X<=0?d(X):B!==void 0?typeof w=="string"?d(X).fill(B,w):d(X).fill(B):d(X)}l.alloc=function(X,B,w){return b(X,B,w)};function E(X){return y(X),d(X<0?0:R(X)|0)}l.allocUnsafe=function(X){return E(X)},l.allocUnsafeSlow=function(X){return E(X)};function I(X,B){if((typeof B!="string"||B==="")&&(B="utf8"),!l.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const w=L(X,B)|0;let v=d(w);const A=v.write(X,B);return A!==w&&(v=v.slice(0,A)),v}function S(X){const B=X.length<0?0:R(X.length)|0,w=d(B);for(let v=0;v<B;v+=1)w[v]=X[v]&255;return w}function P(X){if(et(X,Uint8Array)){const B=new Uint8Array(X);return N(B.buffer,B.byteOffset,B.byteLength)}return S(X)}function N(X,B,w){if(B<0||X.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<B+(w||0))throw new RangeError('"length" is outside of buffer bounds');let v;return B===void 0&&w===void 0?v=new Uint8Array(X):w===void 0?v=new Uint8Array(X,B):v=new Uint8Array(X,B,w),Object.setPrototypeOf(v,l.prototype),v}function k(X){if(l.isBuffer(X)){const B=R(X.length)|0,w=d(B);return w.length===0||X.copy(w,0,0,B),w}if(X.length!==void 0)return typeof X.length!="number"||be(X.length)?d(0):S(X);if(X.type==="Buffer"&&Array.isArray(X.data))return S(X.data)}function R(X){if(X>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return X|0}l.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==l.prototype},l.compare=function(B,w){if(et(B,Uint8Array)&&(B=l.from(B,B.offset,B.byteLength)),et(w,Uint8Array)&&(w=l.from(w,w.offset,w.byteLength)),!l.isBuffer(B)||!l.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===w)return 0;let v=B.length,A=w.length;for(let Z=0,ae=Math.min(v,A);Z<ae;++Z)if(B[Z]!==w[Z]){v=B[Z],A=w[Z];break}return v<A?-1:A<v?1:0},l.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(B,w){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return l.alloc(0);let v;if(w===void 0)for(w=0,v=0;v<B.length;++v)w+=B[v].length;const A=l.allocUnsafe(w);let Z=0;for(v=0;v<B.length;++v){let ae=B[v];if(et(ae,Uint8Array))Z+ae.length>A.length?(l.isBuffer(ae)||(ae=l.from(ae)),ae.copy(A,Z)):Uint8Array.prototype.set.call(A,ae,Z);else if(l.isBuffer(ae))ae.copy(A,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=ae.length}return A};function L(X,B){if(l.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||et(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);const w=X.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&w===0)return 0;let A=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return ue(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return Ve(X).length;default:if(A)return v?-1:ue(X).length;B=(""+B).toLowerCase(),A=!0}}l.byteLength=L;function U(X,B,w){let v=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,B>>>=0,w<=B))return"";for(X||(X="utf8");;)switch(X){case"hex":return ve(this,B,w);case"utf8":case"utf-8":return Q(this,B,w);case"ascii":return xe(this,B,w);case"latin1":case"binary":return ce(this,B,w);case"base64":return z(this,B,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,B,w);default:if(v)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),v=!0}}l.prototype._isBuffer=!0;function te(X,B,w){const v=X[B];X[B]=X[w],X[w]=v}l.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<B;w+=2)te(this,w,w+1);return this},l.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<B;w+=4)te(this,w,w+3),te(this,w+1,w+2);return this},l.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<B;w+=8)te(this,w,w+7),te(this,w+1,w+6),te(this,w+2,w+5),te(this,w+3,w+4);return this},l.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?Q(this,0,B):U.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(B){if(!l.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:l.compare(this,B)===0},l.prototype.inspect=function(){let B="";const w=e.h2;return B=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(B+=" ... "),"<Buffer "+B+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(B,w,v,A,Z){if(et(B,Uint8Array)&&(B=l.from(B,B.offset,B.byteLength)),!l.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(w===void 0&&(w=0),v===void 0&&(v=B?B.length:0),A===void 0&&(A=0),Z===void 0&&(Z=this.length),w<0||v>B.length||A<0||Z>this.length)throw new RangeError("out of range index");if(A>=Z&&w>=v)return 0;if(A>=Z)return-1;if(w>=v)return 1;if(w>>>=0,v>>>=0,A>>>=0,Z>>>=0,this===B)return 0;let ae=Z-A,Ne=v-w;const ze=Math.min(ae,Ne),_t=this.slice(A,Z),xt=B.slice(w,v);for(let At=0;At<ze;++At)if(_t[At]!==xt[At]){ae=_t[At],Ne=xt[At];break}return ae<Ne?-1:Ne<ae?1:0};function V(X,B,w,v,A){if(X.length===0)return-1;if(typeof w=="string"?(v=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,be(w)&&(w=A?0:X.length-1),w<0&&(w=X.length+w),w>=X.length){if(A)return-1;w=X.length-1}else if(w<0)if(A)w=0;else return-1;if(typeof B=="string"&&(B=l.from(B,v)),l.isBuffer(B))return B.length===0?-1:oe(X,B,w,v,A);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(X,B,w):Uint8Array.prototype.lastIndexOf.call(X,B,w):oe(X,[B],w,v,A);throw new TypeError("val must be string, number or Buffer")}function oe(X,B,w,v,A){let Z=1,ae=X.length,Ne=B.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(X.length<2||B.length<2)return-1;Z=2,ae/=2,Ne/=2,w/=2}function ze(xt,At){return Z===1?xt[At]:xt.readUInt16BE(At*Z)}let _t;if(A){let xt=-1;for(_t=w;_t<ae;_t++)if(ze(X,_t)===ze(B,xt===-1?0:_t-xt)){if(xt===-1&&(xt=_t),_t-xt+1===Ne)return xt*Z}else xt!==-1&&(_t-=_t-xt),xt=-1}else for(w+Ne>ae&&(w=ae-Ne),_t=w;_t>=0;_t--){let xt=!0;for(let At=0;At<Ne;At++)if(ze(X,_t+At)!==ze(B,At)){xt=!1;break}if(xt)return _t}return-1}l.prototype.includes=function(B,w,v){return this.indexOf(B,w,v)!==-1},l.prototype.indexOf=function(B,w,v){return V(this,B,w,v,!0)},l.prototype.lastIndexOf=function(B,w,v){return V(this,B,w,v,!1)};function de(X,B,w,v){w=Number(w)||0;const A=X.length-w;v?(v=Number(v),v>A&&(v=A)):v=A;const Z=B.length;v>Z/2&&(v=Z/2);let ae;for(ae=0;ae<v;++ae){const Ne=parseInt(B.substr(ae*2,2),16);if(be(Ne))return ae;X[w+ae]=Ne}return ae}function Ee(X,B,w,v){return Oe(ue(B,X.length-w),X,w,v)}function Fe(X,B,w,v){return Oe(he(B),X,w,v)}function j(X,B,w,v){return Oe(Ve(B),X,w,v)}function fe(X,B,w,v){return Oe(Ke(B,X.length-w),X,w,v)}l.prototype.write=function(B,w,v,A){if(w===void 0)A="utf8",v=this.length,w=0;else if(v===void 0&&typeof w=="string")A=w,v=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(v)?(v=v>>>0,A===void 0&&(A="utf8")):(A=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Z=this.length-w;if((v===void 0||v>Z)&&(v=Z),B.length>0&&(v<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let ae=!1;for(;;)switch(A){case"hex":return de(this,B,w,v);case"utf8":case"utf-8":return Ee(this,B,w,v);case"ascii":case"latin1":case"binary":return Fe(this,B,w,v);case"base64":return j(this,B,w,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,B,w,v);default:if(ae)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),ae=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(X,B,w){return B===0&&w===X.length?n.fromByteArray(X):n.fromByteArray(X.slice(B,w))}function Q(X,B,w){w=Math.min(X.length,w);const v=[];let A=B;for(;A<w;){const Z=X[A];let ae=null,Ne=Z>239?4:Z>223?3:Z>191?2:1;if(A+Ne<=w){let ze,_t,xt,At;switch(Ne){case 1:Z<128&&(ae=Z);break;case 2:ze=X[A+1],(ze&192)===128&&(At=(Z&31)<<6|ze&63,At>127&&(ae=At));break;case 3:ze=X[A+1],_t=X[A+2],(ze&192)===128&&(_t&192)===128&&(At=(Z&15)<<12|(ze&63)<<6|_t&63,At>2047&&(At<55296||At>57343)&&(ae=At));break;case 4:ze=X[A+1],_t=X[A+2],xt=X[A+3],(ze&192)===128&&(_t&192)===128&&(xt&192)===128&&(At=(Z&15)<<18|(ze&63)<<12|(_t&63)<<6|xt&63,At>65535&&At<1114112&&(ae=At))}}ae===null?(ae=65533,Ne=1):ae>65535&&(ae-=65536,v.push(ae>>>10&1023|55296),ae=56320|ae&1023),v.push(ae),A+=Ne}return pe(v)}const me=4096;function pe(X){const B=X.length;if(B<=me)return String.fromCharCode.apply(String,X);let w="",v=0;for(;v<B;)w+=String.fromCharCode.apply(String,X.slice(v,v+=me));return w}function xe(X,B,w){let v="";w=Math.min(X.length,w);for(let A=B;A<w;++A)v+=String.fromCharCode(X[A]&127);return v}function ce(X,B,w){let v="";w=Math.min(X.length,w);for(let A=B;A<w;++A)v+=String.fromCharCode(X[A]);return v}function ve(X,B,w){const v=X.length;(!B||B<0)&&(B=0),(!w||w<0||w>v)&&(w=v);let A="";for(let Z=B;Z<w;++Z)A+=Ae[X[Z]];return A}function ee(X,B,w){const v=X.slice(B,w);let A="";for(let Z=0;Z<v.length-1;Z+=2)A+=String.fromCharCode(v[Z]+v[Z+1]*256);return A}l.prototype.slice=function(B,w){const v=this.length;B=~~B,w=w===void 0?v:~~w,B<0?(B+=v,B<0&&(B=0)):B>v&&(B=v),w<0?(w+=v,w<0&&(w=0)):w>v&&(w=v),w<B&&(w=B);const A=this.subarray(B,w);return Object.setPrototypeOf(A,l.prototype),A};function re(X,B,w){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+B>w)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(B,w,v){B=B>>>0,w=w>>>0,v||re(B,w,this.length);let A=this[B],Z=1,ae=0;for(;++ae<w&&(Z*=256);)A+=this[B+ae]*Z;return A},l.prototype.readUintBE=l.prototype.readUIntBE=function(B,w,v){B=B>>>0,w=w>>>0,v||re(B,w,this.length);let A=this[B+--w],Z=1;for(;w>0&&(Z*=256);)A+=this[B+--w]*Z;return A},l.prototype.readUint8=l.prototype.readUInt8=function(B,w){return B=B>>>0,w||re(B,1,this.length),this[B]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(B,w){return B=B>>>0,w||re(B,2,this.length),this[B]|this[B+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(B,w){return B=B>>>0,w||re(B,2,this.length),this[B]<<8|this[B+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(B,w){return B=B>>>0,w||re(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(B,w){return B=B>>>0,w||re(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},l.prototype.readBigUInt64LE=Ze(function(B){B=B>>>0,W(B,"offset");const w=this[B],v=this[B+7];(w===void 0||v===void 0)&&He(B,this.length-8);const A=w+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,Z=this[++B]+this[++B]*2**8+this[++B]*2**16+v*2**24;return BigInt(A)+(BigInt(Z)<<BigInt(32))}),l.prototype.readBigUInt64BE=Ze(function(B){B=B>>>0,W(B,"offset");const w=this[B],v=this[B+7];(w===void 0||v===void 0)&&He(B,this.length-8);const A=w*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],Z=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+v;return(BigInt(A)<<BigInt(32))+BigInt(Z)}),l.prototype.readIntLE=function(B,w,v){B=B>>>0,w=w>>>0,v||re(B,w,this.length);let A=this[B],Z=1,ae=0;for(;++ae<w&&(Z*=256);)A+=this[B+ae]*Z;return Z*=128,A>=Z&&(A-=Math.pow(2,8*w)),A},l.prototype.readIntBE=function(B,w,v){B=B>>>0,w=w>>>0,v||re(B,w,this.length);let A=w,Z=1,ae=this[B+--A];for(;A>0&&(Z*=256);)ae+=this[B+--A]*Z;return Z*=128,ae>=Z&&(ae-=Math.pow(2,8*w)),ae},l.prototype.readInt8=function(B,w){return B=B>>>0,w||re(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},l.prototype.readInt16LE=function(B,w){B=B>>>0,w||re(B,2,this.length);const v=this[B]|this[B+1]<<8;return v&32768?v|4294901760:v},l.prototype.readInt16BE=function(B,w){B=B>>>0,w||re(B,2,this.length);const v=this[B+1]|this[B]<<8;return v&32768?v|4294901760:v},l.prototype.readInt32LE=function(B,w){return B=B>>>0,w||re(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},l.prototype.readInt32BE=function(B,w){return B=B>>>0,w||re(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},l.prototype.readBigInt64LE=Ze(function(B){B=B>>>0,W(B,"offset");const w=this[B],v=this[B+7];(w===void 0||v===void 0)&&He(B,this.length-8);const A=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(v<<24);return(BigInt(A)<<BigInt(32))+BigInt(w+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),l.prototype.readBigInt64BE=Ze(function(B){B=B>>>0,W(B,"offset");const w=this[B],v=this[B+7];(w===void 0||v===void 0)&&He(B,this.length-8);const A=(w<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(A)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+v)}),l.prototype.readFloatLE=function(B,w){return B=B>>>0,w||re(B,4,this.length),i.read(this,B,!0,23,4)},l.prototype.readFloatBE=function(B,w){return B=B>>>0,w||re(B,4,this.length),i.read(this,B,!1,23,4)},l.prototype.readDoubleLE=function(B,w){return B=B>>>0,w||re(B,8,this.length),i.read(this,B,!0,52,8)},l.prototype.readDoubleBE=function(B,w){return B=B>>>0,w||re(B,8,this.length),i.read(this,B,!1,52,8)};function se(X,B,w,v,A,Z){if(!l.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>A||B<Z)throw new RangeError('"value" argument is out of bounds');if(w+v>X.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(B,w,v,A){if(B=+B,w=w>>>0,v=v>>>0,!A){const Ne=Math.pow(2,8*v)-1;se(this,B,w,v,Ne,0)}let Z=1,ae=0;for(this[w]=B&255;++ae<v&&(Z*=256);)this[w+ae]=B/Z&255;return w+v},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(B,w,v,A){if(B=+B,w=w>>>0,v=v>>>0,!A){const Ne=Math.pow(2,8*v)-1;se(this,B,w,v,Ne,0)}let Z=v-1,ae=1;for(this[w+Z]=B&255;--Z>=0&&(ae*=256);)this[w+Z]=B/ae&255;return w+v},l.prototype.writeUint8=l.prototype.writeUInt8=function(B,w,v){return B=+B,w=w>>>0,v||se(this,B,w,1,255,0),this[w]=B&255,w+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(B,w,v){return B=+B,w=w>>>0,v||se(this,B,w,2,65535,0),this[w]=B&255,this[w+1]=B>>>8,w+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(B,w,v){return B=+B,w=w>>>0,v||se(this,B,w,2,65535,0),this[w]=B>>>8,this[w+1]=B&255,w+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(B,w,v){return B=+B,w=w>>>0,v||se(this,B,w,4,4294967295,0),this[w+3]=B>>>24,this[w+2]=B>>>16,this[w+1]=B>>>8,this[w]=B&255,w+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(B,w,v){return B=+B,w=w>>>0,v||se(this,B,w,4,4294967295,0),this[w]=B>>>24,this[w+1]=B>>>16,this[w+2]=B>>>8,this[w+3]=B&255,w+4};function Y(X,B,w,v,A){pt(B,v,A,X,w,7);let Z=Number(B&BigInt(4294967295));X[w++]=Z,Z=Z>>8,X[w++]=Z,Z=Z>>8,X[w++]=Z,Z=Z>>8,X[w++]=Z;let ae=Number(B>>BigInt(32)&BigInt(4294967295));return X[w++]=ae,ae=ae>>8,X[w++]=ae,ae=ae>>8,X[w++]=ae,ae=ae>>8,X[w++]=ae,w}function J(X,B,w,v,A){pt(B,v,A,X,w,7);let Z=Number(B&BigInt(4294967295));X[w+7]=Z,Z=Z>>8,X[w+6]=Z,Z=Z>>8,X[w+5]=Z,Z=Z>>8,X[w+4]=Z;let ae=Number(B>>BigInt(32)&BigInt(4294967295));return X[w+3]=ae,ae=ae>>8,X[w+2]=ae,ae=ae>>8,X[w+1]=ae,ae=ae>>8,X[w]=ae,w+8}l.prototype.writeBigUInt64LE=Ze(function(B,w=0){return Y(this,B,w,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Ze(function(B,w=0){return J(this,B,w,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(B,w,v,A){if(B=+B,w=w>>>0,!A){const ze=Math.pow(2,8*v-1);se(this,B,w,v,ze-1,-ze)}let Z=0,ae=1,Ne=0;for(this[w]=B&255;++Z<v&&(ae*=256);)B<0&&Ne===0&&this[w+Z-1]!==0&&(Ne=1),this[w+Z]=(B/ae>>0)-Ne&255;return w+v},l.prototype.writeIntBE=function(B,w,v,A){if(B=+B,w=w>>>0,!A){const ze=Math.pow(2,8*v-1);se(this,B,w,v,ze-1,-ze)}let Z=v-1,ae=1,Ne=0;for(this[w+Z]=B&255;--Z>=0&&(ae*=256);)B<0&&Ne===0&&this[w+Z+1]!==0&&(Ne=1),this[w+Z]=(B/ae>>0)-Ne&255;return w+v},l.prototype.writeInt8=function(B,w,v){return B=+B,w=w>>>0,v||se(this,B,w,1,127,-128),B<0&&(B=255+B+1),this[w]=B&255,w+1},l.prototype.writeInt16LE=function(B,w,v){return B=+B,w=w>>>0,v||se(this,B,w,2,32767,-32768),this[w]=B&255,this[w+1]=B>>>8,w+2},l.prototype.writeInt16BE=function(B,w,v){return B=+B,w=w>>>0,v||se(this,B,w,2,32767,-32768),this[w]=B>>>8,this[w+1]=B&255,w+2},l.prototype.writeInt32LE=function(B,w,v){return B=+B,w=w>>>0,v||se(this,B,w,4,2147483647,-2147483648),this[w]=B&255,this[w+1]=B>>>8,this[w+2]=B>>>16,this[w+3]=B>>>24,w+4},l.prototype.writeInt32BE=function(B,w,v){return B=+B,w=w>>>0,v||se(this,B,w,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[w]=B>>>24,this[w+1]=B>>>16,this[w+2]=B>>>8,this[w+3]=B&255,w+4},l.prototype.writeBigInt64LE=Ze(function(B,w=0){return Y(this,B,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Ze(function(B,w=0){return J(this,B,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Se(X,B,w,v,A,Z){if(w+v>X.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function Me(X,B,w,v,A){return B=+B,w=w>>>0,A||Se(X,B,w,4),i.write(X,B,w,v,23,4),w+4}l.prototype.writeFloatLE=function(B,w,v){return Me(this,B,w,!0,v)},l.prototype.writeFloatBE=function(B,w,v){return Me(this,B,w,!1,v)};function Ce(X,B,w,v,A){return B=+B,w=w>>>0,A||Se(X,B,w,8),i.write(X,B,w,v,52,8),w+8}l.prototype.writeDoubleLE=function(B,w,v){return Ce(this,B,w,!0,v)},l.prototype.writeDoubleBE=function(B,w,v){return Ce(this,B,w,!1,v)},l.prototype.copy=function(B,w,v,A){if(!l.isBuffer(B))throw new TypeError("argument should be a Buffer");if(v||(v=0),!A&&A!==0&&(A=this.length),w>=B.length&&(w=B.length),w||(w=0),A>0&&A<v&&(A=v),A===v||B.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),B.length-w<A-v&&(A=B.length-w+v);const Z=A-v;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,v,A):Uint8Array.prototype.set.call(B,this.subarray(v,A),w),Z},l.prototype.fill=function(B,w,v,A){if(typeof B=="string"){if(typeof w=="string"?(A=w,w=0,v=this.length):typeof v=="string"&&(A=v,v=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!l.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(B.length===1){const ae=B.charCodeAt(0);(A==="utf8"&&ae<128||A==="latin1")&&(B=ae)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(w<0||this.length<w||this.length<v)throw new RangeError("Out of range index");if(v<=w)return this;w=w>>>0,v=v===void 0?this.length:v>>>0,B||(B=0);let Z;if(typeof B=="number")for(Z=w;Z<v;++Z)this[Z]=B;else{const ae=l.isBuffer(B)?B:l.from(B,A),Ne=ae.length;if(Ne===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(Z=0;Z<v-w;++Z)this[Z+w]=ae[Z%Ne]}return this};const Re={};function je(X,B,w){Re[X]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${X}]`,this.stack,delete this.name}get code(){return X}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${X}]: ${this.message}`}}}je("ERR_BUFFER_OUT_OF_BOUNDS",function(X){return X?`${X} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),je("ERR_INVALID_ARG_TYPE",function(X,B){return`The "${X}" argument must be of type number. Received type ${typeof B}`},TypeError),je("ERR_OUT_OF_RANGE",function(X,B,w){let v=`The value of "${X}" is out of range.`,A=w;return Number.isInteger(w)&&Math.abs(w)>2**32?A=Ge(String(w)):typeof w=="bigint"&&(A=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(A=Ge(A)),A+="n"),v+=` It must be ${B}. Received ${A}`,v},RangeError);function Ge(X){let B="",w=X.length;const v=X[0]==="-"?1:0;for(;w>=v+4;w-=3)B=`_${X.slice(w-3,w)}${B}`;return`${X.slice(0,w)}${B}`}function ct(X,B,w){W(B,"offset"),(X[B]===void 0||X[B+w]===void 0)&&He(B,X.length-(w+1))}function pt(X,B,w,v,A,Z){if(X>w||X<B){const ae=typeof B=="bigint"?"n":"";let Ne;throw B===0||B===BigInt(0)?Ne=`>= 0${ae} and < 2${ae} ** ${(Z+1)*8}${ae}`:Ne=`>= -(2${ae} ** ${(Z+1)*8-1}${ae}) and < 2 ** ${(Z+1)*8-1}${ae}`,new Re.ERR_OUT_OF_RANGE("value",Ne,X)}ct(v,A,Z)}function W(X,B){if(typeof X!="number")throw new Re.ERR_INVALID_ARG_TYPE(B,"number",X)}function He(X,B,w){throw Math.floor(X)!==X?(W(X,w),new Re.ERR_OUT_OF_RANGE("offset","an integer",X)):B<0?new Re.ERR_BUFFER_OUT_OF_BOUNDS:new Re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,X)}const _e=/[^+/0-9A-Za-z-_]/g;function ge(X){if(X=X.split("=")[0],X=X.trim().replace(_e,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function ue(X,B){B=B||1/0;let w;const v=X.length;let A=null;const Z=[];for(let ae=0;ae<v;++ae){if(w=X.charCodeAt(ae),w>55295&&w<57344){if(!A){if(w>56319){(B-=3)>-1&&Z.push(239,191,189);continue}else if(ae+1===v){(B-=3)>-1&&Z.push(239,191,189);continue}A=w;continue}if(w<56320){(B-=3)>-1&&Z.push(239,191,189),A=w;continue}w=(A-55296<<10|w-56320)+65536}else A&&(B-=3)>-1&&Z.push(239,191,189);if(A=null,w<128){if((B-=1)<0)break;Z.push(w)}else if(w<2048){if((B-=2)<0)break;Z.push(w>>6|192,w&63|128)}else if(w<65536){if((B-=3)<0)break;Z.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((B-=4)<0)break;Z.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return Z}function he(X){const B=[];for(let w=0;w<X.length;++w)B.push(X.charCodeAt(w)&255);return B}function Ke(X,B){let w,v,A;const Z=[];for(let ae=0;ae<X.length&&!((B-=2)<0);++ae)w=X.charCodeAt(ae),v=w>>8,A=w%256,Z.push(A),Z.push(v);return Z}function Ve(X){return n.toByteArray(ge(X))}function Oe(X,B,w,v){let A;for(A=0;A<v&&!(A+w>=B.length||A>=X.length);++A)B[A+w]=X[A];return A}function et(X,B){return X instanceof B||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===B.name}function be(X){return X!==X}const Ae=function(){const X="0123456789abcdef",B=new Array(256);for(let w=0;w<16;++w){const v=w*16;for(let A=0;A<16;++A)B[v+A]=X[w]+X[A]}return B}();function Ze(X){return typeof BigInt>"u"?ut:X}function ut(){throw new Error("BigInt not supported")}},227:(r,e,t)=>{e.formatArgs=i,e.save=s,e.load=c,e.useColors=n,e.storage=u(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;l.splice(1,0,m,"color: inherit");let y=0,b=0;l[0].replace(/%[a-zA-Z%]/g,E=>{E!=="%%"&&(y++,E==="%c"&&(b=y))}),l.splice(b,0,m)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function c(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof Hr<"u"&&"env"in Hr&&(l=mM.DEBUG),l}function u(){try{return localStorage}catch{}}r.exports=t(447)(e);const{formatters:d}=r.exports;d.j=function(l){try{return JSON.stringify(l)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}},447:(r,e,t)=>{function n(i){c.debug=c,c.default=c,c.coerce=b,c.disable=l,c.enable=d,c.enabled=m,c.humanize=t(824),c.destroy=E,Object.keys(i).forEach(I=>{c[I]=i[I]}),c.names=[],c.skips=[],c.formatters={};function s(I){let S=0;for(let P=0;P<I.length;P++)S=(S<<5)-S+I.charCodeAt(P),S|=0;return c.colors[Math.abs(S)%c.colors.length]}c.selectColor=s;function c(I){let S,P=null,N,k;function R(...L){if(!R.enabled)return;const U=R,te=Number(new Date),V=te-(S||te);U.diff=V,U.prev=S,U.curr=te,S=te,L[0]=c.coerce(L[0]),typeof L[0]!="string"&&L.unshift("%O");let oe=0;L[0]=L[0].replace(/%([a-zA-Z%])/g,(Ee,Fe)=>{if(Ee==="%%")return"%";oe++;const j=c.formatters[Fe];if(typeof j=="function"){const fe=L[oe];Ee=j.call(U,fe),L.splice(oe,1),oe--}return Ee}),c.formatArgs.call(U,L),(U.log||c.log).apply(U,L)}return R.namespace=I,R.useColors=c.useColors(),R.color=c.selectColor(I),R.extend=u,R.destroy=c.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>P!==null?P:(N!==c.namespaces&&(N=c.namespaces,k=c.enabled(I)),k),set:L=>{P=L}}),typeof c.init=="function"&&c.init(R),R}function u(I,S){const P=c(this.namespace+(typeof S>"u"?":":S)+I);return P.log=this.log,P}function d(I){c.save(I),c.namespaces=I,c.names=[],c.skips=[];let S;const P=(typeof I=="string"?I:"").split(/[\s,]+/),N=P.length;for(S=0;S<N;S++)P[S]&&(I=P[S].replace(/\*/g,".*?"),I[0]==="-"?c.skips.push(new RegExp("^"+I.slice(1)+"$")):c.names.push(new RegExp("^"+I+"$")))}function l(){const I=[...c.names.map(y),...c.skips.map(y).map(S=>"-"+S)].join(",");return c.enable(""),I}function m(I){if(I[I.length-1]==="*")return!0;let S,P;for(S=0,P=c.skips.length;S<P;S++)if(c.skips[S].test(I))return!1;for(S=0,P=c.names.length;S<P;S++)if(c.names[S].test(I))return!0;return!1}function y(I){return I.toString().substring(2,I.toString().length-2).replace(/\.\*\?$/,"*")}function b(I){return I instanceof Error?I.stack||I.message:I}function E(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return c.enable(c.load()),c}r.exports=n},645:(r,e)=>{e.read=function(t,n,i,s,c){var u,d,l=c*8-s-1,m=(1<<l)-1,y=m>>1,b=-7,E=i?c-1:0,I=i?-1:1,S=t[n+E];for(E+=I,u=S&(1<<-b)-1,S>>=-b,b+=l;b>0;u=u*256+t[n+E],E+=I,b-=8);for(d=u&(1<<-b)-1,u>>=-b,b+=s;b>0;d=d*256+t[n+E],E+=I,b-=8);if(u===0)u=1-y;else{if(u===m)return d?NaN:(S?-1:1)*(1/0);d=d+Math.pow(2,s),u=u-y}return(S?-1:1)*d*Math.pow(2,u-s)},e.write=function(t,n,i,s,c,u){var d,l,m,y=u*8-c-1,b=(1<<y)-1,E=b>>1,I=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=s?0:u-1,P=s?1:-1,N=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,d=b):(d=Math.floor(Math.log(n)/Math.LN2),n*(m=Math.pow(2,-d))<1&&(d--,m*=2),d+E>=1?n+=I/m:n+=I*Math.pow(2,1-E),n*m>=2&&(d++,m/=2),d+E>=b?(l=0,d=b):d+E>=1?(l=(n*m-1)*Math.pow(2,c),d=d+E):(l=n*Math.pow(2,E-1)*Math.pow(2,c),d=0));c>=8;t[i+S]=l&255,S+=P,l/=256,c-=8);for(d=d<<c|l,y+=c;y>0;t[i+S]=d&255,S+=P,d/=256,y-=8);t[i+S-P]|=N*128}},824:r=>{var e=1e3,t=e*60,n=t*60,i=n*24,s=i*7,c=i*365.25;r.exports=function(y,b){b=b||{};var E=typeof y;if(E==="string"&&y.length>0)return u(y);if(E==="number"&&isFinite(y))return b.long?l(y):d(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function u(y){if(y=String(y),!(y.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(b){var E=parseFloat(b[1]),I=(b[2]||"ms").toLowerCase();switch(I){case"years":case"year":case"yrs":case"yr":case"y":return E*c;case"weeks":case"week":case"w":return E*s;case"days":case"day":case"d":return E*i;case"hours":case"hour":case"hrs":case"hr":case"h":return E*n;case"minutes":case"minute":case"mins":case"min":case"m":return E*t;case"seconds":case"second":case"secs":case"sec":case"s":return E*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function d(y){var b=Math.abs(y);return b>=i?Math.round(y/i)+"d":b>=n?Math.round(y/n)+"h":b>=t?Math.round(y/t)+"m":b>=e?Math.round(y/e)+"s":y+"ms"}function l(y){var b=Math.abs(y);return b>=i?m(y,b,i,"day"):b>=n?m(y,b,n,"hour"):b>=t?m(y,b,t,"minute"):b>=e?m(y,b,e,"second"):y+" ms"}function m(y,b,E,I){var S=b>=E*1.5;return Math.round(y/E)+" "+I+(S?"s":"")}},477:r=>{r.exports=function(e,t,n,i){var s=self||window;try{try{var c;try{c=new s.Blob([e])}catch{var u=s.BlobBuilder||s.WebKitBlobBuilder||s.MozBlobBuilder||s.MSBlobBuilder;c=new u,c.append(e),c=c.getBlob()}var d=s.URL||s.webkitURL,l=d.createObjectURL(c),m=new s[t](l,n);return d.revokeObjectURL(l),m}catch{return new s[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch{if(!i)throw Error("Inline worker is not supported");return new s[t](i,n)}}}},W4={};function lr(r){var e=W4[r];if(e!==void 0)return e.exports;var t=W4[r]={exports:{}};return vB[r](t,t.exports,lr),t.exports}lr.m=vB;lr.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return lr.d(e,{a:e}),e};(()=>{var r=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,e;lr.t=function(t,n){if(n&1&&(t=this(t)),n&8||typeof t=="object"&&t&&(n&4&&t.__esModule||n&16&&typeof t.then=="function"))return t;var i=Object.create(null);lr.r(i);var s={};e=e||[null,r({}),r([]),r(r)];for(var c=n&2&&t;typeof c=="object"&&!~e.indexOf(c);c=r(c))Object.getOwnPropertyNames(c).forEach(u=>s[u]=()=>t[u]);return s.default=()=>t,lr.d(i,s),i}})();lr.d=(r,e)=>{for(var t in e)lr.o(e,t)&&!lr.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};lr.f={},lr.e=r=>Promise.all(Object.keys(lr.f).reduce((e,t)=>(lr.f[t](r,e),e),[]));lr.u=r=>""+r+".6386c00ebfb22619e11b.js";lr.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);(()=>{var r={},e="@aztec/bb.js:";lr.l=(t,n,i,s)=>{if(r[t]){r[t].push(n);return}var c,u;if(i!==void 0)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var m=d[l];if(m.getAttribute("src")==t||m.getAttribute("data-webpack")==e+i){c=m;break}}c||(u=!0,c=document.createElement("script"),c.type="module",c.charset="utf-8",c.timeout=120,lr.nc&&c.setAttribute("nonce",lr.nc),c.setAttribute("data-webpack",e+i),c.src=t),r[t]=[n];var y=(E,I)=>{c.onerror=c.onload=null,clearTimeout(b);var S=r[t];if(delete r[t],c.parentNode&&c.parentNode.removeChild(c),S&&S.forEach(P=>P(I)),E)return E(I)},b=setTimeout(y.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=y.bind(null,c.onerror),c.onload=y.bind(null,c.onload),u&&document.head.appendChild(c)}})();lr.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};(()=>{var r;if(typeof import.meta.url=="string"&&(r=import.meta.url),!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),lr.p=r})();(()=>{var r={826:0};lr.f.j=(n,i)=>{var s=lr.o(r,n)?r[n]:void 0;if(s!==0)if(s)i.push(s[2]);else{var c=new Promise((m,y)=>s=r[n]=[m,y]);i.push(s[2]=c);var u=lr.p+lr.u(n),d=new Error,l=m=>{if(lr.o(r,n)&&(s=r[n],s!==0&&(r[n]=void 0),s)){var y=m&&(m.type==="load"?"missing":m.type),b=m&&m.target&&m.target.src;d.message="Loading chunk "+n+` failed.
(`+y+": "+b+")",d.name="ChunkLoadError",d.type=y,d.request=b,s[1](d)}};lr.l(u,l,"chunk-"+n,n)}};var e=(n,i)=>{var[s,c,u]=i,d,l,m=0;if(s.some(b=>r[b]!==0)){for(d in c)lr.o(c,d)&&(lr.m[d]=c[d]);if(u)var y=u(lr)}for(n&&n(i);m<s.length;m++)l=s[m],lr.o(r,l)&&r[l]&&r[l][0](),r[l]=0},t=globalThis.webpackChunk_aztec_bb_js=globalThis.webpackChunk_aztec_bb_js||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})();var Ia={};(()=>{lr.d(Ia,{Dv:()=>dg,Zh:()=>za,AL:()=>Tl,tD:()=>ng,i2:()=>y,Fr:()=>Z,pS:()=>b,ld:()=>Me,yh:()=>fg,_7:()=>ug,H2:()=>xl,ly:()=>np});function*r(){const f=[1,1,1,2,4,8,16,32,64];let g=0;for(;;)yield f[Math.min(g++,f.length-1)]}function*e(f){for(const g of f)yield g}async function t(f,g=r()){for(;;)try{return await f()}catch(p){const C=g.next().value;if(C===void 0)throw p;await new Promise(O=>setTimeout(O,C*1e3));continue}}class n{constructor(g){this.numPoints=g}async init(){await this.downloadG1Data(),await this.downloadG2Data()}async downloadG1Data(){if(this.numPoints===0)return this.data=new Uint8Array([]);const g=this.numPoints*64-1,p=await t(()=>fetch("https://aztec-ignition.s3.amazonaws.com/MAIN%20IGNITION/flat/g1.dat",{headers:{Range:`bytes=0-${g}`},cache:"force-cache"}),e([5,5,5]));return this.data=new Uint8Array(await p.arrayBuffer())}async downloadG2Data(){const g=await t(()=>fetch("https://aztec-ignition.s3.amazonaws.com/MAIN%20IGNITION/flat/g2.dat",{cache:"force-cache"}),e([5,5,5]));return this.g2Data=new Uint8Array(await g.arrayBuffer())}getG1Data(){return this.data}getG2Data(){return this.g2Data}}class i{constructor(g){this.numPoints=g}async init(){await this.downloadG1Data()}async downloadG1Data(){if(this.numPoints===0)return this.data=new Uint8Array([]);const g=28,p=this.numPoints*64-1,C=await fetch("https://aztec-ignition.s3.amazonaws.com/TEST%20GRUMPKIN/monomial/transcript00.dat",{headers:{Range:`bytes=${g}-${p}`},cache:"force-cache"});return this.data=new Uint8Array(await C.arrayBuffer())}getG1Data(){return this.data}}function s(f){return new Promise((g,p)=>{f.oncomplete=f.onsuccess=()=>g(f.result),f.onabort=f.onerror=()=>p(f.error)})}function c(f,g){const p=indexedDB.open(f);p.onupgradeneeded=()=>p.result.createObjectStore(g);const C=s(p);return(O,$)=>C.then(K=>$(K.transaction(g,O).objectStore(g)))}let u;function d(){return u||(u=c("keyval-store","keyval")),u}function l(f,g=d()){return g("readonly",p=>s(p.get(f)))}function m(f,g,p=d()){return p("readwrite",C=>(C.put(g,f),s(C.transaction)))}class y{constructor(g){this.numPoints=g}static async new(g){const p=new y(g);return await p.init(),p}async init(){const g=await l("g1Data"),p=await l("g2Data"),C=new n(this.numPoints),O=this.numPoints*64;!g||g.length<O?(this.g1Data=await C.downloadG1Data(),await m("g1Data",this.g1Data)):this.g1Data=g,p?this.g2Data=p:(this.g2Data=await C.downloadG2Data(),await m("g2Data",this.g2Data))}getG1Data(){return this.g1Data}getG2Data(){return this.g2Data}}class b{constructor(g){this.numPoints=g}static async new(g){const p=new b(g);return await p.init(),p}async init(){const g=await l("grumpkinG1Data"),p=new i(this.numPoints),C=this.numPoints*64;!g||g.length<C?(this.g1Data=await p.downloadG1Data(),await m("grumpkinG1Data",this.g1Data)):this.g1Data=g}getG1Data(){return this.g1Data}}const E=Symbol("Comlink.proxy"),I=Symbol("Comlink.endpoint"),S=Symbol("Comlink.releaseProxy"),P=Symbol("Comlink.finalizer"),N=Symbol("Comlink.thrown"),k=f=>typeof f=="object"&&f!==null||typeof f=="function",R={canHandle:f=>k(f)&&f[E],serialize(f){const{port1:g,port2:p}=new MessageChannel;return V(f,g),[p,[p]]},deserialize(f){return f.start(),Ee(f)}},L={canHandle:f=>k(f)&&N in f,serialize({value:f}){let g;return f instanceof Error?g={isError:!0,value:{message:f.message,name:f.name,stack:f.stack}}:g={isError:!1,value:f},[g,[]]},deserialize(f){throw f.isError?Object.assign(new Error(f.value.message),f.value):f.value}},U=new Map([["proxy",R],["throw",L]]);function te(f,g){for(const p of f)if(g===p||p==="*"||p instanceof RegExp&&p.test(g))return!0;return!1}function V(f,g=globalThis,p=["*"]){g.addEventListener("message",function C(O){if(!O||!O.data)return;if(!te(p,O.origin)){console.warn(`Invalid origin '${O.origin}' for comlink proxy`);return}const{id:$,type:K,path:G}=Object.assign({path:[]},O.data),ke=(O.data.argumentList||[]).map(Y);let le;try{const Pe=G.slice(0,-1).reduce((ot,rt)=>ot[rt],f),vt=G.reduce((ot,rt)=>ot[rt],f);switch(K){case"GET":le=vt;break;case"SET":Pe[G.slice(-1)[0]]=Y(O.data.value),le=!0;break;case"APPLY":le=vt.apply(Pe,ke);break;case"CONSTRUCT":{const ot=new vt(...ke);le=re(ot)}break;case"ENDPOINT":{const{port1:ot,port2:rt}=new MessageChannel;V(f,rt),le=ee(ot,[ot])}break;case"RELEASE":le=void 0;break;default:return}}catch(Pe){le={value:Pe,[N]:0}}Promise.resolve(le).catch(Pe=>({value:Pe,[N]:0})).then(Pe=>{const[vt,ot]=se(Pe);g.postMessage(Object.assign(Object.assign({},vt),{id:$}),ot),K==="RELEASE"&&(g.removeEventListener("message",C),de(g),P in f&&typeof f[P]=="function"&&f[P]())}).catch(Pe=>{const[vt,ot]=se({value:new TypeError("Unserializable return value"),[N]:0});g.postMessage(Object.assign(Object.assign({},vt),{id:$}),ot)})}),g.start&&g.start()}function oe(f){return f.constructor.name==="MessagePort"}function de(f){oe(f)&&f.close()}function Ee(f,g){return pe(f,[],g)}function Fe(f){if(f)throw new Error("Proxy has been released and is not useable")}function j(f){return J(f,{type:"RELEASE"}).then(()=>{de(f)})}const fe=new WeakMap,z="FinalizationRegistry"in globalThis&&new FinalizationRegistry(f=>{const g=(fe.get(f)||0)-1;fe.set(f,g),g===0&&j(f)});function Q(f,g){const p=(fe.get(g)||0)+1;fe.set(g,p),z&&z.register(f,g,f)}function me(f){z&&z.unregister(f)}function pe(f,g=[],p=function(){}){let C=!1;const O=new Proxy(p,{get($,K){if(Fe(C),K===S)return()=>{me(O),j(f),C=!0};if(K==="then"){if(g.length===0)return{then:()=>O};const G=J(f,{type:"GET",path:g.map(ke=>ke.toString())}).then(Y);return G.then.bind(G)}return pe(f,[...g,K])},set($,K,G){Fe(C);const[ke,le]=se(G);return J(f,{type:"SET",path:[...g,K].map(Pe=>Pe.toString()),value:ke},le).then(Y)},apply($,K,G){Fe(C);const ke=g[g.length-1];if(ke===I)return J(f,{type:"ENDPOINT"}).then(Y);if(ke==="bind")return pe(f,g.slice(0,-1));const[le,Pe]=ce(G);return J(f,{type:"APPLY",path:g.map(vt=>vt.toString()),argumentList:le},Pe).then(Y)},construct($,K){Fe(C);const[G,ke]=ce(K);return J(f,{type:"CONSTRUCT",path:g.map(le=>le.toString()),argumentList:G},ke).then(Y)}});return Q(O,f),O}function xe(f){return Array.prototype.concat.apply([],f)}function ce(f){const g=f.map(se);return[g.map(p=>p[0]),xe(g.map(p=>p[1]))]}const ve=new WeakMap;function ee(f,g){return ve.set(f,g),f}function re(f){return Object.assign(f,{[E]:!0})}function se(f){for(const[g,p]of U)if(p.canHandle(f)){const[C,O]=p.serialize(f);return[{type:"HANDLER",name:g,value:C},O]}return[{type:"RAW",value:f},ve.get(f)||[]]}function Y(f){switch(f.type){case"HANDLER":return U.get(f.name).deserialize(f.value);case"RAW":return f.value}}function J(f,g,p){return new Promise(C=>{const O=Se();f.addEventListener("message",function $(K){!K.data||!K.data.id||K.data.id!==O||(f.removeEventListener("message",$),C(K.data))}),f.start&&f.start(),f.postMessage(Object.assign({id:O},g),p)})}function Se(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class Me extends Uint8Array{}function Ce(f){const g=new Uint8Array(1);return g[0]=f?1:0,g}function Re(f,g=4){const p=new Uint8Array(g);return new DataView(p.buffer).setUint32(p.byteLength-4,f,!1),p}function je(f,g=4){const p=new Uint8Array(g);return new DataView(p.buffer).setInt32(p.byteLength-4,f,!1),p}function Ge(f){const g=f.reduce((O,$)=>O+$.length,0),p=new Uint8Array(g);let C=0;for(const O of f)p.set(O,C),C+=O.length;return p}function ct(f){return f.reduce((g,p)=>g+p.toString(16).padStart(2,"0"),"")}function pt(f){return Ge([je(f.length),f])}function W(f,g=32){const p=new Uint8Array(g);for(let C=0;C<g;C++)p[g-C-1]=Number(f>>BigInt(C*8)&0xffn);return p}function He(f){return Ge([Re(f.length),...f.flat()])}function _e(f){return Array.isArray(f)?He(f.map(_e)):f instanceof Me?f:f instanceof Uint8Array?pt(f):typeof f=="boolean"?Ce(f):typeof f=="number"?Re(f):typeof f=="bigint"?W(f):typeof f=="string"?pt(new TextEncoder().encode(f)):f.toBuffer()}class ge{constructor(g,p=0){this.buffer=g,this.index=p}static asReader(g){return g instanceof ge?g:new ge(g)}readNumber(){const g=new DataView(this.buffer.buffer,this.buffer.byteOffset+this.index,4);return this.index+=4,g.getUint32(0,!1)}readBoolean(){return this.index+=1,!!this.buffer.at(this.index-1)}readBytes(g){return this.index+=g,this.buffer.slice(this.index-g,this.index)}readNumberVector(){return this.readVector({fromBuffer:g=>g.readNumber()})}readVector(g){const p=this.readNumber(),C=new Array(p);for(let O=0;O<p;O++)C[O]=g.fromBuffer(this);return C}readArray(g,p){const C=new Array(g);for(let O=0;O<g;O++)C[O]=p.fromBuffer(this);return C}readObject(g){return g.fromBuffer(this)}peekBytes(g){return this.buffer.subarray(this.index,g?this.index+g:void 0)}readString(){return new TextDecoder().decode(this.readBuffer())}readBuffer(){const g=this.readNumber();return this.readBytes(g)}readMap(g){const p=this.readNumber(),C={};for(let O=0;O<p;O++){const $=this.readString(),K=this.readObject(g);C[$]=K}return C}}function ue(){return{SIZE_IN_BYTES:1,fromBuffer:f=>ge.asReader(f).readBoolean()}}function he(){return{SIZE_IN_BYTES:4,fromBuffer:f=>ge.asReader(f).readNumber()}}function Ke(f){return{fromBuffer:g=>ge.asReader(g).readVector(f)}}function Ve(){return{fromBuffer:f=>ge.asReader(f).readBuffer()}}function Oe(){return{fromBuffer:f=>ge.asReader(f).readString()}}class et{constructor(g){this.value=g}static fromBuffer(g){const p=ge.asReader(g);return new this(p.readBytes(this.SIZE_IN_BYTES))}toBuffer(){return this.value}}et.SIZE_IN_BYTES=4;const be=f=>{const p=(()=>{if(typeof window<"u"&&window.crypto)return window.crypto;if(typeof globalThis<"u"&&globalThis.crypto)return globalThis.crypto})();if(!p)throw new Error("randomBytes UnsupportedEnvironment");const C=new Uint8Array(f),O=65536;if(f>O)for(let $=0;$<f;$+=O)p.getRandomValues(C.subarray($,$+O));else p.getRandomValues(C);return C};var Ae=lr(764).lW;function Ze(f){return(f.readBigUInt64BE(0)<<192n)+(f.readBigUInt64BE(8)<<128n)+(f.readBigUInt64BE(16)<<64n)+f.readBigUInt64BE(24)}function ut(f){const g=Ae.from(f);return Ze(g)}function X(f,g=32){if(g!=32)throw new Error(`Only 32 bytes supported for conversion from bigint to buffer, attempted byte length: ${g}`);const p=Ae.alloc(g);return p.writeBigUInt64BE(f>>192n,0),p.writeBigUInt64BE(f>>128n&0xffffffffffffffffn,8),p.writeBigUInt64BE(f>>64n&0xffffffffffffffffn,16),p.writeBigUInt64BE(f&0xffffffffffffffffn,24),p}function B(f,g=32){return new Uint8Array(X(f,g))}var w=lr(764).lW,v,A;class Z{constructor(g){const p=typeof g=="bigint"?g:g instanceof w?Ze(g):ut(g);if(p>v.MAX_VALUE)throw new Error(`Value 0x${p.toString(16)} is greater or equal to field modulus.`);this.value=typeof g=="bigint"?B(g):g instanceof w?new Uint8Array(g):g}static random(){const g=ut(be(64))%v.MODULUS;return new this(g)}static fromBuffer(g){const p=ge.asReader(g);return new this(p.readBytes(this.SIZE_IN_BYTES))}static fromBufferReduce(g){const p=ge.asReader(g);return new this(ut(p.readBytes(this.SIZE_IN_BYTES))%v.MODULUS)}static fromString(g){return this.fromBuffer(w.from(g.replace(/^0x/i,""),"hex"))}toBuffer(){return this.value}toString(){return"0x"+ct(this.toBuffer())}equals(g){return this.value.every((p,C)=>p===g.value[C])}isZero(){return this.value.every(g=>g===0)}}v=Z,Z.ZERO=new v(0n),Z.MODULUS=0x30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001n,Z.MAX_VALUE=v.MODULUS-1n,Z.SIZE_IN_BYTES=32;class ae{constructor(g){if(this.value=g,g>A.MAX_VALUE)throw new Error(`Fq out of range ${g}.`)}static random(){const g=ut(be(64))%A.MODULUS;return new this(g)}static fromBuffer(g){const p=ge.asReader(g);return new this(ut(p.readBytes(this.SIZE_IN_BYTES)))}static fromBufferReduce(g){const p=ge.asReader(g);return new this(ut(p.readBytes(this.SIZE_IN_BYTES))%Z.MODULUS)}static fromString(g){return this.fromBuffer(w.from(g.replace(/^0x/i,""),"hex"))}toBuffer(){return X(this.value,A.SIZE_IN_BYTES)}toString(){return"0x"+this.value.toString(16)}equals(g){return this.value===g.value}isZero(){return this.value===0n}}A=ae,ae.MODULUS=0x30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd47n,ae.MAX_VALUE=A.MODULUS-1n,ae.SIZE_IN_BYTES=32;var Ne=lr(764).lW;class ze{constructor(g,p){this.x=g,this.y=p}static random(){return new ze(Z.random(),Z.random())}static fromBuffer(g){const p=ge.asReader(g);return new this(Z.fromBuffer(p),Z.fromBuffer(p))}static fromString(g){return ze.fromBuffer(Ne.from(g.replace(/^0x/i,""),"hex"))}toBuffer(){return Ne.concat([this.x.toBuffer(),this.y.toBuffer()])}toString(){return"0x"+this.toBuffer().toString("hex")}equals(g){return this.x.equals(g.x)&&this.y.equals(g.y)}}ze.SIZE_IN_BYTES=64,ze.EMPTY=new ze(Z.ZERO,Z.ZERO);class _t{constructor(g){this.buffer=g}static fromBuffer(g){const p=ge.asReader(g);return new _t(p.readBytes(this.SIZE_IN_BYTES))}static random(){return new _t(be(this.SIZE_IN_BYTES))}toBuffer(){return this.buffer}}_t.SIZE_IN_BYTES=32;class xt{constructor(g){this.buffer=g}static fromBuffer(g){const p=ge.asReader(g);return new xt(p.readBytes(this.SIZE_IN_BYTES))}static random(){return new xt(be(this.SIZE_IN_BYTES))}toBuffer(){return this.buffer}}xt.SIZE_IN_BYTES=128;function At(f,g=!1){const p=new DataView(f.buffer,f.byteOffset,f.byteLength);let C=0,O=f.byteLength>>>2;g&&(O=p.getUint32(0,!1),C=4);const $=new Array(O);for(let K=0;K<O;K++)$[K]=p.getUint32(C,!1),C+=4;return $}class Ir{constructor(g){this.wasm=g}async pedersenCommit(g,p){const C=[g,p].map(_e),O=[ze];return(await this.wasm.callWasmExport("pedersen_commit",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async pedersenHash(g,p){const C=[g,p].map(_e),O=[Z];return(await this.wasm.callWasmExport("pedersen_hash",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async pedersenHashes(g,p){const C=[g,p].map(_e),O=[Z];return(await this.wasm.callWasmExport("pedersen_hashes",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async pedersenHashBuffer(g,p){const C=[g,p].map(_e),O=[Z];return(await this.wasm.callWasmExport("pedersen_hash_buffer",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async poseidon2Hash(g){const p=[g].map(_e),C=[Z];return(await this.wasm.callWasmExport("poseidon2_hash",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async poseidon2HashAccumulate(g){const p=[g].map(_e),C=[Z];return(await this.wasm.callWasmExport("poseidon2_hash_accumulate",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async poseidon2Hashes(g){const p=[g].map(_e),C=[Z];return(await this.wasm.callWasmExport("poseidon2_hashes",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async poseidon2Permutation(g){const p=[g].map(_e),C=[Ke(Z)];return(await this.wasm.callWasmExport("poseidon2_permutation",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async blake2s(g){const p=[g].map(_e),C=[_t];return(await this.wasm.callWasmExport("blake2s",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async blake2sToField(g){const p=[g].map(_e),C=[Z];return(await this.wasm.callWasmExport("blake2s_to_field_",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async schnorrComputePublicKey(g){const p=[g].map(_e),C=[ze];return(await this.wasm.callWasmExport("schnorr_compute_public_key",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async schnorrNegatePublicKey(g){const p=[g].map(_e),C=[ze];return(await this.wasm.callWasmExport("schnorr_negate_public_key",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async schnorrConstructSignature(g,p){const C=[g,p].map(_e),O=[_t,_t];return(await this.wasm.callWasmExport("schnorr_construct_signature",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))}async schnorrVerifySignature(g,p,C,O){const $=[g,p,C,O].map(_e),K=[ue()];return(await this.wasm.callWasmExport("schnorr_verify_signature",$,K.map(le=>le.SIZE_IN_BYTES))).map((le,Pe)=>K[Pe].fromBuffer(le))[0]}async schnorrMultisigCreateMultisigPublicKey(g){const p=[g].map(_e),C=[xt];return(await this.wasm.callWasmExport("schnorr_multisig_create_multisig_public_key",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async schnorrMultisigValidateAndCombineSignerPubkeys(g){const p=[g].map(_e),C=[ze,ue()];return(await this.wasm.callWasmExport("schnorr_multisig_validate_and_combine_signer_pubkeys",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))}async schnorrMultisigConstructSignatureRound1(){const g=[].map(_e),p=[xt,xt];return(await this.wasm.callWasmExport("schnorr_multisig_construct_signature_round_1",g,p.map($=>$.SIZE_IN_BYTES))).map(($,K)=>p[K].fromBuffer($))}async schnorrMultisigConstructSignatureRound2(g,p,C,O,$){const K=[g,p,C,O,$].map(_e),G=[ae,ue()];return(await this.wasm.callWasmExport("schnorr_multisig_construct_signature_round_2",K,G.map(Pe=>Pe.SIZE_IN_BYTES))).map((Pe,vt)=>G[vt].fromBuffer(Pe))}async schnorrMultisigCombineSignatures(g,p,C,O){const $=[g,p,C,O].map(_e),K=[_t,_t,ue()];return(await this.wasm.callWasmExport("schnorr_multisig_combine_signatures",$,K.map(le=>le.SIZE_IN_BYTES))).map((le,Pe)=>K[Pe].fromBuffer(le))}async aesEncryptBufferCbc(g,p,C,O){const $=[g,p,C,O].map(_e),K=[Ve()];return(await this.wasm.callWasmExport("aes_encrypt_buffer_cbc",$,K.map(le=>le.SIZE_IN_BYTES))).map((le,Pe)=>K[Pe].fromBuffer(le))[0]}async aesDecryptBufferCbc(g,p,C,O){const $=[g,p,C,O].map(_e),K=[Ve()];return(await this.wasm.callWasmExport("aes_decrypt_buffer_cbc",$,K.map(le=>le.SIZE_IN_BYTES))).map((le,Pe)=>K[Pe].fromBuffer(le))[0]}async srsInitSrs(g,p,C){const O=[g,p,C].map(_e),$=[];(await this.wasm.callWasmExport("srs_init_srs",O,$.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>$[ke].fromBuffer(G))}async srsInitGrumpkinSrs(g,p){const C=[g,p].map(_e),O=[];(await this.wasm.callWasmExport("srs_init_grumpkin_srs",C,O.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>O[G].fromBuffer(K))}async examplesSimpleCreateAndVerifyProof(){const g=[].map(_e),p=[ue()];return(await this.wasm.callWasmExport("examples_simple_create_and_verify_proof",g,p.map($=>$.SIZE_IN_BYTES))).map(($,K)=>p[K].fromBuffer($))[0]}async testThreads(g,p){const C=[g,p].map(_e),O=[he()];return(await this.wasm.callWasmExport("test_threads",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async commonInitSlabAllocator(g){const p=[g].map(_e),C=[];(await this.wasm.callWasmExport("common_init_slab_allocator",p,C.map($=>$.SIZE_IN_BYTES))).map(($,K)=>C[K].fromBuffer($))}async acirGetCircuitSizes(g,p,C){const O=[g,p,C].map(_e),$=[he(),he()];return(await this.wasm.callWasmExport("acir_get_circuit_sizes",O,$.map(ke=>ke.SIZE_IN_BYTES))).map((ke,le)=>$[le].fromBuffer(ke))}async acirGatesAztecClient(g){const p=[g].map(_e),C=[Ve()],O=await this.wasm.callWasmExport("acir_gates_aztec_client",p,C.map($=>$.SIZE_IN_BYTES));return At(O[0],!0)}async acirNewAcirComposer(g){const p=[g].map(_e),C=[et];return(await this.wasm.callWasmExport("acir_new_acir_composer",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async acirDeleteAcirComposer(g){const p=[g].map(_e),C=[];(await this.wasm.callWasmExport("acir_delete_acir_composer",p,C.map($=>$.SIZE_IN_BYTES))).map(($,K)=>C[K].fromBuffer($))}async acirInitProvingKey(g,p,C){const O=[g,p,C].map(_e),$=[];(await this.wasm.callWasmExport("acir_init_proving_key",O,$.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>$[ke].fromBuffer(G))}async acirCreateProof(g,p,C,O){const $=[g,p,C,O].map(_e),K=[Ve()];return(await this.wasm.callWasmExport("acir_create_proof",$,K.map(le=>le.SIZE_IN_BYTES))).map((le,Pe)=>K[Pe].fromBuffer(le))[0]}async acirProveAndVerifyUltraHonk(g,p,C){const O=[g,p,C].map(_e),$=[ue()];return(await this.wasm.callWasmExport("acir_prove_and_verify_ultra_honk",O,$.map(ke=>ke.SIZE_IN_BYTES))).map((ke,le)=>$[le].fromBuffer(ke))[0]}async acirProveAndVerifyMegaHonk(g,p,C){const O=[g,p,C].map(_e),$=[ue()];return(await this.wasm.callWasmExport("acir_prove_and_verify_mega_honk",O,$.map(ke=>ke.SIZE_IN_BYTES))).map((ke,le)=>$[le].fromBuffer(ke))[0]}async acirFoldAndVerifyProgramStack(g,p,C){const O=[g,p,C].map(_e),$=[ue()];return(await this.wasm.callWasmExport("acir_fold_and_verify_program_stack",O,$.map(ke=>ke.SIZE_IN_BYTES))).map((ke,le)=>$[le].fromBuffer(ke))[0]}async acirLoadVerificationKey(g,p){const C=[g,p].map(_e),O=[];(await this.wasm.callWasmExport("acir_load_verification_key",C,O.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>O[G].fromBuffer(K))}async acirInitVerificationKey(g){const p=[g].map(_e),C=[];(await this.wasm.callWasmExport("acir_init_verification_key",p,C.map($=>$.SIZE_IN_BYTES))).map(($,K)=>C[K].fromBuffer($))}async acirGetVerificationKey(g){const p=[g].map(_e),C=[Ve()];return(await this.wasm.callWasmExport("acir_get_verification_key",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async acirGetProvingKey(g,p,C){const O=[g,p,C].map(_e),$=[Ve()];return(await this.wasm.callWasmExport("acir_get_proving_key",O,$.map(ke=>ke.SIZE_IN_BYTES))).map((ke,le)=>$[le].fromBuffer(ke))[0]}async acirVerifyProof(g,p){const C=[g,p].map(_e),O=[ue()];return(await this.wasm.callWasmExport("acir_verify_proof",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async acirGetSolidityVerifier(g){const p=[g].map(_e),C=[Oe()];return(await this.wasm.callWasmExport("acir_get_solidity_verifier",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async acirSerializeProofIntoFields(g,p,C){const O=[g,p,C].map(_e),$=[Ke(Z)];return(await this.wasm.callWasmExport("acir_serialize_proof_into_fields",O,$.map(ke=>ke.SIZE_IN_BYTES))).map((ke,le)=>$[le].fromBuffer(ke))[0]}async acirSerializeVerificationKeyIntoFields(g){const p=[g].map(_e),C=[Ke(Z),Z];return(await this.wasm.callWasmExport("acir_serialize_verification_key_into_fields",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))}async acirProveAndVerifyAztecClient(g,p){const C=[g,p].map(_e),O=[ue()];return(await this.wasm.callWasmExport("acir_prove_and_verify_aztec_client",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async acirProveAztecClient(g,p){const C=[g,p].map(_e),O=[Ve(),Ve()],K=(await this.wasm.callWasmExport("acir_prove_aztec_client",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G));return[K[0],K[1]]}async acirVerifyAztecClient(g,p){const C=[g,p].map(_e),O=[ue()];return(await this.wasm.callWasmExport("acir_verify_aztec_client",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async acirProveUltraHonk(g,p,C){const O=[g,p,C].map(_e),$=[Ve()];return(await this.wasm.callWasmExport("acir_prove_ultra_honk",O,$.map(ke=>ke.SIZE_IN_BYTES))).map((ke,le)=>$[le].fromBuffer(ke))[0]}async acirProveUltraKeccakHonk(g,p,C){const O=[g,p,C].map(_e),$=[Ve()];return(await this.wasm.callWasmExport("acir_prove_ultra_keccak_honk",O,$.map(ke=>ke.SIZE_IN_BYTES))).map((ke,le)=>$[le].fromBuffer(ke))[0]}async acirVerifyUltraHonk(g,p){const C=[g,p].map(_e),O=[ue()];return(await this.wasm.callWasmExport("acir_verify_ultra_honk",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async acirVerifyUltraKeccakHonk(g,p){const C=[g,p].map(_e),O=[ue()];return(await this.wasm.callWasmExport("acir_verify_ultra_keccak_honk",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async acirWriteVkUltraHonk(g,p){const C=[g,p].map(_e),O=[Ve()];return(await this.wasm.callWasmExport("acir_write_vk_ultra_honk",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async acirWriteVkUltraKeccakHonk(g,p){const C=[g,p].map(_e),O=[Ve()];return(await this.wasm.callWasmExport("acir_write_vk_ultra_keccak_honk",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async acirHonkSolidityVerifier(g,p){const C=[g,p].map(_e),O=[Ve()];return(await this.wasm.callWasmExport("acir_honk_solidity_verifier",C,O.map(G=>G.SIZE_IN_BYTES))).map((G,ke)=>O[ke].fromBuffer(G))[0]}async acirProofAsFieldsUltraHonk(g){const p=[g].map(_e),C=[Ke(Z)];return(await this.wasm.callWasmExport("acir_proof_as_fields_ultra_honk",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async acirVkAsFieldsUltraHonk(g){const p=[g].map(_e),C=[Ke(Z)];return(await this.wasm.callWasmExport("acir_vk_as_fields_ultra_honk",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}async acirVkAsFieldsMegaHonk(g){const p=[g].map(_e),C=[Ke(Z)];return(await this.wasm.callWasmExport("acir_vk_as_fields_mega_honk",p,C.map(K=>K.SIZE_IN_BYTES))).map((K,G)=>C[G].fromBuffer(K))[0]}}class cr{constructor(g){this.wasm=g}pedersenCommit(g,p){const C=[g,p].map(_e),O=[ze];return this.wasm.callWasmExport("pedersen_commit",C,O.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>O[ke].fromBuffer(G))[0]}pedersenHash(g,p){const C=[g,p].map(_e),O=[Z];return this.wasm.callWasmExport("pedersen_hash",C,O.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>O[ke].fromBuffer(G))[0]}pedersenHashes(g,p){const C=[g,p].map(_e),O=[Z];return this.wasm.callWasmExport("pedersen_hashes",C,O.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>O[ke].fromBuffer(G))[0]}pedersenHashBuffer(g,p){const C=[g,p].map(_e),O=[Z];return this.wasm.callWasmExport("pedersen_hash_buffer",C,O.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>O[ke].fromBuffer(G))[0]}poseidon2Hash(g){const p=[g].map(_e),C=[Z];return this.wasm.callWasmExport("poseidon2_hash",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}poseidon2HashAccumulate(g){const p=[g].map(_e),C=[Z];return this.wasm.callWasmExport("poseidon2_hash_accumulate",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}poseidon2Hashes(g){const p=[g].map(_e),C=[Z];return this.wasm.callWasmExport("poseidon2_hashes",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}poseidon2Permutation(g){const p=[g].map(_e),C=[Ke(Z)];return this.wasm.callWasmExport("poseidon2_permutation",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}blake2s(g){const p=[g].map(_e),C=[_t];return this.wasm.callWasmExport("blake2s",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}blake2sToField(g){const p=[g].map(_e),C=[Z];return this.wasm.callWasmExport("blake2s_to_field_",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}schnorrComputePublicKey(g){const p=[g].map(_e),C=[ze];return this.wasm.callWasmExport("schnorr_compute_public_key",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}schnorrNegatePublicKey(g){const p=[g].map(_e),C=[ze];return this.wasm.callWasmExport("schnorr_negate_public_key",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}schnorrConstructSignature(g,p){const C=[g,p].map(_e),O=[_t,_t];return this.wasm.callWasmExport("schnorr_construct_signature",C,O.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>O[ke].fromBuffer(G))}schnorrVerifySignature(g,p,C,O){const $=[g,p,C,O].map(_e),K=[ue()];return this.wasm.callWasmExport("schnorr_verify_signature",$,K.map(le=>le.SIZE_IN_BYTES)).map((le,Pe)=>K[Pe].fromBuffer(le))[0]}schnorrMultisigCreateMultisigPublicKey(g){const p=[g].map(_e),C=[xt];return this.wasm.callWasmExport("schnorr_multisig_create_multisig_public_key",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}schnorrMultisigValidateAndCombineSignerPubkeys(g){const p=[g].map(_e),C=[ze,ue()];return this.wasm.callWasmExport("schnorr_multisig_validate_and_combine_signer_pubkeys",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))}schnorrMultisigConstructSignatureRound1(){const g=[].map(_e),p=[xt,xt];return this.wasm.callWasmExport("schnorr_multisig_construct_signature_round_1",g,p.map($=>$.SIZE_IN_BYTES)).map(($,K)=>p[K].fromBuffer($))}schnorrMultisigConstructSignatureRound2(g,p,C,O,$){const K=[g,p,C,O,$].map(_e),G=[ae,ue()];return this.wasm.callWasmExport("schnorr_multisig_construct_signature_round_2",K,G.map(Pe=>Pe.SIZE_IN_BYTES)).map((Pe,vt)=>G[vt].fromBuffer(Pe))}schnorrMultisigCombineSignatures(g,p,C,O){const $=[g,p,C,O].map(_e),K=[_t,_t,ue()];return this.wasm.callWasmExport("schnorr_multisig_combine_signatures",$,K.map(le=>le.SIZE_IN_BYTES)).map((le,Pe)=>K[Pe].fromBuffer(le))}aesEncryptBufferCbc(g,p,C,O){const $=[g,p,C,O].map(_e),K=[Ve()];return this.wasm.callWasmExport("aes_encrypt_buffer_cbc",$,K.map(le=>le.SIZE_IN_BYTES)).map((le,Pe)=>K[Pe].fromBuffer(le))[0]}aesDecryptBufferCbc(g,p,C,O){const $=[g,p,C,O].map(_e),K=[Ve()];return this.wasm.callWasmExport("aes_decrypt_buffer_cbc",$,K.map(le=>le.SIZE_IN_BYTES)).map((le,Pe)=>K[Pe].fromBuffer(le))[0]}srsInitSrs(g,p,C){const O=[g,p,C].map(_e),$=[];this.wasm.callWasmExport("srs_init_srs",O,$.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>$[ke].fromBuffer(G))}srsInitGrumpkinSrs(g,p){const C=[g,p].map(_e),O=[];this.wasm.callWasmExport("srs_init_grumpkin_srs",C,O.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>O[G].fromBuffer(K))}examplesSimpleCreateAndVerifyProof(){const g=[].map(_e),p=[ue()];return this.wasm.callWasmExport("examples_simple_create_and_verify_proof",g,p.map($=>$.SIZE_IN_BYTES)).map(($,K)=>p[K].fromBuffer($))[0]}testThreads(g,p){const C=[g,p].map(_e),O=[he()];return this.wasm.callWasmExport("test_threads",C,O.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>O[ke].fromBuffer(G))[0]}commonInitSlabAllocator(g){const p=[g].map(_e),C=[];this.wasm.callWasmExport("common_init_slab_allocator",p,C.map($=>$.SIZE_IN_BYTES)).map(($,K)=>C[K].fromBuffer($))}acirGetCircuitSizes(g,p,C){const O=[g,p,C].map(_e),$=[he(),he()];return this.wasm.callWasmExport("acir_get_circuit_sizes",O,$.map(ke=>ke.SIZE_IN_BYTES)).map((ke,le)=>$[le].fromBuffer(ke))}acirNewAcirComposer(g){const p=[g].map(_e),C=[et];return this.wasm.callWasmExport("acir_new_acir_composer",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}acirDeleteAcirComposer(g){const p=[g].map(_e),C=[];this.wasm.callWasmExport("acir_delete_acir_composer",p,C.map($=>$.SIZE_IN_BYTES)).map(($,K)=>C[K].fromBuffer($))}acirInitProvingKey(g,p,C){const O=[g,p,C].map(_e),$=[];this.wasm.callWasmExport("acir_init_proving_key",O,$.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>$[ke].fromBuffer(G))}acirCreateProof(g,p,C,O){const $=[g,p,C,O].map(_e),K=[Ve()];return this.wasm.callWasmExport("acir_create_proof",$,K.map(le=>le.SIZE_IN_BYTES)).map((le,Pe)=>K[Pe].fromBuffer(le))[0]}acirProveAndVerifyUltraHonk(g,p,C){const O=[g,p,C].map(_e),$=[ue()];return this.wasm.callWasmExport("acir_prove_and_verify_ultra_honk",O,$.map(ke=>ke.SIZE_IN_BYTES)).map((ke,le)=>$[le].fromBuffer(ke))[0]}acirProveAndVerifyMegaHonk(g,p,C){const O=[g,p,C].map(_e),$=[ue()];return this.wasm.callWasmExport("acir_prove_and_verify_mega_honk",O,$.map(ke=>ke.SIZE_IN_BYTES)).map((ke,le)=>$[le].fromBuffer(ke))[0]}acirFoldAndVerifyProgramStack(g,p,C){const O=[g,p,C].map(_e),$=[ue()];return this.wasm.callWasmExport("acir_fold_and_verify_program_stack",O,$.map(ke=>ke.SIZE_IN_BYTES)).map((ke,le)=>$[le].fromBuffer(ke))[0]}acirLoadVerificationKey(g,p){const C=[g,p].map(_e),O=[];this.wasm.callWasmExport("acir_load_verification_key",C,O.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>O[G].fromBuffer(K))}acirInitVerificationKey(g){const p=[g].map(_e),C=[];this.wasm.callWasmExport("acir_init_verification_key",p,C.map($=>$.SIZE_IN_BYTES)).map(($,K)=>C[K].fromBuffer($))}acirGetVerificationKey(g){const p=[g].map(_e),C=[Ve()];return this.wasm.callWasmExport("acir_get_verification_key",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}acirGetProvingKey(g,p,C){const O=[g,p,C].map(_e),$=[Ve()];return this.wasm.callWasmExport("acir_get_proving_key",O,$.map(ke=>ke.SIZE_IN_BYTES)).map((ke,le)=>$[le].fromBuffer(ke))[0]}acirVerifyProof(g,p){const C=[g,p].map(_e),O=[ue()];return this.wasm.callWasmExport("acir_verify_proof",C,O.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>O[ke].fromBuffer(G))[0]}acirGetSolidityVerifier(g){const p=[g].map(_e),C=[Oe()];return this.wasm.callWasmExport("acir_get_solidity_verifier",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}acirSerializeProofIntoFields(g,p,C){const O=[g,p,C].map(_e),$=[Ke(Z)];return this.wasm.callWasmExport("acir_serialize_proof_into_fields",O,$.map(ke=>ke.SIZE_IN_BYTES)).map((ke,le)=>$[le].fromBuffer(ke))[0]}acirSerializeVerificationKeyIntoFields(g){const p=[g].map(_e),C=[Ke(Z),Z];return this.wasm.callWasmExport("acir_serialize_verification_key_into_fields",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))}acirProveUltraHonk(g,p,C){const O=[g,p,C].map(_e),$=[Ve()];return this.wasm.callWasmExport("acir_prove_ultra_honk",O,$.map(ke=>ke.SIZE_IN_BYTES)).map((ke,le)=>$[le].fromBuffer(ke))[0]}acirVerifyUltraHonk(g,p){const C=[g,p].map(_e),O=[ue()];return this.wasm.callWasmExport("acir_verify_ultra_honk",C,O.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>O[ke].fromBuffer(G))[0]}acirWriteVkUltraHonk(g,p){const C=[g,p].map(_e),O=[Ve()];return this.wasm.callWasmExport("acir_write_vk_ultra_honk",C,O.map(G=>G.SIZE_IN_BYTES)).map((G,ke)=>O[ke].fromBuffer(G))[0]}acirProofAsFieldsUltraHonk(g){const p=[g].map(_e),C=[Ke(Z)];return this.wasm.callWasmExport("acir_proof_as_fields_ultra_honk",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}acirVkAsFieldsUltraHonk(g){const p=[g].map(_e),C=[Ke(Z)];return this.wasm.callWasmExport("acir_vk_as_fields_ultra_honk",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}acirVkAsFieldsMegaHonk(g){const p=[g].map(_e),C=[Ke(Z)];return this.wasm.callWasmExport("acir_vk_as_fields_mega_honk",p,C.map(K=>K.SIZE_IN_BYTES)).map((K,G)=>C[G].fromBuffer(K))[0]}}var Kn=lr(227),Br=lr.n(Kn),Fs=lr(477),ho=lr.n(Fs);function Bi(){return ho()(`/*! For license information please see main.worker.worker.js.LICENSE.txt */
var __webpack_modules__ = {
    227: (module, exports, __webpack_require__) => {
        exports.formatArgs = formatArgs;
        exports.save = save;
        exports.load = load;
        exports.useColors = useColors;
        exports.storage = localstorage();
        exports.destroy = (() => {
            let warned = false;
            return () => {
                if (!warned) {
                    warned = true;
                    console.warn("Instance method \`debug.destroy()\` is deprecated and no longer does anything. It will be removed in the next major version of \`debug\`.");
                }
            };
        })();
        exports.colors = [ "#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33" ];
        function useColors() {
            if (typeof window !== "undefined" && window.process && (window.process.type === "renderer" || window.process.__nwjs)) {
                return true;
            }
            if (typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {
                return false;
            }
            return typeof document !== "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window !== "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);
        }
        function formatArgs(args) {
            args[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + args[0] + (this.useColors ? "%c " : " ") + "+" + module.exports.humanize(this.diff);
            if (!this.useColors) {
                return;
            }
            const c = "color: " + this.color;
            args.splice(1, 0, c, "color: inherit");
            let index = 0;
            let lastC = 0;
            args[0].replace(/%[a-zA-Z%]/g, (match => {
                if (match === "%%") {
                    return;
                }
                index++;
                if (match === "%c") {
                    lastC = index;
                }
            }));
            args.splice(lastC, 0, c);
        }
        exports.log = console.debug || console.log || (() => {});
        function save(namespaces) {
            try {
                if (namespaces) {
                    exports.storage.setItem("debug", namespaces);
                } else {
                    exports.storage.removeItem("debug");
                }
            } catch (error) {}
        }
        function load() {
            let r;
            try {
                r = exports.storage.getItem("debug");
            } catch (error) {}
            if (!r && typeof process !== "undefined" && "env" in process) {
                r = process.env.DEBUG;
            }
            return r;
        }
        function localstorage() {
            try {
                return localStorage;
            } catch (error) {}
        }
        module.exports = __webpack_require__(447)(exports);
        const {formatters} = module.exports;
        formatters.j = function(v) {
            try {
                return JSON.stringify(v);
            } catch (error) {
                return "[UnexpectedJSONParseError]: " + error.message;
            }
        };
    },
    447: (module, __unused_webpack_exports, __webpack_require__) => {
        function setup(env) {
            createDebug.debug = createDebug;
            createDebug.default = createDebug;
            createDebug.coerce = coerce;
            createDebug.disable = disable;
            createDebug.enable = enable;
            createDebug.enabled = enabled;
            createDebug.humanize = __webpack_require__(824);
            createDebug.destroy = destroy;
            Object.keys(env).forEach((key => {
                createDebug[key] = env[key];
            }));
            createDebug.names = [];
            createDebug.skips = [];
            createDebug.formatters = {};
            function selectColor(namespace) {
                let hash = 0;
                for (let i = 0; i < namespace.length; i++) {
                    hash = (hash << 5) - hash + namespace.charCodeAt(i);
                    hash |= 0;
                }
                return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
            }
            createDebug.selectColor = selectColor;
            function createDebug(namespace) {
                let prevTime;
                let enableOverride = null;
                let namespacesCache;
                let enabledCache;
                function debug(...args) {
                    if (!debug.enabled) {
                        return;
                    }
                    const self = debug;
                    const curr = Number(new Date);
                    const ms = curr - (prevTime || curr);
                    self.diff = ms;
                    self.prev = prevTime;
                    self.curr = curr;
                    prevTime = curr;
                    args[0] = createDebug.coerce(args[0]);
                    if (typeof args[0] !== "string") {
                        args.unshift("%O");
                    }
                    let index = 0;
                    args[0] = args[0].replace(/%([a-zA-Z%])/g, ((match, format) => {
                        if (match === "%%") {
                            return "%";
                        }
                        index++;
                        const formatter = createDebug.formatters[format];
                        if (typeof formatter === "function") {
                            const val = args[index];
                            match = formatter.call(self, val);
                            args.splice(index, 1);
                            index--;
                        }
                        return match;
                    }));
                    createDebug.formatArgs.call(self, args);
                    const logFn = self.log || createDebug.log;
                    logFn.apply(self, args);
                }
                debug.namespace = namespace;
                debug.useColors = createDebug.useColors();
                debug.color = createDebug.selectColor(namespace);
                debug.extend = extend;
                debug.destroy = createDebug.destroy;
                Object.defineProperty(debug, "enabled", {
                    enumerable: true,
                    configurable: false,
                    get: () => {
                        if (enableOverride !== null) {
                            return enableOverride;
                        }
                        if (namespacesCache !== createDebug.namespaces) {
                            namespacesCache = createDebug.namespaces;
                            enabledCache = createDebug.enabled(namespace);
                        }
                        return enabledCache;
                    },
                    set: v => {
                        enableOverride = v;
                    }
                });
                if (typeof createDebug.init === "function") {
                    createDebug.init(debug);
                }
                return debug;
            }
            function extend(namespace, delimiter) {
                const newDebug = createDebug(this.namespace + (typeof delimiter === "undefined" ? ":" : delimiter) + namespace);
                newDebug.log = this.log;
                return newDebug;
            }
            function enable(namespaces) {
                createDebug.save(namespaces);
                createDebug.namespaces = namespaces;
                createDebug.names = [];
                createDebug.skips = [];
                let i;
                const split = (typeof namespaces === "string" ? namespaces : "").split(/[\\s,]+/);
                const len = split.length;
                for (i = 0; i < len; i++) {
                    if (!split[i]) {
                        continue;
                    }
                    namespaces = split[i].replace(/\\*/g, ".*?");
                    if (namespaces[0] === "-") {
                        createDebug.skips.push(new RegExp("^" + namespaces.slice(1) + "$"));
                    } else {
                        createDebug.names.push(new RegExp("^" + namespaces + "$"));
                    }
                }
            }
            function disable() {
                const namespaces = [ ...createDebug.names.map(toNamespace), ...createDebug.skips.map(toNamespace).map((namespace => "-" + namespace)) ].join(",");
                createDebug.enable("");
                return namespaces;
            }
            function enabled(name) {
                if (name[name.length - 1] === "*") {
                    return true;
                }
                let i;
                let len;
                for (i = 0, len = createDebug.skips.length; i < len; i++) {
                    if (createDebug.skips[i].test(name)) {
                        return false;
                    }
                }
                for (i = 0, len = createDebug.names.length; i < len; i++) {
                    if (createDebug.names[i].test(name)) {
                        return true;
                    }
                }
                return false;
            }
            function toNamespace(regexp) {
                return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\\.\\*\\?$/, "*");
            }
            function coerce(val) {
                if (val instanceof Error) {
                    return val.stack || val.message;
                }
                return val;
            }
            function destroy() {
                console.warn("Instance method \`debug.destroy()\` is deprecated and no longer does anything. It will be removed in the next major version of \`debug\`.");
            }
            createDebug.enable(createDebug.load());
            return createDebug;
        }
        module.exports = setup;
    },
    824: module => {
        var s = 1e3;
        var m = s * 60;
        var h = m * 60;
        var d = h * 24;
        var w = d * 7;
        var y = d * 365.25;
        module.exports = function(val, options) {
            options = options || {};
            var type = typeof val;
            if (type === "string" && val.length > 0) {
                return parse(val);
            } else if (type === "number" && isFinite(val)) {
                return options.long ? fmtLong(val) : fmtShort(val);
            }
            throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(val));
        };
        function parse(str) {
            str = String(str);
            if (str.length > 100) {
                return;
            }
            var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);
            if (!match) {
                return;
            }
            var n = parseFloat(match[1]);
            var type = (match[2] || "ms").toLowerCase();
            switch (type) {
              case "years":
              case "year":
              case "yrs":
              case "yr":
              case "y":
                return n * y;

              case "weeks":
              case "week":
              case "w":
                return n * w;

              case "days":
              case "day":
              case "d":
                return n * d;

              case "hours":
              case "hour":
              case "hrs":
              case "hr":
              case "h":
                return n * h;

              case "minutes":
              case "minute":
              case "mins":
              case "min":
              case "m":
                return n * m;

              case "seconds":
              case "second":
              case "secs":
              case "sec":
              case "s":
                return n * s;

              case "milliseconds":
              case "millisecond":
              case "msecs":
              case "msec":
              case "ms":
                return n;

              default:
                return undefined;
            }
        }
        function fmtShort(ms) {
            var msAbs = Math.abs(ms);
            if (msAbs >= d) {
                return Math.round(ms / d) + "d";
            }
            if (msAbs >= h) {
                return Math.round(ms / h) + "h";
            }
            if (msAbs >= m) {
                return Math.round(ms / m) + "m";
            }
            if (msAbs >= s) {
                return Math.round(ms / s) + "s";
            }
            return ms + "ms";
        }
        function fmtLong(ms) {
            var msAbs = Math.abs(ms);
            if (msAbs >= d) {
                return plural(ms, msAbs, d, "day");
            }
            if (msAbs >= h) {
                return plural(ms, msAbs, h, "hour");
            }
            if (msAbs >= m) {
                return plural(ms, msAbs, m, "minute");
            }
            if (msAbs >= s) {
                return plural(ms, msAbs, s, "second");
            }
            return ms + " ms";
        }
        function plural(ms, msAbs, n, name) {
            var isPlural = msAbs >= n * 1.5;
            return Math.round(ms / n) + " " + name + (isPlural ? "s" : "");
        }
    },
    477: module => {
        module.exports = function(content, workerConstructor, workerOptions, url) {
            var globalScope = self || window;
            try {
                try {
                    var blob;
                    try {
                        blob = new globalScope.Blob([ content ]);
                    } catch (e) {
                        var BlobBuilder = globalScope.BlobBuilder || globalScope.WebKitBlobBuilder || globalScope.MozBlobBuilder || globalScope.MSBlobBuilder;
                        blob = new BlobBuilder;
                        blob.append(content);
                        blob = blob.getBlob();
                    }
                    var URL = globalScope.URL || globalScope.webkitURL;
                    var objectURL = URL.createObjectURL(blob);
                    var worker = new globalScope[workerConstructor](objectURL, workerOptions);
                    URL.revokeObjectURL(objectURL);
                    return worker;
                } catch (e) {
                    return new globalScope[workerConstructor]("data:application/javascript,".concat(encodeURIComponent(content)), workerOptions);
                }
            } catch (e) {
                if (!url) {
                    throw Error("Inline worker is not supported");
                }
                return new globalScope[workerConstructor](url, workerOptions);
            }
        };
    }
};

var __webpack_module_cache__ = {};

function __webpack_require__(moduleId) {
    var cachedModule = __webpack_module_cache__[moduleId];
    if (cachedModule !== undefined) {
        return cachedModule.exports;
    }
    var module = __webpack_module_cache__[moduleId] = {
        exports: {}
    };
    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);
    return module.exports;
}

(() => {
    __webpack_require__.n = module => {
        var getter = module && module.__esModule ? () => module["default"] : () => module;
        __webpack_require__.d(getter, {
            a: getter
        });
        return getter;
    };
})();

(() => {
    __webpack_require__.d = (exports, definition) => {
        for (var key in definition) {
            if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
                Object.defineProperty(exports, key, {
                    enumerable: true,
                    get: definition[key]
                });
            }
        }
    };
})();

(() => {
    __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
})();

var __webpack_exports__ = {};

(() => {
    const proxyMarker = Symbol("Comlink.proxy");
    const createEndpoint = Symbol("Comlink.endpoint");
    const releaseProxy = Symbol("Comlink.releaseProxy");
    const finalizer = Symbol("Comlink.finalizer");
    const throwMarker = Symbol("Comlink.thrown");
    const isObject = val => typeof val === "object" && val !== null || typeof val === "function";
    const proxyTransferHandler = {
        canHandle: val => isObject(val) && val[proxyMarker],
        serialize(obj) {
            const {port1, port2} = new MessageChannel;
            expose(obj, port1);
            return [ port2, [ port2 ] ];
        },
        deserialize(port) {
            port.start();
            return wrap(port);
        }
    };
    const throwTransferHandler = {
        canHandle: value => isObject(value) && throwMarker in value,
        serialize({value}) {
            let serialized;
            if (value instanceof Error) {
                serialized = {
                    isError: true,
                    value: {
                        message: value.message,
                        name: value.name,
                        stack: value.stack
                    }
                };
            } else {
                serialized = {
                    isError: false,
                    value
                };
            }
            return [ serialized, [] ];
        },
        deserialize(serialized) {
            if (serialized.isError) {
                throw Object.assign(new Error(serialized.value.message), serialized.value);
            }
            throw serialized.value;
        }
    };
    const transferHandlers = new Map([ [ "proxy", proxyTransferHandler ], [ "throw", throwTransferHandler ] ]);
    function isAllowedOrigin(allowedOrigins, origin) {
        for (const allowedOrigin of allowedOrigins) {
            if (origin === allowedOrigin || allowedOrigin === "*") {
                return true;
            }
            if (allowedOrigin instanceof RegExp && allowedOrigin.test(origin)) {
                return true;
            }
        }
        return false;
    }
    function expose(obj, ep = globalThis, allowedOrigins = [ "*" ]) {
        ep.addEventListener("message", (function callback(ev) {
            if (!ev || !ev.data) {
                return;
            }
            if (!isAllowedOrigin(allowedOrigins, ev.origin)) {
                console.warn(\`Invalid origin '\${ev.origin}' for comlink proxy\`);
                return;
            }
            const {id, type, path} = Object.assign({
                path: []
            }, ev.data);
            const argumentList = (ev.data.argumentList || []).map(fromWireValue);
            let returnValue;
            try {
                const parent = path.slice(0, -1).reduce(((obj, prop) => obj[prop]), obj);
                const rawValue = path.reduce(((obj, prop) => obj[prop]), obj);
                switch (type) {
                  case "GET":
                    {
                        returnValue = rawValue;
                    }
                    break;

                  case "SET":
                    {
                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);
                        returnValue = true;
                    }
                    break;

                  case "APPLY":
                    {
                        returnValue = rawValue.apply(parent, argumentList);
                    }
                    break;

                  case "CONSTRUCT":
                    {
                        const value = new rawValue(...argumentList);
                        returnValue = proxy(value);
                    }
                    break;

                  case "ENDPOINT":
                    {
                        const {port1, port2} = new MessageChannel;
                        expose(obj, port2);
                        returnValue = transfer(port1, [ port1 ]);
                    }
                    break;

                  case "RELEASE":
                    {
                        returnValue = undefined;
                    }
                    break;

                  default:
                    return;
                }
            } catch (value) {
                returnValue = {
                    value,
                    [throwMarker]: 0
                };
            }
            Promise.resolve(returnValue).catch((value => ({
                value,
                [throwMarker]: 0
            }))).then((returnValue => {
                const [wireValue, transferables] = toWireValue(returnValue);
                ep.postMessage(Object.assign(Object.assign({}, wireValue), {
                    id
                }), transferables);
                if (type === "RELEASE") {
                    ep.removeEventListener("message", callback);
                    closeEndPoint(ep);
                    if (finalizer in obj && typeof obj[finalizer] === "function") {
                        obj[finalizer]();
                    }
                }
            })).catch((error => {
                const [wireValue, transferables] = toWireValue({
                    value: new TypeError("Unserializable return value"),
                    [throwMarker]: 0
                });
                ep.postMessage(Object.assign(Object.assign({}, wireValue), {
                    id
                }), transferables);
            }));
        }));
        if (ep.start) {
            ep.start();
        }
    }
    function isMessagePort(endpoint) {
        return endpoint.constructor.name === "MessagePort";
    }
    function closeEndPoint(endpoint) {
        if (isMessagePort(endpoint)) endpoint.close();
    }
    function wrap(ep, target) {
        return createProxy(ep, [], target);
    }
    function throwIfProxyReleased(isReleased) {
        if (isReleased) {
            throw new Error("Proxy has been released and is not useable");
        }
    }
    function releaseEndpoint(ep) {
        return requestResponseMessage(ep, {
            type: "RELEASE"
        }).then((() => {
            closeEndPoint(ep);
        }));
    }
    const proxyCounter = new WeakMap;
    const proxyFinalizers = "FinalizationRegistry" in globalThis && new FinalizationRegistry((ep => {
        const newCount = (proxyCounter.get(ep) || 0) - 1;
        proxyCounter.set(ep, newCount);
        if (newCount === 0) {
            releaseEndpoint(ep);
        }
    }));
    function registerProxy(proxy, ep) {
        const newCount = (proxyCounter.get(ep) || 0) + 1;
        proxyCounter.set(ep, newCount);
        if (proxyFinalizers) {
            proxyFinalizers.register(proxy, ep, proxy);
        }
    }
    function unregisterProxy(proxy) {
        if (proxyFinalizers) {
            proxyFinalizers.unregister(proxy);
        }
    }
    function createProxy(ep, path = [], target = function() {}) {
        let isProxyReleased = false;
        const proxy = new Proxy(target, {
            get(_target, prop) {
                throwIfProxyReleased(isProxyReleased);
                if (prop === releaseProxy) {
                    return () => {
                        unregisterProxy(proxy);
                        releaseEndpoint(ep);
                        isProxyReleased = true;
                    };
                }
                if (prop === "then") {
                    if (path.length === 0) {
                        return {
                            then: () => proxy
                        };
                    }
                    const r = requestResponseMessage(ep, {
                        type: "GET",
                        path: path.map((p => p.toString()))
                    }).then(fromWireValue);
                    return r.then.bind(r);
                }
                return createProxy(ep, [ ...path, prop ]);
            },
            set(_target, prop, rawValue) {
                throwIfProxyReleased(isProxyReleased);
                const [value, transferables] = toWireValue(rawValue);
                return requestResponseMessage(ep, {
                    type: "SET",
                    path: [ ...path, prop ].map((p => p.toString())),
                    value
                }, transferables).then(fromWireValue);
            },
            apply(_target, _thisArg, rawArgumentList) {
                throwIfProxyReleased(isProxyReleased);
                const last = path[path.length - 1];
                if (last === createEndpoint) {
                    return requestResponseMessage(ep, {
                        type: "ENDPOINT"
                    }).then(fromWireValue);
                }
                if (last === "bind") {
                    return createProxy(ep, path.slice(0, -1));
                }
                const [argumentList, transferables] = processArguments(rawArgumentList);
                return requestResponseMessage(ep, {
                    type: "APPLY",
                    path: path.map((p => p.toString())),
                    argumentList
                }, transferables).then(fromWireValue);
            },
            construct(_target, rawArgumentList) {
                throwIfProxyReleased(isProxyReleased);
                const [argumentList, transferables] = processArguments(rawArgumentList);
                return requestResponseMessage(ep, {
                    type: "CONSTRUCT",
                    path: path.map((p => p.toString())),
                    argumentList
                }, transferables).then(fromWireValue);
            }
        });
        registerProxy(proxy, ep);
        return proxy;
    }
    function myFlat(arr) {
        return Array.prototype.concat.apply([], arr);
    }
    function processArguments(argumentList) {
        const processed = argumentList.map(toWireValue);
        return [ processed.map((v => v[0])), myFlat(processed.map((v => v[1]))) ];
    }
    const transferCache = new WeakMap;
    function transfer(obj, transfers) {
        transferCache.set(obj, transfers);
        return obj;
    }
    function proxy(obj) {
        return Object.assign(obj, {
            [proxyMarker]: true
        });
    }
    function windowEndpoint(w, context = globalThis, targetOrigin = "*") {
        return {
            postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),
            addEventListener: context.addEventListener.bind(context),
            removeEventListener: context.removeEventListener.bind(context)
        };
    }
    function toWireValue(value) {
        for (const [name, handler] of transferHandlers) {
            if (handler.canHandle(value)) {
                const [serializedValue, transferables] = handler.serialize(value);
                return [ {
                    type: "HANDLER",
                    name,
                    value: serializedValue
                }, transferables ];
            }
        }
        return [ {
            type: "RAW",
            value
        }, transferCache.get(value) || [] ];
    }
    function fromWireValue(value) {
        switch (value.type) {
          case "HANDLER":
            return transferHandlers.get(value.name).deserialize(value.value);

          case "RAW":
            return value.value;
        }
    }
    function requestResponseMessage(ep, msg, transfers) {
        return new Promise((resolve => {
            const id = generateUUID();
            ep.addEventListener("message", (function l(ev) {
                if (!ev.data || !ev.data.id || ev.data.id !== id) {
                    return;
                }
                ep.removeEventListener("message", l);
                resolve(ev.data);
            }));
            if (ep.start) {
                ep.start();
            }
            ep.postMessage(Object.assign({
                id
            }, msg), transfers);
        }));
    }
    function generateUUID() {
        return new Array(4).fill(0).map((() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))).join("-");
    }
    var browser = __webpack_require__(227);
    var browser_default = __webpack_require__.n(browser);
    function getSharedMemoryAvailable() {
        const globalScope = typeof window !== "undefined" ? window : globalThis;
        return typeof SharedArrayBuffer !== "undefined" && globalScope.crossOriginIsolated;
    }
    function getRemoteBarretenbergWasm(worker) {
        return wrap(worker);
    }
    function getNumCpu() {
        return navigator.hardwareConcurrency;
    }
    function threadLogger() {
        return undefined;
    }
    function killSelf() {
        self.close();
    }
    var inline = __webpack_require__(477);
    var inline_default = __webpack_require__.n(inline);
    function Worker_fn() {
        return inline_default()('/*! For license information please see thread.worker.worker.worker.js.LICENSE.txt */\\nvar __webpack_modules__ = {\\n    227: (module, exports, __webpack_require__) => {\\n        exports.formatArgs = formatArgs;\\n        exports.save = save;\\n        exports.load = load;\\n        exports.useColors = useColors;\\n        exports.storage = localstorage();\\n        exports.destroy = (() => {\\n            let warned = false;\\n            return () => {\\n                if (!warned) {\\n                    warned = true;\\n                    console.warn("Instance method \`debug.destroy()\` is deprecated and no longer does anything. It will be removed in the next major version of \`debug\`.");\\n                }\\n            };\\n        })();\\n        exports.colors = [ "#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33" ];\\n        function useColors() {\\n            if (typeof window !== "undefined" && window.process && (window.process.type === "renderer" || window.process.__nwjs)) {\\n                return true;\\n            }\\n            if (typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\\\/(\\\\d+)/)) {\\n                return false;\\n            }\\n            return typeof document !== "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window !== "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\\\/(\\\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\\\/(\\\\d+)/);\\n        }\\n        function formatArgs(args) {\\n            args[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + args[0] + (this.useColors ? "%c " : " ") + "+" + module.exports.humanize(this.diff);\\n            if (!this.useColors) {\\n                return;\\n            }\\n            const c = "color: " + this.color;\\n            args.splice(1, 0, c, "color: inherit");\\n            let index = 0;\\n            let lastC = 0;\\n            args[0].replace(/%[a-zA-Z%]/g, (match => {\\n                if (match === "%%") {\\n                    return;\\n                }\\n                index++;\\n                if (match === "%c") {\\n                    lastC = index;\\n                }\\n            }));\\n            args.splice(lastC, 0, c);\\n        }\\n        exports.log = console.debug || console.log || (() => {});\\n        function save(namespaces) {\\n            try {\\n                if (namespaces) {\\n                    exports.storage.setItem("debug", namespaces);\\n                } else {\\n                    exports.storage.removeItem("debug");\\n                }\\n            } catch (error) {}\\n        }\\n        function load() {\\n            let r;\\n            try {\\n                r = exports.storage.getItem("debug");\\n            } catch (error) {}\\n            if (!r && typeof process !== "undefined" && "env" in process) {\\n                r = process.env.DEBUG;\\n            }\\n            return r;\\n        }\\n        function localstorage() {\\n            try {\\n                return localStorage;\\n            } catch (error) {}\\n        }\\n        module.exports = __webpack_require__(447)(exports);\\n        const {formatters} = module.exports;\\n        formatters.j = function(v) {\\n            try {\\n                return JSON.stringify(v);\\n            } catch (error) {\\n                return "[UnexpectedJSONParseError]: " + error.message;\\n            }\\n        };\\n    },\\n    447: (module, __unused_webpack_exports, __webpack_require__) => {\\n        function setup(env) {\\n            createDebug.debug = createDebug;\\n            createDebug.default = createDebug;\\n            createDebug.coerce = coerce;\\n            createDebug.disable = disable;\\n            createDebug.enable = enable;\\n            createDebug.enabled = enabled;\\n            createDebug.humanize = __webpack_require__(824);\\n            createDebug.destroy = destroy;\\n            Object.keys(env).forEach((key => {\\n                createDebug[key] = env[key];\\n            }));\\n            createDebug.names = [];\\n            createDebug.skips = [];\\n            createDebug.formatters = {};\\n            function selectColor(namespace) {\\n                let hash = 0;\\n                for (let i = 0; i < namespace.length; i++) {\\n                    hash = (hash << 5) - hash + namespace.charCodeAt(i);\\n                    hash |= 0;\\n                }\\n                return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\\n            }\\n            createDebug.selectColor = selectColor;\\n            function createDebug(namespace) {\\n                let prevTime;\\n                let enableOverride = null;\\n                let namespacesCache;\\n                let enabledCache;\\n                function debug(...args) {\\n                    if (!debug.enabled) {\\n                        return;\\n                    }\\n                    const self = debug;\\n                    const curr = Number(new Date);\\n                    const ms = curr - (prevTime || curr);\\n                    self.diff = ms;\\n                    self.prev = prevTime;\\n                    self.curr = curr;\\n                    prevTime = curr;\\n                    args[0] = createDebug.coerce(args[0]);\\n                    if (typeof args[0] !== "string") {\\n                        args.unshift("%O");\\n                    }\\n                    let index = 0;\\n                    args[0] = args[0].replace(/%([a-zA-Z%])/g, ((match, format) => {\\n                        if (match === "%%") {\\n                            return "%";\\n                        }\\n                        index++;\\n                        const formatter = createDebug.formatters[format];\\n                        if (typeof formatter === "function") {\\n                            const val = args[index];\\n                            match = formatter.call(self, val);\\n                            args.splice(index, 1);\\n                            index--;\\n                        }\\n                        return match;\\n                    }));\\n                    createDebug.formatArgs.call(self, args);\\n                    const logFn = self.log || createDebug.log;\\n                    logFn.apply(self, args);\\n                }\\n                debug.namespace = namespace;\\n                debug.useColors = createDebug.useColors();\\n                debug.color = createDebug.selectColor(namespace);\\n                debug.extend = extend;\\n                debug.destroy = createDebug.destroy;\\n                Object.defineProperty(debug, "enabled", {\\n                    enumerable: true,\\n                    configurable: false,\\n                    get: () => {\\n                        if (enableOverride !== null) {\\n                            return enableOverride;\\n                        }\\n                        if (namespacesCache !== createDebug.namespaces) {\\n                            namespacesCache = createDebug.namespaces;\\n                            enabledCache = createDebug.enabled(namespace);\\n                        }\\n                        return enabledCache;\\n                    },\\n                    set: v => {\\n                        enableOverride = v;\\n                    }\\n                });\\n                if (typeof createDebug.init === "function") {\\n                    createDebug.init(debug);\\n                }\\n                return debug;\\n            }\\n            function extend(namespace, delimiter) {\\n                const newDebug = createDebug(this.namespace + (typeof delimiter === "undefined" ? ":" : delimiter) + namespace);\\n                newDebug.log = this.log;\\n                return newDebug;\\n            }\\n            function enable(namespaces) {\\n                createDebug.save(namespaces);\\n                createDebug.namespaces = namespaces;\\n                createDebug.names = [];\\n                createDebug.skips = [];\\n                let i;\\n                const split = (typeof namespaces === "string" ? namespaces : "").split(/[\\\\s,]+/);\\n                const len = split.length;\\n                for (i = 0; i < len; i++) {\\n                    if (!split[i]) {\\n                        continue;\\n                    }\\n                    namespaces = split[i].replace(/\\\\*/g, ".*?");\\n                    if (namespaces[0] === "-") {\\n                        createDebug.skips.push(new RegExp("^" + namespaces.slice(1) + "$"));\\n                    } else {\\n                        createDebug.names.push(new RegExp("^" + namespaces + "$"));\\n                    }\\n                }\\n            }\\n            function disable() {\\n                const namespaces = [ ...createDebug.names.map(toNamespace), ...createDebug.skips.map(toNamespace).map((namespace => "-" + namespace)) ].join(",");\\n                createDebug.enable("");\\n                return namespaces;\\n            }\\n            function enabled(name) {\\n                if (name[name.length - 1] === "*") {\\n                    return true;\\n                }\\n                let i;\\n                let len;\\n                for (i = 0, len = createDebug.skips.length; i < len; i++) {\\n                    if (createDebug.skips[i].test(name)) {\\n                        return false;\\n                    }\\n                }\\n                for (i = 0, len = createDebug.names.length; i < len; i++) {\\n                    if (createDebug.names[i].test(name)) {\\n                        return true;\\n                    }\\n                }\\n                return false;\\n            }\\n            function toNamespace(regexp) {\\n                return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\\\\.\\\\*\\\\?$/, "*");\\n            }\\n            function coerce(val) {\\n                if (val instanceof Error) {\\n                    return val.stack || val.message;\\n                }\\n                return val;\\n            }\\n            function destroy() {\\n                console.warn("Instance method \`debug.destroy()\` is deprecated and no longer does anything. It will be removed in the next major version of \`debug\`.");\\n            }\\n            createDebug.enable(createDebug.load());\\n            return createDebug;\\n        }\\n        module.exports = setup;\\n    },\\n    824: module => {\\n        var s = 1e3;\\n        var m = s * 60;\\n        var h = m * 60;\\n        var d = h * 24;\\n        var w = d * 7;\\n        var y = d * 365.25;\\n        module.exports = function(val, options) {\\n            options = options || {};\\n            var type = typeof val;\\n            if (type === "string" && val.length > 0) {\\n                return parse(val);\\n            } else if (type === "number" && isFinite(val)) {\\n                return options.long ? fmtLong(val) : fmtShort(val);\\n            }\\n            throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(val));\\n        };\\n        function parse(str) {\\n            str = String(str);\\n            if (str.length > 100) {\\n                return;\\n            }\\n            var match = /^(-?(?:\\\\d+)?\\\\.?\\\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);\\n            if (!match) {\\n                return;\\n            }\\n            var n = parseFloat(match[1]);\\n            var type = (match[2] || "ms").toLowerCase();\\n            switch (type) {\\n              case "years":\\n              case "year":\\n              case "yrs":\\n              case "yr":\\n              case "y":\\n                return n * y;\\n\\n              case "weeks":\\n              case "week":\\n              case "w":\\n                return n * w;\\n\\n              case "days":\\n              case "day":\\n              case "d":\\n                return n * d;\\n\\n              case "hours":\\n              case "hour":\\n              case "hrs":\\n              case "hr":\\n              case "h":\\n                return n * h;\\n\\n              case "minutes":\\n              case "minute":\\n              case "mins":\\n              case "min":\\n              case "m":\\n                return n * m;\\n\\n              case "seconds":\\n              case "second":\\n              case "secs":\\n              case "sec":\\n              case "s":\\n                return n * s;\\n\\n              case "milliseconds":\\n              case "millisecond":\\n              case "msecs":\\n              case "msec":\\n              case "ms":\\n                return n;\\n\\n              default:\\n                return undefined;\\n            }\\n        }\\n        function fmtShort(ms) {\\n            var msAbs = Math.abs(ms);\\n            if (msAbs >= d) {\\n                return Math.round(ms / d) + "d";\\n            }\\n            if (msAbs >= h) {\\n                return Math.round(ms / h) + "h";\\n            }\\n            if (msAbs >= m) {\\n                return Math.round(ms / m) + "m";\\n            }\\n            if (msAbs >= s) {\\n                return Math.round(ms / s) + "s";\\n            }\\n            return ms + "ms";\\n        }\\n        function fmtLong(ms) {\\n            var msAbs = Math.abs(ms);\\n            if (msAbs >= d) {\\n                return plural(ms, msAbs, d, "day");\\n            }\\n            if (msAbs >= h) {\\n                return plural(ms, msAbs, h, "hour");\\n            }\\n            if (msAbs >= m) {\\n                return plural(ms, msAbs, m, "minute");\\n            }\\n            if (msAbs >= s) {\\n                return plural(ms, msAbs, s, "second");\\n            }\\n            return ms + " ms";\\n        }\\n        function plural(ms, msAbs, n, name) {\\n            var isPlural = msAbs >= n * 1.5;\\n            return Math.round(ms / n) + " " + name + (isPlural ? "s" : "");\\n        }\\n    }\\n};\\n\\nvar __webpack_module_cache__ = {};\\n\\nfunction __webpack_require__(moduleId) {\\n    var cachedModule = __webpack_module_cache__[moduleId];\\n    if (cachedModule !== undefined) {\\n        return cachedModule.exports;\\n    }\\n    var module = __webpack_module_cache__[moduleId] = {\\n        exports: {}\\n    };\\n    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\\n    return module.exports;\\n}\\n\\n(() => {\\n    __webpack_require__.n = module => {\\n        var getter = module && module.__esModule ? () => module["default"] : () => module;\\n        __webpack_require__.d(getter, {\\n            a: getter\\n        });\\n        return getter;\\n    };\\n})();\\n\\n(() => {\\n    __webpack_require__.d = (exports, definition) => {\\n        for (var key in definition) {\\n            if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\\n                Object.defineProperty(exports, key, {\\n                    enumerable: true,\\n                    get: definition[key]\\n                });\\n            }\\n        }\\n    };\\n})();\\n\\n(() => {\\n    __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\\n})();\\n\\nvar __webpack_exports__ = {};\\n\\n(() => {\\n    const proxyMarker = Symbol("Comlink.proxy");\\n    const createEndpoint = Symbol("Comlink.endpoint");\\n    const releaseProxy = Symbol("Comlink.releaseProxy");\\n    const finalizer = Symbol("Comlink.finalizer");\\n    const throwMarker = Symbol("Comlink.thrown");\\n    const isObject = val => typeof val === "object" && val !== null || typeof val === "function";\\n    const proxyTransferHandler = {\\n        canHandle: val => isObject(val) && val[proxyMarker],\\n        serialize(obj) {\\n            const {port1, port2} = new MessageChannel;\\n            expose(obj, port1);\\n            return [ port2, [ port2 ] ];\\n        },\\n        deserialize(port) {\\n            port.start();\\n            return comlink_wrap(port);\\n        }\\n    };\\n    const throwTransferHandler = {\\n        canHandle: value => isObject(value) && throwMarker in value,\\n        serialize({value}) {\\n            let serialized;\\n            if (value instanceof Error) {\\n                serialized = {\\n                    isError: true,\\n                    value: {\\n                        message: value.message,\\n                        name: value.name,\\n                        stack: value.stack\\n                    }\\n                };\\n            } else {\\n                serialized = {\\n                    isError: false,\\n                    value\\n                };\\n            }\\n            return [ serialized, [] ];\\n        },\\n        deserialize(serialized) {\\n            if (serialized.isError) {\\n                throw Object.assign(new Error(serialized.value.message), serialized.value);\\n            }\\n            throw serialized.value;\\n        }\\n    };\\n    const transferHandlers = new Map([ [ "proxy", proxyTransferHandler ], [ "throw", throwTransferHandler ] ]);\\n    function isAllowedOrigin(allowedOrigins, origin) {\\n        for (const allowedOrigin of allowedOrigins) {\\n            if (origin === allowedOrigin || allowedOrigin === "*") {\\n                return true;\\n            }\\n            if (allowedOrigin instanceof RegExp && allowedOrigin.test(origin)) {\\n                return true;\\n            }\\n        }\\n        return false;\\n    }\\n    function expose(obj, ep = globalThis, allowedOrigins = [ "*" ]) {\\n        ep.addEventListener("message", (function callback(ev) {\\n            if (!ev || !ev.data) {\\n                return;\\n            }\\n            if (!isAllowedOrigin(allowedOrigins, ev.origin)) {\\n                console.warn(\`Invalid origin \\'\${ev.origin}\\' for comlink proxy\`);\\n                return;\\n            }\\n            const {id, type, path} = Object.assign({\\n                path: []\\n            }, ev.data);\\n            const argumentList = (ev.data.argumentList || []).map(fromWireValue);\\n            let returnValue;\\n            try {\\n                const parent = path.slice(0, -1).reduce(((obj, prop) => obj[prop]), obj);\\n                const rawValue = path.reduce(((obj, prop) => obj[prop]), obj);\\n                switch (type) {\\n                  case "GET":\\n                    {\\n                        returnValue = rawValue;\\n                    }\\n                    break;\\n\\n                  case "SET":\\n                    {\\n                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\\n                        returnValue = true;\\n                    }\\n                    break;\\n\\n                  case "APPLY":\\n                    {\\n                        returnValue = rawValue.apply(parent, argumentList);\\n                    }\\n                    break;\\n\\n                  case "CONSTRUCT":\\n                    {\\n                        const value = new rawValue(...argumentList);\\n                        returnValue = proxy(value);\\n                    }\\n                    break;\\n\\n                  case "ENDPOINT":\\n                    {\\n                        const {port1, port2} = new MessageChannel;\\n                        expose(obj, port2);\\n                        returnValue = transfer(port1, [ port1 ]);\\n                    }\\n                    break;\\n\\n                  case "RELEASE":\\n                    {\\n                        returnValue = undefined;\\n                    }\\n                    break;\\n\\n                  default:\\n                    return;\\n                }\\n            } catch (value) {\\n                returnValue = {\\n                    value,\\n                    [throwMarker]: 0\\n                };\\n            }\\n            Promise.resolve(returnValue).catch((value => ({\\n                value,\\n                [throwMarker]: 0\\n            }))).then((returnValue => {\\n                const [wireValue, transferables] = toWireValue(returnValue);\\n                ep.postMessage(Object.assign(Object.assign({}, wireValue), {\\n                    id\\n                }), transferables);\\n                if (type === "RELEASE") {\\n                    ep.removeEventListener("message", callback);\\n                    closeEndPoint(ep);\\n                    if (finalizer in obj && typeof obj[finalizer] === "function") {\\n                        obj[finalizer]();\\n                    }\\n                }\\n            })).catch((error => {\\n                const [wireValue, transferables] = toWireValue({\\n                    value: new TypeError("Unserializable return value"),\\n                    [throwMarker]: 0\\n                });\\n                ep.postMessage(Object.assign(Object.assign({}, wireValue), {\\n                    id\\n                }), transferables);\\n            }));\\n        }));\\n        if (ep.start) {\\n            ep.start();\\n        }\\n    }\\n    function isMessagePort(endpoint) {\\n        return endpoint.constructor.name === "MessagePort";\\n    }\\n    function closeEndPoint(endpoint) {\\n        if (isMessagePort(endpoint)) endpoint.close();\\n    }\\n    function comlink_wrap(ep, target) {\\n        return createProxy(ep, [], target);\\n    }\\n    function throwIfProxyReleased(isReleased) {\\n        if (isReleased) {\\n            throw new Error("Proxy has been released and is not useable");\\n        }\\n    }\\n    function releaseEndpoint(ep) {\\n        return requestResponseMessage(ep, {\\n            type: "RELEASE"\\n        }).then((() => {\\n            closeEndPoint(ep);\\n        }));\\n    }\\n    const proxyCounter = new WeakMap;\\n    const proxyFinalizers = "FinalizationRegistry" in globalThis && new FinalizationRegistry((ep => {\\n        const newCount = (proxyCounter.get(ep) || 0) - 1;\\n        proxyCounter.set(ep, newCount);\\n        if (newCount === 0) {\\n            releaseEndpoint(ep);\\n        }\\n    }));\\n    function registerProxy(proxy, ep) {\\n        const newCount = (proxyCounter.get(ep) || 0) + 1;\\n        proxyCounter.set(ep, newCount);\\n        if (proxyFinalizers) {\\n            proxyFinalizers.register(proxy, ep, proxy);\\n        }\\n    }\\n    function unregisterProxy(proxy) {\\n        if (proxyFinalizers) {\\n            proxyFinalizers.unregister(proxy);\\n        }\\n    }\\n    function createProxy(ep, path = [], target = function() {}) {\\n        let isProxyReleased = false;\\n        const proxy = new Proxy(target, {\\n            get(_target, prop) {\\n                throwIfProxyReleased(isProxyReleased);\\n                if (prop === releaseProxy) {\\n                    return () => {\\n                        unregisterProxy(proxy);\\n                        releaseEndpoint(ep);\\n                        isProxyReleased = true;\\n                    };\\n                }\\n                if (prop === "then") {\\n                    if (path.length === 0) {\\n                        return {\\n                            then: () => proxy\\n                        };\\n                    }\\n                    const r = requestResponseMessage(ep, {\\n                        type: "GET",\\n                        path: path.map((p => p.toString()))\\n                    }).then(fromWireValue);\\n                    return r.then.bind(r);\\n                }\\n                return createProxy(ep, [ ...path, prop ]);\\n            },\\n            set(_target, prop, rawValue) {\\n                throwIfProxyReleased(isProxyReleased);\\n                const [value, transferables] = toWireValue(rawValue);\\n                return requestResponseMessage(ep, {\\n                    type: "SET",\\n                    path: [ ...path, prop ].map((p => p.toString())),\\n                    value\\n                }, transferables).then(fromWireValue);\\n            },\\n            apply(_target, _thisArg, rawArgumentList) {\\n                throwIfProxyReleased(isProxyReleased);\\n                const last = path[path.length - 1];\\n                if (last === createEndpoint) {\\n                    return requestResponseMessage(ep, {\\n                        type: "ENDPOINT"\\n                    }).then(fromWireValue);\\n                }\\n                if (last === "bind") {\\n                    return createProxy(ep, path.slice(0, -1));\\n                }\\n                const [argumentList, transferables] = processArguments(rawArgumentList);\\n                return requestResponseMessage(ep, {\\n                    type: "APPLY",\\n                    path: path.map((p => p.toString())),\\n                    argumentList\\n                }, transferables).then(fromWireValue);\\n            },\\n            construct(_target, rawArgumentList) {\\n                throwIfProxyReleased(isProxyReleased);\\n                const [argumentList, transferables] = processArguments(rawArgumentList);\\n                return requestResponseMessage(ep, {\\n                    type: "CONSTRUCT",\\n                    path: path.map((p => p.toString())),\\n                    argumentList\\n                }, transferables).then(fromWireValue);\\n            }\\n        });\\n        registerProxy(proxy, ep);\\n        return proxy;\\n    }\\n    function myFlat(arr) {\\n        return Array.prototype.concat.apply([], arr);\\n    }\\n    function processArguments(argumentList) {\\n        const processed = argumentList.map(toWireValue);\\n        return [ processed.map((v => v[0])), myFlat(processed.map((v => v[1]))) ];\\n    }\\n    const transferCache = new WeakMap;\\n    function transfer(obj, transfers) {\\n        transferCache.set(obj, transfers);\\n        return obj;\\n    }\\n    function proxy(obj) {\\n        return Object.assign(obj, {\\n            [proxyMarker]: true\\n        });\\n    }\\n    function windowEndpoint(w, context = globalThis, targetOrigin = "*") {\\n        return {\\n            postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),\\n            addEventListener: context.addEventListener.bind(context),\\n            removeEventListener: context.removeEventListener.bind(context)\\n        };\\n    }\\n    function toWireValue(value) {\\n        for (const [name, handler] of transferHandlers) {\\n            if (handler.canHandle(value)) {\\n                const [serializedValue, transferables] = handler.serialize(value);\\n                return [ {\\n                    type: "HANDLER",\\n                    name,\\n                    value: serializedValue\\n                }, transferables ];\\n            }\\n        }\\n        return [ {\\n            type: "RAW",\\n            value\\n        }, transferCache.get(value) || [] ];\\n    }\\n    function fromWireValue(value) {\\n        switch (value.type) {\\n          case "HANDLER":\\n            return transferHandlers.get(value.name).deserialize(value.value);\\n\\n          case "RAW":\\n            return value.value;\\n        }\\n    }\\n    function requestResponseMessage(ep, msg, transfers) {\\n        return new Promise((resolve => {\\n            const id = generateUUID();\\n            ep.addEventListener("message", (function l(ev) {\\n                if (!ev.data || !ev.data.id || ev.data.id !== id) {\\n                    return;\\n                }\\n                ep.removeEventListener("message", l);\\n                resolve(ev.data);\\n            }));\\n            if (ep.start) {\\n                ep.start();\\n            }\\n            ep.postMessage(Object.assign({\\n                id\\n            }, msg), transfers);\\n        }));\\n    }\\n    function generateUUID() {\\n        return new Array(4).fill(0).map((() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))).join("-");\\n    }\\n    function getSharedMemoryAvailable() {\\n        const globalScope = typeof window !== "undefined" ? window : globalThis;\\n        return typeof SharedArrayBuffer !== "undefined" && globalScope.crossOriginIsolated;\\n    }\\n    function getRemoteBarretenbergWasm(worker) {\\n        return wrap(worker);\\n    }\\n    function getNumCpu() {\\n        return navigator.hardwareConcurrency;\\n    }\\n    function threadLogger() {\\n        return undefined;\\n    }\\n    function killSelf() {\\n        self.close();\\n    }\\n    var browser = __webpack_require__(227);\\n    var browser_default = __webpack_require__.n(browser);\\n    const randomBytes = len => {\\n        const getWebCrypto = () => {\\n            if (typeof window !== "undefined" && window.crypto) return window.crypto;\\n            if (typeof globalThis !== "undefined" && globalThis.crypto) return globalThis.crypto;\\n            return undefined;\\n        };\\n        const crypto = getWebCrypto();\\n        if (!crypto) {\\n            throw new Error("randomBytes UnsupportedEnvironment");\\n        }\\n        const buf = new Uint8Array(len);\\n        const MAX_BYTES = 65536;\\n        if (len > MAX_BYTES) {\\n            for (let generated = 0; generated < len; generated += MAX_BYTES) {\\n                crypto.getRandomValues(buf.subarray(generated, generated + MAX_BYTES));\\n            }\\n        } else {\\n            crypto.getRandomValues(buf);\\n        }\\n        return buf;\\n    };\\n    class BarretenbergWasmBase {\\n        constructor() {\\n            this.memStore = {};\\n            this.logger = browser_default()("bb.js:bb_wasm_base");\\n        }\\n        getImportObj(memory) {\\n            const importObj = {\\n                wasi_snapshot_preview1: {\\n                    random_get: (out, length) => {\\n                        out = out >>> 0;\\n                        const randomData = randomBytes(length);\\n                        const mem = this.getMemory();\\n                        mem.set(randomData, out);\\n                    },\\n                    clock_time_get: (a1, a2, out) => {\\n                        out = out >>> 0;\\n                        const ts = BigInt((new Date).getTime()) * 1000000n;\\n                        const view = new DataView(this.getMemory().buffer);\\n                        view.setBigUint64(out, ts, true);\\n                    },\\n                    proc_exit: () => {\\n                        this.logger("PANIC: proc_exit was called.");\\n                        throw new Error;\\n                    }\\n                },\\n                env: {\\n                    logstr: addr => {\\n                        const str = this.stringFromAddress(addr);\\n                        const m = this.getMemory();\\n                        const str2 = \`\${str} (mem: \${(m.length / (1024 * 1024)).toFixed(2)}MiB)\`;\\n                        this.logger(str2);\\n                    },\\n                    get_data: (keyAddr, outBufAddr) => {\\n                        const key = this.stringFromAddress(keyAddr);\\n                        outBufAddr = outBufAddr >>> 0;\\n                        const data = this.memStore[key];\\n                        if (!data) {\\n                            this.logger(\`get_data miss \${key}\`);\\n                            return;\\n                        }\\n                        this.writeMemory(outBufAddr, data);\\n                    },\\n                    set_data: (keyAddr, dataAddr, dataLength) => {\\n                        const key = this.stringFromAddress(keyAddr);\\n                        dataAddr = dataAddr >>> 0;\\n                        this.memStore[key] = this.getMemorySlice(dataAddr, dataAddr + dataLength);\\n                    },\\n                    memory\\n                }\\n            };\\n            return importObj;\\n        }\\n        exports() {\\n            return this.instance.exports;\\n        }\\n        call(name, ...args) {\\n            if (!this.exports()[name]) {\\n                throw new Error(\`WASM function \${name} not found.\`);\\n            }\\n            try {\\n                return this.exports()[name](...args) >>> 0;\\n            } catch (err) {\\n                const message = \`WASM function \${name} aborted, error: \${err}\`;\\n                this.logger(message);\\n                this.logger(err.stack);\\n                throw err;\\n            }\\n        }\\n        memSize() {\\n            return this.getMemory().length;\\n        }\\n        getMemorySlice(start, end) {\\n            return this.getMemory().subarray(start, end).slice();\\n        }\\n        writeMemory(offset, arr) {\\n            const mem = this.getMemory();\\n            mem.set(arr, offset);\\n        }\\n        getMemory() {\\n            return new Uint8Array(this.memory.buffer);\\n        }\\n        stringFromAddress(addr) {\\n            addr = addr >>> 0;\\n            const m = this.getMemory();\\n            let i = addr;\\n            for (;m[i] !== 0; ++i) ;\\n            const textDecoder = new TextDecoder("ascii");\\n            return textDecoder.decode(m.slice(addr, i));\\n        }\\n    }\\n    class BarretenbergWasmThread extends BarretenbergWasmBase {\\n        async initThread(module, memory) {\\n            this.logger = threadLogger() || this.logger;\\n            this.memory = memory;\\n            this.instance = await WebAssembly.instantiate(module, this.getImportObj(this.memory));\\n        }\\n        destroy() {\\n            killSelf();\\n        }\\n        getImportObj(memory) {\\n            const baseImports = super.getImportObj(memory);\\n            return {\\n                ...baseImports,\\n                wasi: {\\n                    "thread-spawn": () => {\\n                        this.logger("PANIC: threads cannot spawn threads!");\\n                        this.logger((new Error).stack);\\n                        killSelf();\\n                    }\\n                },\\n                env: {\\n                    ...baseImports.env,\\n                    env_hardware_concurrency: () => 1\\n                }\\n            };\\n        }\\n    }\\n    self.onmessage = function(e) {\\n        if (e.data.debug) {\\n            browser_default().enable(e.data.debug);\\n        }\\n    };\\n    expose(new BarretenbergWasmThread);\\n    self.postMessage({\\n        ready: true\\n    });\\n    const thread_worker = null;\\n})();', "Worker", undefined, undefined);
    }
    function createThreadWorker() {
        const worker = new Worker_fn;
        const debugStr = browser_default().disable();
        browser_default().enable(debugStr);
        worker.postMessage({
            debug: debugStr
        });
        return worker;
    }
    const randomBytes = len => {
        const getWebCrypto = () => {
            if (typeof window !== "undefined" && window.crypto) return window.crypto;
            if (typeof globalThis !== "undefined" && globalThis.crypto) return globalThis.crypto;
            return undefined;
        };
        const crypto = getWebCrypto();
        if (!crypto) {
            throw new Error("randomBytes UnsupportedEnvironment");
        }
        const buf = new Uint8Array(len);
        const MAX_BYTES = 65536;
        if (len > MAX_BYTES) {
            for (let generated = 0; generated < len; generated += MAX_BYTES) {
                crypto.getRandomValues(buf.subarray(generated, generated + MAX_BYTES));
            }
        } else {
            crypto.getRandomValues(buf);
        }
        return buf;
    };
    class BarretenbergWasmBase {
        constructor() {
            this.memStore = {};
            this.logger = browser_default()("bb.js:bb_wasm_base");
        }
        getImportObj(memory) {
            const importObj = {
                wasi_snapshot_preview1: {
                    random_get: (out, length) => {
                        out = out >>> 0;
                        const randomData = randomBytes(length);
                        const mem = this.getMemory();
                        mem.set(randomData, out);
                    },
                    clock_time_get: (a1, a2, out) => {
                        out = out >>> 0;
                        const ts = BigInt((new Date).getTime()) * 1000000n;
                        const view = new DataView(this.getMemory().buffer);
                        view.setBigUint64(out, ts, true);
                    },
                    proc_exit: () => {
                        this.logger("PANIC: proc_exit was called.");
                        throw new Error;
                    }
                },
                env: {
                    logstr: addr => {
                        const str = this.stringFromAddress(addr);
                        const m = this.getMemory();
                        const str2 = \`\${str} (mem: \${(m.length / (1024 * 1024)).toFixed(2)}MiB)\`;
                        this.logger(str2);
                    },
                    get_data: (keyAddr, outBufAddr) => {
                        const key = this.stringFromAddress(keyAddr);
                        outBufAddr = outBufAddr >>> 0;
                        const data = this.memStore[key];
                        if (!data) {
                            this.logger(\`get_data miss \${key}\`);
                            return;
                        }
                        this.writeMemory(outBufAddr, data);
                    },
                    set_data: (keyAddr, dataAddr, dataLength) => {
                        const key = this.stringFromAddress(keyAddr);
                        dataAddr = dataAddr >>> 0;
                        this.memStore[key] = this.getMemorySlice(dataAddr, dataAddr + dataLength);
                    },
                    memory
                }
            };
            return importObj;
        }
        exports() {
            return this.instance.exports;
        }
        call(name, ...args) {
            if (!this.exports()[name]) {
                throw new Error(\`WASM function \${name} not found.\`);
            }
            try {
                return this.exports()[name](...args) >>> 0;
            } catch (err) {
                const message = \`WASM function \${name} aborted, error: \${err}\`;
                this.logger(message);
                this.logger(err.stack);
                throw err;
            }
        }
        memSize() {
            return this.getMemory().length;
        }
        getMemorySlice(start, end) {
            return this.getMemory().subarray(start, end).slice();
        }
        writeMemory(offset, arr) {
            const mem = this.getMemory();
            mem.set(arr, offset);
        }
        getMemory() {
            return new Uint8Array(this.memory.buffer);
        }
        stringFromAddress(addr) {
            addr = addr >>> 0;
            const m = this.getMemory();
            let i = addr;
            for (;m[i] !== 0; ++i) ;
            const textDecoder = new TextDecoder("ascii");
            return textDecoder.decode(m.slice(addr, i));
        }
    }
    class HeapAllocator {
        constructor(wasm) {
            this.wasm = wasm;
            this.allocs = [];
            this.inScratchRemaining = 1024;
            this.outScratchRemaining = 1024;
        }
        getInputs(buffers) {
            return buffers.map((bufOrNum => {
                if (typeof bufOrNum === "object") {
                    if (bufOrNum.length <= this.inScratchRemaining) {
                        const ptr = this.inScratchRemaining -= bufOrNum.length;
                        this.wasm.writeMemory(ptr, bufOrNum);
                        return ptr;
                    } else {
                        const ptr = this.wasm.call("bbmalloc", bufOrNum.length);
                        this.wasm.writeMemory(ptr, bufOrNum);
                        this.allocs.push(ptr);
                        return ptr;
                    }
                } else {
                    return bufOrNum;
                }
            }));
        }
        getOutputPtrs(outLens) {
            return outLens.map((len => {
                const size = len || 4;
                if (size <= this.outScratchRemaining) {
                    return this.outScratchRemaining -= size;
                } else {
                    const ptr = this.wasm.call("bbmalloc", size);
                    this.allocs.push(ptr);
                    return ptr;
                }
            }));
        }
        addOutputPtr(ptr) {
            if (ptr >= 1024) {
                this.allocs.push(ptr);
            }
        }
        freeAll() {
            for (const ptr of this.allocs) {
                this.wasm.call("bbfree", ptr);
            }
        }
    }
    class BarretenbergWasmMain extends BarretenbergWasmBase {
        constructor() {
            super(...arguments);
            this.workers = [];
            this.remoteWasms = [];
            this.nextWorker = 0;
            this.nextThreadId = 1;
        }
        getNumThreads() {
            return this.workers.length + 1;
        }
        async init(module, threads = Math.min(getNumCpu(), BarretenbergWasmMain.MAX_THREADS), logger = browser_default()("bb.js:bb_wasm"), initial = 32, maximum = 2 ** 16) {
            this.logger = logger;
            const initialMb = initial * 2 ** 16 / (1024 * 1024);
            const maxMb = maximum * 2 ** 16 / (1024 * 1024);
            const shared = getSharedMemoryAvailable();
            this.logger(\`Initializing bb wasm: initial memory \${initial} pages \${initialMb}MiB; \` + \`max memory: \${maximum} pages, \${maxMb}MiB; \` + \`threads: \${threads}; shared memory: \${shared}\`);
            this.memory = new WebAssembly.Memory({
                initial,
                maximum,
                shared
            });
            const instance = await WebAssembly.instantiate(module, this.getImportObj(this.memory));
            this.instance = instance;
            this.call("_initialize");
            if (threads > 1) {
                this.logger(\`Creating \${threads} worker threads\`);
                this.workers = await Promise.all(Array.from({
                    length: threads - 1
                }).map(createThreadWorker));
                this.remoteWasms = await Promise.all(this.workers.map(getRemoteBarretenbergWasm));
                await Promise.all(this.remoteWasms.map((w => w.initThread(module, this.memory))));
            }
        }
        async destroy() {
            await Promise.all(this.workers.map((w => w.terminate())));
        }
        getImportObj(memory) {
            const baseImports = super.getImportObj(memory);
            return {
                ...baseImports,
                wasi: {
                    "thread-spawn": arg => {
                        arg = arg >>> 0;
                        const id = this.nextThreadId++;
                        const worker = this.nextWorker++ % this.remoteWasms.length;
                        this.remoteWasms[worker].call("wasi_thread_start", id, arg).catch(this.logger);
                        return id;
                    }
                },
                env: {
                    ...baseImports.env,
                    env_hardware_concurrency: () => this.remoteWasms.length + 1
                }
            };
        }
        callWasmExport(funcName, inArgs, outLens) {
            const alloc = new HeapAllocator(this);
            const inPtrs = alloc.getInputs(inArgs);
            const outPtrs = alloc.getOutputPtrs(outLens);
            this.call(funcName, ...inPtrs, ...outPtrs);
            const outArgs = this.getOutputArgs(outLens, outPtrs, alloc);
            alloc.freeAll();
            return outArgs;
        }
        getOutputArgs(outLens, outPtrs, alloc) {
            return outLens.map(((len, i) => {
                if (len) {
                    return this.getMemorySlice(outPtrs[i], outPtrs[i] + len);
                }
                const slice = this.getMemorySlice(outPtrs[i], outPtrs[i] + 4);
                const ptr = new DataView(slice.buffer, slice.byteOffset, slice.byteLength).getUint32(0, true);
                alloc.addOutputPtr(ptr);
                const lslice = this.getMemorySlice(ptr, ptr + 4);
                const length = new DataView(lslice.buffer, lslice.byteOffset, lslice.byteLength).getUint32(0, false);
                return this.getMemorySlice(ptr + 4, ptr + 4 + length);
            }));
        }
    }
    BarretenbergWasmMain.MAX_THREADS = 32;
    self.onmessage = function(e) {
        if (e.data.debug) {
            browser_default().enable(e.data.debug);
        }
    };
    expose(new BarretenbergWasmMain);
    self.postMessage({
        ready: true
    });
    const main_worker = null;
})();`,"Worker",void 0,void 0)}function Xo(){const f=new Bi,g=Br().disable();return Br().enable(g),f.postMessage({debug:g}),f}function ie(){const f=typeof window<"u"?window:globalThis;return typeof SharedArrayBuffer<"u"&&f.crossOriginIsolated}function D(f){return Ee(f)}function q(){return navigator.hardwareConcurrency}function we(){return ho()(`/*! For license information please see thread.worker.worker.js.LICENSE.txt */
var __webpack_modules__ = {
    227: (module, exports, __webpack_require__) => {
        exports.formatArgs = formatArgs;
        exports.save = save;
        exports.load = load;
        exports.useColors = useColors;
        exports.storage = localstorage();
        exports.destroy = (() => {
            let warned = false;
            return () => {
                if (!warned) {
                    warned = true;
                    console.warn("Instance method \`debug.destroy()\` is deprecated and no longer does anything. It will be removed in the next major version of \`debug\`.");
                }
            };
        })();
        exports.colors = [ "#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33" ];
        function useColors() {
            if (typeof window !== "undefined" && window.process && (window.process.type === "renderer" || window.process.__nwjs)) {
                return true;
            }
            if (typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {
                return false;
            }
            return typeof document !== "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window !== "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);
        }
        function formatArgs(args) {
            args[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + args[0] + (this.useColors ? "%c " : " ") + "+" + module.exports.humanize(this.diff);
            if (!this.useColors) {
                return;
            }
            const c = "color: " + this.color;
            args.splice(1, 0, c, "color: inherit");
            let index = 0;
            let lastC = 0;
            args[0].replace(/%[a-zA-Z%]/g, (match => {
                if (match === "%%") {
                    return;
                }
                index++;
                if (match === "%c") {
                    lastC = index;
                }
            }));
            args.splice(lastC, 0, c);
        }
        exports.log = console.debug || console.log || (() => {});
        function save(namespaces) {
            try {
                if (namespaces) {
                    exports.storage.setItem("debug", namespaces);
                } else {
                    exports.storage.removeItem("debug");
                }
            } catch (error) {}
        }
        function load() {
            let r;
            try {
                r = exports.storage.getItem("debug");
            } catch (error) {}
            if (!r && typeof process !== "undefined" && "env" in process) {
                r = process.env.DEBUG;
            }
            return r;
        }
        function localstorage() {
            try {
                return localStorage;
            } catch (error) {}
        }
        module.exports = __webpack_require__(447)(exports);
        const {formatters} = module.exports;
        formatters.j = function(v) {
            try {
                return JSON.stringify(v);
            } catch (error) {
                return "[UnexpectedJSONParseError]: " + error.message;
            }
        };
    },
    447: (module, __unused_webpack_exports, __webpack_require__) => {
        function setup(env) {
            createDebug.debug = createDebug;
            createDebug.default = createDebug;
            createDebug.coerce = coerce;
            createDebug.disable = disable;
            createDebug.enable = enable;
            createDebug.enabled = enabled;
            createDebug.humanize = __webpack_require__(824);
            createDebug.destroy = destroy;
            Object.keys(env).forEach((key => {
                createDebug[key] = env[key];
            }));
            createDebug.names = [];
            createDebug.skips = [];
            createDebug.formatters = {};
            function selectColor(namespace) {
                let hash = 0;
                for (let i = 0; i < namespace.length; i++) {
                    hash = (hash << 5) - hash + namespace.charCodeAt(i);
                    hash |= 0;
                }
                return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
            }
            createDebug.selectColor = selectColor;
            function createDebug(namespace) {
                let prevTime;
                let enableOverride = null;
                let namespacesCache;
                let enabledCache;
                function debug(...args) {
                    if (!debug.enabled) {
                        return;
                    }
                    const self = debug;
                    const curr = Number(new Date);
                    const ms = curr - (prevTime || curr);
                    self.diff = ms;
                    self.prev = prevTime;
                    self.curr = curr;
                    prevTime = curr;
                    args[0] = createDebug.coerce(args[0]);
                    if (typeof args[0] !== "string") {
                        args.unshift("%O");
                    }
                    let index = 0;
                    args[0] = args[0].replace(/%([a-zA-Z%])/g, ((match, format) => {
                        if (match === "%%") {
                            return "%";
                        }
                        index++;
                        const formatter = createDebug.formatters[format];
                        if (typeof formatter === "function") {
                            const val = args[index];
                            match = formatter.call(self, val);
                            args.splice(index, 1);
                            index--;
                        }
                        return match;
                    }));
                    createDebug.formatArgs.call(self, args);
                    const logFn = self.log || createDebug.log;
                    logFn.apply(self, args);
                }
                debug.namespace = namespace;
                debug.useColors = createDebug.useColors();
                debug.color = createDebug.selectColor(namespace);
                debug.extend = extend;
                debug.destroy = createDebug.destroy;
                Object.defineProperty(debug, "enabled", {
                    enumerable: true,
                    configurable: false,
                    get: () => {
                        if (enableOverride !== null) {
                            return enableOverride;
                        }
                        if (namespacesCache !== createDebug.namespaces) {
                            namespacesCache = createDebug.namespaces;
                            enabledCache = createDebug.enabled(namespace);
                        }
                        return enabledCache;
                    },
                    set: v => {
                        enableOverride = v;
                    }
                });
                if (typeof createDebug.init === "function") {
                    createDebug.init(debug);
                }
                return debug;
            }
            function extend(namespace, delimiter) {
                const newDebug = createDebug(this.namespace + (typeof delimiter === "undefined" ? ":" : delimiter) + namespace);
                newDebug.log = this.log;
                return newDebug;
            }
            function enable(namespaces) {
                createDebug.save(namespaces);
                createDebug.namespaces = namespaces;
                createDebug.names = [];
                createDebug.skips = [];
                let i;
                const split = (typeof namespaces === "string" ? namespaces : "").split(/[\\s,]+/);
                const len = split.length;
                for (i = 0; i < len; i++) {
                    if (!split[i]) {
                        continue;
                    }
                    namespaces = split[i].replace(/\\*/g, ".*?");
                    if (namespaces[0] === "-") {
                        createDebug.skips.push(new RegExp("^" + namespaces.slice(1) + "$"));
                    } else {
                        createDebug.names.push(new RegExp("^" + namespaces + "$"));
                    }
                }
            }
            function disable() {
                const namespaces = [ ...createDebug.names.map(toNamespace), ...createDebug.skips.map(toNamespace).map((namespace => "-" + namespace)) ].join(",");
                createDebug.enable("");
                return namespaces;
            }
            function enabled(name) {
                if (name[name.length - 1] === "*") {
                    return true;
                }
                let i;
                let len;
                for (i = 0, len = createDebug.skips.length; i < len; i++) {
                    if (createDebug.skips[i].test(name)) {
                        return false;
                    }
                }
                for (i = 0, len = createDebug.names.length; i < len; i++) {
                    if (createDebug.names[i].test(name)) {
                        return true;
                    }
                }
                return false;
            }
            function toNamespace(regexp) {
                return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\\.\\*\\?$/, "*");
            }
            function coerce(val) {
                if (val instanceof Error) {
                    return val.stack || val.message;
                }
                return val;
            }
            function destroy() {
                console.warn("Instance method \`debug.destroy()\` is deprecated and no longer does anything. It will be removed in the next major version of \`debug\`.");
            }
            createDebug.enable(createDebug.load());
            return createDebug;
        }
        module.exports = setup;
    },
    824: module => {
        var s = 1e3;
        var m = s * 60;
        var h = m * 60;
        var d = h * 24;
        var w = d * 7;
        var y = d * 365.25;
        module.exports = function(val, options) {
            options = options || {};
            var type = typeof val;
            if (type === "string" && val.length > 0) {
                return parse(val);
            } else if (type === "number" && isFinite(val)) {
                return options.long ? fmtLong(val) : fmtShort(val);
            }
            throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(val));
        };
        function parse(str) {
            str = String(str);
            if (str.length > 100) {
                return;
            }
            var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);
            if (!match) {
                return;
            }
            var n = parseFloat(match[1]);
            var type = (match[2] || "ms").toLowerCase();
            switch (type) {
              case "years":
              case "year":
              case "yrs":
              case "yr":
              case "y":
                return n * y;

              case "weeks":
              case "week":
              case "w":
                return n * w;

              case "days":
              case "day":
              case "d":
                return n * d;

              case "hours":
              case "hour":
              case "hrs":
              case "hr":
              case "h":
                return n * h;

              case "minutes":
              case "minute":
              case "mins":
              case "min":
              case "m":
                return n * m;

              case "seconds":
              case "second":
              case "secs":
              case "sec":
              case "s":
                return n * s;

              case "milliseconds":
              case "millisecond":
              case "msecs":
              case "msec":
              case "ms":
                return n;

              default:
                return undefined;
            }
        }
        function fmtShort(ms) {
            var msAbs = Math.abs(ms);
            if (msAbs >= d) {
                return Math.round(ms / d) + "d";
            }
            if (msAbs >= h) {
                return Math.round(ms / h) + "h";
            }
            if (msAbs >= m) {
                return Math.round(ms / m) + "m";
            }
            if (msAbs >= s) {
                return Math.round(ms / s) + "s";
            }
            return ms + "ms";
        }
        function fmtLong(ms) {
            var msAbs = Math.abs(ms);
            if (msAbs >= d) {
                return plural(ms, msAbs, d, "day");
            }
            if (msAbs >= h) {
                return plural(ms, msAbs, h, "hour");
            }
            if (msAbs >= m) {
                return plural(ms, msAbs, m, "minute");
            }
            if (msAbs >= s) {
                return plural(ms, msAbs, s, "second");
            }
            return ms + " ms";
        }
        function plural(ms, msAbs, n, name) {
            var isPlural = msAbs >= n * 1.5;
            return Math.round(ms / n) + " " + name + (isPlural ? "s" : "");
        }
    }
};

var __webpack_module_cache__ = {};

function __webpack_require__(moduleId) {
    var cachedModule = __webpack_module_cache__[moduleId];
    if (cachedModule !== undefined) {
        return cachedModule.exports;
    }
    var module = __webpack_module_cache__[moduleId] = {
        exports: {}
    };
    __webpack_modules__[moduleId](module, module.exports, __webpack_require__);
    return module.exports;
}

(() => {
    __webpack_require__.n = module => {
        var getter = module && module.__esModule ? () => module["default"] : () => module;
        __webpack_require__.d(getter, {
            a: getter
        });
        return getter;
    };
})();

(() => {
    __webpack_require__.d = (exports, definition) => {
        for (var key in definition) {
            if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
                Object.defineProperty(exports, key, {
                    enumerable: true,
                    get: definition[key]
                });
            }
        }
    };
})();

(() => {
    __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
})();

var __webpack_exports__ = {};

(() => {
    const proxyMarker = Symbol("Comlink.proxy");
    const createEndpoint = Symbol("Comlink.endpoint");
    const releaseProxy = Symbol("Comlink.releaseProxy");
    const finalizer = Symbol("Comlink.finalizer");
    const throwMarker = Symbol("Comlink.thrown");
    const isObject = val => typeof val === "object" && val !== null || typeof val === "function";
    const proxyTransferHandler = {
        canHandle: val => isObject(val) && val[proxyMarker],
        serialize(obj) {
            const {port1, port2} = new MessageChannel;
            expose(obj, port1);
            return [ port2, [ port2 ] ];
        },
        deserialize(port) {
            port.start();
            return comlink_wrap(port);
        }
    };
    const throwTransferHandler = {
        canHandle: value => isObject(value) && throwMarker in value,
        serialize({value}) {
            let serialized;
            if (value instanceof Error) {
                serialized = {
                    isError: true,
                    value: {
                        message: value.message,
                        name: value.name,
                        stack: value.stack
                    }
                };
            } else {
                serialized = {
                    isError: false,
                    value
                };
            }
            return [ serialized, [] ];
        },
        deserialize(serialized) {
            if (serialized.isError) {
                throw Object.assign(new Error(serialized.value.message), serialized.value);
            }
            throw serialized.value;
        }
    };
    const transferHandlers = new Map([ [ "proxy", proxyTransferHandler ], [ "throw", throwTransferHandler ] ]);
    function isAllowedOrigin(allowedOrigins, origin) {
        for (const allowedOrigin of allowedOrigins) {
            if (origin === allowedOrigin || allowedOrigin === "*") {
                return true;
            }
            if (allowedOrigin instanceof RegExp && allowedOrigin.test(origin)) {
                return true;
            }
        }
        return false;
    }
    function expose(obj, ep = globalThis, allowedOrigins = [ "*" ]) {
        ep.addEventListener("message", (function callback(ev) {
            if (!ev || !ev.data) {
                return;
            }
            if (!isAllowedOrigin(allowedOrigins, ev.origin)) {
                console.warn(\`Invalid origin '\${ev.origin}' for comlink proxy\`);
                return;
            }
            const {id, type, path} = Object.assign({
                path: []
            }, ev.data);
            const argumentList = (ev.data.argumentList || []).map(fromWireValue);
            let returnValue;
            try {
                const parent = path.slice(0, -1).reduce(((obj, prop) => obj[prop]), obj);
                const rawValue = path.reduce(((obj, prop) => obj[prop]), obj);
                switch (type) {
                  case "GET":
                    {
                        returnValue = rawValue;
                    }
                    break;

                  case "SET":
                    {
                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);
                        returnValue = true;
                    }
                    break;

                  case "APPLY":
                    {
                        returnValue = rawValue.apply(parent, argumentList);
                    }
                    break;

                  case "CONSTRUCT":
                    {
                        const value = new rawValue(...argumentList);
                        returnValue = proxy(value);
                    }
                    break;

                  case "ENDPOINT":
                    {
                        const {port1, port2} = new MessageChannel;
                        expose(obj, port2);
                        returnValue = transfer(port1, [ port1 ]);
                    }
                    break;

                  case "RELEASE":
                    {
                        returnValue = undefined;
                    }
                    break;

                  default:
                    return;
                }
            } catch (value) {
                returnValue = {
                    value,
                    [throwMarker]: 0
                };
            }
            Promise.resolve(returnValue).catch((value => ({
                value,
                [throwMarker]: 0
            }))).then((returnValue => {
                const [wireValue, transferables] = toWireValue(returnValue);
                ep.postMessage(Object.assign(Object.assign({}, wireValue), {
                    id
                }), transferables);
                if (type === "RELEASE") {
                    ep.removeEventListener("message", callback);
                    closeEndPoint(ep);
                    if (finalizer in obj && typeof obj[finalizer] === "function") {
                        obj[finalizer]();
                    }
                }
            })).catch((error => {
                const [wireValue, transferables] = toWireValue({
                    value: new TypeError("Unserializable return value"),
                    [throwMarker]: 0
                });
                ep.postMessage(Object.assign(Object.assign({}, wireValue), {
                    id
                }), transferables);
            }));
        }));
        if (ep.start) {
            ep.start();
        }
    }
    function isMessagePort(endpoint) {
        return endpoint.constructor.name === "MessagePort";
    }
    function closeEndPoint(endpoint) {
        if (isMessagePort(endpoint)) endpoint.close();
    }
    function comlink_wrap(ep, target) {
        return createProxy(ep, [], target);
    }
    function throwIfProxyReleased(isReleased) {
        if (isReleased) {
            throw new Error("Proxy has been released and is not useable");
        }
    }
    function releaseEndpoint(ep) {
        return requestResponseMessage(ep, {
            type: "RELEASE"
        }).then((() => {
            closeEndPoint(ep);
        }));
    }
    const proxyCounter = new WeakMap;
    const proxyFinalizers = "FinalizationRegistry" in globalThis && new FinalizationRegistry((ep => {
        const newCount = (proxyCounter.get(ep) || 0) - 1;
        proxyCounter.set(ep, newCount);
        if (newCount === 0) {
            releaseEndpoint(ep);
        }
    }));
    function registerProxy(proxy, ep) {
        const newCount = (proxyCounter.get(ep) || 0) + 1;
        proxyCounter.set(ep, newCount);
        if (proxyFinalizers) {
            proxyFinalizers.register(proxy, ep, proxy);
        }
    }
    function unregisterProxy(proxy) {
        if (proxyFinalizers) {
            proxyFinalizers.unregister(proxy);
        }
    }
    function createProxy(ep, path = [], target = function() {}) {
        let isProxyReleased = false;
        const proxy = new Proxy(target, {
            get(_target, prop) {
                throwIfProxyReleased(isProxyReleased);
                if (prop === releaseProxy) {
                    return () => {
                        unregisterProxy(proxy);
                        releaseEndpoint(ep);
                        isProxyReleased = true;
                    };
                }
                if (prop === "then") {
                    if (path.length === 0) {
                        return {
                            then: () => proxy
                        };
                    }
                    const r = requestResponseMessage(ep, {
                        type: "GET",
                        path: path.map((p => p.toString()))
                    }).then(fromWireValue);
                    return r.then.bind(r);
                }
                return createProxy(ep, [ ...path, prop ]);
            },
            set(_target, prop, rawValue) {
                throwIfProxyReleased(isProxyReleased);
                const [value, transferables] = toWireValue(rawValue);
                return requestResponseMessage(ep, {
                    type: "SET",
                    path: [ ...path, prop ].map((p => p.toString())),
                    value
                }, transferables).then(fromWireValue);
            },
            apply(_target, _thisArg, rawArgumentList) {
                throwIfProxyReleased(isProxyReleased);
                const last = path[path.length - 1];
                if (last === createEndpoint) {
                    return requestResponseMessage(ep, {
                        type: "ENDPOINT"
                    }).then(fromWireValue);
                }
                if (last === "bind") {
                    return createProxy(ep, path.slice(0, -1));
                }
                const [argumentList, transferables] = processArguments(rawArgumentList);
                return requestResponseMessage(ep, {
                    type: "APPLY",
                    path: path.map((p => p.toString())),
                    argumentList
                }, transferables).then(fromWireValue);
            },
            construct(_target, rawArgumentList) {
                throwIfProxyReleased(isProxyReleased);
                const [argumentList, transferables] = processArguments(rawArgumentList);
                return requestResponseMessage(ep, {
                    type: "CONSTRUCT",
                    path: path.map((p => p.toString())),
                    argumentList
                }, transferables).then(fromWireValue);
            }
        });
        registerProxy(proxy, ep);
        return proxy;
    }
    function myFlat(arr) {
        return Array.prototype.concat.apply([], arr);
    }
    function processArguments(argumentList) {
        const processed = argumentList.map(toWireValue);
        return [ processed.map((v => v[0])), myFlat(processed.map((v => v[1]))) ];
    }
    const transferCache = new WeakMap;
    function transfer(obj, transfers) {
        transferCache.set(obj, transfers);
        return obj;
    }
    function proxy(obj) {
        return Object.assign(obj, {
            [proxyMarker]: true
        });
    }
    function windowEndpoint(w, context = globalThis, targetOrigin = "*") {
        return {
            postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),
            addEventListener: context.addEventListener.bind(context),
            removeEventListener: context.removeEventListener.bind(context)
        };
    }
    function toWireValue(value) {
        for (const [name, handler] of transferHandlers) {
            if (handler.canHandle(value)) {
                const [serializedValue, transferables] = handler.serialize(value);
                return [ {
                    type: "HANDLER",
                    name,
                    value: serializedValue
                }, transferables ];
            }
        }
        return [ {
            type: "RAW",
            value
        }, transferCache.get(value) || [] ];
    }
    function fromWireValue(value) {
        switch (value.type) {
          case "HANDLER":
            return transferHandlers.get(value.name).deserialize(value.value);

          case "RAW":
            return value.value;
        }
    }
    function requestResponseMessage(ep, msg, transfers) {
        return new Promise((resolve => {
            const id = generateUUID();
            ep.addEventListener("message", (function l(ev) {
                if (!ev.data || !ev.data.id || ev.data.id !== id) {
                    return;
                }
                ep.removeEventListener("message", l);
                resolve(ev.data);
            }));
            if (ep.start) {
                ep.start();
            }
            ep.postMessage(Object.assign({
                id
            }, msg), transfers);
        }));
    }
    function generateUUID() {
        return new Array(4).fill(0).map((() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))).join("-");
    }
    function getSharedMemoryAvailable() {
        const globalScope = typeof window !== "undefined" ? window : globalThis;
        return typeof SharedArrayBuffer !== "undefined" && globalScope.crossOriginIsolated;
    }
    function getRemoteBarretenbergWasm(worker) {
        return wrap(worker);
    }
    function getNumCpu() {
        return navigator.hardwareConcurrency;
    }
    function threadLogger() {
        return undefined;
    }
    function killSelf() {
        self.close();
    }
    var browser = __webpack_require__(227);
    var browser_default = __webpack_require__.n(browser);
    const randomBytes = len => {
        const getWebCrypto = () => {
            if (typeof window !== "undefined" && window.crypto) return window.crypto;
            if (typeof globalThis !== "undefined" && globalThis.crypto) return globalThis.crypto;
            return undefined;
        };
        const crypto = getWebCrypto();
        if (!crypto) {
            throw new Error("randomBytes UnsupportedEnvironment");
        }
        const buf = new Uint8Array(len);
        const MAX_BYTES = 65536;
        if (len > MAX_BYTES) {
            for (let generated = 0; generated < len; generated += MAX_BYTES) {
                crypto.getRandomValues(buf.subarray(generated, generated + MAX_BYTES));
            }
        } else {
            crypto.getRandomValues(buf);
        }
        return buf;
    };
    class BarretenbergWasmBase {
        constructor() {
            this.memStore = {};
            this.logger = browser_default()("bb.js:bb_wasm_base");
        }
        getImportObj(memory) {
            const importObj = {
                wasi_snapshot_preview1: {
                    random_get: (out, length) => {
                        out = out >>> 0;
                        const randomData = randomBytes(length);
                        const mem = this.getMemory();
                        mem.set(randomData, out);
                    },
                    clock_time_get: (a1, a2, out) => {
                        out = out >>> 0;
                        const ts = BigInt((new Date).getTime()) * 1000000n;
                        const view = new DataView(this.getMemory().buffer);
                        view.setBigUint64(out, ts, true);
                    },
                    proc_exit: () => {
                        this.logger("PANIC: proc_exit was called.");
                        throw new Error;
                    }
                },
                env: {
                    logstr: addr => {
                        const str = this.stringFromAddress(addr);
                        const m = this.getMemory();
                        const str2 = \`\${str} (mem: \${(m.length / (1024 * 1024)).toFixed(2)}MiB)\`;
                        this.logger(str2);
                    },
                    get_data: (keyAddr, outBufAddr) => {
                        const key = this.stringFromAddress(keyAddr);
                        outBufAddr = outBufAddr >>> 0;
                        const data = this.memStore[key];
                        if (!data) {
                            this.logger(\`get_data miss \${key}\`);
                            return;
                        }
                        this.writeMemory(outBufAddr, data);
                    },
                    set_data: (keyAddr, dataAddr, dataLength) => {
                        const key = this.stringFromAddress(keyAddr);
                        dataAddr = dataAddr >>> 0;
                        this.memStore[key] = this.getMemorySlice(dataAddr, dataAddr + dataLength);
                    },
                    memory
                }
            };
            return importObj;
        }
        exports() {
            return this.instance.exports;
        }
        call(name, ...args) {
            if (!this.exports()[name]) {
                throw new Error(\`WASM function \${name} not found.\`);
            }
            try {
                return this.exports()[name](...args) >>> 0;
            } catch (err) {
                const message = \`WASM function \${name} aborted, error: \${err}\`;
                this.logger(message);
                this.logger(err.stack);
                throw err;
            }
        }
        memSize() {
            return this.getMemory().length;
        }
        getMemorySlice(start, end) {
            return this.getMemory().subarray(start, end).slice();
        }
        writeMemory(offset, arr) {
            const mem = this.getMemory();
            mem.set(arr, offset);
        }
        getMemory() {
            return new Uint8Array(this.memory.buffer);
        }
        stringFromAddress(addr) {
            addr = addr >>> 0;
            const m = this.getMemory();
            let i = addr;
            for (;m[i] !== 0; ++i) ;
            const textDecoder = new TextDecoder("ascii");
            return textDecoder.decode(m.slice(addr, i));
        }
    }
    class BarretenbergWasmThread extends BarretenbergWasmBase {
        async initThread(module, memory) {
            this.logger = threadLogger() || this.logger;
            this.memory = memory;
            this.instance = await WebAssembly.instantiate(module, this.getImportObj(this.memory));
        }
        destroy() {
            killSelf();
        }
        getImportObj(memory) {
            const baseImports = super.getImportObj(memory);
            return {
                ...baseImports,
                wasi: {
                    "thread-spawn": () => {
                        this.logger("PANIC: threads cannot spawn threads!");
                        this.logger((new Error).stack);
                        killSelf();
                    }
                },
                env: {
                    ...baseImports.env,
                    env_hardware_concurrency: () => 1
                }
            };
        }
    }
    self.onmessage = function(e) {
        if (e.data.debug) {
            browser_default().enable(e.data.debug);
        }
    };
    expose(new BarretenbergWasmThread);
    self.postMessage({
        ready: true
    });
    const thread_worker = null;
})();`,"Worker",void 0,void 0)}function Le(){const f=new we,g=Br().disable();return Br().enable(g),f.postMessage({debug:g}),f}class Ye{constructor(){this.memStore={},this.logger=Br()("bb.js:bb_wasm_base")}getImportObj(g){return{wasi_snapshot_preview1:{random_get:(C,O)=>{C=C>>>0;const $=be(O);this.getMemory().set($,C)},clock_time_get:(C,O,$)=>{$=$>>>0;const K=BigInt(new Date().getTime())*1000000n;new DataView(this.getMemory().buffer).setBigUint64($,K,!0)},proc_exit:()=>{throw this.logger("PANIC: proc_exit was called."),new Error}},env:{logstr:C=>{const O=this.stringFromAddress(C),$=this.getMemory(),K=`${O} (mem: ${($.length/(1024*1024)).toFixed(2)}MiB)`;this.logger(K)},get_data:(C,O)=>{const $=this.stringFromAddress(C);O=O>>>0;const K=this.memStore[$];if(!K){this.logger(`get_data miss ${$}`);return}this.writeMemory(O,K)},set_data:(C,O,$)=>{const K=this.stringFromAddress(C);O=O>>>0,this.memStore[K]=this.getMemorySlice(O,O+$)},memory:g}}}exports(){return this.instance.exports}call(g,...p){if(!this.exports()[g])throw new Error(`WASM function ${g} not found.`);try{return this.exports()[g](...p)>>>0}catch(C){const O=`WASM function ${g} aborted, error: ${C}`;throw this.logger(O),this.logger(C.stack),C}}memSize(){return this.getMemory().length}getMemorySlice(g,p){return this.getMemory().subarray(g,p).slice()}writeMemory(g,p){this.getMemory().set(p,g)}getMemory(){return new Uint8Array(this.memory.buffer)}stringFromAddress(g){g=g>>>0;const p=this.getMemory();let C=g;for(;p[C]!==0;++C);return new TextDecoder("ascii").decode(p.slice(g,C))}}class it{constructor(g){this.wasm=g,this.allocs=[],this.inScratchRemaining=1024,this.outScratchRemaining=1024}getInputs(g){return g.map(p=>{if(typeof p=="object")if(p.length<=this.inScratchRemaining){const C=this.inScratchRemaining-=p.length;return this.wasm.writeMemory(C,p),C}else{const C=this.wasm.call("bbmalloc",p.length);return this.wasm.writeMemory(C,p),this.allocs.push(C),C}else return p})}getOutputPtrs(g){return g.map(p=>{const C=p||4;if(C<=this.outScratchRemaining)return this.outScratchRemaining-=C;{const O=this.wasm.call("bbmalloc",C);return this.allocs.push(O),O}})}addOutputPtr(g){g>=1024&&this.allocs.push(g)}freeAll(){for(const g of this.allocs)this.wasm.call("bbfree",g)}}class Gt extends Ye{constructor(){super(...arguments),this.workers=[],this.remoteWasms=[],this.nextWorker=0,this.nextThreadId=1}getNumThreads(){return this.workers.length+1}async init(g,p=Math.min(q(),Gt.MAX_THREADS),C=Br()("bb.js:bb_wasm"),O=32,$=2**16){this.logger=C;const K=O*2**16/(1024*1024),G=$*2**16/(1024*1024),ke=ie();this.logger(`Initializing bb wasm: initial memory ${O} pages ${K}MiB; max memory: ${$} pages, ${G}MiB; threads: ${p}; shared memory: ${ke}`),this.memory=new WebAssembly.Memory({initial:O,maximum:$,shared:ke});const le=await WebAssembly.instantiate(g,this.getImportObj(this.memory));this.instance=le,this.call("_initialize"),p>1&&(this.logger(`Creating ${p} worker threads`),this.workers=await Promise.all(Array.from({length:p-1}).map(Le)),this.remoteWasms=await Promise.all(this.workers.map(D)),await Promise.all(this.remoteWasms.map(Pe=>Pe.initThread(g,this.memory))))}async destroy(){await Promise.all(this.workers.map(g=>g.terminate()))}getImportObj(g){const p=super.getImportObj(g);return{...p,wasi:{"thread-spawn":C=>{C=C>>>0;const O=this.nextThreadId++,$=this.nextWorker++%this.remoteWasms.length;return this.remoteWasms[$].call("wasi_thread_start",O,C).catch(this.logger),O}},env:{...p.env,env_hardware_concurrency:()=>this.remoteWasms.length+1}}}callWasmExport(g,p,C){const O=new it(this),$=O.getInputs(p),K=O.getOutputPtrs(C);this.call(g,...$,...K);const G=this.getOutputArgs(C,K,O);return O.freeAll(),G}getOutputArgs(g,p,C){return g.map((O,$)=>{if(O)return this.getMemorySlice(p[$],p[$]+O);const K=this.getMemorySlice(p[$],p[$]+4),G=new DataView(K.buffer,K.byteOffset,K.byteLength).getUint32(0,!0);C.addOutputPtr(G);const ke=this.getMemorySlice(G,G+4),le=new DataView(ke.buffer,ke.byteOffset,ke.byteLength).getUint32(0,!1);return this.getMemorySlice(G+4,G+4+le)})}}Gt.MAX_THREADS=32;const Er=4,Nr=0,Xr=1,Or=2;function Jo(f){let g=f.length;for(;--g>=0;)f[g]=0}const po=0,gs=1,bh=2,gm=3,Eh=258,Ju=29,Qo=256,qi=Qo+1+Ju,ec=30,hf=19,yn=2*qi+1,mo=15,Gc=16,Yc=7,tc=256,Sh=16,Ls=17,Xc=18,Vi=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Qu=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),_s=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),xh=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_m=512,Wi=new Array((qi+2)*2);Jo(Wi);const ka=new Array(ec*2);Jo(ka);const Zi=new Array(_m);Jo(Zi);const Ds=new Array(Eh-gm+1);Jo(Ds);const go=new Array(Ju);Jo(go);const el=new Array(ec);Jo(el);function pf(f,g,p,C,O){this.static_tree=f,this.extra_bits=g,this.extra_base=p,this.elems=C,this.max_length=O,this.has_stree=f&&f.length}let tl,mf,Jc;function _o(f,g){this.dyn_tree=f,this.max_code=0,this.stat_desc=g}const Ah=f=>f<256?Zi[f]:Zi[256+(f>>>7)],Ra=(f,g)=>{f.pending_buf[f.pending++]=g&255,f.pending_buf[f.pending++]=g>>>8&255},Jt=(f,g,p)=>{f.bi_valid>Gc-p?(f.bi_buf|=g<<f.bi_valid&65535,Ra(f,f.bi_buf),f.bi_buf=g>>Gc-f.bi_valid,f.bi_valid+=p-Gc):(f.bi_buf|=g<<f.bi_valid&65535,f.bi_valid+=p)},Qn=(f,g,p)=>{Jt(f,p[g*2],p[g*2+1])},gf=(f,g)=>{let p=0;do p|=f&1,f>>>=1,p<<=1;while(--g>0);return p>>>1},_f=f=>{f.bi_valid===16?(Ra(f,f.bi_buf),f.bi_buf=0,f.bi_valid=0):f.bi_valid>=8&&(f.pending_buf[f.pending++]=f.bi_buf&255,f.bi_buf>>=8,f.bi_valid-=8)},oa=(f,g)=>{const p=g.dyn_tree,C=g.max_code,O=g.stat_desc.static_tree,$=g.stat_desc.has_stree,K=g.stat_desc.extra_bits,G=g.stat_desc.extra_base,ke=g.stat_desc.max_length;let le,Pe,vt,ot,rt,Dt,mt=0;for(ot=0;ot<=mo;ot++)f.bl_count[ot]=0;for(p[f.heap[f.heap_max]*2+1]=0,le=f.heap_max+1;le<yn;le++)Pe=f.heap[le],ot=p[p[Pe*2+1]*2+1]+1,ot>ke&&(ot=ke,mt++),p[Pe*2+1]=ot,!(Pe>C)&&(f.bl_count[ot]++,rt=0,Pe>=G&&(rt=K[Pe-G]),Dt=p[Pe*2],f.opt_len+=Dt*(ot+rt),$&&(f.static_len+=Dt*(O[Pe*2+1]+rt)));if(mt!==0){do{for(ot=ke-1;f.bl_count[ot]===0;)ot--;f.bl_count[ot]--,f.bl_count[ot+1]+=2,f.bl_count[ke]--,mt-=2}while(mt>0);for(ot=ke;ot!==0;ot--)for(Pe=f.bl_count[ot];Pe!==0;)vt=f.heap[--le],!(vt>C)&&(p[vt*2+1]!==ot&&(f.opt_len+=(ot-p[vt*2+1])*p[vt*2],p[vt*2+1]=ot),Pe--)}},yf=(f,g,p)=>{const C=new Array(mo+1);let O=0,$,K;for($=1;$<=mo;$++)O=O+p[$-1]<<1,C[$]=O;for(K=0;K<=g;K++){let G=f[K*2+1];G!==0&&(f[K*2]=gf(C[G]++,G))}},Ch=()=>{let f,g,p,C,O;const $=new Array(mo+1);for(p=0,C=0;C<Ju-1;C++)for(go[C]=p,f=0;f<1<<Vi[C];f++)Ds[p++]=C;for(Ds[p-1]=C,O=0,C=0;C<16;C++)for(el[C]=O,f=0;f<1<<Qu[C];f++)Zi[O++]=C;for(O>>=7;C<ec;C++)for(el[C]=O<<7,f=0;f<1<<Qu[C]-7;f++)Zi[256+O++]=C;for(g=0;g<=mo;g++)$[g]=0;for(f=0;f<=143;)Wi[f*2+1]=8,f++,$[8]++;for(;f<=255;)Wi[f*2+1]=9,f++,$[9]++;for(;f<=279;)Wi[f*2+1]=7,f++,$[7]++;for(;f<=287;)Wi[f*2+1]=8,f++,$[8]++;for(yf(Wi,qi+1,$),f=0;f<ec;f++)ka[f*2+1]=5,ka[f*2]=gf(f,5);tl=new pf(Wi,Vi,Qo+1,qi,mo),mf=new pf(ka,Qu,0,ec,mo),Jc=new pf(new Array(0),_s,0,hf,Yc)},rl=f=>{let g;for(g=0;g<qi;g++)f.dyn_ltree[g*2]=0;for(g=0;g<ec;g++)f.dyn_dtree[g*2]=0;for(g=0;g<hf;g++)f.bl_tree[g*2]=0;f.dyn_ltree[tc*2]=1,f.opt_len=f.static_len=0,f.sym_next=f.matches=0},Qc=f=>{f.bi_valid>8?Ra(f,f.bi_buf):f.bi_valid>0&&(f.pending_buf[f.pending++]=f.bi_buf),f.bi_buf=0,f.bi_valid=0},ca=(f,g,p,C)=>{const O=g*2,$=p*2;return f[O]<f[$]||f[O]===f[$]&&C[g]<=C[p]},ei=(f,g,p)=>{const C=f.heap[p];let O=p<<1;for(;O<=f.heap_len&&(O<f.heap_len&&ca(g,f.heap[O+1],f.heap[O],f.depth)&&O++,!ca(g,C,f.heap[O],f.depth));)f.heap[p]=f.heap[O],p=O,O<<=1;f.heap[p]=C},Ms=(f,g,p)=>{let C,O,$=0,K,G;if(f.sym_next!==0)do C=f.pending_buf[f.sym_buf+$++]&255,C+=(f.pending_buf[f.sym_buf+$++]&255)<<8,O=f.pending_buf[f.sym_buf+$++],C===0?Qn(f,O,g):(K=Ds[O],Qn(f,K+Qo+1,g),G=Vi[K],G!==0&&(O-=go[K],Jt(f,O,G)),C--,K=Ah(C),Qn(f,K,p),G=Qu[K],G!==0&&(C-=el[K],Jt(f,C,G)));while($<f.sym_next);Qn(f,tc,g)},yo=(f,g)=>{const p=g.dyn_tree,C=g.stat_desc.static_tree,O=g.stat_desc.has_stree,$=g.stat_desc.elems;let K,G,ke=-1,le;for(f.heap_len=0,f.heap_max=yn,K=0;K<$;K++)p[K*2]!==0?(f.heap[++f.heap_len]=ke=K,f.depth[K]=0):p[K*2+1]=0;for(;f.heap_len<2;)le=f.heap[++f.heap_len]=ke<2?++ke:0,p[le*2]=1,f.depth[le]=0,f.opt_len--,O&&(f.static_len-=C[le*2+1]);for(g.max_code=ke,K=f.heap_len>>1;K>=1;K--)ei(f,p,K);le=$;do K=f.heap[1],f.heap[1]=f.heap[f.heap_len--],ei(f,p,1),G=f.heap[1],f.heap[--f.heap_max]=K,f.heap[--f.heap_max]=G,p[le*2]=p[K*2]+p[G*2],f.depth[le]=(f.depth[K]>=f.depth[G]?f.depth[K]:f.depth[G])+1,p[K*2+1]=p[G*2+1]=le,f.heap[1]=le++,ei(f,p,1);while(f.heap_len>=2);f.heap[--f.heap_max]=f.heap[1],oa(f,g),yf(p,ke,f.bl_count)},ua=(f,g,p)=>{let C,O=-1,$,K=g[0*2+1],G=0,ke=7,le=4;for(K===0&&(ke=138,le=3),g[(p+1)*2+1]=65535,C=0;C<=p;C++)$=K,K=g[(C+1)*2+1],!(++G<ke&&$===K)&&(G<le?f.bl_tree[$*2]+=G:$!==0?($!==O&&f.bl_tree[$*2]++,f.bl_tree[Sh*2]++):G<=10?f.bl_tree[Ls*2]++:f.bl_tree[Xc*2]++,G=0,O=$,K===0?(ke=138,le=3):$===K?(ke=6,le=3):(ke=7,le=4))},la=(f,g,p)=>{let C,O=-1,$,K=g[0*2+1],G=0,ke=7,le=4;for(K===0&&(ke=138,le=3),C=0;C<=p;C++)if($=K,K=g[(C+1)*2+1],!(++G<ke&&$===K)){if(G<le)do Qn(f,$,f.bl_tree);while(--G!==0);else $!==0?($!==O&&(Qn(f,$,f.bl_tree),G--),Qn(f,Sh,f.bl_tree),Jt(f,G-3,2)):G<=10?(Qn(f,Ls,f.bl_tree),Jt(f,G-3,3)):(Qn(f,Xc,f.bl_tree),Jt(f,G-11,7));G=0,O=$,K===0?(ke=138,le=3):$===K?(ke=6,le=3):(ke=7,le=4)}},wf=f=>{let g;for(ua(f,f.dyn_ltree,f.l_desc.max_code),ua(f,f.dyn_dtree,f.d_desc.max_code),yo(f,f.bl_desc),g=hf-1;g>=3&&f.bl_tree[xh[g]*2+1]===0;g--);return f.opt_len+=3*(g+1)+5+5+4,g},Th=(f,g,p,C)=>{let O;for(Jt(f,g-257,5),Jt(f,p-1,5),Jt(f,C-4,4),O=0;O<C;O++)Jt(f,f.bl_tree[xh[O]*2+1],3);la(f,f.dyn_ltree,g-1),la(f,f.dyn_dtree,p-1)},rc=f=>{let g=4093624447,p;for(p=0;p<=31;p++,g>>>=1)if(g&1&&f.dyn_ltree[p*2]!==0)return Nr;if(f.dyn_ltree[9*2]!==0||f.dyn_ltree[10*2]!==0||f.dyn_ltree[13*2]!==0)return Xr;for(p=32;p<Qo;p++)if(f.dyn_ltree[p*2]!==0)return Xr;return Nr};let vf=!1;const bf=f=>{vf||(Ch(),vf=!0),f.l_desc=new _o(f.dyn_ltree,tl),f.d_desc=new _o(f.dyn_dtree,mf),f.bl_desc=new _o(f.bl_tree,Jc),f.bi_buf=0,f.bi_valid=0,rl(f)},fa=(f,g,p,C)=>{Jt(f,(po<<1)+(C?1:0),3),Qc(f),Ra(f,p),Ra(f,~p),p&&f.pending_buf.set(f.window.subarray(g,g+p),f.pending),f.pending+=p},Ef=f=>{Jt(f,gs<<1,3),Qn(f,tc,Wi),_f(f)},ym=(f,g,p,C)=>{let O,$,K=0;f.level>0?(f.strm.data_type===Or&&(f.strm.data_type=rc(f)),yo(f,f.l_desc),yo(f,f.d_desc),K=wf(f),O=f.opt_len+3+7>>>3,$=f.static_len+3+7>>>3,$<=O&&(O=$)):O=$=p+5,p+4<=O&&g!==-1?fa(f,g,p,C):f.strategy===Er||$===O?(Jt(f,(gs<<1)+(C?1:0),3),Ms(f,Wi,ka)):(Jt(f,(bh<<1)+(C?1:0),3),Th(f,f.l_desc.max_code+1,f.d_desc.max_code+1,K+1),Ms(f,f.dyn_ltree,f.dyn_dtree)),rl(f),C&&Qc(f)},eu=(f,g,p)=>(f.pending_buf[f.sym_buf+f.sym_next++]=g,f.pending_buf[f.sym_buf+f.sym_next++]=g>>8,f.pending_buf[f.sym_buf+f.sym_next++]=p,g===0?f.dyn_ltree[p*2]++:(f.matches++,g--,f.dyn_ltree[(Ds[p]+Qo+1)*2]++,f.dyn_dtree[Ah(g)*2]++),f.sym_next===f.sym_end);var tu=bf,ye=fa,Ue=ym,lt=eu,kt=Ef,jr={_tr_init:tu,_tr_stored_block:ye,_tr_flush_block:Ue,_tr_tally:lt,_tr_align:kt},Lr=(f,g,p,C)=>{let O=f&65535|0,$=f>>>16&65535|0,K=0;for(;p!==0;){K=p>2e3?2e3:p,p-=K;do O=O+g[C++]|0,$=$+O|0;while(--K);O%=65521,$%=65521}return O|$<<16|0};const On=()=>{let f,g=[];for(var p=0;p<256;p++){f=p;for(var C=0;C<8;C++)f=f&1?3988292384^f>>>1:f>>>1;g[p]=f}return g},rn=new Uint32Array(On());var Sr=(f,g,p,C)=>{const O=rn,$=C+p;f^=-1;for(let K=C;K<$;K++)f=f>>>8^O[(f^g[K])&255];return f^-1},$n={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ln={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:pi,_tr_stored_block:mi,_tr_flush_block:Tn,_tr_tally:Sn,_tr_align:da}=jr,{Z_NO_FLUSH:Ni,Z_PARTIAL_FLUSH:nl,Z_FULL_FLUSH:nc,Z_FINISH:Ki,Z_BLOCK:il,Z_OK:Un,Z_STREAM_END:wm,Z_STREAM_ERROR:Pa,Z_DATA_ERROR:Hv,Z_BUF_ERROR:vm,Z_DEFAULT_COMPRESSION:bm,Z_FILTERED:qv,Z_HUFFMAN_ONLY:Ih,Z_RLE:Vv,Z_FIXED:Wv,Z_DEFAULT_STRATEGY:Zv,Z_UNKNOWN:Ay,Z_DEFLATED:kh}=ln,Kv=9,Gv=15,Yv=8,Em=256+1+29,Xv=30,Ty=19,Jv=2*Em+1,Qv=15,xr=3,ic=258,Ba=ic+xr+1,eb=32,sl=42,Sf=57,ru=69,Sm=73,Rh=91,Ph=103,sc=113,al=666,xi=1,ha=2,nu=3,ol=4,tb=3,ac=(f,g)=>(f.msg=$n[g],g),xm=f=>f*2-(f>4?9:0),js=f=>{let g=f.length;for(;--g>=0;)f[g]=0},xf=f=>{let g,p,C,O=f.w_size;g=f.hash_size,C=g;do p=f.head[--C],f.head[C]=p>=O?p-O:0;while(--g);g=O,C=g;do p=f.prev[--C],f.prev[C]=p>=O?p-O:0;while(--g)};let pa=(f,g,p)=>(g<<f.hash_shift^p)&f.hash_mask;const ys=f=>{const g=f.state;let p=g.pending;p>f.avail_out&&(p=f.avail_out),p!==0&&(f.output.set(g.pending_buf.subarray(g.pending_out,g.pending_out+p),f.next_out),f.next_out+=p,g.pending_out+=p,f.total_out+=p,f.avail_out-=p,g.pending-=p,g.pending===0&&(g.pending_out=0))},Gi=(f,g)=>{Tn(f,f.block_start>=0?f.block_start:-1,f.strstart-f.block_start,g),f.block_start=f.strstart,ys(f.strm)},kr=(f,g)=>{f.pending_buf[f.pending++]=g},iu=(f,g)=>{f.pending_buf[f.pending++]=g>>>8&255,f.pending_buf[f.pending++]=g&255},Bh=(f,g,p,C)=>{let O=f.avail_in;return O>C&&(O=C),O===0?0:(f.avail_in-=O,g.set(f.input.subarray(f.next_in,f.next_in+O),p),f.state.wrap===1?f.adler=Lr(f.adler,g,O,p):f.state.wrap===2&&(f.adler=Sr(f.adler,g,O,p)),f.next_in+=O,f.total_in+=O,O)},Am=(f,g)=>{let p=f.max_chain_length,C=f.strstart,O,$,K=f.prev_length,G=f.nice_match;const ke=f.strstart>f.w_size-Ba?f.strstart-(f.w_size-Ba):0,le=f.window,Pe=f.w_mask,vt=f.prev,ot=f.strstart+ic;let rt=le[C+K-1],Dt=le[C+K];f.prev_length>=f.good_match&&(p>>=2),G>f.lookahead&&(G=f.lookahead);do if(O=g,!(le[O+K]!==Dt||le[O+K-1]!==rt||le[O]!==le[C]||le[++O]!==le[C+1])){C+=2,O++;do;while(le[++C]===le[++O]&&le[++C]===le[++O]&&le[++C]===le[++O]&&le[++C]===le[++O]&&le[++C]===le[++O]&&le[++C]===le[++O]&&le[++C]===le[++O]&&le[++C]===le[++O]&&C<ot);if($=ic-(ot-C),C=ot-ic,$>K){if(f.match_start=g,K=$,$>=G)break;rt=le[C+K-1],Dt=le[C+K]}}while((g=vt[g&Pe])>ke&&--p!==0);return K<=f.lookahead?K:f.lookahead},su=f=>{const g=f.w_size;let p,C,O;do{if(C=f.window_size-f.lookahead-f.strstart,f.strstart>=g+(g-Ba)&&(f.window.set(f.window.subarray(g,g+g-C),0),f.match_start-=g,f.strstart-=g,f.block_start-=g,f.insert>f.strstart&&(f.insert=f.strstart),xf(f),C+=g),f.strm.avail_in===0)break;if(p=Bh(f.strm,f.window,f.strstart+f.lookahead,C),f.lookahead+=p,f.lookahead+f.insert>=xr)for(O=f.strstart-f.insert,f.ins_h=f.window[O],f.ins_h=pa(f,f.ins_h,f.window[O+1]);f.insert&&(f.ins_h=pa(f,f.ins_h,f.window[O+xr-1]),f.prev[O&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=O,O++,f.insert--,!(f.lookahead+f.insert<xr)););}while(f.lookahead<Ba&&f.strm.avail_in!==0)},Iy=(f,g)=>{let p=f.pending_buf_size-5>f.w_size?f.w_size:f.pending_buf_size-5,C,O,$,K=0,G=f.strm.avail_in;do{if(C=65535,$=f.bi_valid+42>>3,f.strm.avail_out<$||($=f.strm.avail_out-$,O=f.strstart-f.block_start,C>O+f.strm.avail_in&&(C=O+f.strm.avail_in),C>$&&(C=$),C<p&&(C===0&&g!==Ki||g===Ni||C!==O+f.strm.avail_in)))break;K=g===Ki&&C===O+f.strm.avail_in?1:0,mi(f,0,0,K),f.pending_buf[f.pending-4]=C,f.pending_buf[f.pending-3]=C>>8,f.pending_buf[f.pending-2]=~C,f.pending_buf[f.pending-1]=~C>>8,ys(f.strm),O&&(O>C&&(O=C),f.strm.output.set(f.window.subarray(f.block_start,f.block_start+O),f.strm.next_out),f.strm.next_out+=O,f.strm.avail_out-=O,f.strm.total_out+=O,f.block_start+=O,C-=O),C&&(Bh(f.strm,f.strm.output,f.strm.next_out,C),f.strm.next_out+=C,f.strm.avail_out-=C,f.strm.total_out+=C)}while(K===0);return G-=f.strm.avail_in,G&&(G>=f.w_size?(f.matches=2,f.window.set(f.strm.input.subarray(f.strm.next_in-f.w_size,f.strm.next_in),0),f.strstart=f.w_size,f.insert=f.strstart):(f.window_size-f.strstart<=G&&(f.strstart-=f.w_size,f.window.set(f.window.subarray(f.w_size,f.w_size+f.strstart),0),f.matches<2&&f.matches++,f.insert>f.strstart&&(f.insert=f.strstart)),f.window.set(f.strm.input.subarray(f.strm.next_in-G,f.strm.next_in),f.strstart),f.strstart+=G,f.insert+=G>f.w_size-f.insert?f.w_size-f.insert:G),f.block_start=f.strstart),f.high_water<f.strstart&&(f.high_water=f.strstart),K?ol:g!==Ni&&g!==Ki&&f.strm.avail_in===0&&f.strstart===f.block_start?ha:($=f.window_size-f.strstart,f.strm.avail_in>$&&f.block_start>=f.w_size&&(f.block_start-=f.w_size,f.strstart-=f.w_size,f.window.set(f.window.subarray(f.w_size,f.w_size+f.strstart),0),f.matches<2&&f.matches++,$+=f.w_size,f.insert>f.strstart&&(f.insert=f.strstart)),$>f.strm.avail_in&&($=f.strm.avail_in),$&&(Bh(f.strm,f.window,f.strstart,$),f.strstart+=$,f.insert+=$>f.w_size-f.insert?f.w_size-f.insert:$),f.high_water<f.strstart&&(f.high_water=f.strstart),$=f.bi_valid+42>>3,$=f.pending_buf_size-$>65535?65535:f.pending_buf_size-$,p=$>f.w_size?f.w_size:$,O=f.strstart-f.block_start,(O>=p||(O||g===Ki)&&g!==Ni&&f.strm.avail_in===0&&O<=$)&&(C=O>$?$:O,K=g===Ki&&f.strm.avail_in===0&&C===O?1:0,mi(f,f.block_start,C,K),f.block_start+=C,ys(f.strm)),K?nu:xi)},Cm=(f,g)=>{let p,C;for(;;){if(f.lookahead<Ba){if(su(f),f.lookahead<Ba&&g===Ni)return xi;if(f.lookahead===0)break}if(p=0,f.lookahead>=xr&&(f.ins_h=pa(f,f.ins_h,f.window[f.strstart+xr-1]),p=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),p!==0&&f.strstart-p<=f.w_size-Ba&&(f.match_length=Am(f,p)),f.match_length>=xr)if(C=Sn(f,f.strstart-f.match_start,f.match_length-xr),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=xr){f.match_length--;do f.strstart++,f.ins_h=pa(f,f.ins_h,f.window[f.strstart+xr-1]),p=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart;while(--f.match_length!==0);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=pa(f,f.ins_h,f.window[f.strstart+1]);else C=Sn(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(C&&(Gi(f,!1),f.strm.avail_out===0))return xi}return f.insert=f.strstart<xr-1?f.strstart:xr-1,g===Ki?(Gi(f,!0),f.strm.avail_out===0?nu:ol):f.sym_next&&(Gi(f,!1),f.strm.avail_out===0)?xi:ha},cl=(f,g)=>{let p,C,O;for(;;){if(f.lookahead<Ba){if(su(f),f.lookahead<Ba&&g===Ni)return xi;if(f.lookahead===0)break}if(p=0,f.lookahead>=xr&&(f.ins_h=pa(f,f.ins_h,f.window[f.strstart+xr-1]),p=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=xr-1,p!==0&&f.prev_length<f.max_lazy_match&&f.strstart-p<=f.w_size-Ba&&(f.match_length=Am(f,p),f.match_length<=5&&(f.strategy===qv||f.match_length===xr&&f.strstart-f.match_start>4096)&&(f.match_length=xr-1)),f.prev_length>=xr&&f.match_length<=f.prev_length){O=f.strstart+f.lookahead-xr,C=Sn(f,f.strstart-1-f.prev_match,f.prev_length-xr),f.lookahead-=f.prev_length-1,f.prev_length-=2;do++f.strstart<=O&&(f.ins_h=pa(f,f.ins_h,f.window[f.strstart+xr-1]),p=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart);while(--f.prev_length!==0);if(f.match_available=0,f.match_length=xr-1,f.strstart++,C&&(Gi(f,!1),f.strm.avail_out===0))return xi}else if(f.match_available){if(C=Sn(f,0,f.window[f.strstart-1]),C&&Gi(f,!1),f.strstart++,f.lookahead--,f.strm.avail_out===0)return xi}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(C=Sn(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<xr-1?f.strstart:xr-1,g===Ki?(Gi(f,!0),f.strm.avail_out===0?nu:ol):f.sym_next&&(Gi(f,!1),f.strm.avail_out===0)?xi:ha},rb=(f,g)=>{let p,C,O,$;const K=f.window;for(;;){if(f.lookahead<=ic){if(su(f),f.lookahead<=ic&&g===Ni)return xi;if(f.lookahead===0)break}if(f.match_length=0,f.lookahead>=xr&&f.strstart>0&&(O=f.strstart-1,C=K[O],C===K[++O]&&C===K[++O]&&C===K[++O])){$=f.strstart+ic;do;while(C===K[++O]&&C===K[++O]&&C===K[++O]&&C===K[++O]&&C===K[++O]&&C===K[++O]&&C===K[++O]&&C===K[++O]&&O<$);f.match_length=ic-($-O),f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(f.match_length>=xr?(p=Sn(f,1,f.match_length-xr),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(p=Sn(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),p&&(Gi(f,!1),f.strm.avail_out===0))return xi}return f.insert=0,g===Ki?(Gi(f,!0),f.strm.avail_out===0?nu:ol):f.sym_next&&(Gi(f,!1),f.strm.avail_out===0)?xi:ha},nb=(f,g)=>{let p;for(;;){if(f.lookahead===0&&(su(f),f.lookahead===0)){if(g===Ni)return xi;break}if(f.match_length=0,p=Sn(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,p&&(Gi(f,!1),f.strm.avail_out===0))return xi}return f.insert=0,g===Ki?(Gi(f,!0),f.strm.avail_out===0?nu:ol):f.sym_next&&(Gi(f,!1),f.strm.avail_out===0)?xi:ha};function zn(f,g,p,C,O){this.good_length=f,this.max_lazy=g,this.nice_length=p,this.max_chain=C,this.func=O}const wo=[new zn(0,0,0,0,Iy),new zn(4,4,8,4,Cm),new zn(4,5,16,8,Cm),new zn(4,6,32,32,Cm),new zn(4,4,16,16,cl),new zn(8,16,32,32,cl),new zn(8,16,128,128,cl),new zn(8,32,128,256,cl),new zn(32,128,258,1024,cl),new zn(32,258,258,4096,cl)],ky=f=>{f.window_size=2*f.w_size,js(f.head),f.max_lazy_match=wo[f.level].max_lazy,f.good_match=wo[f.level].good_length,f.nice_match=wo[f.level].nice_length,f.max_chain_length=wo[f.level].max_chain,f.strstart=0,f.block_start=0,f.lookahead=0,f.insert=0,f.match_length=f.prev_length=xr-1,f.match_available=0,f.ins_h=0};function Ry(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=kh,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Jv*2),this.dyn_dtree=new Uint16Array((2*Xv+1)*2),this.bl_tree=new Uint16Array((2*Ty+1)*2),js(this.dyn_ltree),js(this.dyn_dtree),js(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Qv+1),this.heap=new Uint16Array(2*Em+1),js(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Em+1),js(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ul=f=>{if(!f)return 1;const g=f.state;return!g||g.strm!==f||g.status!==sl&&g.status!==Sf&&g.status!==ru&&g.status!==Sm&&g.status!==Rh&&g.status!==Ph&&g.status!==sc&&g.status!==al?1:0},Tm=f=>{if(ul(f))return ac(f,Pa);f.total_in=f.total_out=0,f.data_type=Ay;const g=f.state;return g.pending=0,g.pending_out=0,g.wrap<0&&(g.wrap=-g.wrap),g.status=g.wrap===2?Sf:g.wrap?sl:sc,f.adler=g.wrap===2?0:1,g.last_flush=-2,pi(g),Un},Nh=f=>{const g=Tm(f);return g===Un&&ky(f.state),g},ib=(f,g)=>ul(f)||f.state.wrap!==2?Pa:(f.state.gzhead=g,Un),Py=(f,g,p,C,O,$)=>{if(!f)return Pa;let K=1;if(g===bm&&(g=6),C<0?(K=0,C=-C):C>15&&(K=2,C-=16),O<1||O>Kv||p!==kh||C<8||C>15||g<0||g>9||$<0||$>Wv||C===8&&K!==1)return ac(f,Pa);C===8&&(C=9);const G=new Ry;return f.state=G,G.strm=f,G.status=sl,G.wrap=K,G.gzhead=null,G.w_bits=C,G.w_size=1<<G.w_bits,G.w_mask=G.w_size-1,G.hash_bits=O+7,G.hash_size=1<<G.hash_bits,G.hash_mask=G.hash_size-1,G.hash_shift=~~((G.hash_bits+xr-1)/xr),G.window=new Uint8Array(G.w_size*2),G.head=new Uint16Array(G.hash_size),G.prev=new Uint16Array(G.w_size),G.lit_bufsize=1<<O+6,G.pending_buf_size=G.lit_bufsize*4,G.pending_buf=new Uint8Array(G.pending_buf_size),G.sym_buf=G.lit_bufsize,G.sym_end=(G.lit_bufsize-1)*3,G.level=g,G.strategy=$,G.method=p,Nh(f)},ll=(f,g)=>Py(f,g,kh,Gv,Yv,Zv),Im=(f,g)=>{if(ul(f)||g>il||g<0)return f?ac(f,Pa):Pa;const p=f.state;if(!f.output||f.avail_in!==0&&!f.input||p.status===al&&g!==Ki)return ac(f,f.avail_out===0?vm:Pa);const C=p.last_flush;if(p.last_flush=g,p.pending!==0){if(ys(f),f.avail_out===0)return p.last_flush=-1,Un}else if(f.avail_in===0&&xm(g)<=xm(C)&&g!==Ki)return ac(f,vm);if(p.status===al&&f.avail_in!==0)return ac(f,vm);if(p.status===sl&&p.wrap===0&&(p.status=sc),p.status===sl){let O=kh+(p.w_bits-8<<4)<<8,$=-1;if(p.strategy>=Ih||p.level<2?$=0:p.level<6?$=1:p.level===6?$=2:$=3,O|=$<<6,p.strstart!==0&&(O|=eb),O+=31-O%31,iu(p,O),p.strstart!==0&&(iu(p,f.adler>>>16),iu(p,f.adler&65535)),f.adler=1,p.status=sc,ys(f),p.pending!==0)return p.last_flush=-1,Un}if(p.status===Sf){if(f.adler=0,kr(p,31),kr(p,139),kr(p,8),p.gzhead)kr(p,(p.gzhead.text?1:0)+(p.gzhead.hcrc?2:0)+(p.gzhead.extra?4:0)+(p.gzhead.name?8:0)+(p.gzhead.comment?16:0)),kr(p,p.gzhead.time&255),kr(p,p.gzhead.time>>8&255),kr(p,p.gzhead.time>>16&255),kr(p,p.gzhead.time>>24&255),kr(p,p.level===9?2:p.strategy>=Ih||p.level<2?4:0),kr(p,p.gzhead.os&255),p.gzhead.extra&&p.gzhead.extra.length&&(kr(p,p.gzhead.extra.length&255),kr(p,p.gzhead.extra.length>>8&255)),p.gzhead.hcrc&&(f.adler=Sr(f.adler,p.pending_buf,p.pending,0)),p.gzindex=0,p.status=ru;else if(kr(p,0),kr(p,0),kr(p,0),kr(p,0),kr(p,0),kr(p,p.level===9?2:p.strategy>=Ih||p.level<2?4:0),kr(p,tb),p.status=sc,ys(f),p.pending!==0)return p.last_flush=-1,Un}if(p.status===ru){if(p.gzhead.extra){let O=p.pending,$=(p.gzhead.extra.length&65535)-p.gzindex;for(;p.pending+$>p.pending_buf_size;){let G=p.pending_buf_size-p.pending;if(p.pending_buf.set(p.gzhead.extra.subarray(p.gzindex,p.gzindex+G),p.pending),p.pending=p.pending_buf_size,p.gzhead.hcrc&&p.pending>O&&(f.adler=Sr(f.adler,p.pending_buf,p.pending-O,O)),p.gzindex+=G,ys(f),p.pending!==0)return p.last_flush=-1,Un;O=0,$-=G}let K=new Uint8Array(p.gzhead.extra);p.pending_buf.set(K.subarray(p.gzindex,p.gzindex+$),p.pending),p.pending+=$,p.gzhead.hcrc&&p.pending>O&&(f.adler=Sr(f.adler,p.pending_buf,p.pending-O,O)),p.gzindex=0}p.status=Sm}if(p.status===Sm){if(p.gzhead.name){let O=p.pending,$;do{if(p.pending===p.pending_buf_size){if(p.gzhead.hcrc&&p.pending>O&&(f.adler=Sr(f.adler,p.pending_buf,p.pending-O,O)),ys(f),p.pending!==0)return p.last_flush=-1,Un;O=0}p.gzindex<p.gzhead.name.length?$=p.gzhead.name.charCodeAt(p.gzindex++)&255:$=0,kr(p,$)}while($!==0);p.gzhead.hcrc&&p.pending>O&&(f.adler=Sr(f.adler,p.pending_buf,p.pending-O,O)),p.gzindex=0}p.status=Rh}if(p.status===Rh){if(p.gzhead.comment){let O=p.pending,$;do{if(p.pending===p.pending_buf_size){if(p.gzhead.hcrc&&p.pending>O&&(f.adler=Sr(f.adler,p.pending_buf,p.pending-O,O)),ys(f),p.pending!==0)return p.last_flush=-1,Un;O=0}p.gzindex<p.gzhead.comment.length?$=p.gzhead.comment.charCodeAt(p.gzindex++)&255:$=0,kr(p,$)}while($!==0);p.gzhead.hcrc&&p.pending>O&&(f.adler=Sr(f.adler,p.pending_buf,p.pending-O,O))}p.status=Ph}if(p.status===Ph){if(p.gzhead.hcrc){if(p.pending+2>p.pending_buf_size&&(ys(f),p.pending!==0))return p.last_flush=-1,Un;kr(p,f.adler&255),kr(p,f.adler>>8&255),f.adler=0}if(p.status=sc,ys(f),p.pending!==0)return p.last_flush=-1,Un}if(f.avail_in!==0||p.lookahead!==0||g!==Ni&&p.status!==al){let O=p.level===0?Iy(p,g):p.strategy===Ih?nb(p,g):p.strategy===Vv?rb(p,g):wo[p.level].func(p,g);if((O===nu||O===ol)&&(p.status=al),O===xi||O===nu)return f.avail_out===0&&(p.last_flush=-1),Un;if(O===ha&&(g===nl?da(p):g!==il&&(mi(p,0,0,!1),g===nc&&(js(p.head),p.lookahead===0&&(p.strstart=0,p.block_start=0,p.insert=0))),ys(f),f.avail_out===0))return p.last_flush=-1,Un}return g!==Ki?Un:p.wrap<=0?wm:(p.wrap===2?(kr(p,f.adler&255),kr(p,f.adler>>8&255),kr(p,f.adler>>16&255),kr(p,f.adler>>24&255),kr(p,f.total_in&255),kr(p,f.total_in>>8&255),kr(p,f.total_in>>16&255),kr(p,f.total_in>>24&255)):(iu(p,f.adler>>>16),iu(p,f.adler&65535)),ys(f),p.wrap>0&&(p.wrap=-p.wrap),p.pending!==0?Un:wm)},Af=f=>{if(ul(f))return Pa;const g=f.state.status;return f.state=null,g===sc?ac(f,Hv):Un},km=(f,g)=>{let p=g.length;if(ul(f))return Pa;const C=f.state,O=C.wrap;if(O===2||O===1&&C.status!==sl||C.lookahead)return Pa;if(O===1&&(f.adler=Lr(f.adler,g,p,0)),C.wrap=0,p>=C.w_size){O===0&&(js(C.head),C.strstart=0,C.block_start=0,C.insert=0);let ke=new Uint8Array(C.w_size);ke.set(g.subarray(p-C.w_size,p),0),g=ke,p=C.w_size}const $=f.avail_in,K=f.next_in,G=f.input;for(f.avail_in=p,f.next_in=0,f.input=g,su(C);C.lookahead>=xr;){let ke=C.strstart,le=C.lookahead-(xr-1);do C.ins_h=pa(C,C.ins_h,C.window[ke+xr-1]),C.prev[ke&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=ke,ke++;while(--le);C.strstart=ke,C.lookahead=xr-1,su(C)}return C.strstart+=C.lookahead,C.block_start=C.strstart,C.insert=C.lookahead,C.lookahead=0,C.match_length=C.prev_length=xr-1,C.match_available=0,f.next_in=K,f.input=G,f.avail_in=$,C.wrap=O,Un};var By=ll,Oh=Py,fl=Nh,Rm=Tm,Ny=ib,Fh=Im,Oy=Af,Fy=km,Ly="pako deflate (from Nodeca project)",dl={deflateInit:By,deflateInit2:Oh,deflateReset:fl,deflateResetKeep:Rm,deflateSetHeader:Ny,deflate:Fh,deflateEnd:Oy,deflateSetDictionary:Fy,deflateInfo:Ly};const Dy=(f,g)=>Object.prototype.hasOwnProperty.call(f,g);var My=function(f){const g=Array.prototype.slice.call(arguments,1);for(;g.length;){const p=g.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(const C in p)Dy(p,C)&&(f[C]=p[C])}}return f},oc=f=>{let g=0;for(let C=0,O=f.length;C<O;C++)g+=f[C].length;const p=new Uint8Array(g);for(let C=0,O=0,$=f.length;C<$;C++){let K=f[C];p.set(K,O),O+=K.length}return p},hl={assign:My,flattenChunks:oc};let Lh=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Lh=!1}const Cf=new Uint8Array(256);for(let f=0;f<256;f++)Cf[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;Cf[254]=Cf[254]=1;var sb=f=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(f);let g,p,C,O,$,K=f.length,G=0;for(O=0;O<K;O++)p=f.charCodeAt(O),(p&64512)===55296&&O+1<K&&(C=f.charCodeAt(O+1),(C&64512)===56320&&(p=65536+(p-55296<<10)+(C-56320),O++)),G+=p<128?1:p<2048?2:p<65536?3:4;for(g=new Uint8Array(G),$=0,O=0;$<G;O++)p=f.charCodeAt(O),(p&64512)===55296&&O+1<K&&(C=f.charCodeAt(O+1),(C&64512)===56320&&(p=65536+(p-55296<<10)+(C-56320),O++)),p<128?g[$++]=p:p<2048?(g[$++]=192|p>>>6,g[$++]=128|p&63):p<65536?(g[$++]=224|p>>>12,g[$++]=128|p>>>6&63,g[$++]=128|p&63):(g[$++]=240|p>>>18,g[$++]=128|p>>>12&63,g[$++]=128|p>>>6&63,g[$++]=128|p&63);return g};const Tf=(f,g)=>{if(g<65534&&f.subarray&&Lh)return String.fromCharCode.apply(null,f.length===g?f:f.subarray(0,g));let p="";for(let C=0;C<g;C++)p+=String.fromCharCode(f[C]);return p};var ab=(f,g)=>{const p=g||f.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(f.subarray(0,g));let C,O;const $=new Array(p*2);for(O=0,C=0;C<p;){let K=f[C++];if(K<128){$[O++]=K;continue}let G=Cf[K];if(G>4){$[O++]=65533,C+=G-1;continue}for(K&=G===2?31:G===3?15:7;G>1&&C<p;)K=K<<6|f[C++]&63,G--;if(G>1){$[O++]=65533;continue}K<65536?$[O++]=K:(K-=65536,$[O++]=55296|K>>10&1023,$[O++]=56320|K&1023)}return Tf($,O)},jy=(f,g)=>{g=g||f.length,g>f.length&&(g=f.length);let p=g-1;for(;p>=0&&(f[p]&192)===128;)p--;return p<0||p===0?g:p+Cf[f[p]]>g?p:g},pl={string2buf:sb,buf2string:ab,utf8border:jy};function fn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Dh=fn;const If=Object.prototype.toString,{Z_NO_FLUSH:kf,Z_SYNC_FLUSH:$y,Z_FULL_FLUSH:Pm,Z_FINISH:Rf,Z_OK:au,Z_STREAM_END:ml,Z_DEFAULT_COMPRESSION:Uy,Z_DEFAULT_STRATEGY:ob,Z_DEFLATED:cb}=ln;function gl(f){this.options=hl.assign({level:Uy,method:cb,chunkSize:16384,windowBits:15,memLevel:8,strategy:ob},f||{});let g=this.options;g.raw&&g.windowBits>0?g.windowBits=-g.windowBits:g.gzip&&g.windowBits>0&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Dh,this.strm.avail_out=0;let p=dl.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(p!==au)throw new Error($n[p]);if(g.header&&dl.deflateSetHeader(this.strm,g.header),g.dictionary){let C;if(typeof g.dictionary=="string"?C=pl.string2buf(g.dictionary):If.call(g.dictionary)==="[object ArrayBuffer]"?C=new Uint8Array(g.dictionary):C=g.dictionary,p=dl.deflateSetDictionary(this.strm,C),p!==au)throw new Error($n[p]);this._dict_set=!0}}gl.prototype.push=function(f,g){const p=this.strm,C=this.options.chunkSize;let O,$;if(this.ended)return!1;for(g===~~g?$=g:$=g===!0?Rf:kf,typeof f=="string"?p.input=pl.string2buf(f):If.call(f)==="[object ArrayBuffer]"?p.input=new Uint8Array(f):p.input=f,p.next_in=0,p.avail_in=p.input.length;;){if(p.avail_out===0&&(p.output=new Uint8Array(C),p.next_out=0,p.avail_out=C),($===$y||$===Pm)&&p.avail_out<=6){this.onData(p.output.subarray(0,p.next_out)),p.avail_out=0;continue}if(O=dl.deflate(p,$),O===ml)return p.next_out>0&&this.onData(p.output.subarray(0,p.next_out)),O=dl.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===au;if(p.avail_out===0){this.onData(p.output);continue}if($>0&&p.next_out>0){this.onData(p.output.subarray(0,p.next_out)),p.avail_out=0;continue}if(p.avail_in===0)break}return!0},gl.prototype.onData=function(f){this.chunks.push(f)},gl.prototype.onEnd=function(f){f===au&&(this.result=hl.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function _l(f,g){const p=new gl(g);if(p.push(f,!0),p.err)throw p.msg||$n[p.err];return p.result}function Mh(f,g){return g=g||{},g.raw=!0,_l(f,g)}function Bm(f,g){return g=g||{},g.gzip=!0,_l(f,g)}var Nm=gl,Om=_l,Fm=Mh,ub=Bm,zy={Deflate:Nm,deflate:Om,deflateRaw:Fm,gzip:ub};const jh=16209,lb=16191;var Lm=function(g,p){let C,O,$,K,G,ke,le,Pe,vt,ot,rt,Dt,mt,Qt,rr,Ar,er,Et,pr,vn,Ht,Fr,ur,Yt;const Wt=g.state;C=g.next_in,ur=g.input,O=C+(g.avail_in-5),$=g.next_out,Yt=g.output,K=$-(p-g.avail_out),G=$+(g.avail_out-257),ke=Wt.dmax,le=Wt.wsize,Pe=Wt.whave,vt=Wt.wnext,ot=Wt.window,rt=Wt.hold,Dt=Wt.bits,mt=Wt.lencode,Qt=Wt.distcode,rr=(1<<Wt.lenbits)-1,Ar=(1<<Wt.distbits)-1;e:do{Dt<15&&(rt+=ur[C++]<<Dt,Dt+=8,rt+=ur[C++]<<Dt,Dt+=8),er=mt[rt&rr];t:for(;;){if(Et=er>>>24,rt>>>=Et,Dt-=Et,Et=er>>>16&255,Et===0)Yt[$++]=er&65535;else if(Et&16){pr=er&65535,Et&=15,Et&&(Dt<Et&&(rt+=ur[C++]<<Dt,Dt+=8),pr+=rt&(1<<Et)-1,rt>>>=Et,Dt-=Et),Dt<15&&(rt+=ur[C++]<<Dt,Dt+=8,rt+=ur[C++]<<Dt,Dt+=8),er=Qt[rt&Ar];r:for(;;){if(Et=er>>>24,rt>>>=Et,Dt-=Et,Et=er>>>16&255,Et&16){if(vn=er&65535,Et&=15,Dt<Et&&(rt+=ur[C++]<<Dt,Dt+=8,Dt<Et&&(rt+=ur[C++]<<Dt,Dt+=8)),vn+=rt&(1<<Et)-1,vn>ke){g.msg="invalid distance too far back",Wt.mode=jh;break e}if(rt>>>=Et,Dt-=Et,Et=$-K,vn>Et){if(Et=vn-Et,Et>Pe&&Wt.sane){g.msg="invalid distance too far back",Wt.mode=jh;break e}if(Ht=0,Fr=ot,vt===0){if(Ht+=le-Et,Et<pr){pr-=Et;do Yt[$++]=ot[Ht++];while(--Et);Ht=$-vn,Fr=Yt}}else if(vt<Et){if(Ht+=le+vt-Et,Et-=vt,Et<pr){pr-=Et;do Yt[$++]=ot[Ht++];while(--Et);if(Ht=0,vt<pr){Et=vt,pr-=Et;do Yt[$++]=ot[Ht++];while(--Et);Ht=$-vn,Fr=Yt}}}else if(Ht+=vt-Et,Et<pr){pr-=Et;do Yt[$++]=ot[Ht++];while(--Et);Ht=$-vn,Fr=Yt}for(;pr>2;)Yt[$++]=Fr[Ht++],Yt[$++]=Fr[Ht++],Yt[$++]=Fr[Ht++],pr-=3;pr&&(Yt[$++]=Fr[Ht++],pr>1&&(Yt[$++]=Fr[Ht++]))}else{Ht=$-vn;do Yt[$++]=Yt[Ht++],Yt[$++]=Yt[Ht++],Yt[$++]=Yt[Ht++],pr-=3;while(pr>2);pr&&(Yt[$++]=Yt[Ht++],pr>1&&(Yt[$++]=Yt[Ht++]))}}else if((Et&64)===0){er=Qt[(er&65535)+(rt&(1<<Et)-1)];continue r}else{g.msg="invalid distance code",Wt.mode=jh;break e}break}}else if((Et&64)===0){er=mt[(er&65535)+(rt&(1<<Et)-1)];continue t}else if(Et&32){Wt.mode=lb;break e}else{g.msg="invalid literal/length code",Wt.mode=jh;break e}break}}while(C<O&&$<G);pr=Dt>>3,C-=pr,Dt-=pr<<3,rt&=(1<<Dt)-1,g.next_in=C,g.next_out=$,g.avail_in=C<O?5+(O-C):5-(C-O),g.avail_out=$<G?257+(G-$):257-($-G),Wt.hold=rt,Wt.bits=Dt};const ws=15,Dm=852,ou=592,ma=0,cu=1,Na=2,Mm=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fb=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),db=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),uu=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Oa=(f,g,p,C,O,$,K,G)=>{const ke=G.bits;let le=0,Pe=0,vt=0,ot=0,rt=0,Dt=0,mt=0,Qt=0,rr=0,Ar=0,er,Et,pr,vn,Ht,Fr=null,ur;const Yt=new Uint16Array(ws+1),Wt=new Uint16Array(ws+1);let an=null,is,bs,mc;for(le=0;le<=ws;le++)Yt[le]=0;for(Pe=0;Pe<C;Pe++)Yt[g[p+Pe]]++;for(rt=ke,ot=ws;ot>=1&&Yt[ot]===0;ot--);if(rt>ot&&(rt=ot),ot===0)return O[$++]=1<<24|64<<16|0,O[$++]=1<<24|64<<16|0,G.bits=1,0;for(vt=1;vt<ot&&Yt[vt]===0;vt++);for(rt<vt&&(rt=vt),Qt=1,le=1;le<=ws;le++)if(Qt<<=1,Qt-=Yt[le],Qt<0)return-1;if(Qt>0&&(f===ma||ot!==1))return-1;for(Wt[1]=0,le=1;le<ws;le++)Wt[le+1]=Wt[le]+Yt[le];for(Pe=0;Pe<C;Pe++)g[p+Pe]!==0&&(K[Wt[g[p+Pe]]++]=Pe);if(f===ma?(Fr=an=K,ur=20):f===cu?(Fr=Mm,an=fb,ur=257):(Fr=db,an=uu,ur=0),Ar=0,Pe=0,le=vt,Ht=$,Dt=rt,mt=0,pr=-1,rr=1<<rt,vn=rr-1,f===cu&&rr>Dm||f===Na&&rr>ou)return 1;for(;;){is=le-mt,K[Pe]+1<ur?(bs=0,mc=K[Pe]):K[Pe]>=ur?(bs=an[K[Pe]-ur],mc=Fr[K[Pe]-ur]):(bs=96,mc=0),er=1<<le-mt,Et=1<<Dt,vt=Et;do Et-=er,O[Ht+(Ar>>mt)+Et]=is<<24|bs<<16|mc|0;while(Et!==0);for(er=1<<le-1;Ar&er;)er>>=1;if(er!==0?(Ar&=er-1,Ar+=er):Ar=0,Pe++,--Yt[le]===0){if(le===ot)break;le=g[p+K[Pe]]}if(le>rt&&(Ar&vn)!==pr){for(mt===0&&(mt=rt),Ht+=vt,Dt=le-mt,Qt=1<<Dt;Dt+mt<ot&&(Qt-=Yt[Dt+mt],!(Qt<=0));)Dt++,Qt<<=1;if(rr+=1<<Dt,f===cu&&rr>Dm||f===Na&&rr>ou)return 1;pr=Ar&vn,O[pr]=rt<<24|Dt<<16|Ht-$|0}}return Ar!==0&&(O[Ht+Ar]=le-mt<<24|64<<16|0),G.bits=rt,0};const Uh=0,zh=1,lu=2,{Z_FINISH:vo,Z_BLOCK:dn,Z_TREES:$r,Z_OK:Yi,Z_STREAM_END:Ai,Z_NEED_DICT:Xi,Z_STREAM_ERROR:ti,Z_DATA_ERROR:fu,Z_MEM_ERROR:Oi,Z_BUF_ERROR:Hh,Z_DEFLATED:jm}=ln,Pf=16180,Bf=16181,$m=16182,Fa=16183,Nf=16184,qh=16185,Um=16186,Hy=16187,bo=16188,du=16189,Eo=16190,$s=16191,yl=16192,vs=16193,Ji=16194,cc=16195,La=16196,Da=16197,uc=16198,Of=16199,wl=16200,Vh=16201,Qi=16202,es=16203,hn=16204,Us=16205,Wh=16206,zm=16207,Zh=16208,sn=16209,Hm=16210,Ff=16211,qy=852,vl=592,hb=15,bl=f=>(f>>>24&255)+(f>>>8&65280)+((f&65280)<<8)+((f&255)<<24);function Kh(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lc=f=>{if(!f)return 1;const g=f.state;return!g||g.strm!==f||g.mode<Pf||g.mode>Ff?1:0},qm=f=>{if(lc(f))return ti;const g=f.state;return f.total_in=f.total_out=g.total=0,f.msg="",g.wrap&&(f.adler=g.wrap&1),g.mode=Pf,g.last=0,g.havedict=0,g.flags=-1,g.dmax=32768,g.head=null,g.hold=0,g.bits=0,g.lencode=g.lendyn=new Int32Array(qy),g.distcode=g.distdyn=new Int32Array(vl),g.sane=1,g.back=-1,Yi},hu=f=>{if(lc(f))return ti;const g=f.state;return g.wsize=0,g.whave=0,g.wnext=0,qm(f)},Vm=(f,g)=>{let p;if(lc(f))return ti;const C=f.state;return g<0?(p=0,g=-g):(p=(g>>4)+5,g<48&&(g&=15)),g&&(g<8||g>15)?ti:(C.window!==null&&C.wbits!==g&&(C.window=null),C.wrap=p,C.wbits=g,hu(f))},Lf=(f,g)=>{if(!f)return ti;const p=new Kh;f.state=p,p.strm=f,p.window=null,p.mode=Pf;const C=Vm(f,g);return C!==Yi&&(f.state=null),C},Gh=f=>Lf(f,hb);let pu=!0,Df,Mf;const Wm=f=>{if(pu){Df=new Int32Array(512),Mf=new Int32Array(32);let g=0;for(;g<144;)f.lens[g++]=8;for(;g<256;)f.lens[g++]=9;for(;g<280;)f.lens[g++]=7;for(;g<288;)f.lens[g++]=8;for(Oa(zh,f.lens,0,288,Df,0,f.work,{bits:9}),g=0;g<32;)f.lens[g++]=5;Oa(lu,f.lens,0,32,Mf,0,f.work,{bits:5}),pu=!1}f.lencode=Df,f.lenbits=9,f.distcode=Mf,f.distbits=5},Yh=(f,g,p,C)=>{let O;const $=f.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new Uint8Array($.wsize)),C>=$.wsize?($.window.set(g.subarray(p-$.wsize,p),0),$.wnext=0,$.whave=$.wsize):(O=$.wsize-$.wnext,O>C&&(O=C),$.window.set(g.subarray(p-C,p-C+O),$.wnext),C-=O,C?($.window.set(g.subarray(p-C,p),0),$.wnext=C,$.whave=$.wsize):($.wnext+=O,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=O))),0},El=(f,g)=>{let p,C,O,$,K,G,ke,le,Pe,vt,ot,rt,Dt,mt,Qt=0,rr,Ar,er,Et,pr,vn,Ht,Fr;const ur=new Uint8Array(4);let Yt,Wt;const an=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lc(f)||!f.output||!f.input&&f.avail_in!==0)return ti;p=f.state,p.mode===$s&&(p.mode=yl),K=f.next_out,O=f.output,ke=f.avail_out,$=f.next_in,C=f.input,G=f.avail_in,le=p.hold,Pe=p.bits,vt=G,ot=ke,Fr=Yi;e:for(;;)switch(p.mode){case Pf:if(p.wrap===0){p.mode=yl;break}for(;Pe<16;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}if(p.wrap&2&&le===35615){p.wbits===0&&(p.wbits=15),p.check=0,ur[0]=le&255,ur[1]=le>>>8&255,p.check=Sr(p.check,ur,2,0),le=0,Pe=0,p.mode=Bf;break}if(p.head&&(p.head.done=!1),!(p.wrap&1)||(((le&255)<<8)+(le>>8))%31){f.msg="incorrect header check",p.mode=sn;break}if((le&15)!==jm){f.msg="unknown compression method",p.mode=sn;break}if(le>>>=4,Pe-=4,Ht=(le&15)+8,p.wbits===0&&(p.wbits=Ht),Ht>15||Ht>p.wbits){f.msg="invalid window size",p.mode=sn;break}p.dmax=1<<p.wbits,p.flags=0,f.adler=p.check=1,p.mode=le&512?du:$s,le=0,Pe=0;break;case Bf:for(;Pe<16;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}if(p.flags=le,(p.flags&255)!==jm){f.msg="unknown compression method",p.mode=sn;break}if(p.flags&57344){f.msg="unknown header flags set",p.mode=sn;break}p.head&&(p.head.text=le>>8&1),p.flags&512&&p.wrap&4&&(ur[0]=le&255,ur[1]=le>>>8&255,p.check=Sr(p.check,ur,2,0)),le=0,Pe=0,p.mode=$m;case $m:for(;Pe<32;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}p.head&&(p.head.time=le),p.flags&512&&p.wrap&4&&(ur[0]=le&255,ur[1]=le>>>8&255,ur[2]=le>>>16&255,ur[3]=le>>>24&255,p.check=Sr(p.check,ur,4,0)),le=0,Pe=0,p.mode=Fa;case Fa:for(;Pe<16;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}p.head&&(p.head.xflags=le&255,p.head.os=le>>8),p.flags&512&&p.wrap&4&&(ur[0]=le&255,ur[1]=le>>>8&255,p.check=Sr(p.check,ur,2,0)),le=0,Pe=0,p.mode=Nf;case Nf:if(p.flags&1024){for(;Pe<16;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}p.length=le,p.head&&(p.head.extra_len=le),p.flags&512&&p.wrap&4&&(ur[0]=le&255,ur[1]=le>>>8&255,p.check=Sr(p.check,ur,2,0)),le=0,Pe=0}else p.head&&(p.head.extra=null);p.mode=qh;case qh:if(p.flags&1024&&(rt=p.length,rt>G&&(rt=G),rt&&(p.head&&(Ht=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Uint8Array(p.head.extra_len)),p.head.extra.set(C.subarray($,$+rt),Ht)),p.flags&512&&p.wrap&4&&(p.check=Sr(p.check,C,rt,$)),G-=rt,$+=rt,p.length-=rt),p.length))break e;p.length=0,p.mode=Um;case Um:if(p.flags&2048){if(G===0)break e;rt=0;do Ht=C[$+rt++],p.head&&Ht&&p.length<65536&&(p.head.name+=String.fromCharCode(Ht));while(Ht&&rt<G);if(p.flags&512&&p.wrap&4&&(p.check=Sr(p.check,C,rt,$)),G-=rt,$+=rt,Ht)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=Hy;case Hy:if(p.flags&4096){if(G===0)break e;rt=0;do Ht=C[$+rt++],p.head&&Ht&&p.length<65536&&(p.head.comment+=String.fromCharCode(Ht));while(Ht&&rt<G);if(p.flags&512&&p.wrap&4&&(p.check=Sr(p.check,C,rt,$)),G-=rt,$+=rt,Ht)break e}else p.head&&(p.head.comment=null);p.mode=bo;case bo:if(p.flags&512){for(;Pe<16;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}if(p.wrap&4&&le!==(p.check&65535)){f.msg="header crc mismatch",p.mode=sn;break}le=0,Pe=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),f.adler=p.check=0,p.mode=$s;break;case du:for(;Pe<32;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}f.adler=p.check=bl(le),le=0,Pe=0,p.mode=Eo;case Eo:if(p.havedict===0)return f.next_out=K,f.avail_out=ke,f.next_in=$,f.avail_in=G,p.hold=le,p.bits=Pe,Xi;f.adler=p.check=1,p.mode=$s;case $s:if(g===dn||g===$r)break e;case yl:if(p.last){le>>>=Pe&7,Pe-=Pe&7,p.mode=Wh;break}for(;Pe<3;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}switch(p.last=le&1,le>>>=1,Pe-=1,le&3){case 0:p.mode=vs;break;case 1:if(Wm(p),p.mode=Of,g===$r){le>>>=2,Pe-=2;break e}break;case 2:p.mode=La;break;case 3:f.msg="invalid block type",p.mode=sn}le>>>=2,Pe-=2;break;case vs:for(le>>>=Pe&7,Pe-=Pe&7;Pe<32;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}if((le&65535)!==(le>>>16^65535)){f.msg="invalid stored block lengths",p.mode=sn;break}if(p.length=le&65535,le=0,Pe=0,p.mode=Ji,g===$r)break e;case Ji:p.mode=cc;case cc:if(rt=p.length,rt){if(rt>G&&(rt=G),rt>ke&&(rt=ke),rt===0)break e;O.set(C.subarray($,$+rt),K),G-=rt,$+=rt,ke-=rt,K+=rt,p.length-=rt;break}p.mode=$s;break;case La:for(;Pe<14;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}if(p.nlen=(le&31)+257,le>>>=5,Pe-=5,p.ndist=(le&31)+1,le>>>=5,Pe-=5,p.ncode=(le&15)+4,le>>>=4,Pe-=4,p.nlen>286||p.ndist>30){f.msg="too many length or distance symbols",p.mode=sn;break}p.have=0,p.mode=Da;case Da:for(;p.have<p.ncode;){for(;Pe<3;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}p.lens[an[p.have++]]=le&7,le>>>=3,Pe-=3}for(;p.have<19;)p.lens[an[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,Yt={bits:p.lenbits},Fr=Oa(Uh,p.lens,0,19,p.lencode,0,p.work,Yt),p.lenbits=Yt.bits,Fr){f.msg="invalid code lengths set",p.mode=sn;break}p.have=0,p.mode=uc;case uc:for(;p.have<p.nlen+p.ndist;){for(;Qt=p.lencode[le&(1<<p.lenbits)-1],rr=Qt>>>24,Ar=Qt>>>16&255,er=Qt&65535,!(rr<=Pe);){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}if(er<16)le>>>=rr,Pe-=rr,p.lens[p.have++]=er;else{if(er===16){for(Wt=rr+2;Pe<Wt;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}if(le>>>=rr,Pe-=rr,p.have===0){f.msg="invalid bit length repeat",p.mode=sn;break}Ht=p.lens[p.have-1],rt=3+(le&3),le>>>=2,Pe-=2}else if(er===17){for(Wt=rr+3;Pe<Wt;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}le>>>=rr,Pe-=rr,Ht=0,rt=3+(le&7),le>>>=3,Pe-=3}else{for(Wt=rr+7;Pe<Wt;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}le>>>=rr,Pe-=rr,Ht=0,rt=11+(le&127),le>>>=7,Pe-=7}if(p.have+rt>p.nlen+p.ndist){f.msg="invalid bit length repeat",p.mode=sn;break}for(;rt--;)p.lens[p.have++]=Ht}}if(p.mode===sn)break;if(p.lens[256]===0){f.msg="invalid code -- missing end-of-block",p.mode=sn;break}if(p.lenbits=9,Yt={bits:p.lenbits},Fr=Oa(zh,p.lens,0,p.nlen,p.lencode,0,p.work,Yt),p.lenbits=Yt.bits,Fr){f.msg="invalid literal/lengths set",p.mode=sn;break}if(p.distbits=6,p.distcode=p.distdyn,Yt={bits:p.distbits},Fr=Oa(lu,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,Yt),p.distbits=Yt.bits,Fr){f.msg="invalid distances set",p.mode=sn;break}if(p.mode=Of,g===$r)break e;case Of:p.mode=wl;case wl:if(G>=6&&ke>=258){f.next_out=K,f.avail_out=ke,f.next_in=$,f.avail_in=G,p.hold=le,p.bits=Pe,Lm(f,ot),K=f.next_out,O=f.output,ke=f.avail_out,$=f.next_in,C=f.input,G=f.avail_in,le=p.hold,Pe=p.bits,p.mode===$s&&(p.back=-1);break}for(p.back=0;Qt=p.lencode[le&(1<<p.lenbits)-1],rr=Qt>>>24,Ar=Qt>>>16&255,er=Qt&65535,!(rr<=Pe);){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}if(Ar&&(Ar&240)===0){for(Et=rr,pr=Ar,vn=er;Qt=p.lencode[vn+((le&(1<<Et+pr)-1)>>Et)],rr=Qt>>>24,Ar=Qt>>>16&255,er=Qt&65535,!(Et+rr<=Pe);){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}le>>>=Et,Pe-=Et,p.back+=Et}if(le>>>=rr,Pe-=rr,p.back+=rr,p.length=er,Ar===0){p.mode=Us;break}if(Ar&32){p.back=-1,p.mode=$s;break}if(Ar&64){f.msg="invalid literal/length code",p.mode=sn;break}p.extra=Ar&15,p.mode=Vh;case Vh:if(p.extra){for(Wt=p.extra;Pe<Wt;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}p.length+=le&(1<<p.extra)-1,le>>>=p.extra,Pe-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=Qi;case Qi:for(;Qt=p.distcode[le&(1<<p.distbits)-1],rr=Qt>>>24,Ar=Qt>>>16&255,er=Qt&65535,!(rr<=Pe);){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}if((Ar&240)===0){for(Et=rr,pr=Ar,vn=er;Qt=p.distcode[vn+((le&(1<<Et+pr)-1)>>Et)],rr=Qt>>>24,Ar=Qt>>>16&255,er=Qt&65535,!(Et+rr<=Pe);){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}le>>>=Et,Pe-=Et,p.back+=Et}if(le>>>=rr,Pe-=rr,p.back+=rr,Ar&64){f.msg="invalid distance code",p.mode=sn;break}p.offset=er,p.extra=Ar&15,p.mode=es;case es:if(p.extra){for(Wt=p.extra;Pe<Wt;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}p.offset+=le&(1<<p.extra)-1,le>>>=p.extra,Pe-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){f.msg="invalid distance too far back",p.mode=sn;break}p.mode=hn;case hn:if(ke===0)break e;if(rt=ot-ke,p.offset>rt){if(rt=p.offset-rt,rt>p.whave&&p.sane){f.msg="invalid distance too far back",p.mode=sn;break}rt>p.wnext?(rt-=p.wnext,Dt=p.wsize-rt):Dt=p.wnext-rt,rt>p.length&&(rt=p.length),mt=p.window}else mt=O,Dt=K-p.offset,rt=p.length;rt>ke&&(rt=ke),ke-=rt,p.length-=rt;do O[K++]=mt[Dt++];while(--rt);p.length===0&&(p.mode=wl);break;case Us:if(ke===0)break e;O[K++]=p.length,ke--,p.mode=wl;break;case Wh:if(p.wrap){for(;Pe<32;){if(G===0)break e;G--,le|=C[$++]<<Pe,Pe+=8}if(ot-=ke,f.total_out+=ot,p.total+=ot,p.wrap&4&&ot&&(f.adler=p.check=p.flags?Sr(p.check,O,ot,K-ot):Lr(p.check,O,ot,K-ot)),ot=ke,p.wrap&4&&(p.flags?le:bl(le))!==p.check){f.msg="incorrect data check",p.mode=sn;break}le=0,Pe=0}p.mode=zm;case zm:if(p.wrap&&p.flags){for(;Pe<32;){if(G===0)break e;G--,le+=C[$++]<<Pe,Pe+=8}if(p.wrap&4&&le!==(p.total&4294967295)){f.msg="incorrect length check",p.mode=sn;break}le=0,Pe=0}p.mode=Zh;case Zh:Fr=Ai;break e;case sn:Fr=fu;break e;case Hm:return Oi;case Ff:default:return ti}return f.next_out=K,f.avail_out=ke,f.next_in=$,f.avail_in=G,p.hold=le,p.bits=Pe,(p.wsize||ot!==f.avail_out&&p.mode<sn&&(p.mode<Wh||g!==vo))&&Yh(f,f.output,f.next_out,ot-f.avail_out),vt-=f.avail_in,ot-=f.avail_out,f.total_in+=vt,f.total_out+=ot,p.total+=ot,p.wrap&4&&ot&&(f.adler=p.check=p.flags?Sr(p.check,O,ot,f.next_out-ot):Lr(p.check,O,ot,f.next_out-ot)),f.data_type=p.bits+(p.last?64:0)+(p.mode===$s?128:0)+(p.mode===Of||p.mode===Ji?256:0),(vt===0&&ot===0||g===vo)&&Fr===Yi&&(Fr=Hh),Fr},zs=f=>{if(lc(f))return ti;let g=f.state;return g.window&&(g.window=null),f.state=null,Yi},mu=(f,g)=>{if(lc(f))return ti;const p=f.state;return(p.wrap&2)===0?ti:(p.head=g,g.done=!1,Yi)},Zm=(f,g)=>{const p=g.length;let C,O,$;return lc(f)||(C=f.state,C.wrap!==0&&C.mode!==Eo)?ti:C.mode===Eo&&(O=1,O=Lr(O,g,p,0),O!==C.check)?fu:($=Yh(f,g,p,p),$?(C.mode=Hm,Oi):(C.havedict=1,Yi))};var Wy=hu,So=Vm,fc=qm,Km=Gh,Zy=Lf,xo=El,dc=zs,Xh=mu,Ky=Zm,Jh="pako inflate (from Nodeca project)",Ma={inflateReset:Wy,inflateReset2:So,inflateResetKeep:fc,inflateInit:Km,inflateInit2:Zy,inflate:xo,inflateEnd:dc,inflateGetHeader:Xh,inflateSetDictionary:Ky,inflateInfo:Jh};function jf(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ja=jf;const Sl=Object.prototype.toString,{Z_NO_FLUSH:$f,Z_FINISH:gu,Z_OK:_u,Z_STREAM_END:hc,Z_NEED_DICT:Qh,Z_STREAM_ERROR:Gm,Z_DATA_ERROR:wn,Z_MEM_ERROR:ep}=ln;function yu(f){this.options=hl.assign({chunkSize:1024*64,windowBits:15,to:""},f||{});const g=this.options;g.raw&&g.windowBits>=0&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),g.windowBits>=0&&g.windowBits<16&&!(f&&f.windowBits)&&(g.windowBits+=32),g.windowBits>15&&g.windowBits<48&&(g.windowBits&15)===0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Dh,this.strm.avail_out=0;let p=Ma.inflateInit2(this.strm,g.windowBits);if(p!==_u)throw new Error($n[p]);if(this.header=new ja,Ma.inflateGetHeader(this.strm,this.header),g.dictionary&&(typeof g.dictionary=="string"?g.dictionary=pl.string2buf(g.dictionary):Sl.call(g.dictionary)==="[object ArrayBuffer]"&&(g.dictionary=new Uint8Array(g.dictionary)),g.raw&&(p=Ma.inflateSetDictionary(this.strm,g.dictionary),p!==_u)))throw new Error($n[p])}yu.prototype.push=function(f,g){const p=this.strm,C=this.options.chunkSize,O=this.options.dictionary;let $,K,G;if(this.ended)return!1;for(g===~~g?K=g:K=g===!0?gu:$f,Sl.call(f)==="[object ArrayBuffer]"?p.input=new Uint8Array(f):p.input=f,p.next_in=0,p.avail_in=p.input.length;;){for(p.avail_out===0&&(p.output=new Uint8Array(C),p.next_out=0,p.avail_out=C),$=Ma.inflate(p,K),$===Qh&&O&&($=Ma.inflateSetDictionary(p,O),$===_u?$=Ma.inflate(p,K):$===wn&&($=Qh));p.avail_in>0&&$===hc&&p.state.wrap>0&&f[p.next_in]!==0;)Ma.inflateReset(p),$=Ma.inflate(p,K);switch($){case Gm:case wn:case Qh:case ep:return this.onEnd($),this.ended=!0,!1}if(G=p.avail_out,p.next_out&&(p.avail_out===0||$===hc))if(this.options.to==="string"){let ke=pl.utf8border(p.output,p.next_out),le=p.next_out-ke,Pe=pl.buf2string(p.output,ke);p.next_out=le,p.avail_out=C-le,le&&p.output.set(p.output.subarray(ke,ke+le),0),this.onData(Pe)}else this.onData(p.output.length===p.next_out?p.output:p.output.subarray(0,p.next_out));if(!($===_u&&G===0)){if($===hc)return $=Ma.inflateEnd(this.strm),this.onEnd($),this.ended=!0,!0;if(p.avail_in===0)break}}return!0},yu.prototype.onData=function(f){this.chunks.push(f)},yu.prototype.onEnd=function(f){f===_u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hl.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function Uf(f,g){const p=new yu(g);if(p.push(f),p.err)throw p.msg||$n[p.err];return p.result}function tp(f,g){return g=g||{},g.raw=!0,Uf(f,g)}var Ym=yu,wu=Uf,xn=tp,Gn=Uf,ri={Inflate:Ym,inflate:wu,inflateRaw:xn,ungzip:Gn};const{Deflate:rp,deflate:zf,deflateRaw:Hf,gzip:pb}=zy,{Inflate:Ci,inflate:Xm,inflateRaw:Jm,ungzip:Qm}=ri;var $a=rp,Hs=zf,qf=Hf,eg=pb,tg=Ci,Gy=Xm,Yy=Jm,Xy=Qm,Jy=ln,Qy={Deflate:$a,deflate:Hs,deflateRaw:qf,gzip:eg,Inflate:tg,inflate:Gy,inflateRaw:Yy,ungzip:Xy,constants:Jy};async function e0(f,g){let p;if(g){const G=f?"-threads":"",ke=g.split("/").slice(0,-1).join("/"),le=g.split("/").pop(),[Pe,...vt]=le.split(".");p=`${ke}/${Pe}${G}.${vt.join(".")}`}else p=f?(await Xe(async()=>{const{default:G}=await import("./barretenberg-threads-Cb4Su7Pe.js");return{default:G}},[])).default:(await Xe(async()=>{const{default:G}=await import("./barretenberg-CGd-nooz.js");return{default:G}},[])).default;const O=await(await fetch(p)).arrayBuffer(),$=new Uint8Array(O);return $[0]===31&&$[1]===139&&$[2]===8?Qy.ungzip($).buffer:$}async function rg(f=32,g,p=Br()("bb.js:fetch_mat")){const C=ie(),O=C?await t0(p):1,$=Math.min(f,O,32);p(`Fetching bb wasm from ${g??"default location"}`);const K=await e0(C,g);p(`Compiling bb wasm of ${K.byteLength} bytes`);const G=await WebAssembly.compile(K);return p("Compilation of bb wasm complete"),{module:G,threads:$}}async function t0(f){if(typeof navigator<"u"&&navigator.hardwareConcurrency)return navigator.hardwareConcurrency;try{return(await lr.e(522).then(lr.t.bind(lr,522,23))).cpus().length}catch(g){return f(`Could not detect environment to query number of threads. Falling back to one thread. Error: ${g.message??g}`),1}}const Ua=4,r0=32;function np(f,g){const p=f.slice(0,Ua),C=g*r0,O=f.slice(Ua+C),$=new Uint8Array([...p,...O]),K=f.slice(Ua,Ua+C);return{proof:$,publicInputs:K}}function xl(f,g){const p=g.slice(0,Ua),C=g.slice(Ua);return Uint8Array.from([...p,...f,...C])}function ip(f){const g=sp(f.publicInputs);return Uint8Array.from([...g,...f.proof])}function Al(f){const p=[];for(let C=0;C<f.length;C+=32){const O=f.slice(C,C+32);p.push(O)}return p.map(i0)}function sp(f){const g=f.map(s0);return n0(g)}function n0(f){const g=f.reduce((O,$)=>O+$.length,0),p=new Uint8Array(g);let C=0;for(const O of f)p.set(O,C),C+=O.length;return p}function i0(f){const g=[];return f.forEach(function(p){let C=p.toString(16);C.length%2&&(C="0"+C),g.push(C)}),"0x"+g.join("")}function s0(f){const g=BigInt(f).toString(16).padStart(64,"0"),p=g.length/2,C=new Uint8Array(p);let O=0,$=0;for(;O<p;)C[O]=parseInt(g.slice($,$+2),16),O+=1,$+=2;return C}class ng{constructor(g={threads:1}){this.options=g}async instantiate(){if(!this.api){const g=await za.new(this.options);await g.initSRSForCircuitSize(0),this.acirComposer=await g.acirNewAcirComposer(0),this.api=g}}async verifyUltraPlonkProof(g,p){await this.instantiate(),await this.api.acirLoadVerificationKey(this.acirComposer,new Me(p));const C=ip(g);return await this.api.acirVerifyProof(this.acirComposer,C)}async verifyUltraHonkProof(g,p){await this.instantiate();const C=xl(sp(g.publicInputs),g.proof);return await this.api.acirVerifyUltraHonk(C,new Me(p))}async destroy(){this.api&&await this.api.destroy()}}var ts=Uint8Array,Cl=Uint16Array,a0=Int32Array,o0=new ts([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ig=new ts([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mb=new ts([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c0=function(f,g){for(var p=new Cl(31),C=0;C<31;++C)p[C]=g+=1<<f[C-1];for(var O=new a0(p[30]),C=1;C<30;++C)for(var $=p[C];$<p[C+1];++$)O[$]=$-p[C]<<5|C;return{b:p,r:O}},sg=c0(o0,2),ag=sg.b,u0=sg.r;ag[28]=258,u0[258]=28;for(var ap=c0(ig,0),gb=ap.b,l0=new Cl(32768),pn=0;pn<32768;++pn){var ni=(pn&43690)>>1|(pn&21845)<<1;ni=(ni&52428)>>2|(ni&13107)<<2,ni=(ni&61680)>>4|(ni&3855)<<4,l0[pn]=((ni&65280)>>8|(ni&255)<<8)>>1}for(var vu=function(f,g,p){for(var C=f.length,O=0,$=new Cl(g);O<C;++O)f[O]&&++$[f[O]-1];var K=new Cl(g);for(O=1;O<g;++O)K[O]=K[O-1]+$[O-1]<<1;var G;{G=new Cl(1<<g);var ke=15-g;for(O=0;O<C;++O)if(f[O])for(var le=O<<4|f[O],Pe=g-f[O],vt=K[f[O]-1]++<<Pe,ot=vt|(1<<Pe)-1;vt<=ot;++vt)G[l0[vt]>>ke]=le}return G},pc=new ts(288),pn=0;pn<144;++pn)pc[pn]=8;for(var pn=144;pn<256;++pn)pc[pn]=9;for(var pn=256;pn<280;++pn)pc[pn]=7;for(var pn=280;pn<288;++pn)pc[pn]=8;for(var og=new ts(32),pn=0;pn<32;++pn)og[pn]=5;var f0=vu(pc,9),d0=vu(og,5),Vf=function(f){for(var g=f[0],p=1;p<f.length;++p)f[p]>g&&(g=f[p]);return g},Ti=function(f,g,p){var C=g/8|0;return(f[C]|f[C+1]<<8)>>(g&7)&p},Wf=function(f,g){var p=g/8|0;return(f[p]|f[p+1]<<8|f[p+2]<<16)>>(g&7)},cg=function(f){return(f+7)/8|0},_b=function(f,g,p){return(p==null||p>f.length)&&(p=f.length),new ts(f.subarray(g,p))},h0=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rs=function(f,g,p){var C=new Error(g||h0[f]);if(C.code=f,Error.captureStackTrace&&Error.captureStackTrace(C,rs),!p)throw C;return C},op=function(f,g,p,C){var O=f.length,$=0;if(!O||g.f&&!g.l)return p||new ts(0);var K=!p,G=K||g.i!=2,ke=g.i;K&&(p=new ts(O*3));var le=function(Fn){var si=p.length;if(Fn>si){var as=new ts(Math.max(si*2,Fn));as.set(p),p=as}},Pe=g.f||0,vt=g.p||0,ot=g.b||0,rt=g.l,Dt=g.d,mt=g.m,Qt=g.n,rr=O*8;do{if(!rt){Pe=Ti(f,vt,1);var Ar=Ti(f,vt+1,3);if(vt+=3,Ar)if(Ar==1)rt=f0,Dt=d0,mt=9,Qt=5;else if(Ar==2){var vn=Ti(f,vt,31)+257,Ht=Ti(f,vt+10,15)+4,Fr=vn+Ti(f,vt+5,31)+1;vt+=14;for(var ur=new ts(Fr),Yt=new ts(19),Wt=0;Wt<Ht;++Wt)Yt[mb[Wt]]=Ti(f,vt+Wt*3,7);vt+=Ht*3;for(var an=Vf(Yt),is=(1<<an)-1,bs=vu(Yt,an),Wt=0;Wt<Fr;){var mc=bs[Ti(f,vt,is)];vt+=mc&15;var er=mc>>4;if(er<16)ur[Wt++]=er;else{var Eu=0,ss=0;for(er==16?(ss=3+Ti(f,vt,3),vt+=2,Eu=ur[Wt-1]):er==17?(ss=3+Ti(f,vt,7),vt+=3):er==18&&(ss=11+Ti(f,vt,127),vt+=7);ss--;)ur[Wt++]=Eu}}var gg=ur.subarray(0,vn),gi=ur.subarray(vn);mt=Vf(gg),Qt=Vf(gi),rt=vu(gg,mt),Dt=vu(gi,Qt)}else rs(1);else{var er=cg(vt)+4,Et=f[er-4]|f[er-3]<<8,pr=er+Et;if(pr>O){ke&&rs(0);break}G&&le(ot+Et),p.set(f.subarray(er,pr),ot),g.b=ot+=Et,g.p=vt=pr*8,g.f=Pe;continue}if(vt>rr){ke&&rs(0);break}}G&&le(ot+131072);for(var wb=(1<<mt)-1,b0=(1<<Qt)-1,up=vt;;up=vt){var Eu=rt[Wf(f,vt)&wb],Su=Eu>>4;if(vt+=Eu&15,vt>rr){ke&&rs(0);break}if(Eu||rs(2),Su<256)p[ot++]=Su;else if(Su==256){up=vt,rt=null;break}else{var _g=Su-254;if(Su>264){var Wt=Su-257,Gf=o0[Wt];_g=Ti(f,vt,(1<<Gf)-1)+ag[Wt],vt+=Gf}var Il=Dt[Wf(f,vt)&b0],Yf=Il>>4;Il||rs(3),vt+=Il&15;var gi=gb[Yf];if(Yf>3){var Gf=ig[Yf];gi+=Wf(f,vt)&(1<<Gf)-1,vt+=Gf}if(vt>rr){ke&&rs(0);break}G&&le(ot+131072);var Es=ot+_g;if(ot<gi){var Cr=$-gi,ii=Math.min(gi,Es);for(Cr+ot<0&&rs(3);ot<ii;++ot)p[ot]=C[Cr+ot]}for(;ot<Es;++ot)p[ot]=p[ot-gi]}}g.l=rt,g.p=up,g.b=ot,g.f=Pe,rt&&(Pe=1,g.m=mt,g.d=Dt,g.n=Qt)}while(!Pe);return ot!=p.length&&K?_b(p,0,ot):p.subarray(0,ot)},p0=new ts(0),m0=function(f){(f[0]!=31||f[1]!=139||f[2]!=8)&&rs(6,"invalid gzip data");var g=f[3],p=10;g&4&&(p+=(f[10]|f[11]<<8)+2);for(var C=(g>>3&1)+(g>>4&1);C>0;C-=!f[p++]);return p+(g&2)},yb=function(f){var g=f.length;return(f[g-4]|f[g-3]<<8|f[g-2]<<16|f[g-1]<<24)>>>0},ns=function(f,g){return((f[0]&15)!=8||f[0]>>4>7||(f[0]<<8|f[1])%31)&&rs(6,"invalid zlib data"),(f[1]>>5&1)==1&&rs(6,"invalid zlib data: "+(f[1]&32?"need":"unexpected")+" dictionary"),(f[1]>>3&4)+2};function Fi(f,g){return op(f,{i:2},g,g)}function g0(f,g){var p=m0(f);return p+8>f.length&&rs(6,"invalid gzip data"),op(f.subarray(p,-8),{i:2},new ts(yb(f)),g)}function _0(f,g){return op(f.subarray(ns(f),-4),{i:2},g,g)}function Zf(f,g){return f[0]==31&&f[1]==139&&f[2]==8?g0(f,g):(f[0]&15)!=8||f[0]>>4>7||(f[0]<<8|f[1])%31?Fi(f,g):_0(f,g)}typeof TextEncoder<"u"&&new TextEncoder;var y0=typeof TextDecoder<"u"&&new TextDecoder,w0=0;try{y0.decode(p0,{stream:!0}),w0=1}catch{}var cp=lr(764).lW;class v0 extends Error{constructor(g){super(g)}}class ug{constructor(g,p={threads:1},C={recursive:!1}){this.backendOptions=p,this.circuitOptions=C,this.acirUncompressedBytecode=hg(g)}async instantiate(){if(!this.api){const g=await za.new(this.backendOptions),p=!1,[C,O]=await g.acirGetCircuitSizes(this.acirUncompressedBytecode,this.circuitOptions.recursive,p);await g.initSRSForCircuitSize(O),this.acirComposer=await g.acirNewAcirComposer(O),await g.acirInitProvingKey(this.acirComposer,this.acirUncompressedBytecode,this.circuitOptions.recursive),this.api=g}}async generateProof(g){await this.instantiate();const p=await this.api.acirCreateProof(this.acirComposer,this.acirUncompressedBytecode,this.circuitOptions.recursive,Zf(g)),O=p.length-2144,$=p.slice(0,O),K=p.slice(O),G=Al($);return{proof:K,publicInputs:G}}async generateRecursiveProofArtifacts(g,p=0){await this.instantiate();const C=ip(g),O=(await this.api.acirSerializeProofIntoFields(this.acirComposer,C,p)).slice(p);await this.api.acirInitVerificationKey(this.acirComposer);const $=await this.api.acirSerializeVerificationKeyIntoFields(this.acirComposer);return{proofAsFields:O.map(K=>K.toString()),vkAsFields:$[0].map(K=>K.toString()),vkHash:$[1].toString()}}async verifyProof(g){await this.instantiate(),await this.api.acirInitVerificationKey(this.acirComposer);const p=ip(g);return await this.api.acirVerifyProof(this.acirComposer,p)}async getVerificationKey(){return await this.instantiate(),await this.api.acirInitVerificationKey(this.acirComposer),await this.api.acirGetVerificationKey(this.acirComposer)}async getSolidityVerifier(){return await this.instantiate(),await this.api.acirInitVerificationKey(this.acirComposer),await this.api.acirGetSolidityVerifier(this.acirComposer)}async destroy(){this.api&&await this.api.destroy()}}const bu=4,lg=32;class fg{constructor(g,p={threads:1},C={recursive:!1}){this.backendOptions=p,this.circuitOptions=C,this.acirUncompressedBytecode=hg(g)}async instantiate(){if(!this.api){const g=await za.new(this.backendOptions);await g.acirInitSRS(this.acirUncompressedBytecode,this.circuitOptions.recursive,!0),this.api=g}}async generateProof(g,p){await this.instantiate();const O=await(p!=null&&p.keccak?this.api.acirProveUltraKeccakHonk.bind(this.api):this.api.acirProveUltraHonk.bind(this.api))(this.acirUncompressedBytecode,this.circuitOptions.recursive,Zf(g)),K=await(p!=null&&p.keccak?this.api.acirWriteVkUltraKeccakHonk.bind(this.api):this.api.acirWriteVkUltraHonk.bind(this.api))(this.acirUncompressedBytecode,this.circuitOptions.recursive),G=await this.api.acirVkAsFieldsUltraHonk(new Me(K)),ke=Number(G[1].toString()),le=O.slice(0,bu),Pe=ke*lg,vt=O.slice(bu+Pe),ot=new Uint8Array([...le,...vt]),rt=O.slice(bu,bu+Pe),Dt=Al(rt);return{proof:ot,publicInputs:Dt}}async generateProofForRecursiveAggregation(g,p){await this.instantiate();const O=await(p!=null&&p.keccak?this.api.acirProveUltraKeccakHonk.bind(this.api):this.api.acirProveUltraHonk.bind(this.api))(this.acirUncompressedBytecode,this.circuitOptions.recursive,Zf(g)),K=await(p!=null&&p.keccak?this.api.acirWriteVkUltraKeccakHonk.bind(this.api):this.api.acirWriteVkUltraHonk.bind(this.api))(this.acirUncompressedBytecode,this.circuitOptions.recursive),G=await this.api.acirVkAsFieldsUltraHonk(new Me(K)),ke=4,ot=(Number(G[1].toString())-16)*lg,rt=new Uint8Array(O.length-ot);rt.set(O.subarray(0,ke),0),rt.set(O.subarray(ke+ot),ke);const Dt=Al(rt.slice(ke)),mt=O.slice(bu,bu+ot),Qt=Al(mt);return{proof:Dt,publicInputs:Qt}}async verifyProof(g,p){await this.instantiate();const C=xl(sp(g.publicInputs),g.proof),O=p!=null&&p.keccak?this.api.acirWriteVkUltraKeccakHonk.bind(this.api):this.api.acirWriteVkUltraHonk.bind(this.api),$=p!=null&&p.keccak?this.api.acirVerifyUltraKeccakHonk.bind(this.api):this.api.acirVerifyUltraHonk.bind(this.api),K=await O(this.acirUncompressedBytecode,this.circuitOptions.recursive);return await $(C,new Me(K))}async getVerificationKey(g){return await this.instantiate(),g!=null&&g.keccak?await this.api.acirWriteVkUltraKeccakHonk(this.acirUncompressedBytecode,this.circuitOptions.recursive):await this.api.acirWriteVkUltraHonk(this.acirUncompressedBytecode,this.circuitOptions.recursive)}async getSolidityVerifier(g){await this.instantiate();const p=g??await this.api.acirWriteVkUltraHonk(this.acirUncompressedBytecode,this.circuitOptions.recursive);return await this.api.acirHonkSolidityVerifier(this.acirUncompressedBytecode,new Me(p))}async generateRecursiveProofArtifacts(g,p){await this.instantiate();const C=await this.api.acirWriteVkUltraHonk(this.acirUncompressedBytecode,this.circuitOptions.recursive),O=await this.api.acirVkAsFieldsUltraHonk(C);return{proofAsFields:[],vkAsFields:O.map($=>$.toString()),vkHash:""}}async destroy(){this.api&&await this.api.destroy()}}class dg{constructor(g,p={threads:1}){this.acirMsgpack=g,this.options=p}async instantiate(){if(!this.api){const g=await za.new(this.options);await g.initSRSClientIVC(),this.api=g}}async prove(g){await this.instantiate();const p=await this.api.acirProveAztecClient(this.acirMsgpack,g),[C,O]=p;if(!await this.verify(C,O))throw new v0("Failed to verify the private (ClientIVC) transaction proof!");return p}async verify(g,p){return await this.instantiate(),this.api.acirVerifyAztecClient(g,p)}async proveAndVerify(g){return await this.instantiate(),this.api.acirProveAndVerifyAztecClient(this.acirMsgpack,g)}async gates(){return await this.instantiate(),this.api.acirGatesAztecClient(this.acirMsgpack)}async destroy(){this.api&&await this.api.destroy()}}function hg(f){const g=pg(f);return Zf(g)}function pg(f){if(typeof cp<"u"){const g=cp.from(f,"base64");return new Uint8Array(g.buffer,g.byteOffset,g.byteLength)}else{if(typeof atob=="function")return Uint8Array.from(atob(f),g=>g.charCodeAt(0));throw new Error("No implementation found for base64 decoding.")}}class za extends Ir{constructor(g,p,C){super(p),this.worker=g,this.options=C}static async new(g={}){var K,G;const p=Xo(),C=D(p),{module:O,threads:$}=await rg(g.threads,g.wasmPath,g.logger);return await C.init(O,$,re(g.logger??Br()("bb.js:bb_wasm_async")),(K=g.memory)==null?void 0:K.initial,(G=g.memory)==null?void 0:G.maximum),new za(p,C,g)}async getNumThreads(){return await this.wasm.getNumThreads()}async initSRSForCircuitSize(g){const p=await y.new(g+1,this.options.crsPath,this.options.logger);await this.srsInitSrs(new Me(p.getG1Data()),p.numPoints,new Me(p.getG2Data()))}async initSRSClientIVC(){const g=await y.new(1048577,this.options.crsPath,this.options.logger),p=await b.new(2**16+1,this.options.crsPath,this.options.logger);await this.srsInitSrs(new Me(g.getG1Data()),g.numPoints,new Me(g.getG2Data())),await this.srsInitGrumpkinSrs(new Me(p.getG1Data()),p.numPoints)}async acirInitSRS(g,p,C){const[O,$]=await this.acirGetCircuitSizes(g,p,C);return this.initSRSForCircuitSize($)}async destroy(){await this.wasm.destroy(),await this.worker.terminate()}}let mg,Kf;class Tl extends cr{constructor(g){super(g)}static async new(g,p=Br()("bb.js:bb_wasm_sync")){const C=new Gt,{module:O,threads:$}=await rg(1,g,p);return await C.init(O,$,p),new Tl(C)}static async initSingleton(g,p=Br()("bb.js:bb_wasm_sync")){return mg||(mg=Tl.new(g,p)),Kf=await mg,Kf}static getSingleton(){if(!Kf)throw new Error("First call BarretenbergSync.initSingleton() on @aztec/bb.js module.");return Kf}getWasm(){return this.wasm}}})();var Z4=Ia.Dv;Ia.Zh;var di=Ia.AL;Ia.tD;Ia.i2;var ly=Ia.Fr;Ia.pS;var fd=Ia.ld;Ia.yh;Ia._7;Ia.H2;Ia.ly;var Jb={},Qb={},e1,K4;function NA(){return K4||(K4=1,e1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,t);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),e1}var t1,G4;function hv(){if(G4)return t1;G4=1;var r=NA();return t1=function(){return r()&&!!Symbol.toStringTag},t1}var r1,Y4;function OA(){return Y4||(Y4=1,r1=Object),r1}var n1,X4;function gM(){return X4||(X4=1,n1=Error),n1}var i1,J4;function _M(){return J4||(J4=1,i1=EvalError),i1}var s1,Q4;function yM(){return Q4||(Q4=1,s1=RangeError),s1}var a1,e3;function wM(){return e3||(e3=1,a1=ReferenceError),a1}var o1,t3;function bB(){return t3||(t3=1,o1=SyntaxError),o1}var c1,r3;function fy(){return r3||(r3=1,c1=TypeError),c1}var u1,n3;function vM(){return n3||(n3=1,u1=URIError),u1}var l1,i3;function bM(){return i3||(i3=1,l1=Math.abs),l1}var f1,s3;function EM(){return s3||(s3=1,f1=Math.floor),f1}var d1,a3;function SM(){return a3||(a3=1,d1=Math.max),d1}var h1,o3;function xM(){return o3||(o3=1,h1=Math.min),h1}var p1,c3;function AM(){return c3||(c3=1,p1=Math.pow),p1}var m1,u3;function CM(){return u3||(u3=1,m1=Math.round),m1}var g1,l3;function TM(){return l3||(l3=1,g1=Number.isNaN||function(e){return e!==e}),g1}var _1,f3;function IM(){if(f3)return _1;f3=1;var r=TM();return _1=function(t){return r(t)||t===0?t:t<0?-1:1},_1}var y1,d3;function kM(){return d3||(d3=1,y1=Object.getOwnPropertyDescriptor),y1}var w1,h3;function um(){if(h3)return w1;h3=1;var r=kM();if(r)try{r([],"length")}catch{r=null}return w1=r,w1}var v1,p3;function pv(){if(p3)return v1;p3=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return v1=r,v1}var b1,m3;function RM(){if(m3)return b1;m3=1;var r=typeof Symbol<"u"&&Symbol,e=NA();return b1=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},b1}var E1,g3;function EB(){return g3||(g3=1,E1=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),E1}var S1,_3;function SB(){if(_3)return S1;_3=1;var r=OA();return S1=r.getPrototypeOf||null,S1}var x1,y3;function PM(){if(y3)return x1;y3=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(d,l){for(var m=[],y=0;y<d.length;y+=1)m[y]=d[y];for(var b=0;b<l.length;b+=1)m[b+d.length]=l[b];return m},s=function(d,l){for(var m=[],y=l,b=0;y<d.length;y+=1,b+=1)m[b]=d[y];return m},c=function(u,d){for(var l="",m=0;m<u.length;m+=1)l+=u[m],m+1<u.length&&(l+=d);return l};return x1=function(d){var l=this;if(typeof l!="function"||e.apply(l)!==n)throw new TypeError(r+l);for(var m=s(arguments,1),y,b=function(){if(this instanceof y){var N=l.apply(this,i(m,arguments));return Object(N)===N?N:this}return l.apply(d,i(m,arguments))},E=t(0,l.length-m.length),I=[],S=0;S<E;S++)I[S]="$"+S;if(y=Function("binder","return function ("+c(I,",")+"){ return binder.apply(this,arguments); }")(b),l.prototype){var P=function(){};P.prototype=l.prototype,y.prototype=new P,P.prototype=null}return y},x1}var A1,w3;function dy(){if(w3)return A1;w3=1;var r=PM();return A1=Function.prototype.bind||r,A1}var C1,v3;function FA(){return v3||(v3=1,C1=Function.prototype.call),C1}var T1,b3;function LA(){return b3||(b3=1,T1=Function.prototype.apply),T1}var I1,E3;function BM(){return E3||(E3=1,I1=typeof Reflect<"u"&&Reflect&&Reflect.apply),I1}var k1,S3;function xB(){if(S3)return k1;S3=1;var r=dy(),e=LA(),t=FA(),n=BM();return k1=n||r.call(t,e),k1}var R1,x3;function DA(){if(x3)return R1;x3=1;var r=dy(),e=fy(),t=FA(),n=xB();return R1=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(r,t,s)},R1}var P1,A3;function NM(){if(A3)return P1;A3=1;var r=DA(),e=um(),t;try{t=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var n=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return P1=n&&typeof n.get=="function"?r([n.get]):typeof s=="function"?function(u){return s(u==null?u:i(u))}:!1,P1}var B1,C3;function MA(){if(C3)return B1;C3=1;var r=EB(),e=SB(),t=NM();return B1=r?function(i){return r(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,B1}var N1,T3;function AB(){if(T3)return N1;T3=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=dy();return N1=t.call(r,e),N1}var O1,I3;function jA(){if(I3)return O1;I3=1;var r,e=OA(),t=gM(),n=_M(),i=yM(),s=wM(),c=bB(),u=fy(),d=vM(),l=bM(),m=EM(),y=SM(),b=xM(),E=AM(),I=CM(),S=IM(),P=Function,N=function(Re){try{return P('"use strict"; return ('+Re+").constructor;")()}catch{}},k=um(),R=pv(),L=function(){throw new u},U=k?function(){try{return arguments.callee,L}catch{try{return k(arguments,"callee").get}catch{return L}}}():L,te=RM()(),V=MA(),oe=SB(),de=EB(),Ee=LA(),Fe=FA(),j={},fe=typeof Uint8Array>"u"||!V?r:V(Uint8Array),z={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":te&&V?V([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":j,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":te&&V?V(V([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!te||!V?r:V(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":k,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!te||!V?r:V(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":te&&V?V(""[Symbol.iterator]()):r,"%Symbol%":te?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":U,"%TypedArray%":fe,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":Fe,"%Function.prototype.apply%":Ee,"%Object.defineProperty%":R,"%Object.getPrototypeOf%":oe,"%Math.abs%":l,"%Math.floor%":m,"%Math.max%":y,"%Math.min%":b,"%Math.pow%":E,"%Math.round%":I,"%Math.sign%":S,"%Reflect.getPrototypeOf%":de};if(V)try{null.error}catch(Re){var Q=V(V(Re));z["%Error.prototype%"]=Q}var me=function Re(je){var Ge;if(je==="%AsyncFunction%")Ge=N("async function () {}");else if(je==="%GeneratorFunction%")Ge=N("function* () {}");else if(je==="%AsyncGeneratorFunction%")Ge=N("async function* () {}");else if(je==="%AsyncGenerator%"){var ct=Re("%AsyncGeneratorFunction%");ct&&(Ge=ct.prototype)}else if(je==="%AsyncIteratorPrototype%"){var pt=Re("%AsyncGenerator%");pt&&V&&(Ge=V(pt.prototype))}return z[je]=Ge,Ge},pe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=dy(),ce=AB(),ve=xe.call(Fe,Array.prototype.concat),ee=xe.call(Ee,Array.prototype.splice),re=xe.call(Fe,String.prototype.replace),se=xe.call(Fe,String.prototype.slice),Y=xe.call(Fe,RegExp.prototype.exec),J=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Se=/\\(\\)?/g,Me=function(je){var Ge=se(je,0,1),ct=se(je,-1);if(Ge==="%"&&ct!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(ct==="%"&&Ge!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var pt=[];return re(je,J,function(W,He,_e,ge){pt[pt.length]=_e?re(ge,Se,"$1"):He||W}),pt},Ce=function(je,Ge){var ct=je,pt;if(ce(pe,ct)&&(pt=pe[ct],ct="%"+pt[0]+"%"),ce(z,ct)){var W=z[ct];if(W===j&&(W=me(ct)),typeof W>"u"&&!Ge)throw new u("intrinsic "+je+" exists, but is not available. Please file an issue!");return{alias:pt,name:ct,value:W}}throw new c("intrinsic "+je+" does not exist!")};return O1=function(je,Ge){if(typeof je!="string"||je.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ge!="boolean")throw new u('"allowMissing" argument must be a boolean');if(Y(/^%?[^%]*%?$/,je)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ct=Me(je),pt=ct.length>0?ct[0]:"",W=Ce("%"+pt+"%",Ge),He=W.name,_e=W.value,ge=!1,ue=W.alias;ue&&(pt=ue[0],ee(ct,ve([0,1],ue)));for(var he=1,Ke=!0;he<ct.length;he+=1){var Ve=ct[he],Oe=se(Ve,0,1),et=se(Ve,-1);if((Oe==='"'||Oe==="'"||Oe==="`"||et==='"'||et==="'"||et==="`")&&Oe!==et)throw new c("property names with quotes must have matching quotes");if((Ve==="constructor"||!Ke)&&(ge=!0),pt+="."+Ve,He="%"+pt+"%",ce(z,He))_e=z[He];else if(_e!=null){if(!(Ve in _e)){if(!Ge)throw new u("base intrinsic for "+je+" exists, but the property is not available.");return}if(k&&he+1>=ct.length){var be=k(_e,Ve);Ke=!!be,Ke&&"get"in be&&!("originalValue"in be.get)?_e=be.get:_e=_e[Ve]}else Ke=ce(_e,Ve),_e=_e[Ve];Ke&&!ge&&(z[He]=_e)}}return _e},O1}var F1,k3;function lm(){if(k3)return F1;k3=1;var r=jA(),e=DA(),t=e([r("%String.prototype.indexOf%")]);return F1=function(i,s){var c=r(i,!!s);return typeof c=="function"&&t(i,".prototype.")>-1?e([c]):c},F1}var L1,R3;function OM(){if(R3)return L1;R3=1;var r=hv()(),e=lm(),t=e("Object.prototype.toString"),n=function(u){return r&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:t(u)==="[object Arguments]"},i=function(u){return n(u)?!0:u!==null&&typeof u=="object"&&"length"in u&&typeof u.length=="number"&&u.length>=0&&t(u)!=="[object Array]"&&"callee"in u&&t(u.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,L1=s?n:i,L1}var D1,P3;function FM(){if(P3)return D1;P3=1;var r=lm(),e=hv()(),t=AB(),n=um(),i;if(e){var s=r("RegExp.prototype.exec"),c={},u=function(){throw c},d={toString:u,valueOf:u};typeof Symbol.toPrimitive=="symbol"&&(d[Symbol.toPrimitive]=u),i=function(b){if(!b||typeof b!="object")return!1;var E=n(b,"lastIndex"),I=E&&t(E,"value");if(!I)return!1;try{s(b,d)}catch(S){return S===c}}}else{var l=r("Object.prototype.toString"),m="[object RegExp]";i=function(b){return!b||typeof b!="object"&&typeof b!="function"?!1:l(b)===m}}return D1=i,D1}var M1,B3;function LM(){if(B3)return M1;B3=1;var r=lm(),e=FM(),t=r("RegExp.prototype.exec"),n=fy();return M1=function(s){if(!e(s))throw new n("`regex` must be a RegExp");return function(u){return t(s,u)!==null}},M1}var j1,N3;function DM(){if(N3)return j1;N3=1;var r=lm(),e=LM(),t=e(/^\s*(?:function)?\*/),n=hv()(),i=MA(),s=r("Object.prototype.toString"),c=r("Function.prototype.toString"),u=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},d;return j1=function(m){if(typeof m!="function")return!1;if(t(c(m)))return!0;if(!n){var y=s(m);return y==="[object GeneratorFunction]"}if(!i)return!1;if(typeof d>"u"){var b=u();d=b?i(b):!1}return i(m)===d},j1}var $1,O3;function MM(){if(O3)return $1;O3=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(k){k!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(R){try{var L=r.call(R);return i.test(L)}catch{return!1}},c=function(R){try{return s(R)?!1:(r.call(R),!0)}catch{return!1}},u=Object.prototype.toString,d="[object Object]",l="[object Function]",m="[object GeneratorFunction]",y="[object HTMLAllCollection]",b="[object HTML document.all class]",E="[object HTMLCollection]",I=typeof Symbol=="function"&&!!Symbol.toStringTag,S=!(0 in[,]),P=function(){return!1};if(typeof document=="object"){var N=document.all;u.call(N)===u.call(document.all)&&(P=function(R){if((S||!R)&&(typeof R>"u"||typeof R=="object"))try{var L=u.call(R);return(L===y||L===b||L===E||L===d)&&R("")==null}catch{}return!1})}return $1=e?function(R){if(P(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;try{e(R,null,t)}catch(L){if(L!==n)return!1}return!s(R)&&c(R)}:function(R){if(P(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;if(I)return c(R);if(s(R))return!1;var L=u.call(R);return L!==l&&L!==m&&!/^\[object HTML/.test(L)?!1:c(R)},$1}var U1,F3;function jM(){if(F3)return U1;F3=1;var r=MM(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(d,l,m){for(var y=0,b=d.length;y<b;y++)t.call(d,y)&&(m==null?l(d[y],y,d):l.call(m,d[y],y,d))},i=function(d,l,m){for(var y=0,b=d.length;y<b;y++)m==null?l(d.charAt(y),y,d):l.call(m,d.charAt(y),y,d)},s=function(d,l,m){for(var y in d)t.call(d,y)&&(m==null?l(d[y],y,d):l.call(m,d[y],y,d))};function c(u){return e.call(u)==="[object Array]"}return U1=function(d,l,m){if(!r(l))throw new TypeError("iterator must be a function");var y;arguments.length>=3&&(y=m),c(d)?n(d,l,y):typeof d=="string"?i(d,l,y):s(d,l,y)},U1}var z1,L3;function $M(){return L3||(L3=1,z1=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),z1}var H1,D3;function UM(){if(D3)return H1;D3=1;var r=$M(),e=typeof globalThis>"u"?Oc:globalThis;return H1=function(){for(var n=[],i=0;i<r.length;i++)typeof e[r[i]]=="function"&&(n[n.length]=r[i]);return n},H1}var q1={exports:{}},V1,M3;function CB(){if(M3)return V1;M3=1;var r=pv(),e=bB(),t=fy(),n=um();return V1=function(s,c,u){if(!s||typeof s!="object"&&typeof s!="function")throw new t("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,m=arguments.length>5?arguments[5]:null,y=arguments.length>6?arguments[6]:!1,b=!!n&&n(s,c);if(r)r(s,c,{configurable:m===null&&b?b.configurable:!m,enumerable:d===null&&b?b.enumerable:!d,value:u,writable:l===null&&b?b.writable:!l});else if(y||!d&&!l&&!m)s[c]=u;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},V1}var W1,j3;function TB(){if(j3)return W1;j3=1;var r=pv(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},W1=e,W1}var Z1,$3;function zM(){if($3)return Z1;$3=1;var r=jA(),e=CB(),t=TB()(),n=um(),i=fy(),s=r("%Math.floor%");return Z1=function(u,d){if(typeof u!="function")throw new i("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||s(d)!==d)throw new i("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],m=!0,y=!0;if("length"in u&&n){var b=n(u,"length");b&&!b.configurable&&(m=!1),b&&!b.writable&&(y=!1)}return(m||y||!l)&&(t?e(u,"length",d,!0,!0):e(u,"length",d)),u},Z1}var K1,U3;function HM(){if(U3)return K1;U3=1;var r=dy(),e=LA(),t=xB();return K1=function(){return t(r,e,arguments)},K1}var z3;function mv(){return z3||(z3=1,function(r){var e=zM(),t=pv(),n=DA(),i=HM();r.exports=function(c){var u=n(arguments),d=c.length-(arguments.length-1);return e(u,1+(d>0?d:0),!0)},t?t(r.exports,"apply",{value:i}):r.exports.apply=i}(q1)),q1.exports}var G1,H3;function IB(){if(H3)return G1;H3=1;var r=jM(),e=UM(),t=mv(),n=lm(),i=um(),s=MA(),c=n("Object.prototype.toString"),u=hv()(),d=typeof globalThis>"u"?Oc:globalThis,l=e(),m=n("String.prototype.slice"),y=n("Array.prototype.indexOf",!0)||function(P,N){for(var k=0;k<P.length;k+=1)if(P[k]===N)return k;return-1},b={__proto__:null};u&&i&&s?r(l,function(S){var P=new d[S];if(Symbol.toStringTag in P&&s){var N=s(P),k=i(N,Symbol.toStringTag);if(!k&&N){var R=s(N);k=i(R,Symbol.toStringTag)}b["$"+S]=t(k.get)}}):r(l,function(S){var P=new d[S],N=P.slice||P.set;N&&(b["$"+S]=t(N))});var E=function(P){var N=!1;return r(b,function(k,R){if(!N)try{"$"+k(P)===R&&(N=m(R,1))}catch{}}),N},I=function(P){var N=!1;return r(b,function(k,R){if(!N)try{k(P),N=m(R,1)}catch{}}),N};return G1=function(P){if(!P||typeof P!="object")return!1;if(!u){var N=m(c(P),8,-1);return y(l,N)>-1?N:N!=="Object"?!1:I(P)}return i?E(P):null},G1}var Y1,q3;function qM(){if(q3)return Y1;q3=1;var r=IB();return Y1=function(t){return!!r(t)},Y1}var V3;function VM(){return V3||(V3=1,function(r){var e=OM(),t=DM(),n=IB(),i=qM();function s(he){return he.call.bind(he)}var c=typeof BigInt<"u",u=typeof Symbol<"u",d=s(Object.prototype.toString),l=s(Number.prototype.valueOf),m=s(String.prototype.valueOf),y=s(Boolean.prototype.valueOf);if(c)var b=s(BigInt.prototype.valueOf);if(u)var E=s(Symbol.prototype.valueOf);function I(he,Ke){if(typeof he!="object")return!1;try{return Ke(he),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=i;function S(he){return typeof Promise<"u"&&he instanceof Promise||he!==null&&typeof he=="object"&&typeof he.then=="function"&&typeof he.catch=="function"}r.isPromise=S;function P(he){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(he):i(he)||se(he)}r.isArrayBufferView=P;function N(he){return n(he)==="Uint8Array"}r.isUint8Array=N;function k(he){return n(he)==="Uint8ClampedArray"}r.isUint8ClampedArray=k;function R(he){return n(he)==="Uint16Array"}r.isUint16Array=R;function L(he){return n(he)==="Uint32Array"}r.isUint32Array=L;function U(he){return n(he)==="Int8Array"}r.isInt8Array=U;function te(he){return n(he)==="Int16Array"}r.isInt16Array=te;function V(he){return n(he)==="Int32Array"}r.isInt32Array=V;function oe(he){return n(he)==="Float32Array"}r.isFloat32Array=oe;function de(he){return n(he)==="Float64Array"}r.isFloat64Array=de;function Ee(he){return n(he)==="BigInt64Array"}r.isBigInt64Array=Ee;function Fe(he){return n(he)==="BigUint64Array"}r.isBigUint64Array=Fe;function j(he){return d(he)==="[object Map]"}j.working=typeof Map<"u"&&j(new Map);function fe(he){return typeof Map>"u"?!1:j.working?j(he):he instanceof Map}r.isMap=fe;function z(he){return d(he)==="[object Set]"}z.working=typeof Set<"u"&&z(new Set);function Q(he){return typeof Set>"u"?!1:z.working?z(he):he instanceof Set}r.isSet=Q;function me(he){return d(he)==="[object WeakMap]"}me.working=typeof WeakMap<"u"&&me(new WeakMap);function pe(he){return typeof WeakMap>"u"?!1:me.working?me(he):he instanceof WeakMap}r.isWeakMap=pe;function xe(he){return d(he)==="[object WeakSet]"}xe.working=typeof WeakSet<"u"&&xe(new WeakSet);function ce(he){return xe(he)}r.isWeakSet=ce;function ve(he){return d(he)==="[object ArrayBuffer]"}ve.working=typeof ArrayBuffer<"u"&&ve(new ArrayBuffer);function ee(he){return typeof ArrayBuffer>"u"?!1:ve.working?ve(he):he instanceof ArrayBuffer}r.isArrayBuffer=ee;function re(he){return d(he)==="[object DataView]"}re.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&re(new DataView(new ArrayBuffer(1),0,1));function se(he){return typeof DataView>"u"?!1:re.working?re(he):he instanceof DataView}r.isDataView=se;var Y=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function J(he){return d(he)==="[object SharedArrayBuffer]"}function Se(he){return typeof Y>"u"?!1:(typeof J.working>"u"&&(J.working=J(new Y)),J.working?J(he):he instanceof Y)}r.isSharedArrayBuffer=Se;function Me(he){return d(he)==="[object AsyncFunction]"}r.isAsyncFunction=Me;function Ce(he){return d(he)==="[object Map Iterator]"}r.isMapIterator=Ce;function Re(he){return d(he)==="[object Set Iterator]"}r.isSetIterator=Re;function je(he){return d(he)==="[object Generator]"}r.isGeneratorObject=je;function Ge(he){return d(he)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=Ge;function ct(he){return I(he,l)}r.isNumberObject=ct;function pt(he){return I(he,m)}r.isStringObject=pt;function W(he){return I(he,y)}r.isBooleanObject=W;function He(he){return c&&I(he,b)}r.isBigIntObject=He;function _e(he){return u&&I(he,E)}r.isSymbolObject=_e;function ge(he){return ct(he)||pt(he)||W(he)||He(he)||_e(he)}r.isBoxedPrimitive=ge;function ue(he){return typeof Uint8Array<"u"&&(ee(he)||Se(he))}r.isAnyArrayBuffer=ue,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(he){Object.defineProperty(r,he,{enumerable:!1,value:function(){throw new Error(he+" is not supported in userland")}})})}(Qb)),Qb}var X1,W3;function WM(){return W3||(W3=1,X1=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),X1}var U0={exports:{}},Z3;function kB(){return Z3||(Z3=1,typeof Object.create=="function"?U0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:U0.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),U0.exports}var K3;function Kp(){return K3||(K3=1,function(r){var e={},t=Object.getOwnPropertyDescriptors||function(Y){for(var J=Object.keys(Y),Se={},Me=0;Me<J.length;Me++)Se[J[Me]]=Object.getOwnPropertyDescriptor(Y,J[Me]);return Se},n=/%[sdj%]/g;r.format=function(se){if(!te(se)){for(var Y=[],J=0;J<arguments.length;J++)Y.push(u(arguments[J]));return Y.join(" ")}for(var J=1,Se=arguments,Me=Se.length,Ce=String(se).replace(n,function(je){if(je==="%%")return"%";if(J>=Me)return je;switch(je){case"%s":return String(Se[J++]);case"%d":return Number(Se[J++]);case"%j":try{return JSON.stringify(Se[J++])}catch{return"[Circular]"}default:return je}}),Re=Se[J];J<Me;Re=Se[++J])R(Re)||!Ee(Re)?Ce+=" "+Re:Ce+=" "+u(Re);return Ce},r.deprecate=function(se,Y){if(typeof Hr<"u"&&Hr.noDeprecation===!0)return se;if(typeof Hr>"u")return function(){return r.deprecate(se,Y).apply(this,arguments)};var J=!1;function Se(){if(!J){if(Hr.throwDeprecation)throw new Error(Y);Hr.traceDeprecation?console.trace(Y):console.error(Y),J=!0}return se.apply(this,arguments)}return Se};var i={},s=/^$/;if(e.NODE_DEBUG){var c=e.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+c+"$","i")}r.debuglog=function(se){if(se=se.toUpperCase(),!i[se])if(s.test(se)){var Y=Hr.pid;i[se]=function(){var J=r.format.apply(r,arguments);console.error("%s %d: %s",se,Y,J)}}else i[se]=function(){};return i[se]};function u(se,Y){var J={seen:[],stylize:l};return arguments.length>=3&&(J.depth=arguments[2]),arguments.length>=4&&(J.colors=arguments[3]),k(Y)?J.showHidden=Y:Y&&r._extend(J,Y),oe(J.showHidden)&&(J.showHidden=!1),oe(J.depth)&&(J.depth=2),oe(J.colors)&&(J.colors=!1),oe(J.customInspect)&&(J.customInspect=!0),J.colors&&(J.stylize=d),y(J,se,J.depth)}r.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(se,Y){var J=u.styles[Y];return J?"\x1B["+u.colors[J][0]+"m"+se+"\x1B["+u.colors[J][1]+"m":se}function l(se,Y){return se}function m(se){var Y={};return se.forEach(function(J,Se){Y[J]=!0}),Y}function y(se,Y,J){if(se.customInspect&&Y&&fe(Y.inspect)&&Y.inspect!==r.inspect&&!(Y.constructor&&Y.constructor.prototype===Y)){var Se=Y.inspect(J,se);return te(Se)||(Se=y(se,Se,J)),Se}var Me=b(se,Y);if(Me)return Me;var Ce=Object.keys(Y),Re=m(Ce);if(se.showHidden&&(Ce=Object.getOwnPropertyNames(Y)),j(Y)&&(Ce.indexOf("message")>=0||Ce.indexOf("description")>=0))return E(Y);if(Ce.length===0){if(fe(Y)){var je=Y.name?": "+Y.name:"";return se.stylize("[Function"+je+"]","special")}if(de(Y))return se.stylize(RegExp.prototype.toString.call(Y),"regexp");if(Fe(Y))return se.stylize(Date.prototype.toString.call(Y),"date");if(j(Y))return E(Y)}var Ge="",ct=!1,pt=["{","}"];if(N(Y)&&(ct=!0,pt=["[","]"]),fe(Y)){var W=Y.name?": "+Y.name:"";Ge=" [Function"+W+"]"}if(de(Y)&&(Ge=" "+RegExp.prototype.toString.call(Y)),Fe(Y)&&(Ge=" "+Date.prototype.toUTCString.call(Y)),j(Y)&&(Ge=" "+E(Y)),Ce.length===0&&(!ct||Y.length==0))return pt[0]+Ge+pt[1];if(J<0)return de(Y)?se.stylize(RegExp.prototype.toString.call(Y),"regexp"):se.stylize("[Object]","special");se.seen.push(Y);var He;return ct?He=I(se,Y,J,Re,Ce):He=Ce.map(function(_e){return S(se,Y,J,Re,_e,ct)}),se.seen.pop(),P(He,Ge,pt)}function b(se,Y){if(oe(Y))return se.stylize("undefined","undefined");if(te(Y)){var J="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return se.stylize(J,"string")}if(U(Y))return se.stylize(""+Y,"number");if(k(Y))return se.stylize(""+Y,"boolean");if(R(Y))return se.stylize("null","null")}function E(se){return"["+Error.prototype.toString.call(se)+"]"}function I(se,Y,J,Se,Me){for(var Ce=[],Re=0,je=Y.length;Re<je;++Re)ce(Y,String(Re))?Ce.push(S(se,Y,J,Se,String(Re),!0)):Ce.push("");return Me.forEach(function(Ge){Ge.match(/^\d+$/)||Ce.push(S(se,Y,J,Se,Ge,!0))}),Ce}function S(se,Y,J,Se,Me,Ce){var Re,je,Ge;if(Ge=Object.getOwnPropertyDescriptor(Y,Me)||{value:Y[Me]},Ge.get?Ge.set?je=se.stylize("[Getter/Setter]","special"):je=se.stylize("[Getter]","special"):Ge.set&&(je=se.stylize("[Setter]","special")),ce(Se,Me)||(Re="["+Me+"]"),je||(se.seen.indexOf(Ge.value)<0?(R(J)?je=y(se,Ge.value,null):je=y(se,Ge.value,J-1),je.indexOf(`
`)>-1&&(Ce?je=je.split(`
`).map(function(ct){return"  "+ct}).join(`
`).slice(2):je=`
`+je.split(`
`).map(function(ct){return"   "+ct}).join(`
`))):je=se.stylize("[Circular]","special")),oe(Re)){if(Ce&&Me.match(/^\d+$/))return je;Re=JSON.stringify(""+Me),Re.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Re=Re.slice(1,-1),Re=se.stylize(Re,"name")):(Re=Re.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Re=se.stylize(Re,"string"))}return Re+": "+je}function P(se,Y,J){var Se=se.reduce(function(Me,Ce){return Ce.indexOf(`
`)>=0,Me+Ce.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Se>60?J[0]+(Y===""?"":Y+`
 `)+" "+se.join(`,
  `)+" "+J[1]:J[0]+Y+" "+se.join(", ")+" "+J[1]}r.types=VM();function N(se){return Array.isArray(se)}r.isArray=N;function k(se){return typeof se=="boolean"}r.isBoolean=k;function R(se){return se===null}r.isNull=R;function L(se){return se==null}r.isNullOrUndefined=L;function U(se){return typeof se=="number"}r.isNumber=U;function te(se){return typeof se=="string"}r.isString=te;function V(se){return typeof se=="symbol"}r.isSymbol=V;function oe(se){return se===void 0}r.isUndefined=oe;function de(se){return Ee(se)&&Q(se)==="[object RegExp]"}r.isRegExp=de,r.types.isRegExp=de;function Ee(se){return typeof se=="object"&&se!==null}r.isObject=Ee;function Fe(se){return Ee(se)&&Q(se)==="[object Date]"}r.isDate=Fe,r.types.isDate=Fe;function j(se){return Ee(se)&&(Q(se)==="[object Error]"||se instanceof Error)}r.isError=j,r.types.isNativeError=j;function fe(se){return typeof se=="function"}r.isFunction=fe;function z(se){return se===null||typeof se=="boolean"||typeof se=="number"||typeof se=="string"||typeof se=="symbol"||typeof se>"u"}r.isPrimitive=z,r.isBuffer=WM();function Q(se){return Object.prototype.toString.call(se)}function me(se){return se<10?"0"+se.toString(10):se.toString(10)}var pe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xe(){var se=new Date,Y=[me(se.getHours()),me(se.getMinutes()),me(se.getSeconds())].join(":");return[se.getDate(),pe[se.getMonth()],Y].join(" ")}r.log=function(){console.log("%s - %s",xe(),r.format.apply(r,arguments))},r.inherits=kB(),r._extend=function(se,Y){if(!Y||!Ee(Y))return se;for(var J=Object.keys(Y),Se=J.length;Se--;)se[J[Se]]=Y[J[Se]];return se};function ce(se,Y){return Object.prototype.hasOwnProperty.call(se,Y)}var ve=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');if(ve&&Y[ve]){var J=Y[ve];if(typeof J!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(J,ve,{value:J,enumerable:!1,writable:!1,configurable:!0}),J}function J(){for(var Se,Me,Ce=new Promise(function(Ge,ct){Se=Ge,Me=ct}),Re=[],je=0;je<arguments.length;je++)Re.push(arguments[je]);Re.push(function(Ge,ct){Ge?Me(Ge):Se(ct)});try{Y.apply(this,Re)}catch(Ge){Me(Ge)}return Ce}return Object.setPrototypeOf(J,Object.getPrototypeOf(Y)),ve&&Object.defineProperty(J,ve,{value:J,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(J,t(Y))},r.promisify.custom=ve;function ee(se,Y){if(!se){var J=new Error("Promise was rejected with a falsy value");J.reason=se,se=J}return Y(se)}function re(se){if(typeof se!="function")throw new TypeError('The "original" argument must be of type Function');function Y(){for(var J=[],Se=0;Se<arguments.length;Se++)J.push(arguments[Se]);var Me=J.pop();if(typeof Me!="function")throw new TypeError("The last argument must be of type Function");var Ce=this,Re=function(){return Me.apply(Ce,arguments)};se.apply(this,J).then(function(je){Hr.nextTick(Re.bind(null,null,je))},function(je){Hr.nextTick(ee.bind(null,je,Re))})}return Object.setPrototypeOf(Y,Object.getPrototypeOf(se)),Object.defineProperties(Y,t(se)),Y}r.callbackify=re}(Jb)),Jb}var St=Kp();function Pi(r){const e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}function Si(r,e){if(r<BigInt(0))throw new Error(`Cannot convert negative bigint ${r.toString()} to buffer with toBufferBE.`);const t=r.toString(16),n=$e.from(t.padStart(e*2,"0").slice(0,e*2),"hex");if(n.length>e)throw new Error(`Number ${r.toString(16)} does not fit in ${e}`);return n}function RB(r){if(!/^(0x)?[0-9a-fA-F]*$/.test(r)||r.length%2!==0)throw new Error(`Invalid hex string: ${r}`);return $e.from(r.replace(/^0x/i,""),"hex")}const PB={},ZM=Object.freeze(Object.defineProperty({__proto__:null,default:PB},Symbol.toStringTag,{value:"Module"})),$A=Object.prototype.toString.call(typeof Hr<"u"?Hr:0)==="[object process]",{env:Ad={},argv:BB=[],platform:KM=""}=typeof Hr>"u"?{}:Hr,GM="NO_COLOR"in Ad||BB.includes("--no-color"),YM="FORCE_COLOR"in Ad||BB.includes("--color"),XM=KM==="win32",JM=Ad.TERM==="dumb",QM=ZM&&void 0,ej="CI"in Ad&&("GITHUB_ACTIONS"in Ad||"GITLAB_CI"in Ad||"CIRCLECI"in Ad),NB=!GM&&(YM||XM&&!JM||QM||ej),OB=(r,e,t,n,i=e.substring(0,r)+n,s=e.substring(r+t.length),c=s.indexOf(t))=>i+(c<0?s:OB(c,s,t,n)),tj=(r,e,t,n,i)=>r<0?t+e+n:t+OB(r,e,n,i)+n,rj=(r,e,t=r,n=r.length+1)=>i=>i||!(i===""||i===void 0)?tj((""+i).indexOf(e,n),i,r,e,t):"",hr=(r,e,t)=>rj(`\x1B[${r}m`,`\x1B[${e}m`,t),G3={reset:hr(0,0),bold:hr(1,22,"\x1B[22m\x1B[1m"),dim:hr(2,22,"\x1B[22m\x1B[2m"),italic:hr(3,23),underline:hr(4,24),inverse:hr(7,27),hidden:hr(8,28),strikethrough:hr(9,29),black:hr(30,39),red:hr(31,39),green:hr(32,39),yellow:hr(33,39),blue:hr(34,39),magenta:hr(35,39),cyan:hr(36,39),white:hr(37,39),gray:hr(90,39),bgBlack:hr(40,49),bgRed:hr(41,49),bgGreen:hr(42,49),bgYellow:hr(43,49),bgBlue:hr(44,49),bgMagenta:hr(45,49),bgCyan:hr(46,49),bgWhite:hr(47,49),blackBright:hr(90,39),redBright:hr(91,39),greenBright:hr(92,39),yellowBright:hr(93,39),blueBright:hr(94,39),magentaBright:hr(95,39),cyanBright:hr(96,39),whiteBright:hr(97,39),bgBlackBright:hr(100,49),bgRedBright:hr(101,49),bgGreenBright:hr(102,49),bgYellowBright:hr(103,49),bgBlueBright:hr(104,49),bgMagentaBright:hr(105,49),bgCyanBright:hr(106,49),bgWhiteBright:hr(107,49)},FB=({useColor:r=NB}={})=>r?G3:Object.keys(G3).reduce((e,t)=>({...e,[t]:String}),{}),{reset:xX,bold:AX,dim:CX,italic:TX,underline:IX,inverse:kX,hidden:RX,strikethrough:PX,black:BX,red:NX,green:OX,yellow:FX,blue:LX,magenta:DX,cyan:MX,white:jX,gray:$X,bgBlack:UX,bgRed:zX,bgGreen:HX,bgYellow:qX,bgBlue:VX,bgMagenta:WX,bgCyan:ZX,bgWhite:KX,blackBright:GX,redBright:YX,greenBright:XX,yellowBright:JX,blueBright:QX,magentaBright:eJ,cyanBright:tJ,whiteBright:rJ,bgBlackBright:nJ,bgRedBright:iJ,bgGreenBright:sJ,bgYellowBright:aJ,bgBlueBright:oJ,bgMagentaBright:cJ,bgCyanBright:uJ,bgWhiteBright:lJ}=FB();var Ag={exports:{}},J1,Y3;function nj(){if(Y3)return J1;Y3=1;function r(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}J1=e;function e(t,n,i){var s=i&&i.stringify||r,c=1;if(typeof t=="object"&&t!==null){var u=n.length+c;if(u===1)return t;var d=new Array(u);d[0]=s(t);for(var l=1;l<u;l++)d[l]=s(n[l]);return d.join(" ")}if(typeof t!="string")return t;var m=n.length;if(m===0)return t;for(var y="",b=1-c,E=-1,I=t&&t.length||0,S=0;S<I;){if(t.charCodeAt(S)===37&&S+1<I){switch(E=E>-1?E:0,t.charCodeAt(S+1)){case 100:case 102:if(b>=m||n[b]==null)break;E<S&&(y+=t.slice(E,S)),y+=Number(n[b]),E=S+2,S++;break;case 105:if(b>=m||n[b]==null)break;E<S&&(y+=t.slice(E,S)),y+=Math.floor(Number(n[b])),E=S+2,S++;break;case 79:case 111:case 106:if(b>=m||n[b]===void 0)break;E<S&&(y+=t.slice(E,S));var P=typeof n[b];if(P==="string"){y+="'"+n[b]+"'",E=S+2,S++;break}if(P==="function"){y+=n[b].name||"<anonymous>",E=S+2,S++;break}y+=s(n[b]),E=S+2,S++;break;case 115:if(b>=m)break;E<S&&(y+=t.slice(E,S)),y+=String(n[b]),E=S+2,S++;break;case 37:E<S&&(y+=t.slice(E,S)),y+="%",E=S+2,S++,b--;break}++b}++S}return E===-1?t:(E<I&&(y+=t.slice(E)),y)}return J1}var X3;function ij(){if(X3)return Ag.exports;X3=1;const r=nj();Ag.exports=m;const e=z().console||{},t={mapHttpRequest:V,mapHttpResponse:V,wrapRequestSerializer:oe,wrapResponseSerializer:oe,wrapErrorSerializer:oe,req:V,res:V,err:U,errWithCause:U};function n(Q,me){return Q==="silent"?1/0:me.levels.values[Q]}const i=Symbol("pino.logFuncs"),s=Symbol("pino.hierarchy"),c={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(Q,me){const pe={logger:me,parent:Q[s]};me[s]=pe}function d(Q,me,pe){const xe={};me.forEach(ce=>{xe[ce]=pe[ce]?pe[ce]:e[ce]||e[c[ce]||"log"]||de}),Q[i]=xe}function l(Q,me){return Array.isArray(Q)?Q.filter(function(xe){return xe!=="!stdSerializers.err"}):Q===!0?Object.keys(me):!1}function m(Q){Q=Q||{},Q.browser=Q.browser||{};const me=Q.browser.transmit;if(me&&typeof me.send!="function")throw Error("pino: transmit option must have a send function");const pe=Q.browser.write||e;Q.browser.write&&(Q.browser.asObject=!0);const xe=Q.serializers||{},ce=l(Q.browser.serialize,xe);let ve=Q.browser.serialize;Array.isArray(Q.browser.serialize)&&Q.browser.serialize.indexOf("!stdSerializers.err")>-1&&(ve=!1);const ee=Object.keys(Q.customLevels||{}),re=["error","fatal","warn","info","debug","trace"].concat(ee);typeof pe=="function"&&re.forEach(function(je){pe[je]=pe}),(Q.enabled===!1||Q.browser.disabled)&&(Q.level="silent");const se=Q.level||"info",Y=Object.create(pe);Y.log||(Y.log=de),d(Y,re,pe),u({},Y),Object.defineProperty(Y,"levelVal",{get:Se}),Object.defineProperty(Y,"level",{get:Me,set:Ce});const J={transmit:me,serialize:ce,asObject:Q.browser.asObject,formatters:Q.browser.formatters,levels:re,timestamp:te(Q),messageKey:Q.messageKey||"msg",onChild:Q.onChild||de};Y.levels=y(Q),Y.level=se,Y.setMaxListeners=Y.getMaxListeners=Y.emit=Y.addListener=Y.on=Y.prependListener=Y.once=Y.prependOnceListener=Y.removeListener=Y.removeAllListeners=Y.listeners=Y.listenerCount=Y.eventNames=Y.write=Y.flush=de,Y.serializers=xe,Y._serialize=ce,Y._stdErrSerialize=ve,Y.child=function(...je){return Re.call(this,J,...je)},me&&(Y._logEvent=L());function Se(){return n(this.level,this)}function Me(){return this._level}function Ce(je){if(je!=="silent"&&!this.levels.values[je])throw Error("unknown level "+je);this._level=je,I(this,J,Y,"error"),I(this,J,Y,"fatal"),I(this,J,Y,"warn"),I(this,J,Y,"info"),I(this,J,Y,"debug"),I(this,J,Y,"trace"),ee.forEach(Ge=>{I(this,J,Y,Ge)})}function Re(je,Ge,ct){if(!Ge)throw new Error("missing bindings for child Pino");ct=ct||{},ce&&Ge.serializers&&(ct.serializers=Ge.serializers);const pt=ct.serializers;if(ce&&pt){var W=Object.assign({},xe,pt),He=Q.browser.serialize===!0?Object.keys(W):ce;delete Ge.serializers,k([Ge],He,W,this._stdErrSerialize)}function _e(ue){this._childLevel=(ue._childLevel|0)+1,this.bindings=Ge,W&&(this.serializers=W,this._serialize=He),me&&(this._logEvent=L([].concat(ue._logEvent.bindings,Ge)))}_e.prototype=this;const ge=new _e(this);return u(this,ge),ge.child=function(...ue){return Re.call(this,je,...ue)},ge.level=ct.level||this.level,je.onChild(ge),ge}return Y}function y(Q){const me=Q.customLevels||{},pe=Object.assign({},m.levels.values,me),xe=Object.assign({},m.levels.labels,b(me));return{values:pe,labels:xe}}function b(Q){const me={};return Object.keys(Q).forEach(function(pe){me[Q[pe]]=pe}),me}m.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},m.stdSerializers=t,m.stdTimeFunctions=Object.assign({},{nullTime:Ee,epochTime:Fe,unixTime:j,isoTime:fe});function E(Q){const me=[];Q.bindings&&me.push(Q.bindings);let pe=Q[s];for(;pe.parent;)pe=pe.parent,pe.logger.bindings&&me.push(pe.logger.bindings);return me.reverse()}function I(Q,me,pe,xe){if(Object.defineProperty(Q,xe,{value:n(Q.level,pe)>n(xe,pe)?de:pe[i][xe],writable:!0,enumerable:!0,configurable:!0}),Q[xe]===de){if(!me.transmit)return;const ve=me.transmit.level||Q.level,ee=n(ve,pe);if(n(xe,pe)<ee)return}Q[xe]=P(Q,me,pe,xe);const ce=E(Q);ce.length!==0&&(Q[xe]=S(ce,Q[xe]))}function S(Q,me){return function(){return me.apply(this,[...Q,...arguments])}}function P(Q,me,pe,xe){return function(ce){return function(){const ee=me.timestamp(),re=new Array(arguments.length),se=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var Y=0;Y<re.length;Y++)re[Y]=arguments[Y];var J=!1;if(me.serialize&&(k(re,this._serialize,this.serializers,this._stdErrSerialize),J=!0),me.asObject||me.formatters?ce.call(se,N(this,xe,re,ee,me)):ce.apply(se,re),me.transmit){const Se=me.transmit.level||Q._level,Me=n(Se,pe),Ce=n(xe,pe);if(Ce<Me)return;R(this,{ts:ee,methodLevel:xe,methodValue:Ce,transmitValue:pe.levels.values[me.transmit.level||Q._level],send:me.transmit.send,val:n(Q._level,pe)},re,J)}}}(Q[i][xe])}function N(Q,me,pe,xe,ce){const{level:ve,log:ee=Me=>Me}=ce.formatters||{},re=pe.slice();let se=re[0];const Y={};if(xe&&(Y.time=xe),ve){const Me=ve(me,Q.levels.values[me]);Object.assign(Y,Me)}else Y.level=Q.levels.values[me];let J=(Q._childLevel|0)+1;if(J<1&&(J=1),se!==null&&typeof se=="object"){for(;J--&&typeof re[0]=="object";)Object.assign(Y,re.shift());se=re.length?r(re.shift(),re):void 0}else typeof se=="string"&&(se=r(re.shift(),re));return se!==void 0&&(Y[ce.messageKey]=se),ee(Y)}function k(Q,me,pe,xe){for(const ce in Q)if(xe&&Q[ce]instanceof Error)Q[ce]=m.stdSerializers.err(Q[ce]);else if(typeof Q[ce]=="object"&&!Array.isArray(Q[ce])&&me)for(const ve in Q[ce])me.indexOf(ve)>-1&&ve in pe&&(Q[ce][ve]=pe[ve](Q[ce][ve]))}function R(Q,me,pe,xe=!1){const ce=me.send,ve=me.ts,ee=me.methodLevel,re=me.methodValue,se=me.val,Y=Q._logEvent.bindings;xe||k(pe,Q._serialize||Object.keys(Q.serializers),Q.serializers,Q._stdErrSerialize===void 0?!0:Q._stdErrSerialize),Q._logEvent.ts=ve,Q._logEvent.messages=pe.filter(function(J){return Y.indexOf(J)===-1}),Q._logEvent.level.label=ee,Q._logEvent.level.value=re,ce(ee,Q._logEvent,se),Q._logEvent=L(Y)}function L(Q){return{ts:0,messages:[],bindings:Q||[],level:{label:"",value:0}}}function U(Q){const me={type:Q.constructor.name,msg:Q.message,stack:Q.stack};for(const pe in Q)me[pe]===void 0&&(me[pe]=Q[pe]);return me}function te(Q){return typeof Q.timestamp=="function"?Q.timestamp:Q.timestamp===!1?Ee:Fe}function V(){return{}}function oe(Q){return Q}function de(){}function Ee(){return!1}function Fe(){return Date.now()}function j(){return Math.round(Date.now()/1e3)}function fe(){return new Date(Date.now()).toISOString()}function z(){function Q(me){return typeof me<"u"&&me}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return Q(self)||Q(window)||Q(this)||{}}}return Ag.exports.default=m,Ag.exports.pino=m,Ag.exports}var gd=ij();function C_(r,e,t,n="Array size exceeds target length"){if(r.length>t)throw new Error(n);return[...r,...Array(t-r.length).fill(e)]}function J3(r,e){return[...Array(r).keys()].map(t=>e(t))}async function UA(r,e){return await Promise.all(Array(r).fill(0).map((n,i)=>e(i)))}function fi(r){return r.filter(e=>e&&("isZero"in e?!e.isZero():!e.isEmpty())).map(e=>e.toBuffer().length).reduce((e,t)=>e+t,0)}function sj(r){return r.filter(e=>e!==void 0)}var Q3={LOG_LEVEL:"verbose"};function aj(r,e,t,n){let i;if(r&&(i=Q3[r]),i===void 0&&n&&n.length>0)for(const s of n){const c=Q3[s];if(c!==void 0){i=c;break}}return i!==void 0?e?e(i):i:t}function LB(r){const e={};for(const t in r){const{env:n,parseEnv:i,defaultValue:s,nested:c,fallback:u}=r[t];c?e[t]=LB(c):e[t]=aj(n,i,s,u)}return e}function zA(r){return{parseEnv:e=>oj(e,r),defaultValue:r}}function eT(r=!1){const e=t=>typeof t=="boolean"?t:hy(t);return{parseEnv:e,parseVal:e,defaultValue:r,isBoolean:!0}}function hy(r){return r!==void 0&&["1","true","TRUE"].includes(r)}function oj(r,e){const t=parseInt(r,10);return Number.isSafeInteger(t)?t:e}const cj="logging.googleapis.com/trace",uj="logging.googleapis.com/spanId",lj="logging.googleapis.com/trace_sampled",fj={messageKey:"message",timestamp(){return`,"timestamp":"${new Date(Date.now()).toISOString()}"`},formatters:{log(r){const{trace_id:e,span_id:t,trace_flags:n,...i}=r;return e&&t?{[cj]:e,[uj]:t,[lj]:n?n==="01":void 0,trace_flags:n,...i}:r},level(r,e){let t;switch(r){case"trace":case"debug":t="DEBUG";break;case"verbose":case"info":t="INFO";break;case"warn":t="WARNING";break;case"error":t="ERROR";break;case"fatal":t="CRITICAL";break;default:t="DEFAULT";break}return{severity:t,level:e}}}},dj=["silent","fatal","error","warn","info","verbose","debug","trace"];function hj(r,e){for(const[t,n]of r)try{if(new RegExp(t).test(e))return n}catch{if(e.startsWith(t))return n}}function DB(r){if(!dj.includes(r))throw new Error(`Invalid log level: ${r}`)}function pj(r,e){const[t]=r.split(";",1);return DB(t),[t,mj(r.slice(t.length+1))]}function mj(r){if(!r)return[];const e=r.split(";"),t=[];for(const n of e){const[i]=n.split(":",1),s=n.slice(i.length+1);if(!s||!i)throw new Error(`Invalid log filter statement: ${n}`);const c=i.trim().toLowerCase();DB(c);for(const u of s.split(","))t.push([u.trim().toLowerCase().replace(/^aztec:/,""),c])}return t.reverse()}var nh={LOG_LEVEL:"verbose"};function Pr(r){r=yj.reduce((n,i)=>i(n),r.replace(/^aztec:/,""));const e=qB.child({module:r},{level:hj(MB,r)}),t=(n,i,s)=>tT(e,n)&&e[n](_j(s??{}),i);return{silent:()=>{},fatal:(n,i,s)=>t("fatal",nT(n,i),s),error:(n,i,s)=>t("error",nT(n,i),s),warn:(n,i)=>t("warn",n,i),info:(n,i)=>t("info",n,i),verbose:(n,i)=>t("verbose",n,i),debug:(n,i)=>t("debug",n,i),trace:(n,i)=>t("trace",n,i),level:e.level,isLevelEnabled:n=>tT(e,n),module:r}}const gj=[];function _j(r){return gj.reduce((e,t)=>t(e),r)}const yj=[];function tT(r,e){return typeof r.isLevelEnabled=="function"?r.isLevelEnabled(e):r.levels.values[e]>=r.levels.values[r.level]}const[hx,MB]=pj(nh.LOG_LEVEL),px={verbose:25},jB=hy(nh.USE_GCLOUD_LOGGING),Q1={customLevels:px,messageKey:"msg",useOnlyCustomLevels:!1,level:hx,...jB?fj:{}},$B={labels:{...gd.pino.levels.labels,...Object.fromEntries(Object.entries(px).map(r=>r.reverse()))},values:{...gd.pino.levels.values,...px}},rT=nh.FORCE_COLOR,UB=rT===void 0?NB:hy(rT),{bold:wj,reset:vj}=FB({useColor:UB}),bj={destination:2,sync:!0,colorize:UB,ignore:"module,pid,hostname,trace_id,span_id,trace_flags,severity",messageFormat:`${wj("{module}")} ${vj("{msg}")}`,customLevels:"fatal:60,error:50,warn:40,info:30,verbose:25,debug:20,trace:10",customColors:"fatal:bgRed,error:red,warn:yellow,info:green,verbose:magenta,debug:blue,trace:gray",minimumLevel:"trace",singleLine:!hy(nh.LOG_MULTILINE)},Ej={target:"pino-pretty",options:bj,level:"trace"},Sj={target:"pino/file",options:{destination:2},level:"trace"},zB=nh.OTEL_EXPORTER_OTLP_LOGS_ENDPOINT,HB=!!zB&&!jB,xj={levels:$B},Aj={target:"@aztec/telemetry-client/otel-pino-stream",options:xj,level:"trace"};function Cj(){if($A){if(nh.JEST_WORKER_ID)return gd.pino(Q1,gd.pino.destination(2));{const r=sj([hy(nh.LOG_JSON)?Sj:Ej,HB?Aj:void 0]);return gd.pino(Q1,gd.pino.transport({targets:r,levels:$B.values}))}}else return gd.pino({...Q1,browser:{asObject:!1}})}const qB=Cj();qB.verbose({module:"logger",...MB.reduce((r,[e,t])=>({...r,[`log.${e}`]:t}),{})},$A?`Logger initialized with level ${hx}`+(HB?` with OTLP exporter to ${zB}`:""):`Browser console logger initialized with level ${hx}`);function nT(r,e){return e?`${r}: ${St.inspect(e)}`:r}var iT={};const bd=class bd{constructor(e,t=Pr("foundation:randomness_singleton")){x(this,"seed");x(this,"log");x(this,"counter");this.seed=e,this.log=t,this.counter=0,e!==void 0?(this.log.debug(`Using pseudo-randomness with seed: ${e}`),this.counter=e):this.log.debug("Using true randomness")}static getInstance(){if(!bd.instance){const e=iT.SEED?Number(iT.SEED):void 0;bd.instance=new bd(e)}return bd.instance}isDeterministic(){return this.seed!==void 0}getBytes(e){if(this.seed===void 0)throw new Error("RandomnessSingleton is not implemented for non-deterministic mode");const t=$e.alloc(e);for(let n=0;n<e;n++)t[n]=this.counter>>n*8&255;return this.counter++,t}};x(bd,"instance");let mx=bd;const eE=65536,Tj=()=>{if(typeof window<"u"&&window.crypto)return window.crypto;if(typeof self<"u"&&self.crypto)return self.crypto},Ta=r=>{const e=mx.getInstance();if(e.isDeterministic())return e.getBytes(r);if($A)return PB.randomBytes(r);const t=Tj();if(!t)throw new Error("randomBytes UnsupportedEnvironment");const n=$e.allocUnsafe(r);if(r>eE)for(let i=0;i<r;i+=eE)t.getRandomValues(n.slice(i,i+eE));else t.getRandomValues(n);return n},HA=r=>{const e=Ta(6);return parseInt(e.toString("hex"),16)%r},Ij=()=>Ta(1)[0]%2===0;var Rr;(function(r){r.assertEqual=i=>i;function e(i){}r.assertIs=e;function t(i){throw new Error}r.assertNever=t,r.arrayToEnum=i=>{const s={};for(const c of i)s[c]=c;return s},r.getValidEnumValues=i=>{const s=r.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),c={};for(const u of s)c[u]=i[u];return r.objectValues(c)},r.objectValues=i=>r.objectKeys(i).map(function(s){return i[s]}),r.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&s.push(c);return s},r.find=(i,s)=>{for(const c of i)if(s(c))return c},r.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(c=>typeof c=="string"?`'${c}'`:c).join(s)}r.joinValues=n,r.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Rr||(Rr={}));var gx;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(gx||(gx={}));const It=Rr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bu=r=>{switch(typeof r){case"undefined":return It.undefined;case"string":return It.string;case"number":return isNaN(r)?It.nan:It.number;case"boolean":return It.boolean;case"function":return It.function;case"bigint":return It.bigint;case"symbol":return It.symbol;case"object":return Array.isArray(r)?It.array:r===null?It.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?It.promise:typeof Map<"u"&&r instanceof Map?It.map:typeof Set<"u"&&r instanceof Set?It.set:typeof Date<"u"&&r instanceof Date?It.date:It.object;default:return It.unknown}},yt=Rr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),kj=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class xa extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const c of s.issues)if(c.code==="invalid_union")c.unionErrors.map(i);else if(c.code==="invalid_return_type")i(c.returnTypeError);else if(c.code==="invalid_arguments")i(c.argumentsError);else if(c.path.length===0)n._errors.push(t(c));else{let u=n,d=0;for(;d<c.path.length;){const l=c.path[d];d===c.path.length-1?(u[l]=u[l]||{_errors:[]},u[l]._errors.push(t(c))):u[l]=u[l]||{_errors:[]},u=u[l],d++}}};return i(this),n}static assert(e){if(!(e instanceof xa))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}xa.create=r=>new xa(r);const Gp=(r,e)=>{let t;switch(r.code){case yt.invalid_type:r.received===It.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case yt.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Rr.jsonStringifyReplacer)}`;break;case yt.unrecognized_keys:t=`Unrecognized key(s) in object: ${Rr.joinValues(r.keys,", ")}`;break;case yt.invalid_union:t="Invalid input";break;case yt.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Rr.joinValues(r.options)}`;break;case yt.invalid_enum_value:t=`Invalid enum value. Expected ${Rr.joinValues(r.options)}, received '${r.received}'`;break;case yt.invalid_arguments:t="Invalid function arguments";break;case yt.invalid_return_type:t="Invalid function return type";break;case yt.invalid_date:t="Invalid date";break;case yt.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Rr.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case yt.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case yt.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case yt.custom:t="Invalid input";break;case yt.invalid_intersection_types:t="Intersection results could not be merged";break;case yt.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case yt.not_finite:t="Number must be finite";break;default:t=e.defaultError,Rr.assertNever(r)}return{message:t}};let VB=Gp;function Rj(r){VB=r}function Ew(){return VB}const Sw=r=>{const{data:e,path:t,errorMaps:n,issueData:i}=r,s=[...t,...i.path||[]],c={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let u="";const d=n.filter(l=>!!l).slice().reverse();for(const l of d)u=l(c,{data:e,defaultError:u}).message;return{...i,path:s,message:u}},Pj=[];function Tt(r,e){const t=Ew(),n=Sw({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Gp?void 0:Gp].filter(i=>!!i)});r.common.issues.push(n)}class ps{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const i of t){if(i.status==="aborted")return nr;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const i of t){const s=await i.key,c=await i.value;n.push({key:s,value:c})}return ps.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const i of t){const{key:s,value:c}=i;if(s.status==="aborted"||c.status==="aborted")return nr;s.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof c.value<"u"||i.alwaysSet)&&(n[s.value]=c.value)}return{status:e.value,value:n}}}const nr=Object.freeze({status:"aborted"}),Ep=r=>({status:"dirty",value:r}),ms=r=>({status:"valid",value:r}),_x=r=>r.status==="aborted",yx=r=>r.status==="dirty",ih=r=>r.status==="valid",T_=r=>typeof Promise<"u"&&r instanceof Promise;function xw(r,e,t,n){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(r)}function WB(r,e,t,n,i){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}var jt;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(jt||(jt={}));var Qg,e_;class Hc{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sT=(r,e)=>{if(ih(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new xa(r.common.issues);return this._error=t,this._error}}};function dr(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:i}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(c,u)=>{var d,l;const{message:m}=r;return c.code==="invalid_enum_value"?{message:m??u.defaultError}:typeof u.data>"u"?{message:(d=m??n)!==null&&d!==void 0?d:u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:(l=m??t)!==null&&l!==void 0?l:u.defaultError}},description:i}}class yr{get description(){return this._def.description}_getType(e){return Bu(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Bu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ps,ctx:{common:e.parent.common,data:e.data,parsedType:Bu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(T_(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const i={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bu(e)},s=this._parseSync({data:e,path:i.path,parent:i});return sT(i,s)}"~validate"(e){var t,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bu(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return ih(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(t=s==null?void 0:s.message)===null||t===void 0?void 0:t.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>ih(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bu(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(T_(i)?i:Promise.resolve(i));return sT(n,s)}refine(e,t){const n=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const c=e(i),u=()=>s.addIssue({code:yt.custom,...n(i)});return typeof Promise<"u"&&c instanceof Promise?c.then(d=>d?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new Go({schema:this,typeName:Xt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Ho.create(this,this._def)}nullable(){return uf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zo.create(this)}promise(){return Xp.create(this,this._def)}or(e){return P_.create([this,e],this._def)}and(e){return B_.create(this,e,this._def)}transform(e){return new Go({...dr(this._def),schema:this,typeName:Xt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new D_({...dr(this._def),innerType:this,defaultValue:t,typeName:Xt.ZodDefault})}brand(){return new qA({typeName:Xt.ZodBranded,type:this,...dr(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new M_({...dr(this._def),innerType:this,catchValue:t,typeName:Xt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return py.create(this,e)}readonly(){return j_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Bj=/^c[^\s-]{8,}$/i,Nj=/^[0-9a-z]+$/,Oj=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Fj=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Lj=/^[a-z0-9_-]{21}$/i,Dj=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Mj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jj=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$j="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tE;const Uj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Wj=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ZB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zj=new RegExp(`^${ZB}$`);function KB(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Kj(r){return new RegExp(`^${KB(r)}$`)}function GB(r){let e=`${ZB}T${KB(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Gj(r,e){return!!((e==="v4"||!e)&&Uj.test(r)||(e==="v6"||!e)&&Hj.test(r))}function Yj(r,e){if(!Dj.test(r))return!1;try{const[t]=r.split("."),n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function Xj(r,e){return!!((e==="v4"||!e)&&zj.test(r)||(e==="v6"||!e)&&qj.test(r))}class jo extends yr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==It.string){const s=this._getOrReturnCtx(e);return Tt(s,{code:yt.invalid_type,expected:It.string,received:s.parsedType}),nr}const n=new ps;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Tt(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Tt(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const c=e.data.length>s.value,u=e.data.length<s.value;(c||u)&&(i=this._getOrReturnCtx(e,i),c?Tt(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&Tt(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")jj.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"email",code:yt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")tE||(tE=new RegExp($j,"u")),tE.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"emoji",code:yt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Fj.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"uuid",code:yt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Lj.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"nanoid",code:yt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Bj.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"cuid",code:yt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Nj.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"cuid2",code:yt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Oj.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"ulid",code:yt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Tt(i,{validation:"url",code:yt.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"regex",code:yt.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Tt(i,{code:yt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Tt(i,{code:yt.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Tt(i,{code:yt.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?GB(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{code:yt.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Zj.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{code:yt.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Kj(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{code:yt.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Mj.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"duration",code:yt.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Gj(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"ip",code:yt.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Yj(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"jwt",code:yt.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Xj(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"cidr",code:yt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Vj.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"base64",code:yt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Wj.test(e.data)||(i=this._getOrReturnCtx(e,i),Tt(i,{validation:"base64url",code:yt.invalid_string,message:s.message}),n.dirty()):Rr.assertNever(s);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),{validation:t,code:yt.invalid_string,...jt.errToObj(n)})}_addCheck(e){return new jo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...jt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...jt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...jt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...jt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...jt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...jt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...jt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...jt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...jt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...jt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...jt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...jt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...jt.errToObj(e)})}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...jt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...jt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...jt.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...jt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...jt.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...jt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...jt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...jt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...jt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...jt.errToObj(t)})}nonempty(e){return this.min(1,jt.errToObj(e))}trim(){return new jo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}jo.create=r=>{var e;return new jo({checks:[],typeName:Xt.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...dr(r)})};function Jj(r,e){const t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,s=parseInt(r.toFixed(i).replace(".","")),c=parseInt(e.toFixed(i).replace(".",""));return s%c/Math.pow(10,i)}class af extends yr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==It.number){const s=this._getOrReturnCtx(e);return Tt(s,{code:yt.invalid_type,expected:It.number,received:s.parsedType}),nr}let n;const i=new ps;for(const s of this._def.checks)s.kind==="int"?Rr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Tt(n,{code:yt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Tt(n,{code:yt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Tt(n,{code:yt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Jj(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Tt(n,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Tt(n,{code:yt.not_finite,message:s.message}),i.dirty()):Rr.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,jt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,jt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,jt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,jt.toString(t))}setLimit(e,t,n,i){return new af({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:jt.toString(i)}]})}_addCheck(e){return new af({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:jt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:jt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:jt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:jt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:jt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:jt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:jt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:jt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:jt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Rr.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}af.create=r=>new af({checks:[],typeName:Xt.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...dr(r)});class of extends yr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==It.bigint)return this._getInvalidInput(e);let n;const i=new ps;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Tt(n,{code:yt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Tt(n,{code:yt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Tt(n,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Rr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Tt(t,{code:yt.invalid_type,expected:It.bigint,received:t.parsedType}),nr}gte(e,t){return this.setLimit("min",e,!0,jt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,jt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,jt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,jt.toString(t))}setLimit(e,t,n,i){return new of({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:jt.toString(i)}]})}_addCheck(e){return new of({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:jt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:jt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:jt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:jt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:jt.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}of.create=r=>{var e;return new of({checks:[],typeName:Xt.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...dr(r)})};class I_ extends yr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==It.boolean){const n=this._getOrReturnCtx(e);return Tt(n,{code:yt.invalid_type,expected:It.boolean,received:n.parsedType}),nr}return ms(e.data)}}I_.create=r=>new I_({typeName:Xt.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...dr(r)});class sh extends yr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==It.date){const s=this._getOrReturnCtx(e);return Tt(s,{code:yt.invalid_type,expected:It.date,received:s.parsedType}),nr}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Tt(s,{code:yt.invalid_date}),nr}const n=new ps;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Tt(i,{code:yt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Tt(i,{code:yt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Rr.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new sh({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:jt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:jt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}sh.create=r=>new sh({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Xt.ZodDate,...dr(r)});class Aw extends yr{_parse(e){if(this._getType(e)!==It.symbol){const n=this._getOrReturnCtx(e);return Tt(n,{code:yt.invalid_type,expected:It.symbol,received:n.parsedType}),nr}return ms(e.data)}}Aw.create=r=>new Aw({typeName:Xt.ZodSymbol,...dr(r)});class k_ extends yr{_parse(e){if(this._getType(e)!==It.undefined){const n=this._getOrReturnCtx(e);return Tt(n,{code:yt.invalid_type,expected:It.undefined,received:n.parsedType}),nr}return ms(e.data)}}k_.create=r=>new k_({typeName:Xt.ZodUndefined,...dr(r)});class R_ extends yr{_parse(e){if(this._getType(e)!==It.null){const n=this._getOrReturnCtx(e);return Tt(n,{code:yt.invalid_type,expected:It.null,received:n.parsedType}),nr}return ms(e.data)}}R_.create=r=>new R_({typeName:Xt.ZodNull,...dr(r)});class Yp extends yr{constructor(){super(...arguments),this._any=!0}_parse(e){return ms(e.data)}}Yp.create=r=>new Yp({typeName:Xt.ZodAny,...dr(r)});class Zd extends yr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ms(e.data)}}Zd.create=r=>new Zd({typeName:Xt.ZodUnknown,...dr(r)});class Gu extends yr{_parse(e){const t=this._getOrReturnCtx(e);return Tt(t,{code:yt.invalid_type,expected:It.never,received:t.parsedType}),nr}}Gu.create=r=>new Gu({typeName:Xt.ZodNever,...dr(r)});class Cw extends yr{_parse(e){if(this._getType(e)!==It.undefined){const n=this._getOrReturnCtx(e);return Tt(n,{code:yt.invalid_type,expected:It.void,received:n.parsedType}),nr}return ms(e.data)}}Cw.create=r=>new Cw({typeName:Xt.ZodVoid,...dr(r)});class zo extends yr{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==It.array)return Tt(t,{code:yt.invalid_type,expected:It.array,received:t.parsedType}),nr;if(i.exactLength!==null){const c=t.data.length>i.exactLength.value,u=t.data.length<i.exactLength.value;(c||u)&&(Tt(t,{code:c?yt.too_big:yt.too_small,minimum:u?i.exactLength.value:void 0,maximum:c?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(Tt(t,{code:yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(Tt(t,{code:yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((c,u)=>i.type._parseAsync(new Hc(t,c,t.path,u)))).then(c=>ps.mergeArray(n,c));const s=[...t.data].map((c,u)=>i.type._parseSync(new Hc(t,c,t.path,u)));return ps.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new zo({...this._def,minLength:{value:e,message:jt.toString(t)}})}max(e,t){return new zo({...this._def,maxLength:{value:e,message:jt.toString(t)}})}length(e,t){return new zo({...this._def,exactLength:{value:e,message:jt.toString(t)}})}nonempty(e){return this.min(1,e)}}zo.create=(r,e)=>new zo({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Xt.ZodArray,...dr(e)});function vp(r){if(r instanceof Dn){const e={};for(const t in r.shape){const n=r.shape[t];e[t]=Ho.create(vp(n))}return new Dn({...r._def,shape:()=>e})}else return r instanceof zo?new zo({...r._def,type:vp(r.element)}):r instanceof Ho?Ho.create(vp(r.unwrap())):r instanceof uf?uf.create(vp(r.unwrap())):r instanceof qc?qc.create(r.items.map(e=>vp(e))):r}class Dn extends yr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Rr.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==It.object){const l=this._getOrReturnCtx(e);return Tt(l,{code:yt.invalid_type,expected:It.object,received:l.parsedType}),nr}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof Gu&&this._def.unknownKeys==="strip"))for(const l in i.data)c.includes(l)||u.push(l);const d=[];for(const l of c){const m=s[l],y=i.data[l];d.push({key:{status:"valid",value:l},value:m._parse(new Hc(i,y,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Gu){const l=this._def.unknownKeys;if(l==="passthrough")for(const m of u)d.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(l==="strict")u.length>0&&(Tt(i,{code:yt.unrecognized_keys,keys:u}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const m of u){const y=i.data[m];d.push({key:{status:"valid",value:m},value:l._parse(new Hc(i,y,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const m of d){const y=await m.key,b=await m.value;l.push({key:y,value:b,alwaysSet:m.alwaysSet})}return l}).then(l=>ps.mergeObjectSync(n,l)):ps.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return jt.errToObj,new Dn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var i,s,c,u;const d=(c=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,n).message)!==null&&c!==void 0?c:n.defaultError;return t.code==="unrecognized_keys"?{message:(u=jt.errToObj(e).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new Dn({...this._def,unknownKeys:"strip"})}passthrough(){return new Dn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Dn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Dn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Dn({...this._def,catchall:e})}pick(e){const t={};return Rr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new Dn({...this._def,shape:()=>t})}omit(e){const t={};return Rr.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new Dn({...this._def,shape:()=>t})}deepPartial(){return vp(this)}partial(e){const t={};return Rr.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}),new Dn({...this._def,shape:()=>t})}required(e){const t={};return Rr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Ho;)s=s._def.innerType;t[n]=s}}),new Dn({...this._def,shape:()=>t})}keyof(){return YB(Rr.objectKeys(this.shape))}}Dn.create=(r,e)=>new Dn({shape:()=>r,unknownKeys:"strip",catchall:Gu.create(),typeName:Xt.ZodObject,...dr(e)});Dn.strictCreate=(r,e)=>new Dn({shape:()=>r,unknownKeys:"strict",catchall:Gu.create(),typeName:Xt.ZodObject,...dr(e)});Dn.lazycreate=(r,e)=>new Dn({shape:r,unknownKeys:"strip",catchall:Gu.create(),typeName:Xt.ZodObject,...dr(e)});class P_ extends yr{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function i(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const c=s.map(u=>new xa(u.ctx.common.issues));return Tt(t,{code:yt.invalid_union,unionErrors:c}),nr}if(t.common.async)return Promise.all(n.map(async s=>{const c={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:c}),ctx:c}})).then(i);{let s;const c=[];for(const d of n){const l={...t,common:{...t.common,issues:[]},parent:null},m=d._parseSync({data:t.data,path:t.path,parent:l});if(m.status==="valid")return m;m.status==="dirty"&&!s&&(s={result:m,ctx:l}),l.common.issues.length&&c.push(l.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const u=c.map(d=>new xa(d));return Tt(t,{code:yt.invalid_union,unionErrors:u}),nr}}get options(){return this._def.options}}P_.create=(r,e)=>new P_({options:r,typeName:Xt.ZodUnion,...dr(e)});const Cu=r=>r instanceof O_?Cu(r.schema):r instanceof Go?Cu(r.innerType()):r instanceof F_?[r.value]:r instanceof cf?r.options:r instanceof L_?Rr.objectValues(r.enum):r instanceof D_?Cu(r._def.innerType):r instanceof k_?[void 0]:r instanceof R_?[null]:r instanceof Ho?[void 0,...Cu(r.unwrap())]:r instanceof uf?[null,...Cu(r.unwrap())]:r instanceof qA||r instanceof j_?Cu(r.unwrap()):r instanceof M_?Cu(r._def.innerType):[];class gv extends yr{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==It.object)return Tt(t,{code:yt.invalid_type,expected:It.object,received:t.parsedType}),nr;const n=this.discriminator,i=t.data[n],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(Tt(t,{code:yt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),nr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const i=new Map;for(const s of t){const c=Cu(s.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of c){if(i.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);i.set(u,s)}}return new gv({typeName:Xt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...dr(n)})}}function wx(r,e){const t=Bu(r),n=Bu(e);if(r===e)return{valid:!0,data:r};if(t===It.object&&n===It.object){const i=Rr.objectKeys(e),s=Rr.objectKeys(r).filter(u=>i.indexOf(u)!==-1),c={...r,...e};for(const u of s){const d=wx(r[u],e[u]);if(!d.valid)return{valid:!1};c[u]=d.data}return{valid:!0,data:c}}else if(t===It.array&&n===It.array){if(r.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<r.length;s++){const c=r[s],u=e[s],d=wx(c,u);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return t===It.date&&n===It.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class B_ extends yr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(s,c)=>{if(_x(s)||_x(c))return nr;const u=wx(s.value,c.value);return u.valid?((yx(s)||yx(c))&&t.dirty(),{status:t.value,value:u.data}):(Tt(n,{code:yt.invalid_intersection_types}),nr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,c])=>i(s,c)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}B_.create=(r,e,t)=>new B_({left:r,right:e,typeName:Xt.ZodIntersection,...dr(t)});class qc extends yr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==It.array)return Tt(n,{code:yt.invalid_type,expected:It.array,received:n.parsedType}),nr;if(n.data.length<this._def.items.length)return Tt(n,{code:yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nr;!this._def.rest&&n.data.length>this._def.items.length&&(Tt(n,{code:yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...n.data].map((c,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Hc(n,c,n.path,u)):null}).filter(c=>!!c);return n.common.async?Promise.all(s).then(c=>ps.mergeArray(t,c)):ps.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new qc({...this._def,rest:e})}}qc.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qc({items:r,typeName:Xt.ZodTuple,rest:null,...dr(e)})};class N_ extends yr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==It.object)return Tt(n,{code:yt.invalid_type,expected:It.object,received:n.parsedType}),nr;const i=[],s=this._def.keyType,c=this._def.valueType;for(const u in n.data)i.push({key:s._parse(new Hc(n,u,n.path,u)),value:c._parse(new Hc(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?ps.mergeObjectAsync(t,i):ps.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof yr?new N_({keyType:e,valueType:t,typeName:Xt.ZodRecord,...dr(n)}):new N_({keyType:jo.create(),valueType:e,typeName:Xt.ZodRecord,...dr(t)})}}class Tw extends yr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==It.map)return Tt(n,{code:yt.invalid_type,expected:It.map,received:n.parsedType}),nr;const i=this._def.keyType,s=this._def.valueType,c=[...n.data.entries()].map(([u,d],l)=>({key:i._parse(new Hc(n,u,n.path,[l,"key"])),value:s._parse(new Hc(n,d,n.path,[l,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of c){const l=await d.key,m=await d.value;if(l.status==="aborted"||m.status==="aborted")return nr;(l.status==="dirty"||m.status==="dirty")&&t.dirty(),u.set(l.value,m.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const d of c){const l=d.key,m=d.value;if(l.status==="aborted"||m.status==="aborted")return nr;(l.status==="dirty"||m.status==="dirty")&&t.dirty(),u.set(l.value,m.value)}return{status:t.value,value:u}}}}Tw.create=(r,e,t)=>new Tw({valueType:e,keyType:r,typeName:Xt.ZodMap,...dr(t)});class ah extends yr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==It.set)return Tt(n,{code:yt.invalid_type,expected:It.set,received:n.parsedType}),nr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Tt(n,{code:yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Tt(n,{code:yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function c(d){const l=new Set;for(const m of d){if(m.status==="aborted")return nr;m.status==="dirty"&&t.dirty(),l.add(m.value)}return{status:t.value,value:l}}const u=[...n.data.values()].map((d,l)=>s._parse(new Hc(n,d,n.path,l)));return n.common.async?Promise.all(u).then(d=>c(d)):c(u)}min(e,t){return new ah({...this._def,minSize:{value:e,message:jt.toString(t)}})}max(e,t){return new ah({...this._def,maxSize:{value:e,message:jt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ah.create=(r,e)=>new ah({valueType:r,minSize:null,maxSize:null,typeName:Xt.ZodSet,...dr(e)});class Np extends yr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==It.function)return Tt(t,{code:yt.invalid_type,expected:It.function,received:t.parsedType}),nr;function n(u,d){return Sw({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ew(),Gp].filter(l=>!!l),issueData:{code:yt.invalid_arguments,argumentsError:d}})}function i(u,d){return Sw({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ew(),Gp].filter(l=>!!l),issueData:{code:yt.invalid_return_type,returnTypeError:d}})}const s={errorMap:t.common.contextualErrorMap},c=t.data;if(this._def.returns instanceof Xp){const u=this;return ms(async function(...d){const l=new xa([]),m=await u._def.args.parseAsync(d,s).catch(E=>{throw l.addIssue(n(d,E)),l}),y=await Reflect.apply(c,this,m);return await u._def.returns._def.type.parseAsync(y,s).catch(E=>{throw l.addIssue(i(y,E)),l})})}else{const u=this;return ms(function(...d){const l=u._def.args.safeParse(d,s);if(!l.success)throw new xa([n(d,l.error)]);const m=Reflect.apply(c,this,l.data),y=u._def.returns.safeParse(m,s);if(!y.success)throw new xa([i(m,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Np({...this._def,args:qc.create(e).rest(Zd.create())})}returns(e){return new Np({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Np({args:e||qc.create([]).rest(Zd.create()),returns:t||Zd.create(),typeName:Xt.ZodFunction,...dr(n)})}}class O_ extends yr{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}O_.create=(r,e)=>new O_({getter:r,typeName:Xt.ZodLazy,...dr(e)});class F_ extends yr{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Tt(t,{received:t.data,code:yt.invalid_literal,expected:this._def.value}),nr}return{status:"valid",value:e.data}}get value(){return this._def.value}}F_.create=(r,e)=>new F_({value:r,typeName:Xt.ZodLiteral,...dr(e)});function YB(r,e){return new cf({values:r,typeName:Xt.ZodEnum,...dr(e)})}class cf extends yr{constructor(){super(...arguments),Qg.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return Tt(t,{expected:Rr.joinValues(n),received:t.parsedType,code:yt.invalid_type}),nr}if(xw(this,Qg)||WB(this,Qg,new Set(this._def.values)),!xw(this,Qg).has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Tt(t,{received:t.data,code:yt.invalid_enum_value,options:n}),nr}return ms(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return cf.create(e,{...this._def,...t})}exclude(e,t=this._def){return cf.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}Qg=new WeakMap;cf.create=YB;class L_ extends yr{constructor(){super(...arguments),e_.set(this,void 0)}_parse(e){const t=Rr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==It.string&&n.parsedType!==It.number){const i=Rr.objectValues(t);return Tt(n,{expected:Rr.joinValues(i),received:n.parsedType,code:yt.invalid_type}),nr}if(xw(this,e_)||WB(this,e_,new Set(Rr.getValidEnumValues(this._def.values))),!xw(this,e_).has(e.data)){const i=Rr.objectValues(t);return Tt(n,{received:n.data,code:yt.invalid_enum_value,options:i}),nr}return ms(e.data)}get enum(){return this._def.values}}e_=new WeakMap;L_.create=(r,e)=>new L_({values:r,typeName:Xt.ZodNativeEnum,...dr(e)});class Xp extends yr{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==It.promise&&t.common.async===!1)return Tt(t,{code:yt.invalid_type,expected:It.promise,received:t.parsedType}),nr;const n=t.parsedType===It.promise?t.data:Promise.resolve(t.data);return ms(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Xp.create=(r,e)=>new Xp({type:r,typeName:Xt.ZodPromise,...dr(e)});class Go extends yr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:c=>{Tt(n,c),c.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const c=i.transform(n.data,s);if(n.common.async)return Promise.resolve(c).then(async u=>{if(t.value==="aborted")return nr;const d=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return d.status==="aborted"?nr:d.status==="dirty"||t.value==="dirty"?Ep(d.value):d});{if(t.value==="aborted")return nr;const u=this._def.schema._parseSync({data:c,path:n.path,parent:n});return u.status==="aborted"?nr:u.status==="dirty"||t.value==="dirty"?Ep(u.value):u}}if(i.type==="refinement"){const c=u=>{const d=i.refinement(u,s);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?nr:(u.status==="dirty"&&t.dirty(),c(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?nr:(u.status==="dirty"&&t.dirty(),c(u.value).then(()=>({status:t.value,value:u.value}))))}if(i.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ih(c))return c;const u=i.transform(c.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>ih(c)?Promise.resolve(i.transform(c.value,s)).then(u=>({status:t.value,value:u})):c);Rr.assertNever(i)}}Go.create=(r,e,t)=>new Go({schema:r,typeName:Xt.ZodEffects,effect:e,...dr(t)});Go.createWithPreprocess=(r,e,t)=>new Go({schema:e,effect:{type:"preprocess",transform:r},typeName:Xt.ZodEffects,...dr(t)});class Ho extends yr{_parse(e){return this._getType(e)===It.undefined?ms(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ho.create=(r,e)=>new Ho({innerType:r,typeName:Xt.ZodOptional,...dr(e)});class uf extends yr{_parse(e){return this._getType(e)===It.null?ms(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uf.create=(r,e)=>new uf({innerType:r,typeName:Xt.ZodNullable,...dr(e)});class D_ extends yr{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===It.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}D_.create=(r,e)=>new D_({innerType:r,typeName:Xt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...dr(e)});class M_ extends yr{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return T_(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xa(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new xa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}M_.create=(r,e)=>new M_({innerType:r,typeName:Xt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...dr(e)});class Iw extends yr{_parse(e){if(this._getType(e)!==It.nan){const n=this._getOrReturnCtx(e);return Tt(n,{code:yt.invalid_type,expected:It.nan,received:n.parsedType}),nr}return{status:"valid",value:e.data}}}Iw.create=r=>new Iw({typeName:Xt.ZodNaN,...dr(r)});const Qj=Symbol("zod_brand");class qA extends yr{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class py extends yr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?nr:s.status==="dirty"?(t.dirty(),Ep(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?nr:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new py({in:e,out:t,typeName:Xt.ZodPipeline})}}class j_ extends yr{_parse(e){const t=this._def.innerType._parse(e),n=i=>(ih(i)&&(i.value=Object.freeze(i.value)),i);return T_(t)?t.then(i=>n(i)):n(t)}unwrap(){return this._def.innerType}}j_.create=(r,e)=>new j_({innerType:r,typeName:Xt.ZodReadonly,...dr(e)});function aT(r,e){const t=typeof r=="function"?r(e):typeof r=="string"?{message:r}:r;return typeof t=="string"?{message:t}:t}function XB(r,e={},t){return r?Yp.create().superRefine((n,i)=>{var s,c;const u=r(n);if(u instanceof Promise)return u.then(d=>{var l,m;if(!d){const y=aT(e,n),b=(m=(l=y.fatal)!==null&&l!==void 0?l:t)!==null&&m!==void 0?m:!0;i.addIssue({code:"custom",...y,fatal:b})}});if(!u){const d=aT(e,n),l=(c=(s=d.fatal)!==null&&s!==void 0?s:t)!==null&&c!==void 0?c:!0;i.addIssue({code:"custom",...d,fatal:l})}}):Yp.create()}const e9={object:Dn.lazycreate};var Xt;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Xt||(Xt={}));const t9=(r,e={message:`Input not instance of ${r.name}`})=>XB(t=>t instanceof r,e),JB=jo.create,QB=af.create,r9=Iw.create,n9=of.create,eN=I_.create,i9=sh.create,s9=Aw.create,a9=k_.create,o9=R_.create,c9=Yp.create,u9=Zd.create,l9=Gu.create,f9=Cw.create,d9=zo.create,h9=Dn.create,p9=Dn.strictCreate,m9=P_.create,g9=gv.create,_9=B_.create,y9=qc.create,w9=N_.create,v9=Tw.create,b9=ah.create,E9=Np.create,S9=O_.create,x9=F_.create,A9=cf.create,C9=L_.create,T9=Xp.create,oT=Go.create,I9=Ho.create,k9=uf.create,R9=Go.createWithPreprocess,P9=py.create,B9=()=>JB().optional(),N9=()=>QB().optional(),O9=()=>eN().optional(),F9={string:r=>jo.create({...r,coerce:!0}),number:r=>af.create({...r,coerce:!0}),boolean:r=>I_.create({...r,coerce:!0}),bigint:r=>of.create({...r,coerce:!0}),date:r=>sh.create({...r,coerce:!0})},L9=nr;var M=Object.freeze({__proto__:null,defaultErrorMap:Gp,setErrorMap:Rj,getErrorMap:Ew,makeIssue:Sw,EMPTY_PATH:Pj,addIssueToContext:Tt,ParseStatus:ps,INVALID:nr,DIRTY:Ep,OK:ms,isAborted:_x,isDirty:yx,isValid:ih,isAsync:T_,get util(){return Rr},get objectUtil(){return gx},ZodParsedType:It,getParsedType:Bu,ZodType:yr,datetimeRegex:GB,ZodString:jo,ZodNumber:af,ZodBigInt:of,ZodBoolean:I_,ZodDate:sh,ZodSymbol:Aw,ZodUndefined:k_,ZodNull:R_,ZodAny:Yp,ZodUnknown:Zd,ZodNever:Gu,ZodVoid:Cw,ZodArray:zo,ZodObject:Dn,ZodUnion:P_,ZodDiscriminatedUnion:gv,ZodIntersection:B_,ZodTuple:qc,ZodRecord:N_,ZodMap:Tw,ZodSet:ah,ZodFunction:Np,ZodLazy:O_,ZodLiteral:F_,ZodEnum:cf,ZodNativeEnum:L_,ZodPromise:Xp,ZodEffects:Go,ZodTransformer:Go,ZodOptional:Ho,ZodNullable:uf,ZodDefault:D_,ZodCatch:M_,ZodNaN:Iw,BRAND:Qj,ZodBranded:qA,ZodPipeline:py,ZodReadonly:j_,custom:XB,Schema:yr,ZodSchema:yr,late:e9,get ZodFirstPartyTypeKind(){return Xt},coerce:F9,any:c9,array:d9,bigint:n9,boolean:eN,date:i9,discriminatedUnion:g9,effect:oT,enum:A9,function:E9,instanceof:t9,intersection:_9,lazy:S9,literal:x9,map:v9,nan:r9,nativeEnum:C9,never:l9,null:o9,nullable:k9,number:QB,object:h9,oboolean:O9,onumber:N9,optional:I9,ostring:B9,pipeline:P9,preprocess:R9,promise:T9,record:w9,set:b9,strictObject:p9,string:JB,symbol:s9,transformer:oT,tuple:y9,undefined:a9,union:m9,unknown:u9,void:f9,NEVER:L9,ZodIssueCode:yt,quotelessJson:kj,ZodError:xa});function tN(r){return r.startsWith("0x")}function my(r){return tN(r)?r.slice(2):r}function kw(r){return/^(0x)?[0-9a-fA-F]*$/.test(r)}function tn(r){return $e.from(my(r),"hex")}function qr(r){return`0x${r.toString("hex")}`}M.string().refine(kw,"Not a valid hex string").transform(my);const D9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rN=M.string().refine(r=>r.length>1024||D9.test(r),"Not a valid base64 string").transform(r=>$e.from(r,"base64"));class VA extends Ho{constructor(){super(...arguments);x(this,"_isNullableOptional",!0)}_parse(t){const n=this._getType(t);return n===It.undefined||n===It.null?ms(void 0):this._def.innerType._parse(t)}static create(t){return new VA({innerType:t,typeName:Xt.ZodOptional})}}function us(r){return VA.create(r)}function fo(r,e){const n=(e?M.string().refine(e,"Not a valid instance"):M.string()).refine(kw,"Not a valid hex string");return"fromString"in r?n.transform(r.fromString.bind(r)):n.transform(i=>$e.from(my(i),"hex")).transform(r.fromBuffer.bind(r))}function df(r){return rN.transform(r.fromBuffer.bind(r))}function rE(r,e){return M.array(M.tuple([r,e])).transform(t=>new Map(t))}var _a,To;const Xw=class Xw{constructor(e,t=0){Nt(this,_a);x(this,"buffer");x(this,"index");this.buffer=e,this.index=t}static asReader(e){if(e instanceof Xw)return e;const t=$e.isBuffer(e)?e:$e.from(e.buffer,e.byteOffset,e.byteLength);return new Xw(t)}isEmpty(){return this.index===this.buffer.length}readNumber(){return Lt(this,_a,To).call(this,4),this.index+=4,this.buffer.readUint32BE(this.index-4)}readNumbers(e){return Array.from({length:e},()=>this.readNumber())}readUInt256(){Lt(this,_a,To).call(this,32);let e=BigInt(0);for(let t=0;t<32;t++)e=e<<BigInt(8)|BigInt(this.buffer[this.index+t]);return this.index+=32,e}readUInt16(){return Lt(this,_a,To).call(this,2),this.index+=2,this.buffer.readUInt16BE(this.index-2)}readUInt8(){return Lt(this,_a,To).call(this,1),this.index+=1,this.buffer.readUInt8(this.index-1)}readBoolean(){return Lt(this,_a,To).call(this,1),this.index+=1,!!this.buffer.at(this.index-1)}readBytes(e){return Lt(this,_a,To).call(this,e),this.index+=e,$e.from(this.buffer.subarray(this.index-e,this.index))}readToEnd(){const e=this.buffer.subarray(this.index);return this.index=this.buffer.length,e}readNumberVector(){return this.readVector({fromBuffer:e=>e.readNumber()})}readVector(e){const t=this.readNumber(),n=new Array(t);for(let i=0;i<t;i++)n[i]=e.fromBuffer(this);return n}readVectorUint8Prefix(e){const t=this.readUInt8(),n=new Array(t);for(let i=0;i<t;i++)n[i]=e.fromBuffer(this);return n}readArray(e,t){return Array.from({length:e},()=>t.fromBuffer(this))}readBufferArray(e=-1){const t=[],n=e>=0?this.index+e:this.buffer.length;for(Lt(this,_a,To).call(this,n-this.index);this.index<n;){const i=this.readBuffer();t.push(i)}if(this.index!==n)throw new Error(`Reader buffer was not fully consumed. Consumed up to ${this.index} bytes. End of data: ${n} bytes.`);return t}readObject(e){return e.fromBuffer(this)}peekBytes(e){return Lt(this,_a,To).call(this,e||0),this.buffer.subarray(this.index,e?this.index+e:void 0)}readString(){return this.readBuffer().toString()}readBuffer(){const e=this.readNumber();return Lt(this,_a,To).call(this,e),this.readBytes(e)}readUint8Array(){const e=this.readNumber();return Lt(this,_a,To).call(this,e),this.readBytes(e)}readMap(e){const t=this.readNumber(),n={};for(let i=0;i<t;i++){const s=this.readString(),c=this.readObject(e);n[s]=c}return n}getLength(){return this.buffer.length}remainingBytes(){return this.buffer.length-this.index}};_a=new WeakSet,To=function(e){if(this.index+e>this.buffer.length)throw new Error(`Attempted to read beyond buffer length. Start index: ${this.index}, Num bytes to read: ${e}, Buffer length: ${this.buffer.length}`)};let st=Xw;class yh{static register(e,t){this.registry.set(e,t)}static getConstructor(e){return this.registry.get(e)}}x(yh,"registry",new Map);var M9={};const j9=$e.alloc(32),ku=class ku{constructor(e){x(this,"asBuffer");x(this,"asBigInt");if($e.isBuffer(e)){if(e.length>ku.SIZE_IN_BYTES)throw new Error(`Value length ${e.length} exceeds ${ku.SIZE_IN_BYTES}`);this.asBuffer=e.length===ku.SIZE_IN_BYTES?e:$e.concat([$e.alloc(ku.SIZE_IN_BYTES-e.length),e])}else if(typeof e=="bigint"||typeof e=="number"||typeof e=="boolean"){if(this.asBigInt=BigInt(e),this.asBigInt>=this.modulus())throw new Error(`Value 0x${this.asBigInt.toString(16)} is greater or equal to field modulus.`)}else if(e instanceof ku)this.asBuffer=e.asBuffer,this.asBigInt=e.asBigInt;else throw new Error(`Type '${typeof e}' with value '${e}' passed to BaseField ctor.`)}get value(){return this.toBigInt()}get size(){return ku.SIZE_IN_BYTES}toBuffer(){return this.asBuffer||(this.asBuffer=Si(this.asBigInt,32)),$e.from(this.asBuffer)}toString(){return`0x${this.toBuffer().toString("hex")}`}toBigInt(){if(this.asBigInt===void 0&&(this.asBigInt=Pi(this.asBuffer),this.asBigInt>=this.modulus()))throw new Error(`Value 0x${this.asBigInt.toString(16)} is greater or equal to field modulus.`);return this.asBigInt}toBool(){return!!this.toBigInt()}toNumber(){const e=this.toBigInt();if(e>Number.MAX_SAFE_INTEGER)throw new Error(`Value ${e.toString(16)} greater than than max safe integer`);return Number(e)}toNumberUnsafe(){const e=this.toBigInt();return Number(e)}toShortString(){const e=this.toString();return`${e.slice(0,10)}...${e.slice(-4)}`}equals(e){return this.toBuffer().equals(e.toBuffer())}lt(e){return this.toBigInt()<e.toBigInt()}cmp(e){const t=this.toBigInt(),n=e.toBigInt();return t===n?0:t<n?-1:1}isZero(){return this.toBuffer().equals(j9)}isEmpty(){return this.isZero()}toFriendlyJSON(){return this.toString()}toField(){return this}};x(ku,"SIZE_IN_BYTES",32);let Jp=ku;function WA(r,e){const t=st.asReader(r);return new e(t.readBytes(Jp.SIZE_IN_BYTES))}function _v(r,e){return new e(Pi(r)%e.MODULUS)}function nN(r){return _v(Ta(64),r)}function Rw(r,e){var s;const n=(s=r.replace(/^0x/i,"").match(/^[0-9A-F]+$/i))==null?void 0:s[0];if(n===void 0)throw new Error(`Invalid hex-encoded string: "${r}"`);const i=$e.from(n.length%2===1?"0"+n:n,"hex");return new e(i)}const Mr=class Mr extends Jp{constructor(e){super(e)}[St.inspect.custom](){return`Fr<${this.toString()}>`}modulus(){return Mr.MODULUS}static random(){return nN(Mr)}static zero(){return Mr.ZERO}static isZero(e){return e.isZero()}static fromBuffer(e){return WA(e,Mr)}static fromBufferReduce(e){return _v(e,Mr)}static fromString(e){if(e.match(/^\d+$/)!==null)return new Mr(Si(BigInt(e),32));if(e.match(/^0x/i)!==null)return Rw(e,Mr);throw new Error(`Tried to create a Fr from an invalid string: ${e}`)}static fromHexString(e){return Rw(e,Mr)}add(e){return new Mr((this.toBigInt()+e.toBigInt())%Mr.MODULUS)}square(){return new Mr(this.toBigInt()*this.toBigInt()%Mr.MODULUS)}negate(){return new Mr(Mr.MODULUS-this.toBigInt())}sub(e){const t=this.toBigInt()-e.toBigInt();return new Mr(t<0?t+Mr.MODULUS:t)}mul(e){return new Mr(this.toBigInt()*e.toBigInt()%Mr.MODULUS)}div(e){if(e.isZero())throw new Error("Division by zero");const t=$9(e.toBigInt());return this.mul(t)}ediv(e){if(e.isZero())throw new Error("Division by zero");return new Mr(this.toBigInt()/e.toBigInt())}async sqrt(){const t=(await di.initSingleton(M9.BB_WASM_PATH)).getWasm(),[n]=t.callWasmExport("bn254_fr_sqrt",[this.toBuffer()],[Mr.SIZE_IN_BYTES+1]);return n[0]===1?new Mr($e.from(n.slice(1))):null}toJSON(){return this.toString()}static get schema(){return fo(Mr)}};x(Mr,"ZERO",new Mr(0n)),x(Mr,"ONE",new Mr(1n)),x(Mr,"MODULUS",0x30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001n),x(Mr,"MAX_FIELD_VALUE",new Mr(Mr.MODULUS-1n));let H=Mr;yh.register("Fr",H);const Ln=class Ln extends Jp{[St.inspect.custom](){return`Fq<${this.toString()}>`}get lo(){return new H(this.toBigInt()&Ln.LOW_MASK)}get hi(){return new H(this.toBigInt()>>Ln.HIGH_SHIFT)}constructor(e){super(e)}modulus(){return Ln.MODULUS}static random(){return nN(Ln)}static zero(){return Ln.ZERO}static fromBuffer(e){return WA(e,Ln)}static fromBufferReduce(e){return _v(e,Ln)}static fromString(e){if(e.match(/^\d+$/)!==null)return new Ln(Si(BigInt(e),32));if(e.match(/^0x/i)!==null)return Rw(e,Ln);throw new Error(`Tried to create a Fq from an invalid string: ${e}`)}static fromHexString(e){return Rw(e,Ln)}static fromHighLow(e,t){return new Ln((e.toBigInt()<<Ln.HIGH_SHIFT)+t.toBigInt())}add(e){return new Ln((this.toBigInt()+e.toBigInt())%Ln.MODULUS)}toJSON(){return this.toString()}toFields(){return[this.lo,this.hi]}static get schema(){return fo(Ln)}};x(Ln,"ZERO",new Ln(0n)),x(Ln,"MODULUS",0x30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd47n),x(Ln,"HIGH_SHIFT",BigInt(Jp.SIZE_IN_BYTES/2*8)),x(Ln,"LOW_MASK",(1n<<Ln.HIGH_SHIFT)-1n);let Js=Ln;yh.register("Fq",Js);function $9(r){const[e,t,n]=iN(r,H.MODULUS);if(e!=1n)throw Error("Inverse does not exist");return new H(t>0?t:t+H.MODULUS)}function iN(r,e){if(r==0n)return[e,0n,1n];{const[t,n,i]=iN(e%r,r);return[t,i-e/r*n,n]}}const Zl=Js;function U9(r,e){return t=>_v(r(t),e)}function z9(r,e=2){const t=$e.alloc(e);return t.writeUInt16BE(r,e-2),t}function $_(r,e=4){const t=$e.alloc(e);return t.writeUInt32BE(r,e-4),t}function cT(r,e=4){const t=$e.alloc(e);return t.writeInt32BE(r,e-4),t}function yv(r){const t=$e.alloc(1);return t.writeUInt8(r,0),t}function H9(r){const e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}function q9(r){if(r.length!==32)throw new Error("Buffer to truncate must be 32 bytes");return $e.concat([$e.alloc(1),r.subarray(0,31)])}function V9(r){if(r.length!==32&&r.length!==31)throw new Error("Buffer must be 31 or 32 bytes");if(r.length==32&&r[0]==0||r.length==31)return H.fromBuffer(r);throw new Error(`Number ${H9(r)} does not fit in 31 byte truncated buffer`)}function xc(r,e=4){const t=ZA(r);let n;if(e===1)n=$e.alloc(1),n.writeUInt8(t.length,0);else if(e===4)n=$e.alloc(4),n.writeUInt32BE(t.length,0);else throw new Error(`Unsupported prefix length. Got ${e}, expected 1 or 4`);return $e.concat([n,...t])}function W9(r,e,t=0){let n=t;const i=e.readUInt32BE(n);n+=4;const s=new Array(i);for(let c=0;c<i;++c){const{elem:u,adv:d}=r(e,n);n+=d,s[c]=u}return{elem:s,adv:n-t}}function sN(r,e=1){const t=$e.alloc(e);return t.writeUInt8(r?1:0,e-1),t}function ZA(...r){var t;const e=[];for(const n of r)if(Array.isArray(n))e.push(...ZA(...n));else if($e.isBuffer(n))e.push(n);else if(typeof n=="boolean")e.push(sN(n));else if(typeof n=="bigint"){if(n>BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"))throw new Error(`BigInt ${n} does not fit into 32 bytes`);e.push(iw(n))}else if(typeof n=="number")e.push($_(n));else if(typeof n=="string")e.push($_(n.length)),e.push($e.from(n));else if("toBuffer"in n)e.push(n.toBuffer());else throw new Error(`Cannot serialize input to buffer: ${typeof n} ${(t=n.constructor)==null?void 0:t.name}`);return e}function Wr(...r){var t;const e=[];for(const n of r)if(Array.isArray(n))e.push(...Wr(...n));else if(n instanceof H)e.push(n);else if(typeof n=="boolean"||typeof n=="number"||typeof n=="bigint")e.push(new H(n));else if("toFields"in n)e.push(...n.toFields());else if("toFr"in n)e.push(n.toFr());else if("toField"in n)e.push(n.toField());else if($e.isBuffer(n))e.push(H.fromBuffer(n));else throw new Error(`Cannot serialize input to field: ${typeof n} ${(t=n.constructor)==null?void 0:t.name}`);return e}function ft(...r){return $e.concat(ZA(...r))}function iw(r,e=32){return Si(r,e)}function Z9(r,e=0,t=32){return{elem:Pi(r.subarray(e,e+t)),adv:t}}var wv={};async function sa(r){const e=Wr(r),n=(await di.initSingleton(wv.BB_WASM_PATH)).poseidon2Hash(e.map(i=>new ly(i.toBuffer())));return H.fromBuffer($e.from(n.toBuffer()))}async function Nn(r,e){const t=Wr(r);t.unshift(new H(e));const i=(await di.initSingleton(wv.BB_WASM_PATH)).poseidon2Hash(t.map(s=>new ly(s.toBuffer())));return H.fromBuffer($e.from(i.toBuffer()))}async function K9(r){const e=Wr(r),n=(await di.initSingleton(wv.BB_WASM_PATH)).poseidon2HashAccumulate(e.map(i=>new ly(i.toBuffer())));return H.fromBuffer($e.from(n.toBuffer()))}async function aN(r){const e=[];for(let i=0;i<r.length;i+=31){const s=$e.alloc(32,0);r.slice(i,i+31).copy(s),s.reverse(),e.push(H.fromBuffer(s))}const n=(await di.initSingleton(wv.BB_WASM_PATH)).poseidon2Hash(e.map(i=>new ly(i.toBuffer())));return H.fromBuffer($e.from(n.toBuffer()))}class Ut{constructor(e,t=0){x(this,"fields");x(this,"index");x(this,"length");if(this.fields=e,this.index=t,this.length=e.length,t>=this.length)throw new Error("Offset out of bounds.")}static asReader(e){return e instanceof Ut?e:new Ut(e)}get cursor(){return this.index}skip(e){if(this.index+e>this.length)throw new Error("Not enough fields to be consumed.");this.index+=e}readField(){if(this.index===this.length)throw new Error("Not enough fields to be consumed.");return this.fields[this.index++]}peekField(){if(this.index===this.length)throw new Error("Not enough fields to be consumed.");return this.fields[this.index]}readFq(){return Js.fromHighLow(this.readField(),this.readField())}readBoolean(){const t=this.readField().toBigInt();if(t>1n)throw new Error("Field is not a boolean.");return t==1n}readU32(){const t=this.readField().toBigInt();if(t>=1n<<32n)throw new Error("Field is not a u32.");return Number(t)}readFieldArray(e){const t=[];for(let n=0;n<e;++n)t.push(this.readField());return t}readArray(e,t){return Array.from({length:e},()=>t.fromFields(this))}readObject(e){return e.fromFields(this)}isFinished(){return this.index>=this.length}}function Is(r,e){if(r.length!==e)throw new Error(`Wrong 'fixed array' size. Expected ${e}, got ${r.length}.`);return r}function gn(r,e){return r.map(e)}const Wa=class Wa{constructor(e,t,n){x(this,"x");x(this,"y");x(this,"isInfinite");x(this,"kind");this.x=e,this.y=t,this.isInfinite=n,this.kind="point"}toJSON(){return this.toString()}static get schema(){return fo(Wa)}static async random(){for(;;)try{return await Wa.fromXAndSign(H.random(),Ij())}catch(e){if(!(e instanceof vx))throw e;continue}}static fromBuffer(e){const t=st.asReader(e);return new this(H.fromBuffer(t),H.fromBuffer(t),!1)}static fromCompressedBuffer(e){const t=st.asReader(e),n=Pi(t.readBytes(Wa.COMPRESSED_SIZE_IN_BYTES)),i=new H(n&(1n<<255n)-1n),s=(n&1n<<255n)!==0n;return this.fromXAndSign(i,s)}static fromString(e){return this.fromBuffer(tn(e))}toFields(){return[this.x,this.y,new H(this.isInfinite)]}static fromFields(e){const t=Ut.asReader(e);return new this(t.readField(),t.readField(),t.readBoolean())}static async fromXAndSign(e,t){const n=await Wa.YFromX(e);if(n==null)throw new vx(e);const i=n.toBigInt()<=(H.MODULUS-1n)/2n?n.toBigInt():H.MODULUS-n.toBigInt(),s=H.MODULUS-i,c=t?new H(i):new H(s);return new this(e,c,!1)}static YFromX(e){return e.square().mul(e).sub(new H(17)).sqrt()}toXAndSign(){return[this.x,this.y.toBigInt()<=(H.MODULUS-1n)/2n]}toBigInts(){return{x:this.x.toBigInt(),y:this.y.toBigInt(),isInfinite:this.isInfinite?1n:0n}}toBuffer(){if(this.isInfinite)throw new Error("Cannot serialize infinite point without isInfinite flag");const e=ft([this.x,this.y]);if(e.length!==Wa.SIZE_IN_BYTES)throw new Error(`Invalid buffer length for Point: ${e.length}`);return e}toCompressedBuffer(){const[e,t]=this.toXAndSign(),n=e.toBigInt()+(t?2n**255n:0n),i=ft(n);if(i.length!==Wa.COMPRESSED_SIZE_IN_BYTES)throw new Error(`Invalid buffer length for compressed Point: ${i.length}`);return i}toString(){return qr(this.toBuffer())}toShortString(){const e=this.toString();return`${e.slice(0,10)}...${e.slice(-4)}`}toNoirStruct(){return{x:this.x,y:this.y,is_infinite:this.isInfinite}}toWrappedNoirStruct(){return{inner:this.toNoirStruct()}}equals(e){return this.x.equals(e.x)&&this.y.equals(e.y)}isZero(){return this.x.isZero()&&this.y.isZero()}hash(){return sa(this.toFields())}get inf(){return this.isInfinite}isOnGrumpkin(){if(this.inf)return!0;const e=this.y.square(),t=this.x.mul(this.x).mul(this.x).sub(new H(17));return e.equals(t)}};x(Wa,"ZERO",new Wa(H.ZERO,H.ZERO,!1)),x(Wa,"SIZE_IN_BYTES",H.SIZE_IN_BYTES*2),x(Wa,"COMPRESSED_SIZE_IN_BYTES",H.SIZE_IN_BYTES);let gr=Wa;class vx extends Error{constructor(e){super("The given x-coordinate is not on the Grumpkin curve: "+e.toString()),this.name="NotOnCurveError"}}const Ip=class Ip{constructor(e){x(this,"fields");this.fields=e}toFields(){return this.fields}static random(){return this.fromField(H.random())}toFieldsBuffer(){return $e.concat([this.fields[0].toBuffer(),this.fields[1].toBuffer()])}toBuffer(){const e=this.fields[0].toBuffer(),t=this.fields[1].toBuffer();return e[0]=t[31],e}equals(e){return this.toBigInt()===e.toBigInt()}toBigInt(){return Pi(this.toBuffer())}static fromBuffer(e){if(e.length!=32)throw new Error("Invalid size of coordinate buffer");const t=$e.alloc(32);e.copy(t,0,0,32);const n=$e.alloc(32);return n[31]=t[0],t[0]=0,new Ip([H.fromBuffer(t),H.fromBuffer(n)])}static fromField(e){const t=e.toBuffer(),n=$e.alloc(32);return n[31]=t[0],t[0]=0,new Ip([H.fromBuffer(t),H.fromBuffer(n)])}};x(Ip,"ZERO",new Ip([H.ZERO,H.ZERO]));let uT=Ip;var nE={},on={},iE,lT;function gy(){if(lT)return iE;lT=1,iE=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,n,i){if(t!=n)throw new Error(i||"Assertion failed: "+t+" != "+n)},iE}var fT;function Kc(){if(fT)return on;fT=1;var r=gy(),e=kB();on.inherits=e;function t(j,fe){return(j.charCodeAt(fe)&64512)!==55296||fe<0||fe+1>=j.length?!1:(j.charCodeAt(fe+1)&64512)===56320}function n(j,fe){if(Array.isArray(j))return j.slice();if(!j)return[];var z=[];if(typeof j=="string")if(fe){if(fe==="hex")for(j=j.replace(/[^a-z0-9]+/ig,""),j.length%2!==0&&(j="0"+j),me=0;me<j.length;me+=2)z.push(parseInt(j[me]+j[me+1],16))}else for(var Q=0,me=0;me<j.length;me++){var pe=j.charCodeAt(me);pe<128?z[Q++]=pe:pe<2048?(z[Q++]=pe>>6|192,z[Q++]=pe&63|128):t(j,me)?(pe=65536+((pe&1023)<<10)+(j.charCodeAt(++me)&1023),z[Q++]=pe>>18|240,z[Q++]=pe>>12&63|128,z[Q++]=pe>>6&63|128,z[Q++]=pe&63|128):(z[Q++]=pe>>12|224,z[Q++]=pe>>6&63|128,z[Q++]=pe&63|128)}else for(me=0;me<j.length;me++)z[me]=j[me]|0;return z}on.toArray=n;function i(j){for(var fe="",z=0;z<j.length;z++)fe+=u(j[z].toString(16));return fe}on.toHex=i;function s(j){var fe=j>>>24|j>>>8&65280|j<<8&16711680|(j&255)<<24;return fe>>>0}on.htonl=s;function c(j,fe){for(var z="",Q=0;Q<j.length;Q++){var me=j[Q];fe==="little"&&(me=s(me)),z+=d(me.toString(16))}return z}on.toHex32=c;function u(j){return j.length===1?"0"+j:j}on.zero2=u;function d(j){return j.length===7?"0"+j:j.length===6?"00"+j:j.length===5?"000"+j:j.length===4?"0000"+j:j.length===3?"00000"+j:j.length===2?"000000"+j:j.length===1?"0000000"+j:j}on.zero8=d;function l(j,fe,z,Q){var me=z-fe;r(me%4===0);for(var pe=new Array(me/4),xe=0,ce=fe;xe<pe.length;xe++,ce+=4){var ve;Q==="big"?ve=j[ce]<<24|j[ce+1]<<16|j[ce+2]<<8|j[ce+3]:ve=j[ce+3]<<24|j[ce+2]<<16|j[ce+1]<<8|j[ce],pe[xe]=ve>>>0}return pe}on.join32=l;function m(j,fe){for(var z=new Array(j.length*4),Q=0,me=0;Q<j.length;Q++,me+=4){var pe=j[Q];fe==="big"?(z[me]=pe>>>24,z[me+1]=pe>>>16&255,z[me+2]=pe>>>8&255,z[me+3]=pe&255):(z[me+3]=pe>>>24,z[me+2]=pe>>>16&255,z[me+1]=pe>>>8&255,z[me]=pe&255)}return z}on.split32=m;function y(j,fe){return j>>>fe|j<<32-fe}on.rotr32=y;function b(j,fe){return j<<fe|j>>>32-fe}on.rotl32=b;function E(j,fe){return j+fe>>>0}on.sum32=E;function I(j,fe,z){return j+fe+z>>>0}on.sum32_3=I;function S(j,fe,z,Q){return j+fe+z+Q>>>0}on.sum32_4=S;function P(j,fe,z,Q,me){return j+fe+z+Q+me>>>0}on.sum32_5=P;function N(j,fe,z,Q){var me=j[fe],pe=j[fe+1],xe=Q+pe>>>0,ce=(xe<Q?1:0)+z+me;j[fe]=ce>>>0,j[fe+1]=xe}on.sum64=N;function k(j,fe,z,Q){var me=fe+Q>>>0,pe=(me<fe?1:0)+j+z;return pe>>>0}on.sum64_hi=k;function R(j,fe,z,Q){var me=fe+Q;return me>>>0}on.sum64_lo=R;function L(j,fe,z,Q,me,pe,xe,ce){var ve=0,ee=fe;ee=ee+Q>>>0,ve+=ee<fe?1:0,ee=ee+pe>>>0,ve+=ee<pe?1:0,ee=ee+ce>>>0,ve+=ee<ce?1:0;var re=j+z+me+xe+ve;return re>>>0}on.sum64_4_hi=L;function U(j,fe,z,Q,me,pe,xe,ce){var ve=fe+Q+pe+ce;return ve>>>0}on.sum64_4_lo=U;function te(j,fe,z,Q,me,pe,xe,ce,ve,ee){var re=0,se=fe;se=se+Q>>>0,re+=se<fe?1:0,se=se+pe>>>0,re+=se<pe?1:0,se=se+ce>>>0,re+=se<ce?1:0,se=se+ee>>>0,re+=se<ee?1:0;var Y=j+z+me+xe+ve+re;return Y>>>0}on.sum64_5_hi=te;function V(j,fe,z,Q,me,pe,xe,ce,ve,ee){var re=fe+Q+pe+ce+ee;return re>>>0}on.sum64_5_lo=V;function oe(j,fe,z){var Q=fe<<32-z|j>>>z;return Q>>>0}on.rotr64_hi=oe;function de(j,fe,z){var Q=j<<32-z|fe>>>z;return Q>>>0}on.rotr64_lo=de;function Ee(j,fe,z){return j>>>z}on.shr64_hi=Ee;function Fe(j,fe,z){var Q=j<<32-z|fe>>>z;return Q>>>0}return on.shr64_lo=Fe,on}var sE={},dT;function _y(){if(dT)return sE;dT=1;var r=Kc(),e=gy();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return sE.BlockHash=t,t.prototype.update=function(i,s){if(i=r.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var c=i.length%this._delta8;this.pending=i.slice(i.length-c,i.length),this.pending.length===0&&(this.pending=null),i=r.join32(i,0,i.length-c,this.endian);for(var u=0;u<i.length;u+=this._delta32)this._update(i,u,u+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,c=s-(i+this.padLength)%s,u=new Array(c+this.padLength);u[0]=128;for(var d=1;d<c;d++)u[d]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)u[d++]=0;u[d++]=0,u[d++]=0,u[d++]=0,u[d++]=0,u[d++]=i>>>24&255,u[d++]=i>>>16&255,u[d++]=i>>>8&255,u[d++]=i&255}else for(u[d++]=i&255,u[d++]=i>>>8&255,u[d++]=i>>>16&255,u[d++]=i>>>24&255,u[d++]=0,u[d++]=0,u[d++]=0,u[d++]=0,l=8;l<this.padLength;l++)u[d++]=0;return u},sE}var nd={},gc={},hT;function oN(){if(hT)return gc;hT=1;var r=Kc(),e=r.rotr32;function t(m,y,b,E){if(m===0)return n(y,b,E);if(m===1||m===3)return s(y,b,E);if(m===2)return i(y,b,E)}gc.ft_1=t;function n(m,y,b){return m&y^~m&b}gc.ch32=n;function i(m,y,b){return m&y^m&b^y&b}gc.maj32=i;function s(m,y,b){return m^y^b}gc.p32=s;function c(m){return e(m,2)^e(m,13)^e(m,22)}gc.s0_256=c;function u(m){return e(m,6)^e(m,11)^e(m,25)}gc.s1_256=u;function d(m){return e(m,7)^e(m,18)^m>>>3}gc.g0_256=d;function l(m){return e(m,17)^e(m,19)^m>>>10}return gc.g1_256=l,gc}var aE,pT;function G9(){if(pT)return aE;pT=1;var r=Kc(),e=_y(),t=oN(),n=r.rotl32,i=r.sum32,s=r.sum32_5,c=t.ft_1,u=e.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(l,u),aE=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(y,b){for(var E=this.W,I=0;I<16;I++)E[I]=y[b+I];for(;I<E.length;I++)E[I]=n(E[I-3]^E[I-8]^E[I-14]^E[I-16],1);var S=this.h[0],P=this.h[1],N=this.h[2],k=this.h[3],R=this.h[4];for(I=0;I<E.length;I++){var L=~~(I/20),U=s(n(S,5),c(L,P,N,k),R,E[I],d[L]);R=k,k=N,N=n(P,30),P=S,S=U}this.h[0]=i(this.h[0],S),this.h[1]=i(this.h[1],P),this.h[2]=i(this.h[2],N),this.h[3]=i(this.h[3],k),this.h[4]=i(this.h[4],R)},l.prototype._digest=function(y){return y==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},aE}var oE,mT;function cN(){if(mT)return oE;mT=1;var r=Kc(),e=_y(),t=oN(),n=gy(),i=r.sum32,s=r.sum32_4,c=r.sum32_5,u=t.ch32,d=t.maj32,l=t.s0_256,m=t.s1_256,y=t.g0_256,b=t.g1_256,E=e.BlockHash,I=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;E.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=I,this.W=new Array(64)}return r.inherits(S,E),oE=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(N,k){for(var R=this.W,L=0;L<16;L++)R[L]=N[k+L];for(;L<R.length;L++)R[L]=s(b(R[L-2]),R[L-7],y(R[L-15]),R[L-16]);var U=this.h[0],te=this.h[1],V=this.h[2],oe=this.h[3],de=this.h[4],Ee=this.h[5],Fe=this.h[6],j=this.h[7];for(n(this.k.length===R.length),L=0;L<R.length;L++){var fe=c(j,m(de),u(de,Ee,Fe),this.k[L],R[L]),z=i(l(U),d(U,te,V));j=Fe,Fe=Ee,Ee=de,de=i(oe,fe),oe=V,V=te,te=U,U=i(fe,z)}this.h[0]=i(this.h[0],U),this.h[1]=i(this.h[1],te),this.h[2]=i(this.h[2],V),this.h[3]=i(this.h[3],oe),this.h[4]=i(this.h[4],de),this.h[5]=i(this.h[5],Ee),this.h[6]=i(this.h[6],Fe),this.h[7]=i(this.h[7],j)},S.prototype._digest=function(N){return N==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},oE}var cE,gT;function Y9(){if(gT)return cE;gT=1;var r=Kc(),e=cN();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),cE=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},cE}var uE,_T;function uN(){if(_T)return uE;_T=1;var r=Kc(),e=_y(),t=gy(),n=r.rotr64_hi,i=r.rotr64_lo,s=r.shr64_hi,c=r.shr64_lo,u=r.sum64,d=r.sum64_hi,l=r.sum64_lo,m=r.sum64_4_hi,y=r.sum64_4_lo,b=r.sum64_5_hi,E=r.sum64_5_lo,I=e.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(){if(!(this instanceof P))return new P;I.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}r.inherits(P,I),uE=P,P.blockSize=1024,P.outSize=512,P.hmacStrength=192,P.padLength=128,P.prototype._prepareBlock=function(z,Q){for(var me=this.W,pe=0;pe<32;pe++)me[pe]=z[Q+pe];for(;pe<me.length;pe+=2){var xe=Fe(me[pe-4],me[pe-3]),ce=j(me[pe-4],me[pe-3]),ve=me[pe-14],ee=me[pe-13],re=de(me[pe-30],me[pe-29]),se=Ee(me[pe-30],me[pe-29]),Y=me[pe-32],J=me[pe-31];me[pe]=m(xe,ce,ve,ee,re,se,Y,J),me[pe+1]=y(xe,ce,ve,ee,re,se,Y,J)}},P.prototype._update=function(z,Q){this._prepareBlock(z,Q);var me=this.W,pe=this.h[0],xe=this.h[1],ce=this.h[2],ve=this.h[3],ee=this.h[4],re=this.h[5],se=this.h[6],Y=this.h[7],J=this.h[8],Se=this.h[9],Me=this.h[10],Ce=this.h[11],Re=this.h[12],je=this.h[13],Ge=this.h[14],ct=this.h[15];t(this.k.length===me.length);for(var pt=0;pt<me.length;pt+=2){var W=Ge,He=ct,_e=V(J,Se),ge=oe(J,Se),ue=N(J,Se,Me,Ce,Re),he=k(J,Se,Me,Ce,Re,je),Ke=this.k[pt],Ve=this.k[pt+1],Oe=me[pt],et=me[pt+1],be=b(W,He,_e,ge,ue,he,Ke,Ve,Oe,et),Ae=E(W,He,_e,ge,ue,he,Ke,Ve,Oe,et);W=U(pe,xe),He=te(pe,xe),_e=R(pe,xe,ce,ve,ee),ge=L(pe,xe,ce,ve,ee,re);var Ze=d(W,He,_e,ge),ut=l(W,He,_e,ge);Ge=Re,ct=je,Re=Me,je=Ce,Me=J,Ce=Se,J=d(se,Y,be,Ae),Se=l(Y,Y,be,Ae),se=ee,Y=re,ee=ce,re=ve,ce=pe,ve=xe,pe=d(be,Ae,Ze,ut),xe=l(be,Ae,Ze,ut)}u(this.h,0,pe,xe),u(this.h,2,ce,ve),u(this.h,4,ee,re),u(this.h,6,se,Y),u(this.h,8,J,Se),u(this.h,10,Me,Ce),u(this.h,12,Re,je),u(this.h,14,Ge,ct)},P.prototype._digest=function(z){return z==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function N(fe,z,Q,me,pe){var xe=fe&Q^~fe&pe;return xe<0&&(xe+=4294967296),xe}function k(fe,z,Q,me,pe,xe){var ce=z&me^~z&xe;return ce<0&&(ce+=4294967296),ce}function R(fe,z,Q,me,pe){var xe=fe&Q^fe&pe^Q&pe;return xe<0&&(xe+=4294967296),xe}function L(fe,z,Q,me,pe,xe){var ce=z&me^z&xe^me&xe;return ce<0&&(ce+=4294967296),ce}function U(fe,z){var Q=n(fe,z,28),me=n(z,fe,2),pe=n(z,fe,7),xe=Q^me^pe;return xe<0&&(xe+=4294967296),xe}function te(fe,z){var Q=i(fe,z,28),me=i(z,fe,2),pe=i(z,fe,7),xe=Q^me^pe;return xe<0&&(xe+=4294967296),xe}function V(fe,z){var Q=n(fe,z,14),me=n(fe,z,18),pe=n(z,fe,9),xe=Q^me^pe;return xe<0&&(xe+=4294967296),xe}function oe(fe,z){var Q=i(fe,z,14),me=i(fe,z,18),pe=i(z,fe,9),xe=Q^me^pe;return xe<0&&(xe+=4294967296),xe}function de(fe,z){var Q=n(fe,z,1),me=n(fe,z,8),pe=s(fe,z,7),xe=Q^me^pe;return xe<0&&(xe+=4294967296),xe}function Ee(fe,z){var Q=i(fe,z,1),me=i(fe,z,8),pe=c(fe,z,7),xe=Q^me^pe;return xe<0&&(xe+=4294967296),xe}function Fe(fe,z){var Q=n(fe,z,19),me=n(z,fe,29),pe=s(fe,z,6),xe=Q^me^pe;return xe<0&&(xe+=4294967296),xe}function j(fe,z){var Q=i(fe,z,19),me=i(z,fe,29),pe=c(fe,z,6),xe=Q^me^pe;return xe<0&&(xe+=4294967296),xe}return uE}var lE,yT;function X9(){if(yT)return lE;yT=1;var r=Kc(),e=uN();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),lE=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},lE}var wT;function J9(){return wT||(wT=1,nd.sha1=G9(),nd.sha224=Y9(),nd.sha256=cN(),nd.sha384=X9(),nd.sha512=uN()),nd}var fE={},vT;function Q9(){if(vT)return fE;vT=1;var r=Kc(),e=_y(),t=r.rotl32,n=r.sum32,i=r.sum32_3,s=r.sum32_4,c=e.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(u,c),fE.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(P,N){for(var k=this.h[0],R=this.h[1],L=this.h[2],U=this.h[3],te=this.h[4],V=k,oe=R,de=L,Ee=U,Fe=te,j=0;j<80;j++){var fe=n(t(s(k,d(j,R,L,U),P[y[j]+N],l(j)),E[j]),te);k=te,te=U,U=t(L,10),L=R,R=fe,fe=n(t(s(V,d(79-j,oe,de,Ee),P[b[j]+N],m(j)),I[j]),Fe),V=Fe,Fe=Ee,Ee=t(de,10),de=oe,oe=fe}fe=i(this.h[1],L,Ee),this.h[1]=i(this.h[2],U,Fe),this.h[2]=i(this.h[3],te,V),this.h[3]=i(this.h[4],k,oe),this.h[4]=i(this.h[0],R,de),this.h[0]=fe},u.prototype._digest=function(P){return P==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function d(S,P,N,k){return S<=15?P^N^k:S<=31?P&N|~P&k:S<=47?(P|~N)^k:S<=63?P&k|N&~k:P^(N|~k)}function l(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}function m(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}var y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],E=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],I=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return fE}var dE,bT;function e$(){if(bT)return dE;bT=1;var r=Kc(),e=gy();function t(n,i,s){if(!(this instanceof t))return new t(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(i,s))}return dE=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,s){return this.inner.update(i,s),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},dE}var ET;function t$(){return ET||(ET=1,function(r){var e=r;e.utils=Kc(),e.common=_y(),e.sha=J9(),e.ripemd=Q9(),e.hmac=e$(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(nE)),nE}var r$=t$();const lN=Zc(r$);function U_(r){return $e.from(lN.sha256().update(r).digest())}function fN(r){return q9(U_(r))}function n$(r){const e=ft(r);return H.fromBuffer(fN(e))}var hE={},pE={},ST;function dN(){return ST||(ST=1,function(r){Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},t={};t.byteLength=m,t.toByteArray=b,t.fromByteArray=S;for(var n=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,d=c.length;u<d;++u)n[u]=c[u],i[c.charCodeAt(u)]=u;i[45]=62,i[95]=63;function l(k){var R=k.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=k.indexOf("=");L===-1&&(L=R);var U=L===R?0:4-L%4;return[L,U]}function m(k){var R=l(k),L=R[0],U=R[1];return(L+U)*3/4-U}function y(k,R,L){return(R+L)*3/4-L}function b(k){var R,L=l(k),U=L[0],te=L[1],V=new s(y(k,U,te)),oe=0,de=te>0?U-4:U,Ee;for(Ee=0;Ee<de;Ee+=4)R=i[k.charCodeAt(Ee)]<<18|i[k.charCodeAt(Ee+1)]<<12|i[k.charCodeAt(Ee+2)]<<6|i[k.charCodeAt(Ee+3)],V[oe++]=R>>16&255,V[oe++]=R>>8&255,V[oe++]=R&255;return te===2&&(R=i[k.charCodeAt(Ee)]<<2|i[k.charCodeAt(Ee+1)]>>4,V[oe++]=R&255),te===1&&(R=i[k.charCodeAt(Ee)]<<10|i[k.charCodeAt(Ee+1)]<<4|i[k.charCodeAt(Ee+2)]>>2,V[oe++]=R>>8&255,V[oe++]=R&255),V}function E(k){return n[k>>18&63]+n[k>>12&63]+n[k>>6&63]+n[k&63]}function I(k,R,L){for(var U,te=[],V=R;V<L;V+=3)U=(k[V]<<16&16711680)+(k[V+1]<<8&65280)+(k[V+2]&255),te.push(E(U));return te.join("")}function S(k){for(var R,L=k.length,U=L%3,te=[],V=16383,oe=0,de=L-U;oe<de;oe+=V)te.push(I(k,oe,oe+V>de?de:oe+V));return U===1?(R=k[L-1],te.push(n[R>>2]+n[R<<4&63]+"==")):U===2&&(R=(k[L-2]<<8)+k[L-1],te.push(n[R>>10]+n[R>>4&63]+n[R<<2&63]+"=")),te.join("")}var P={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */P.read=function(k,R,L,U,te){var V,oe,de=te*8-U-1,Ee=(1<<de)-1,Fe=Ee>>1,j=-7,fe=L?te-1:0,z=L?-1:1,Q=k[R+fe];for(fe+=z,V=Q&(1<<-j)-1,Q>>=-j,j+=de;j>0;V=V*256+k[R+fe],fe+=z,j-=8);for(oe=V&(1<<-j)-1,V>>=-j,j+=U;j>0;oe=oe*256+k[R+fe],fe+=z,j-=8);if(V===0)V=1-Fe;else{if(V===Ee)return oe?NaN:(Q?-1:1)*(1/0);oe=oe+Math.pow(2,U),V=V-Fe}return(Q?-1:1)*oe*Math.pow(2,V-U)},P.write=function(k,R,L,U,te,V){var oe,de,Ee,Fe=V*8-te-1,j=(1<<Fe)-1,fe=j>>1,z=te===23?Math.pow(2,-24)-Math.pow(2,-77):0,Q=U?0:V-1,me=U?1:-1,pe=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(de=isNaN(R)?1:0,oe=j):(oe=Math.floor(Math.log(R)/Math.LN2),R*(Ee=Math.pow(2,-oe))<1&&(oe--,Ee*=2),oe+fe>=1?R+=z/Ee:R+=z*Math.pow(2,1-fe),R*Ee>=2&&(oe++,Ee/=2),oe+fe>=j?(de=0,oe=j):oe+fe>=1?(de=(R*Ee-1)*Math.pow(2,te),oe=oe+fe):(de=R*Math.pow(2,fe-1)*Math.pow(2,te),oe=0));te>=8;k[L+Q]=de&255,Q+=me,de/=256,te-=8);for(oe=oe<<te|de,Fe+=te;Fe>0;k[L+Q]=oe&255,Q+=me,oe/=256,Fe-=8);k[L+Q-me]|=pe*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(k){const R=t,L=P,U=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;k.Buffer=j,k.SlowBuffer=se,k.INSPECT_MAX_BYTES=50;const te=2147483647;k.kMaxLength=te;const{Uint8Array:V,ArrayBuffer:oe,SharedArrayBuffer:de}=globalThis;j.TYPED_ARRAY_SUPPORT=Ee(),!j.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ee(){try{const ie=new V(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,V.prototype),Object.setPrototypeOf(ie,D),ie.foo()===42}catch{return!1}}Object.defineProperty(j.prototype,"parent",{enumerable:!0,get:function(){if(j.isBuffer(this))return this.buffer}}),Object.defineProperty(j.prototype,"offset",{enumerable:!0,get:function(){if(j.isBuffer(this))return this.byteOffset}});function Fe(ie){if(ie>te)throw new RangeError('The value "'+ie+'" is invalid for option "size"');const D=new V(ie);return Object.setPrototypeOf(D,j.prototype),D}function j(ie,D,q){if(typeof ie=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return me(ie)}return fe(ie,D,q)}j.poolSize=8192;function fe(ie,D,q){if(typeof ie=="string")return pe(ie,D);if(oe.isView(ie))return ce(ie);if(ie==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ie);if(Br(ie,oe)||ie&&Br(ie.buffer,oe)||typeof de<"u"&&(Br(ie,de)||ie&&Br(ie.buffer,de)))return ve(ie,D,q);if(typeof ie=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const we=ie.valueOf&&ie.valueOf();if(we!=null&&we!==ie)return j.from(we,D,q);const Le=ee(ie);if(Le)return Le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ie[Symbol.toPrimitive]=="function")return j.from(ie[Symbol.toPrimitive]("string"),D,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ie)}j.from=function(ie,D,q){return fe(ie,D,q)},Object.setPrototypeOf(j.prototype,V.prototype),Object.setPrototypeOf(j,V);function z(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be of type number');if(ie<0)throw new RangeError('The value "'+ie+'" is invalid for option "size"')}function Q(ie,D,q){return z(ie),ie<=0?Fe(ie):D!==void 0?typeof q=="string"?Fe(ie).fill(D,q):Fe(ie).fill(D):Fe(ie)}j.alloc=function(ie,D,q){return Q(ie,D,q)};function me(ie){return z(ie),Fe(ie<0?0:re(ie)|0)}j.allocUnsafe=function(ie){return me(ie)},j.allocUnsafeSlow=function(ie){return me(ie)};function pe(ie,D){if((typeof D!="string"||D==="")&&(D="utf8"),!j.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const q=Y(ie,D)|0;let we=Fe(q);const Le=we.write(ie,D);return Le!==q&&(we=we.slice(0,Le)),we}function xe(ie){const D=ie.length<0?0:re(ie.length)|0,q=Fe(D);for(let we=0;we<D;we+=1)q[we]=ie[we]&255;return q}function ce(ie){if(Br(ie,V)){const D=new V(ie);return ve(D.buffer,D.byteOffset,D.byteLength)}return xe(ie)}function ve(ie,D,q){if(D<0||ie.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<D+(q||0))throw new RangeError('"length" is outside of buffer bounds');let we;return D===void 0&&q===void 0?we=new V(ie):q===void 0?we=new V(ie,D):we=new V(ie,D,q),Object.setPrototypeOf(we,j.prototype),we}function ee(ie){if(j.isBuffer(ie)){const D=re(ie.length)|0,q=Fe(D);return q.length===0||ie.copy(q,0,0,D),q}if(ie.length!==void 0)return typeof ie.length!="number"||Fs(ie.length)?Fe(0):xe(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return xe(ie.data)}function re(ie){if(ie>=te)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+te.toString(16)+" bytes");return ie|0}function se(ie){return+ie!=ie&&(ie=0),j.alloc(+ie)}j.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==j.prototype},j.compare=function(D,q){if(Br(D,V)&&(D=j.from(D,D.offset,D.byteLength)),Br(q,V)&&(q=j.from(q,q.offset,q.byteLength)),!j.isBuffer(D)||!j.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===q)return 0;let we=D.length,Le=q.length;for(let Ye=0,it=Math.min(we,Le);Ye<it;++Ye)if(D[Ye]!==q[Ye]){we=D[Ye],Le=q[Ye];break}return we<Le?-1:Le<we?1:0},j.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},j.concat=function(D,q){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return j.alloc(0);let we;if(q===void 0)for(q=0,we=0;we<D.length;++we)q+=D[we].length;const Le=j.allocUnsafe(q);let Ye=0;for(we=0;we<D.length;++we){let it=D[we];if(Br(it,V))Ye+it.length>Le.length?(j.isBuffer(it)||(it=j.from(it)),it.copy(Le,Ye)):V.prototype.set.call(Le,it,Ye);else if(j.isBuffer(it))it.copy(Le,Ye);else throw new TypeError('"list" argument must be an Array of Buffers');Ye+=it.length}return Le};function Y(ie,D){if(j.isBuffer(ie))return ie.length;if(oe.isView(ie)||Br(ie,oe))return ie.byteLength;if(typeof ie!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ie);const q=ie.length,we=arguments.length>2&&arguments[2]===!0;if(!we&&q===0)return 0;let Le=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return xt(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return cr(ie).length;default:if(Le)return we?-1:xt(ie).length;D=(""+D).toLowerCase(),Le=!0}}j.byteLength=Y;function J(ie,D,q){let we=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,D>>>=0,q<=D))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return Ke(this,D,q);case"utf8":case"utf-8":return He(this,D,q);case"ascii":return ue(this,D,q);case"latin1":case"binary":return he(this,D,q);case"base64":return W(this,D,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ve(this,D,q);default:if(we)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),we=!0}}j.prototype._isBuffer=!0;function Se(ie,D,q){const we=ie[D];ie[D]=ie[q],ie[q]=we}j.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<D;q+=2)Se(this,q,q+1);return this},j.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<D;q+=4)Se(this,q,q+3),Se(this,q+1,q+2);return this},j.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<D;q+=8)Se(this,q,q+7),Se(this,q+1,q+6),Se(this,q+2,q+5),Se(this,q+3,q+4);return this},j.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?He(this,0,D):J.apply(this,arguments)},j.prototype.toLocaleString=j.prototype.toString,j.prototype.equals=function(D){if(!j.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:j.compare(this,D)===0},j.prototype.inspect=function(){let D="";const q=k.INSPECT_MAX_BYTES;return D=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(D+=" ... "),"<Buffer "+D+">"},U&&(j.prototype[U]=j.prototype.inspect),j.prototype.compare=function(D,q,we,Le,Ye){if(Br(D,V)&&(D=j.from(D,D.offset,D.byteLength)),!j.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(q===void 0&&(q=0),we===void 0&&(we=D?D.length:0),Le===void 0&&(Le=0),Ye===void 0&&(Ye=this.length),q<0||we>D.length||Le<0||Ye>this.length)throw new RangeError("out of range index");if(Le>=Ye&&q>=we)return 0;if(Le>=Ye)return-1;if(q>=we)return 1;if(q>>>=0,we>>>=0,Le>>>=0,Ye>>>=0,this===D)return 0;let it=Ye-Le,Gt=we-q;const Er=Math.min(it,Gt),Nr=this.slice(Le,Ye),Xr=D.slice(q,we);for(let Or=0;Or<Er;++Or)if(Nr[Or]!==Xr[Or]){it=Nr[Or],Gt=Xr[Or];break}return it<Gt?-1:Gt<it?1:0};function Me(ie,D,q,we,Le){if(ie.length===0)return-1;if(typeof q=="string"?(we=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,Fs(q)&&(q=Le?0:ie.length-1),q<0&&(q=ie.length+q),q>=ie.length){if(Le)return-1;q=ie.length-1}else if(q<0)if(Le)q=0;else return-1;if(typeof D=="string"&&(D=j.from(D,we)),j.isBuffer(D))return D.length===0?-1:Ce(ie,D,q,we,Le);if(typeof D=="number")return D=D&255,typeof V.prototype.indexOf=="function"?Le?V.prototype.indexOf.call(ie,D,q):V.prototype.lastIndexOf.call(ie,D,q):Ce(ie,[D],q,we,Le);throw new TypeError("val must be string, number or Buffer")}function Ce(ie,D,q,we,Le){let Ye=1,it=ie.length,Gt=D.length;if(we!==void 0&&(we=String(we).toLowerCase(),we==="ucs2"||we==="ucs-2"||we==="utf16le"||we==="utf-16le")){if(ie.length<2||D.length<2)return-1;Ye=2,it/=2,Gt/=2,q/=2}function Er(Xr,Or){return Ye===1?Xr[Or]:Xr.readUInt16BE(Or*Ye)}let Nr;if(Le){let Xr=-1;for(Nr=q;Nr<it;Nr++)if(Er(ie,Nr)===Er(D,Xr===-1?0:Nr-Xr)){if(Xr===-1&&(Xr=Nr),Nr-Xr+1===Gt)return Xr*Ye}else Xr!==-1&&(Nr-=Nr-Xr),Xr=-1}else for(q+Gt>it&&(q=it-Gt),Nr=q;Nr>=0;Nr--){let Xr=!0;for(let Or=0;Or<Gt;Or++)if(Er(ie,Nr+Or)!==Er(D,Or)){Xr=!1;break}if(Xr)return Nr}return-1}j.prototype.includes=function(D,q,we){return this.indexOf(D,q,we)!==-1},j.prototype.indexOf=function(D,q,we){return Me(this,D,q,we,!0)},j.prototype.lastIndexOf=function(D,q,we){return Me(this,D,q,we,!1)};function Re(ie,D,q,we){q=Number(q)||0;const Le=ie.length-q;we?(we=Number(we),we>Le&&(we=Le)):we=Le;const Ye=D.length;we>Ye/2&&(we=Ye/2);let it;for(it=0;it<we;++it){const Gt=parseInt(D.substr(it*2,2),16);if(Fs(Gt))return it;ie[q+it]=Gt}return it}function je(ie,D,q,we){return Kn(xt(D,ie.length-q),ie,q,we)}function Ge(ie,D,q,we){return Kn(At(D),ie,q,we)}function ct(ie,D,q,we){return Kn(cr(D),ie,q,we)}function pt(ie,D,q,we){return Kn(Ir(D,ie.length-q),ie,q,we)}j.prototype.write=function(D,q,we,Le){if(q===void 0)Le="utf8",we=this.length,q=0;else if(we===void 0&&typeof q=="string")Le=q,we=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(we)?(we=we>>>0,Le===void 0&&(Le="utf8")):(Le=we,we=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ye=this.length-q;if((we===void 0||we>Ye)&&(we=Ye),D.length>0&&(we<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");let it=!1;for(;;)switch(Le){case"hex":return Re(this,D,q,we);case"utf8":case"utf-8":return je(this,D,q,we);case"ascii":case"latin1":case"binary":return Ge(this,D,q,we);case"base64":return ct(this,D,q,we);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pt(this,D,q,we);default:if(it)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),it=!0}},j.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(ie,D,q){return D===0&&q===ie.length?R.fromByteArray(ie):R.fromByteArray(ie.slice(D,q))}function He(ie,D,q){q=Math.min(ie.length,q);const we=[];let Le=D;for(;Le<q;){const Ye=ie[Le];let it=null,Gt=Ye>239?4:Ye>223?3:Ye>191?2:1;if(Le+Gt<=q){let Er,Nr,Xr,Or;switch(Gt){case 1:Ye<128&&(it=Ye);break;case 2:Er=ie[Le+1],(Er&192)===128&&(Or=(Ye&31)<<6|Er&63,Or>127&&(it=Or));break;case 3:Er=ie[Le+1],Nr=ie[Le+2],(Er&192)===128&&(Nr&192)===128&&(Or=(Ye&15)<<12|(Er&63)<<6|Nr&63,Or>2047&&(Or<55296||Or>57343)&&(it=Or));break;case 4:Er=ie[Le+1],Nr=ie[Le+2],Xr=ie[Le+3],(Er&192)===128&&(Nr&192)===128&&(Xr&192)===128&&(Or=(Ye&15)<<18|(Er&63)<<12|(Nr&63)<<6|Xr&63,Or>65535&&Or<1114112&&(it=Or))}}it===null?(it=65533,Gt=1):it>65535&&(it-=65536,we.push(it>>>10&1023|55296),it=56320|it&1023),we.push(it),Le+=Gt}return ge(we)}const _e=4096;function ge(ie){const D=ie.length;if(D<=_e)return String.fromCharCode.apply(String,ie);let q="",we=0;for(;we<D;)q+=String.fromCharCode.apply(String,ie.slice(we,we+=_e));return q}function ue(ie,D,q){let we="";q=Math.min(ie.length,q);for(let Le=D;Le<q;++Le)we+=String.fromCharCode(ie[Le]&127);return we}function he(ie,D,q){let we="";q=Math.min(ie.length,q);for(let Le=D;Le<q;++Le)we+=String.fromCharCode(ie[Le]);return we}function Ke(ie,D,q){const we=ie.length;(!D||D<0)&&(D=0),(!q||q<0||q>we)&&(q=we);let Le="";for(let Ye=D;Ye<q;++Ye)Le+=ho[ie[Ye]];return Le}function Ve(ie,D,q){const we=ie.slice(D,q);let Le="";for(let Ye=0;Ye<we.length-1;Ye+=2)Le+=String.fromCharCode(we[Ye]+we[Ye+1]*256);return Le}j.prototype.slice=function(D,q){const we=this.length;D=~~D,q=q===void 0?we:~~q,D<0?(D+=we,D<0&&(D=0)):D>we&&(D=we),q<0?(q+=we,q<0&&(q=0)):q>we&&(q=we),q<D&&(q=D);const Le=this.subarray(D,q);return Object.setPrototypeOf(Le,j.prototype),Le};function Oe(ie,D,q){if(ie%1!==0||ie<0)throw new RangeError("offset is not uint");if(ie+D>q)throw new RangeError("Trying to access beyond buffer length")}j.prototype.readUintLE=j.prototype.readUIntLE=function(D,q,we){D=D>>>0,q=q>>>0,we||Oe(D,q,this.length);let Le=this[D],Ye=1,it=0;for(;++it<q&&(Ye*=256);)Le+=this[D+it]*Ye;return Le},j.prototype.readUintBE=j.prototype.readUIntBE=function(D,q,we){D=D>>>0,q=q>>>0,we||Oe(D,q,this.length);let Le=this[D+--q],Ye=1;for(;q>0&&(Ye*=256);)Le+=this[D+--q]*Ye;return Le},j.prototype.readUint8=j.prototype.readUInt8=function(D,q){return D=D>>>0,q||Oe(D,1,this.length),this[D]},j.prototype.readUint16LE=j.prototype.readUInt16LE=function(D,q){return D=D>>>0,q||Oe(D,2,this.length),this[D]|this[D+1]<<8},j.prototype.readUint16BE=j.prototype.readUInt16BE=function(D,q){return D=D>>>0,q||Oe(D,2,this.length),this[D]<<8|this[D+1]},j.prototype.readUint32LE=j.prototype.readUInt32LE=function(D,q){return D=D>>>0,q||Oe(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},j.prototype.readUint32BE=j.prototype.readUInt32BE=function(D,q){return D=D>>>0,q||Oe(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},j.prototype.readBigUInt64LE=Bi(function(D){D=D>>>0,ae(D,"offset");const q=this[D],we=this[D+7];(q===void 0||we===void 0)&&Ne(D,this.length-8);const Le=q+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,Ye=this[++D]+this[++D]*2**8+this[++D]*2**16+we*2**24;return BigInt(Le)+(BigInt(Ye)<<BigInt(32))}),j.prototype.readBigUInt64BE=Bi(function(D){D=D>>>0,ae(D,"offset");const q=this[D],we=this[D+7];(q===void 0||we===void 0)&&Ne(D,this.length-8);const Le=q*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],Ye=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+we;return(BigInt(Le)<<BigInt(32))+BigInt(Ye)}),j.prototype.readIntLE=function(D,q,we){D=D>>>0,q=q>>>0,we||Oe(D,q,this.length);let Le=this[D],Ye=1,it=0;for(;++it<q&&(Ye*=256);)Le+=this[D+it]*Ye;return Ye*=128,Le>=Ye&&(Le-=Math.pow(2,8*q)),Le},j.prototype.readIntBE=function(D,q,we){D=D>>>0,q=q>>>0,we||Oe(D,q,this.length);let Le=q,Ye=1,it=this[D+--Le];for(;Le>0&&(Ye*=256);)it+=this[D+--Le]*Ye;return Ye*=128,it>=Ye&&(it-=Math.pow(2,8*q)),it},j.prototype.readInt8=function(D,q){return D=D>>>0,q||Oe(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},j.prototype.readInt16LE=function(D,q){D=D>>>0,q||Oe(D,2,this.length);const we=this[D]|this[D+1]<<8;return we&32768?we|4294901760:we},j.prototype.readInt16BE=function(D,q){D=D>>>0,q||Oe(D,2,this.length);const we=this[D+1]|this[D]<<8;return we&32768?we|4294901760:we},j.prototype.readInt32LE=function(D,q){return D=D>>>0,q||Oe(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},j.prototype.readInt32BE=function(D,q){return D=D>>>0,q||Oe(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},j.prototype.readBigInt64LE=Bi(function(D){D=D>>>0,ae(D,"offset");const q=this[D],we=this[D+7];(q===void 0||we===void 0)&&Ne(D,this.length-8);const Le=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(we<<24);return(BigInt(Le)<<BigInt(32))+BigInt(q+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),j.prototype.readBigInt64BE=Bi(function(D){D=D>>>0,ae(D,"offset");const q=this[D],we=this[D+7];(q===void 0||we===void 0)&&Ne(D,this.length-8);const Le=(q<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(Le)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+we)}),j.prototype.readFloatLE=function(D,q){return D=D>>>0,q||Oe(D,4,this.length),L.read(this,D,!0,23,4)},j.prototype.readFloatBE=function(D,q){return D=D>>>0,q||Oe(D,4,this.length),L.read(this,D,!1,23,4)},j.prototype.readDoubleLE=function(D,q){return D=D>>>0,q||Oe(D,8,this.length),L.read(this,D,!0,52,8)},j.prototype.readDoubleBE=function(D,q){return D=D>>>0,q||Oe(D,8,this.length),L.read(this,D,!1,52,8)};function et(ie,D,q,we,Le,Ye){if(!j.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>Le||D<Ye)throw new RangeError('"value" argument is out of bounds');if(q+we>ie.length)throw new RangeError("Index out of range")}j.prototype.writeUintLE=j.prototype.writeUIntLE=function(D,q,we,Le){if(D=+D,q=q>>>0,we=we>>>0,!Le){const Gt=Math.pow(2,8*we)-1;et(this,D,q,we,Gt,0)}let Ye=1,it=0;for(this[q]=D&255;++it<we&&(Ye*=256);)this[q+it]=D/Ye&255;return q+we},j.prototype.writeUintBE=j.prototype.writeUIntBE=function(D,q,we,Le){if(D=+D,q=q>>>0,we=we>>>0,!Le){const Gt=Math.pow(2,8*we)-1;et(this,D,q,we,Gt,0)}let Ye=we-1,it=1;for(this[q+Ye]=D&255;--Ye>=0&&(it*=256);)this[q+Ye]=D/it&255;return q+we},j.prototype.writeUint8=j.prototype.writeUInt8=function(D,q,we){return D=+D,q=q>>>0,we||et(this,D,q,1,255,0),this[q]=D&255,q+1},j.prototype.writeUint16LE=j.prototype.writeUInt16LE=function(D,q,we){return D=+D,q=q>>>0,we||et(this,D,q,2,65535,0),this[q]=D&255,this[q+1]=D>>>8,q+2},j.prototype.writeUint16BE=j.prototype.writeUInt16BE=function(D,q,we){return D=+D,q=q>>>0,we||et(this,D,q,2,65535,0),this[q]=D>>>8,this[q+1]=D&255,q+2},j.prototype.writeUint32LE=j.prototype.writeUInt32LE=function(D,q,we){return D=+D,q=q>>>0,we||et(this,D,q,4,4294967295,0),this[q+3]=D>>>24,this[q+2]=D>>>16,this[q+1]=D>>>8,this[q]=D&255,q+4},j.prototype.writeUint32BE=j.prototype.writeUInt32BE=function(D,q,we){return D=+D,q=q>>>0,we||et(this,D,q,4,4294967295,0),this[q]=D>>>24,this[q+1]=D>>>16,this[q+2]=D>>>8,this[q+3]=D&255,q+4};function be(ie,D,q,we,Le){Z(D,we,Le,ie,q,7);let Ye=Number(D&BigInt(4294967295));ie[q++]=Ye,Ye=Ye>>8,ie[q++]=Ye,Ye=Ye>>8,ie[q++]=Ye,Ye=Ye>>8,ie[q++]=Ye;let it=Number(D>>BigInt(32)&BigInt(4294967295));return ie[q++]=it,it=it>>8,ie[q++]=it,it=it>>8,ie[q++]=it,it=it>>8,ie[q++]=it,q}function Ae(ie,D,q,we,Le){Z(D,we,Le,ie,q,7);let Ye=Number(D&BigInt(4294967295));ie[q+7]=Ye,Ye=Ye>>8,ie[q+6]=Ye,Ye=Ye>>8,ie[q+5]=Ye,Ye=Ye>>8,ie[q+4]=Ye;let it=Number(D>>BigInt(32)&BigInt(4294967295));return ie[q+3]=it,it=it>>8,ie[q+2]=it,it=it>>8,ie[q+1]=it,it=it>>8,ie[q]=it,q+8}j.prototype.writeBigUInt64LE=Bi(function(D,q=0){return be(this,D,q,BigInt(0),BigInt("0xffffffffffffffff"))}),j.prototype.writeBigUInt64BE=Bi(function(D,q=0){return Ae(this,D,q,BigInt(0),BigInt("0xffffffffffffffff"))}),j.prototype.writeIntLE=function(D,q,we,Le){if(D=+D,q=q>>>0,!Le){const Er=Math.pow(2,8*we-1);et(this,D,q,we,Er-1,-Er)}let Ye=0,it=1,Gt=0;for(this[q]=D&255;++Ye<we&&(it*=256);)D<0&&Gt===0&&this[q+Ye-1]!==0&&(Gt=1),this[q+Ye]=(D/it>>0)-Gt&255;return q+we},j.prototype.writeIntBE=function(D,q,we,Le){if(D=+D,q=q>>>0,!Le){const Er=Math.pow(2,8*we-1);et(this,D,q,we,Er-1,-Er)}let Ye=we-1,it=1,Gt=0;for(this[q+Ye]=D&255;--Ye>=0&&(it*=256);)D<0&&Gt===0&&this[q+Ye+1]!==0&&(Gt=1),this[q+Ye]=(D/it>>0)-Gt&255;return q+we},j.prototype.writeInt8=function(D,q,we){return D=+D,q=q>>>0,we||et(this,D,q,1,127,-128),D<0&&(D=255+D+1),this[q]=D&255,q+1},j.prototype.writeInt16LE=function(D,q,we){return D=+D,q=q>>>0,we||et(this,D,q,2,32767,-32768),this[q]=D&255,this[q+1]=D>>>8,q+2},j.prototype.writeInt16BE=function(D,q,we){return D=+D,q=q>>>0,we||et(this,D,q,2,32767,-32768),this[q]=D>>>8,this[q+1]=D&255,q+2},j.prototype.writeInt32LE=function(D,q,we){return D=+D,q=q>>>0,we||et(this,D,q,4,2147483647,-2147483648),this[q]=D&255,this[q+1]=D>>>8,this[q+2]=D>>>16,this[q+3]=D>>>24,q+4},j.prototype.writeInt32BE=function(D,q,we){return D=+D,q=q>>>0,we||et(this,D,q,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[q]=D>>>24,this[q+1]=D>>>16,this[q+2]=D>>>8,this[q+3]=D&255,q+4},j.prototype.writeBigInt64LE=Bi(function(D,q=0){return be(this,D,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),j.prototype.writeBigInt64BE=Bi(function(D,q=0){return Ae(this,D,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ze(ie,D,q,we,Le,Ye){if(q+we>ie.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function ut(ie,D,q,we,Le){return D=+D,q=q>>>0,Le||Ze(ie,D,q,4),L.write(ie,D,q,we,23,4),q+4}j.prototype.writeFloatLE=function(D,q,we){return ut(this,D,q,!0,we)},j.prototype.writeFloatBE=function(D,q,we){return ut(this,D,q,!1,we)};function X(ie,D,q,we,Le){return D=+D,q=q>>>0,Le||Ze(ie,D,q,8),L.write(ie,D,q,we,52,8),q+8}j.prototype.writeDoubleLE=function(D,q,we){return X(this,D,q,!0,we)},j.prototype.writeDoubleBE=function(D,q,we){return X(this,D,q,!1,we)},j.prototype.copy=function(D,q,we,Le){if(!j.isBuffer(D))throw new TypeError("argument should be a Buffer");if(we||(we=0),!Le&&Le!==0&&(Le=this.length),q>=D.length&&(q=D.length),q||(q=0),Le>0&&Le<we&&(Le=we),Le===we||D.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(we<0||we>=this.length)throw new RangeError("Index out of range");if(Le<0)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),D.length-q<Le-we&&(Le=D.length-q+we);const Ye=Le-we;return this===D&&typeof V.prototype.copyWithin=="function"?this.copyWithin(q,we,Le):V.prototype.set.call(D,this.subarray(we,Le),q),Ye},j.prototype.fill=function(D,q,we,Le){if(typeof D=="string"){if(typeof q=="string"?(Le=q,q=0,we=this.length):typeof we=="string"&&(Le=we,we=this.length),Le!==void 0&&typeof Le!="string")throw new TypeError("encoding must be a string");if(typeof Le=="string"&&!j.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);if(D.length===1){const it=D.charCodeAt(0);(Le==="utf8"&&it<128||Le==="latin1")&&(D=it)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(q<0||this.length<q||this.length<we)throw new RangeError("Out of range index");if(we<=q)return this;q=q>>>0,we=we===void 0?this.length:we>>>0,D||(D=0);let Ye;if(typeof D=="number")for(Ye=q;Ye<we;++Ye)this[Ye]=D;else{const it=j.isBuffer(D)?D:j.from(D,Le),Gt=it.length;if(Gt===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Ye=0;Ye<we-q;++Ye)this[Ye+q]=it[Ye%Gt]}return this};const B={};function w(ie,D,q){B[ie]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ie}]`,this.stack,delete this.name}get code(){return ie}set code(Le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Le,writable:!0})}toString(){return`${this.name} [${ie}]: ${this.message}`}}}w("ERR_BUFFER_OUT_OF_BOUNDS",function(ie){return ie?`${ie} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),w("ERR_INVALID_ARG_TYPE",function(ie,D){return`The "${ie}" argument must be of type number. Received type ${typeof D}`},TypeError),w("ERR_OUT_OF_RANGE",function(ie,D,q){let we=`The value of "${ie}" is out of range.`,Le=q;return Number.isInteger(q)&&Math.abs(q)>2**32?Le=v(String(q)):typeof q=="bigint"&&(Le=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(Le=v(Le)),Le+="n"),we+=` It must be ${D}. Received ${Le}`,we},RangeError);function v(ie){let D="",q=ie.length;const we=ie[0]==="-"?1:0;for(;q>=we+4;q-=3)D=`_${ie.slice(q-3,q)}${D}`;return`${ie.slice(0,q)}${D}`}function A(ie,D,q){ae(D,"offset"),(ie[D]===void 0||ie[D+q]===void 0)&&Ne(D,ie.length-(q+1))}function Z(ie,D,q,we,Le,Ye){if(ie>q||ie<D){const it=typeof D=="bigint"?"n":"";let Gt;throw D===0||D===BigInt(0)?Gt=`>= 0${it} and < 2${it} ** ${(Ye+1)*8}${it}`:Gt=`>= -(2${it} ** ${(Ye+1)*8-1}${it}) and < 2 ** ${(Ye+1)*8-1}${it}`,new B.ERR_OUT_OF_RANGE("value",Gt,ie)}A(we,Le,Ye)}function ae(ie,D){if(typeof ie!="number")throw new B.ERR_INVALID_ARG_TYPE(D,"number",ie)}function Ne(ie,D,q){throw Math.floor(ie)!==ie?(ae(ie,q),new B.ERR_OUT_OF_RANGE("offset","an integer",ie)):D<0?new B.ERR_BUFFER_OUT_OF_BOUNDS:new B.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,ie)}const ze=/[^+/0-9A-Za-z-_]/g;function _t(ie){if(ie=ie.split("=")[0],ie=ie.trim().replace(ze,""),ie.length<2)return"";for(;ie.length%4!==0;)ie=ie+"=";return ie}function xt(ie,D){D=D||1/0;let q;const we=ie.length;let Le=null;const Ye=[];for(let it=0;it<we;++it){if(q=ie.charCodeAt(it),q>55295&&q<57344){if(!Le){if(q>56319){(D-=3)>-1&&Ye.push(239,191,189);continue}else if(it+1===we){(D-=3)>-1&&Ye.push(239,191,189);continue}Le=q;continue}if(q<56320){(D-=3)>-1&&Ye.push(239,191,189),Le=q;continue}q=(Le-55296<<10|q-56320)+65536}else Le&&(D-=3)>-1&&Ye.push(239,191,189);if(Le=null,q<128){if((D-=1)<0)break;Ye.push(q)}else if(q<2048){if((D-=2)<0)break;Ye.push(q>>6|192,q&63|128)}else if(q<65536){if((D-=3)<0)break;Ye.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((D-=4)<0)break;Ye.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return Ye}function At(ie){const D=[];for(let q=0;q<ie.length;++q)D.push(ie.charCodeAt(q)&255);return D}function Ir(ie,D){let q,we,Le;const Ye=[];for(let it=0;it<ie.length&&!((D-=2)<0);++it)q=ie.charCodeAt(it),we=q>>8,Le=q%256,Ye.push(Le),Ye.push(we);return Ye}function cr(ie){return R.toByteArray(_t(ie))}function Kn(ie,D,q,we){let Le;for(Le=0;Le<we&&!(Le+q>=D.length||Le>=ie.length);++Le)D[Le+q]=ie[Le];return Le}function Br(ie,D){return ie instanceof D||ie!=null&&ie.constructor!=null&&ie.constructor.name!=null&&ie.constructor.name===D.name}function Fs(ie){return ie!==ie}const ho=function(){const ie="0123456789abcdef",D=new Array(256);for(let q=0;q<16;++q){const we=q*16;for(let Le=0;Le<16;++Le)D[we+Le]=ie[q]+ie[Le]}return D}();function Bi(ie){return typeof BigInt>"u"?Xo:ie}function Xo(){throw new Error("BigInt not supported")}})(e);const N=e.Buffer;r.Blob=e.Blob,r.BlobOptions=e.BlobOptions,r.Buffer=e.Buffer,r.File=e.File,r.FileOptions=e.FileOptions,r.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,r.SlowBuffer=e.SlowBuffer,r.TranscodeEncoding=e.TranscodeEncoding,r.atob=e.atob,r.btoa=e.btoa,r.constants=e.constants,r.default=N,r.isAscii=e.isAscii,r.isUtf8=e.isUtf8,r.kMaxLength=e.kMaxLength,r.kStringMaxLength=e.kStringMaxLength,r.resolveObjectURL=e.resolveObjectURL,r.transcode=e.transcode}(pE)),pE}var mE={},gE={},_E={},yE,xT;function KA(){if(xT)return yE;xT=1;var r=function(t,n){return function(i,s){var c=s*2,u=n*2;i[c]=t[u],i[c+1]=t[u+1]}};return yE=r,yE}var AT;function i$(){return AT||(AT=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(KA());function t(s){return s&&s.__esModule?s:{default:s}}var n=function(c){for(var u=c.A,d=c.C,l=0;l<25;l+=5){for(var m=0;m<5;m++)(0,e.default)(u,l+m)(d,m);for(var y=0;y<5;y++){var b=(l+y)*2,E=(y+1)%5*2,I=(y+2)%5*2;u[b]^=~d[E]&d[I],u[b+1]^=~d[E+1]&d[I+1]}}},i=n;r.default=i}(_E)),_E}var wE={},vE={},CT;function s$(){return CT||(CT=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]),t=e;r.default=t}(vE)),vE}var TT;function a$(){return TT||(TT=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(s$());function t(s){return s&&s.__esModule?s:{default:s}}var n=function(c){var u=c.A,d=c.roundIndex,l=d*2;u[0]^=e.default[l],u[1]^=e.default[l+1]},i=n;r.default=i}(wE)),wE}var bE={},EE={},IT;function o$(){return IT||(IT=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1],t=e;r.default=t}(EE)),EE}var SE={},kT;function c$(){return kT||(kT=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44],t=e;r.default=t}(SE)),SE}var RT;function u$(){return RT||(RT=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=i(o$()),t=i(c$()),n=i(KA());function i(u){return u&&u.__esModule?u:{default:u}}var s=function(d){var l=d.A,m=d.C,y=d.W;(0,n.default)(l,1)(y,0);for(var b=0,E=0,I=0,S=32,P=0;P<24;P++){var N=e.default[P],k=t.default[P];(0,n.default)(l,N)(m,0),b=y[0],E=y[1],S=32-k,I=k<32?0:1,y[I]=b<<k|E>>>S,y[(I+1)%2]=E<<k|b>>>S,(0,n.default)(y,0)(l,N),(0,n.default)(m,0)(y,0)}},c=s;r.default=c}(bE)),bE}var xE={},PT;function l$(){return PT||(PT=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(KA());function t(s){return s&&s.__esModule?s:{default:s}}var n=function(c){for(var u=c.A,d=c.C,l=c.D,m=c.W,y=0,b=0,E=0;E<5;E++){var I=E*2,S=(E+5)*2,P=(E+10)*2,N=(E+15)*2,k=(E+20)*2;d[I]=u[I]^u[S]^u[P]^u[N]^u[k],d[I+1]=u[I+1]^u[S+1]^u[P+1]^u[N+1]^u[k+1]}for(var R=0;R<5;R++){(0,e.default)(d,(R+1)%5)(m,0),y=m[0],b=m[1],m[0]=y<<1|b>>>31,m[1]=b<<1|y>>>31,l[R*2]=d[(R+4)%5*2]^m[0],l[R*2+1]=d[(R+4)%5*2+1]^m[1];for(var L=0;L<25;L+=5)u[(L+R)*2]^=l[R*2],u[(L+R)*2+1]^=l[R*2+1]}},i=n;r.default=i}(xE)),xE}var BT;function f$(){return BT||(BT=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=s(i$()),t=s(a$()),n=s(u$()),i=s(l$());function s(d){return d&&d.__esModule?d:{default:d}}var c=function(){var l=new Uint32Array(10),m=new Uint32Array(10),y=new Uint32Array(2);return function(b){for(var E=0;E<24;E++)(0,i.default)({A:b,C:l,D:m,W:y}),(0,n.default)({A:b,C:l,W:y}),(0,e.default)({A:b,C:l}),(0,t.default)({A:b,roundIndex:E});l.fill(0),m.fill(0),y.fill(0)}},u=c;r.default=u}(gE)),gE}var NT;function d$(){return NT||(NT=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=dN(),t=n(f$());function n(d){return d&&d.__esModule?d:{default:d}}var i=function(l,m){for(var y=0;y<l.length;y+=8){var b=y/4;m[b]^=l[y+7]<<24|l[y+6]<<16|l[y+5]<<8|l[y+4],m[b+1]^=l[y+3]<<24|l[y+2]<<16|l[y+1]<<8|l[y]}return m},s=function(l,m){for(var y=0;y<m.length;y+=8){var b=y/4;m[y]=l[b+1],m[y+1]=l[b+1]>>>8,m[y+2]=l[b+1]>>>16,m[y+3]=l[b+1]>>>24,m[y+4]=l[b],m[y+5]=l[b]>>>8,m[y+6]=l[b]>>>16,m[y+7]=l[b]>>>24}return m},c=function(l){var m=this,y=l.capacity,b=l.padding,E=(0,t.default)(),I=200,S=y/8,P=I-y/4,N=0,k=new Uint32Array(I/4),R=e.Buffer.allocUnsafe(P);return this.absorb=function(L){for(var U=0;U<L.length;U++)R[N]=L[U],N+=1,N>=P&&(i(R,k),E(k),N=0);return m},this.squeeze=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U={buffer:L.buffer||e.Buffer.allocUnsafe(S),padding:L.padding||b,queue:e.Buffer.allocUnsafe(R.length),state:new Uint32Array(k.length)};R.copy(U.queue);for(var te=0;te<k.length;te++)U.state[te]=k[te];U.queue.fill(0,N),U.queue[N]|=U.padding,U.queue[P-1]|=128,i(U.queue,U.state);for(var V=0;V<U.buffer.length;V+=P)E(U.state),s(U.state,U.buffer.slice(V,V+P));return U.buffer},this.reset=function(){return R.fill(0),k.fill(0),N=0,m},this},u=c;r.default=u}(mE)),mE}var OT;function h$(){return OT||(OT=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.SHAKE=r.SHA3Hash=r.SHA3=r.Keccak=void 0;var e=dN(),t=n(d$());function n(m){return m&&m.__esModule?m:{default:m}}var i=function(y){var b=y.allowedSizes,E=y.defaultSize,I=y.padding;return function S(){var P=this,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(!this||this.constructor!==S)return new S(N);if(b&&!b.includes(N))throw new Error("Unsupported hash length");var k=new t.default({capacity:N});return this.update=function(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"utf8";if(e.Buffer.isBuffer(R))return k.absorb(R),P;if(typeof R=="string")return P.update(e.Buffer.from(R,L));throw new TypeError("Not a string or buffer")},this.digest=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"binary",L=typeof R=="string"?{format:R}:R,U=k.squeeze({buffer:L.buffer,padding:L.padding||I});return L.format&&L.format!=="binary"?U.toString(L.format):U},this.reset=function(){return k.reset(),P},this}},s=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});r.Keccak=s;var c=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});r.SHA3=c;var u=i({allowedSizes:[128,256],defaultSize:256,padding:31});r.SHAKE=u;var d=s;r.SHA3Hash=d,c.SHA3Hash=d;var l=c;r.default=l}(hE)),hE}var p$=h$();const ai=class ai{constructor(e){x(this,"buffer");if(this.buffer=e,e.length!==ai.SIZE)throw new Error(`Expected buffer to have length ${ai.SIZE} but was ${e.length}`)}toBuffer(){return this.buffer}static fromBuffer(e){const t=st.asReader(e);return new ai(t.readBytes(ai.SIZE))}equals(e){return this.buffer.equals(e.buffer)}isZero(){return this.buffer.equals($e.alloc(32,0))}toString(){return qr(this.buffer)}toJSON(){return this.toString()}toBigInt(){return Z9(this.buffer,0,ai.SIZE).elem}static fromBigInt(e){return new ai(iw(e,ai.SIZE))}static fromField(e){return new ai(iw(e.toBigInt()))}static fromBuffer28(e){if(e.length!=28)throw new Error("Expected Buffer32 input buffer to be 28 bytes");const t=$e.concat([$e.alloc(this.SIZE-28),e]);return new ai(t)}static fromString(e){if(e.startsWith("0x")&&(e=e.slice(2)),e.length!==64)throw new Error(`Expected string to be 64 characters long, but was ${e.length}`);return new ai($e.from(e,"hex"))}static fromNumber(e){return new ai(iw(BigInt(e),ai.SIZE))}static random(){return new ai($e.from(Ta(ai.SIZE)))}};x(ai,"SIZE",32),x(ai,"ZERO",new ai($e.alloc(ai.SIZE)));let cs=ai;function FT(r){const e=new p$.Keccak(256);return e.reset(),e.update(r),e.digest("hex")}const m$=r=>$e.from(lN.sha512().update(r).digest()),yy=r=>{const e=ft(r);return Zl.fromBufferReduce(m$(e))};var g$={};async function hN(r,e=0){const t=Wr(r),i=(await di.initSingleton(g$.BB_WASM_PATH)).pedersenHash(t.map(s=>new ly(s.toBuffer())),e);return H.fromBuffer($e.from(i.toBuffer()))}const qn=class qn{constructor(e){x(this,"buffer");if(this.buffer=e,e.length!==qn.SIZE_IN_BYTES)throw new Error(`Expect buffer size to be ${qn.SIZE_IN_BYTES}. Got ${e.length}.`)}static fromString(e){if(!qn.isAddress(e))throw new Error(`Invalid address string: ${e}`);return new qn($e.from(e.replace(/^0x/i,""),"hex"))}static random(){return new qn(Ta(20))}static isAddress(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e)?!0:qn.checkAddressChecksum(e):!1}isZero(){return this.equals(qn.ZERO)}static checkAddressChecksum(e){e=e.replace(/^0x/i,"");const t=FT(e.toLowerCase());for(let n=0;n<40;n++)if(parseInt(t[n],16)>7&&e[n].toUpperCase()!==e[n]||parseInt(t[n],16)<=7&&e[n].toLowerCase()!==e[n])return!1;return!0}static toChecksumAddress(e){if(!qn.isAddress(e))throw new Error("Invalid address string.");e=e.toLowerCase().replace(/^0x/i,"");const t=FT(e);let n="0x";for(let i=0;i<e.length;i++)parseInt(t[i],16)>7?n+=e[i].toUpperCase():n+=e[i];return n}equals(e){return this.buffer.equals(e.buffer)}toString(){return qr(this.buffer)}[St.inspect.custom](){return`EthAddress<${this.toString()}>`}toChecksumString(){return qn.toChecksumAddress(this.buffer.toString("hex"))}toBuffer(){return this.buffer}toBuffer32(){const e=$e.alloc(32);return this.buffer.copy(e,12),e}toField(){return H.fromBuffer(this.toBuffer32())}static fromField(e){return new qn(e.toBuffer().slice(-qn.SIZE_IN_BYTES))}static fromFields(e){const t=Ut.asReader(e);return qn.fromField(t.readField())}static fromBuffer(e){const t=st.asReader(e);return new qn(t.readBytes(qn.SIZE_IN_BYTES))}toJSON(){return this.toString()}static get schema(){return fo(qn,qn.isAddress)}};x(qn,"SIZE_IN_BYTES",20),x(qn,"ZERO",new qn($e.alloc(qn.SIZE_IN_BYTES)));let ea=qn;yh.register("EthAddress",ea);class Iu{constructor(e,t,n,i=!1){x(this,"r");x(this,"s");x(this,"v");x(this,"isEmpty");x(this,"size");this.r=e,this.s=t,this.v=n,this.isEmpty=i}static fromBuffer(e){const t=st.asReader(e),n=t.readObject(cs),i=t.readObject(cs),s=t.readNumber(),c=n.isZero()&&i.isZero();return new Iu(n,i,s,c)}static isValidString(e){return/^0x[0-9a-f]{129,}$/i.test(e)}static fromString(e){const t=tn(e),n=st.asReader(t),i=n.readObject(cs),s=n.readObject(cs),c=parseInt(e.slice(2+64*2),16),u=i.isZero()&&s.isZero();return new Iu(i,s,c,u)}static fromViemSignature(e){return new Iu(cs.fromBuffer(tn(e.r)),cs.fromBuffer(tn(e.s)),e.v,e.isEmpty)}static random(){return new Iu(cs.random(),cs.random(),Math.floor(Math.random()*2),!1)}static empty(){return new Iu(cs.ZERO,cs.ZERO,0,!0)}equals(e){return this.r.equals(e.r)&&this.s.equals(e.s)&&this.v===e.v&&this.isEmpty===e.isEmpty}toBuffer(){const e=ft([this.r,this.s,this.v]);return this.size=e.length,e}getSize(){return this.size?this.size:(this.size=this.toBuffer().length,this.size)}toString(){return`0x${this.r.buffer.toString("hex")}${this.s.buffer.toString("hex")}${this.v.toString(16)}`}toViemSignature(){return{r:this.r.toString(),s:this.s.toString(),v:this.v,isEmpty:this.isEmpty}}toJSON(){return this.toString()}static get schema(){return M.string().refine(tN,"No hex prefix").refine(Iu.isValidString,"Not a valid Ethereum signature").transform(Iu.fromString)}}var _$={};async function pN(r){return(await di.initSingleton(_$.BB_WASM_PATH)).acirVkAsFieldsMegaHonk(new fd(r)).map(n=>H.fromBuffer($e.from(n.toBuffer())))}var LT={};class GA{async encryptBufferCBC(e,t,n){const s=16-e.length%16,c=bp.alloc(s);c.fill(s);const u=bp.concat([e,c]),d=await di.initSingleton(LT.BB_WASM_PATH);return bp.from(d.aesEncryptBufferCbc(new fd(u),new fd(t),new fd(n),u.length))}async decryptBufferCBCKeepPadding(e,t,n){const i=await di.initSingleton(LT.BB_WASM_PATH);return bp.from(i.aesDecryptBufferCbc(new fd(e),new fd(t),new fd(n),e.length))}async decryptBufferCBC(e,t,n){const i=await this.decryptBufferCBCKeepPadding(e,t,n),s=i[i.length-1];return i.subarray(0,i.length-s)}}var Cg={};const Jw=class Jw{generator(){return Jw.generator}async mul(e,t){const n=await di.initSingleton(Cg.BB_WASM_PATH),[i]=n.getWasm().callWasmExport("ecc_grumpkin__mul",[e.toBuffer(),t.toBuffer()],[64]);return gr.fromBuffer($e.from(i))}async add(e,t){const n=await di.initSingleton(Cg.BB_WASM_PATH),[i]=n.getWasm().callWasmExport("ecc_grumpkin__add",[e.toBuffer(),t.toBuffer()],[64]);return gr.fromBuffer($e.from(i))}async batchMul(e,t){const n=$e.concat(e.map(d=>d.toBuffer())),i=e.length*gr.SIZE_IN_BYTES,s=await di.initSingleton(Cg.BB_WASM_PATH),[c]=s.getWasm().callWasmExport("ecc_grumpkin__batch_mul",[n,t.toBuffer(),e.length],[i]),u=[];for(let d=0;d<i;d+=64)u.push(gr.fromBuffer($e.from(c.subarray(d,d+64))));return u}async getRandomFr(){const e=await di.initSingleton(Cg.BB_WASM_PATH),[t]=e.getWasm().callWasmExport("ecc_grumpkin__get_random_scalar_mod_circuit_modulus",[],[32]);return H.fromBuffer($e.from(t))}async reduce512BufferToFr(e){const t=await di.initSingleton(Cg.BB_WASM_PATH),[n]=t.getWasm().callWasmExport("ecc_grumpkin__reduce512_buffer_mod_circuit_modulus",[e],[32]);return H.fromBuffer($e.from(n))}};x(Jw,"generator",gr.fromBuffer($e.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,2,207,19,94,117,6,164,93,99,45,39,13,69,241,24,18,148,131,63,196,141,130,63,39,44])));let Qp=Jw;function DT(r){const e=r.reduce((i,s)=>i+s.length,0),t=new Uint8Array(e);let n=0;for(const i of r)t.set(i,n),n+=i.length;return t}var AE={};const Qw=class Qw{generator(){return Qw.generator}async mul(e,t){const n=await di.initSingleton(AE.BB_WASM_PATH),[i]=n.getWasm().callWasmExport("ecc_secp256k1__mul",[e,t],[64]);return $e.from(i)}async getRandomFr(){const e=await di.initSingleton(AE.BB_WASM_PATH),[t]=e.getWasm().callWasmExport("ecc_secp256k1__get_random_scalar_mod_circuit_modulus",[],[32]);return $e.from(t)}async reduce512BufferToFr(e){const t=await di.initSingleton(AE.BB_WASM_PATH),[n]=t.getWasm().callWasmExport("ecc_secp256k1__reduce512_buffer_mod_circuit_modulus",[e],[32]);return $e.from(n)}};x(Qw,"generator",$e.from([121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184]));let MT=Qw;const Io=class Io{constructor(e){x(this,"buffer");if(this.buffer=e,e.length!==Io.SIZE)throw new Error(`Invalid signature buffer of length ${e.length}.`)}static isSignature(e){return/^(0x)?[0-9a-f]{128}$/i.test(e)}static fromString(e){if(!Io.isSignature(e))throw new Error(`Invalid signature string: ${e}`);return new Io($e.from(e.replace(/^0x/i,""),"hex"))}static random(){return new Io(Ta(64))}get s(){return this.buffer.subarray(0,32)}get e(){return this.buffer.subarray(32)}toBuffer(){return this.buffer}static fromBuffer(e){const t=st.asReader(e);return new Io(t.readBytes(Io.SIZE))}toString(){return`0x${this.buffer.toString("hex")}`}toFields(){const e=this.toBuffer(),t=$e.alloc(32),n=$e.alloc(32),i=$e.alloc(32);return e.copy(t,1,0,31),e.copy(n,1,31,62),e.copy(i,1,62,64),gn([t,n,i],H.fromBuffer)}};x(Io,"SIZE",64),x(Io,"EMPTY",new Io($e.alloc(64)));let bx=Io;var CE={};class mN{async computePublicKey(e){const t=await di.initSingleton(CE.BB_WASM_PATH),[n]=t.getWasm().callWasmExport("schnorr_compute_public_key",[e.toBuffer()],[64]);return gr.fromBuffer($e.from(n))}async constructSignature(e,t){const n=await di.initSingleton(CE.BB_WASM_PATH),i=DT([cT(e.length),e]),[s,c]=n.getWasm().callWasmExport("schnorr_construct_signature",[i,t.toBuffer()],[32,32]);return new bx($e.from([...s,...c]))}async verifySignature(e,t,n){const i=await di.initSingleton(CE.BB_WASM_PATH),s=DT([cT(e.length),e]),[c]=i.getWasm().callWasmExport("schnorr_verify_signature",[s,t.toBuffer(),n.s,n.e],[1]);return c[0]===1}}class YA{constructor(e,t){x(this,"height");x(this,"nodes");this.height=e,this.nodes=t;const n=2**(e+1)-1;if(t.length!==n)throw new Error(`Invalid node count for Merkle tree: got ${t.length} but expected ${n}`)}get root(){return this.nodes[this.nodes.length-1]}get leaves(){return this.nodes.slice(0,2**this.height)}getSiblingPath(e){if($e.isBuffer(e))return this.getSiblingPath(this.getIndex(e));const t=e;if(t<0||t>=2**this.height)throw new Error(`Invalid leaf index: got ${t} but leaves count is ${2**this.height}`);const n=this.nodes;let i=Math.ceil(n.length/2),s=0,c=t;const u=[];for(;i>1;){const d=c&1;u.push(n[s+c+(d?-1:1)]),s+=i,i>>=1,c>>=1}return u}getIndex(e){return this.leaves.findIndex(t=>t.equals(e))}drawTree(e=8){const t=[],n=this.nodes,i=Math.ceil(n.length/2);let s=1,c=i,u=0;for(;c>0;)t.push(n.slice(u,u+c).map(d=>d.toString("hex").slice(0,e)+" ".repeat((s-1)*(e+1)))),u+=c,s<<=1,c>>=1;return t.reverse().map(d=>d.join(" ")).join(`
`)}}class vv{constructor(e,t,n){x(this,"height");x(this,"zeroHashes");x(this,"hasher");this.height=e,this.zeroHashes=t,this.hasher=n,this.hasher=n}static async create(e,t=$e.alloc(32),n=async(i,s)=>(await hN([i,s])).toBuffer()){const i=[t];for(let s=0;s<e;s++)i.push(await n(i[s],i[s]));return new vv(e,i,n)}async computeTree(e=[]){e.length===0&&(e=new Array(2**this.height).fill(this.zeroHashes[0]));let t=e.slice();for(let n=0;n<this.height;++n){const i=2**(this.height-n),s=[];for(let c=0;c<e.length/2;++c){const u=e[c*2],d=e[c*2+1]||this.zeroHashes[n];s[c]=await this.hasher(u,d)}t=t.concat(new Array(i-e.length).fill(this.zeroHashes[n]),s),e=s}return new YA(this.height,t)}async computeTreeRoot(e=[]){if(e.length===0)return this.zeroHashes[this.zeroHashes.length-1];e=e.slice();for(let t=0;t<this.height;++t){let n=0;for(;n<e.length/2;++n){const i=e[n*2],s=e[n*2+1]||this.zeroHashes[t];e[n]=await this.hasher(i,s)}e=e.slice(0,n)}return e[0]}}function zt(r,e,t=0){return Array.from({length:r},(n,i)=>e(i+t))}async function jT(r,e,t=0){return await Promise.all(Array(r).fill(0).map(async(n,i)=>await e(i+t)))}function y$(r,e,t){if(r[e].length!==t)throw new Error(`Expected ${e} to have length ${t} but was ${r[e].length}`)}class Ri{constructor(e,t,n){x(this,"leafIndex");x(this,"siblingPath");this.leafIndex=t,this.siblingPath=n,y$(this,"siblingPath",e)}toBuffer(){return ft(Si(this.leafIndex,32),...this.siblingPath)}static random(e){return new Ri(e,0n,Array(e).fill(0).map(()=>H.random()))}static empty(e,t=0n){const n=Array(e).fill(0).map(()=>H.ZERO);return new Ri(e,t,n)}static fromBufferArray(e,t){return new Ri(t.length,e,t.map(n=>H.fromBuffer(n)))}static fromBuffer(e,t){const n=st.asReader(e),i=Pi(n.readBytes(32)),s=n.readArray(t,H);return new Ri(t,i,s)}static deserializer(e){return{fromBuffer:t=>{const n=st.asReader(t),i=Pi(n.readBytes(32)),s=n.readArray(e,H);return new Ri(e,i,s)}}}static fromSiblingPath(e,t){return new Ri(t.pathSize,e,t.toFields())}}class w$ extends YA{constructor(t,n,i){super(t,n);x(this,"leafPreimages");this.leafPreimages=i}getLowLeaf(t){let n;if(this.leafPreimages.forEach(i=>{i.getKey()<t&&(i.getNextKey()>t||i.getNextKey()==BigInt(0))&&(n=i)}),!n)throw new Error(`Couldn't find low leaf for ${t}`);return n}getMembershipWitness(t){const n=$e.isBuffer(t)?this.getIndex(t):t,i=this.getSiblingPath(n);return new Ri(this.height,BigInt(n),Is(i.map(H.fromBuffer),this.height))}}class XA{constructor(e,t,n,i){x(this,"height");x(this,"zeroHashes");x(this,"hasher");x(this,"factory");this.height=e,this.zeroHashes=t,this.hasher=n,this.factory=i}static async create(e,t,n,i=$e.alloc(32)){const s=[i];for(let c=0;c<e;c++)s.push(await t.hash(s[c],s[c]));return new XA(e,s,t,n)}async computeTree(e){e.find(u=>Pi(u)==BigInt(0))||(e=[$e.alloc(32),...e]);const t=e.map((u,d)=>({value:u,index:d})).sort((u,d)=>Number(Pi(d.value)-Pi(u.value))),i=t.map((u,d)=>({leaf:this.factory.fromBuffer($e.concat([u.value,...d==0?[$e.alloc(32),$e.alloc(32)]:[t[d-1].value,$_(t[d-1].index,32)]])),index:u.index})).sort((u,d)=>u.index-d.index).map(u=>u.leaf);let s=await Promise.all(i.map(u=>this.hasher.hashInputs(u.toHashInputs()))),c=s.slice();for(let u=0;u<this.height;++u){const d=2**(this.height-u),l=[];for(let m=0;m<s.length/2;++m){const y=s[m*2],b=s[m*2+1]||this.zeroHashes[u];l[m]=await this.hasher.hash(y,b)}c=c.concat(new Array(d-s.length).fill(this.zeroHashes[u]),l),s=l}return new w$(this.height,c,i)}async computeTreeRoot(e=[]){if(e.length===0)return this.zeroHashes[this.zeroHashes.length-1];e=e.slice();for(let t=0;t<this.height;++t){let n=0;for(;n<e.length/2;++n){const i=e[n*2],s=e[n*2+1]||this.zeroHashes[t];e[n]=await this.hasher.hash(i,s)}e=e.slice(0,n)}return e[0]}}function v$(r,e){return typeof e=="string"&&Object.hasOwn(r,e)&&typeof r[e].parameters=="function"&&typeof r[e].returnType=="function"}const wt={EthAddress:ea.schema,Fr:H.schema,Fq:Js.schema,Point:gr.schema,BigInt:M.union([M.bigint(),M.number(),M.string()]).pipe(M.coerce.bigint()),Integer:M.union([M.bigint(),M.number(),M.string()]).pipe(M.coerce.number().int()),UInt32:M.union([M.bigint(),M.number(),M.string()]).pipe(M.coerce.number().int().min(0).max(2**32-1)),Buffer32:M.string().refine(kw,"Not a valid hex string").transform(cs.fromString),Buffer:M.union([rN,M.object({type:M.literal("Buffer"),data:M.array(M.number().int().min(0).max(255))}).transform(({data:r})=>$e.from(r))]),BufferHex:M.string().refine(kw,"Not a valid hex string").transform(my).transform(r=>$e.from(r,"hex"))};class Vn{constructor(e,t){x(this,"pathSize");x(this,"data");this.pathSize=e,this.data=Is(t,e)}static get schema(){return wt.Buffer.transform(e=>Vn.fromBuffer(e))}static schemaFor(e){return wt.Buffer.transform(t=>Vn.fromBuffer(t)).refine(t=>t.pathSize===e,t=>({message:`Expected sibling path size ${e} but got ${t.pathSize}`}))}toJSON(){return this.toBuffer()}static ZERO(e,t,n){const i=[];let s=t;for(let c=0;c<e;++c)i.push(s),s=n.hash(s,s);return new Vn(e,i)}static random(e){const t=Array.from({length:e},()=>H.random().toBuffer());return new Vn(e,t)}toBuffer(){return xc(this.data)}toBufferArray(){return this.data}toFields(){return this.data.map(e=>H.fromBuffer(e))}toTuple(){const e=this.toFields();return zt(e.length,t=>e[t],0)}static fromBuffer(e,t=0){const{elem:n}=Vn.deserialize(e,t);return n}static deserialize(e,t=0){const n=(u,d)=>({elem:u.slice(d,d+32),adv:32}),{elem:i,adv:s}=W9(n,e,t),c=i.length;return{elem:new Vn(c,i),adv:s}}toString(){return qr(this.toBuffer())}static fromString(e){return Vn.fromBuffer(tn(e))}getSubtreeSiblingPath(e){const t=this.data.slice(e),n=this.pathSize-e;return new Vn(n,t)}}const $T=16e3,TE=16,IE=16,kE=5,RE=16,PE=2,BE=16,NE=16,OE=16,FE=16,LE=1,gN=29,oh=6,_N=3,Pw=5,bv=40,Kd=40,ch=40,JA=39,b$=0,E$=1,S$=2,x$=3,A$=4,Bn=64,jn=64,Ex=8,Gd=32,DE=64,vi=8,ks=64,Rs=64,Yd=64,ta=32,qo=1,QA=1,UT=4096,zT=3,t_=13,yN=14,Do=18,z_=3578010381,Sx=3e3,wN=7,C$=79025834455612,T$=1,I$=582240093077765400562621227108555700500271598878376310175765873770292988861n,k$=10422444662424639723529825114205836958711284159673861467999592572974769103684n,R$=339708709767762472786445938838804872781183545349360029270386718856175781484n,P$=12719619215050539905199178334954929730355853796706924300730604757520758976849n,B$=12212787719617305570587928860288475454328008955283046946846066128763901043335n,N$=3646747884782549389807830220601404629716007431341772952958971658285958854707n,O$=728059161893070741164607238299536939695876538801885465230641192969135857403n,F$=14575718736702206050102425029229426215631664471161015518982549597389390371695n,HT=8,qT=4,VT=4,WT=2,ZT=9,KT=3,GT=4,YT=2,XT=4,JT=5,QT=6,eI=6,tI=20,id=3019,vN=3020,rI=5,nI=6,iI=2,sI=8,aI=8,oI=10,cI=14,uI=25,xx=741,bN=40,lI=740,fI=37,dI=900,hI=160,pI=1847,mI=782,L$=128,EN=139,Ev=143,gI=1e9,_I=6e6,ME=1,D$=2,yI=3,wI=4,vI=5,bI=6,EI=7,SI=8,xI=9,Bw=1,M$=3;var Vr=function(r){return r[r.NOTE_HASH=1]="NOTE_HASH",r[r.NOTE_HASH_NONCE=2]="NOTE_HASH_NONCE",r[r.UNIQUE_NOTE_HASH=3]="UNIQUE_NOTE_HASH",r[r.SILOED_NOTE_HASH=4]="SILOED_NOTE_HASH",r[r.MESSAGE_NULLIFIER=5]="MESSAGE_NULLIFIER",r[r.INITIALIZATION_NULLIFIER=6]="INITIALIZATION_NULLIFIER",r[r.OUTER_NULLIFIER=7]="OUTER_NULLIFIER",r[r.PUBLIC_DATA_READ=8]="PUBLIC_DATA_READ",r[r.PUBLIC_DATA_UPDATE_REQUEST=9]="PUBLIC_DATA_UPDATE_REQUEST",r[r.FUNCTION_DATA=10]="FUNCTION_DATA",r[r.FUNCTION_LEAF=11]="FUNCTION_LEAF",r[r.CONTRACT_DEPLOYMENT_DATA=12]="CONTRACT_DEPLOYMENT_DATA",r[r.CONSTRUCTOR=13]="CONSTRUCTOR",r[r.CONSTRUCTOR_ARGS=14]="CONSTRUCTOR_ARGS",r[r.CONTRACT_ADDRESS_V1=15]="CONTRACT_ADDRESS_V1",r[r.CONTRACT_LEAF=16]="CONTRACT_LEAF",r[r.CALL_CONTEXT=17]="CALL_CONTEXT",r[r.CALL_STACK_ITEM=18]="CALL_STACK_ITEM",r[r.CALL_STACK_ITEM_2=19]="CALL_STACK_ITEM_2",r[r.SECRET_HASH=20]="SECRET_HASH",r[r.L2_TO_L1_MSG=21]="L2_TO_L1_MSG",r[r.TX_CONTEXT=22]="TX_CONTEXT",r[r.PUBLIC_LEAF_INDEX=23]="PUBLIC_LEAF_INDEX",r[r.PUBLIC_DATA_LEAF=24]="PUBLIC_DATA_LEAF",r[r.SIGNED_TX_REQUEST=25]="SIGNED_TX_REQUEST",r[r.GLOBAL_VARIABLES=26]="GLOBAL_VARIABLES",r[r.PARTIAL_ADDRESS=27]="PARTIAL_ADDRESS",r[r.BLOCK_HASH=28]="BLOCK_HASH",r[r.SIDE_EFFECT=29]="SIDE_EFFECT",r[r.FEE_PAYLOAD=30]="FEE_PAYLOAD",r[r.COMBINED_PAYLOAD=31]="COMBINED_PAYLOAD",r[r.TX_NULLIFIER=32]="TX_NULLIFIER",r[r.TX_REQUEST=33]="TX_REQUEST",r[r.SIGNATURE_PAYLOAD=34]="SIGNATURE_PAYLOAD",r[r.VK=41]="VK",r[r.PRIVATE_CIRCUIT_PUBLIC_INPUTS=42]="PRIVATE_CIRCUIT_PUBLIC_INPUTS",r[r.PUBLIC_CIRCUIT_PUBLIC_INPUTS=43]="PUBLIC_CIRCUIT_PUBLIC_INPUTS",r[r.FUNCTION_ARGS=44]="FUNCTION_ARGS",r[r.AUTHWIT_INNER=45]="AUTHWIT_INNER",r[r.AUTHWIT_OUTER=46]="AUTHWIT_OUTER",r[r.AUTHWIT_NULLIFIER=47]="AUTHWIT_NULLIFIER",r[r.NSK_M=48]="NSK_M",r[r.IVSK_M=49]="IVSK_M",r[r.OVSK_M=50]="OVSK_M",r[r.TSK_M=51]="TSK_M",r[r.PUBLIC_KEYS_HASH=52]="PUBLIC_KEYS_HASH",r[r.NOTE_NULLIFIER=53]="NOTE_NULLIFIER",r[r.SYMMETRIC_KEY=54]="SYMMETRIC_KEY",r[r.SYMMETRIC_KEY_2=55]="SYMMETRIC_KEY_2",r[r.PUBLIC_TX_HASH=56]="PUBLIC_TX_HASH",r[r.PRIVATE_TX_HASH=57]="PRIVATE_TX_HASH",r}({});BigInt(1e21);class eo{constructor(e,t,n){x(this,"nullifier");x(this,"nextNullifier");x(this,"nextIndex");this.nullifier=e,this.nextNullifier=t,this.nextIndex=n}static get schema(){return M.object({nullifier:wt.Fr,nextNullifier:wt.Fr,nextIndex:wt.BigInt}).transform(({nullifier:e,nextNullifier:t,nextIndex:n})=>new eo(e,t,n))}getKey(){return this.nullifier.toBigInt()}getNextKey(){return this.nextNullifier.toBigInt()}getNextIndex(){return this.nextIndex}asLeaf(){return new Nw(this.nullifier)}toBuffer(){return $e.concat(this.toHashInputs())}toHashInputs(){return[$e.from(this.nullifier.toBuffer()),$e.from(this.nextNullifier.toBuffer()),$e.from(Si(this.nextIndex,32))]}toFields(){return this.toHashInputs().map(e=>H.fromBuffer(e))}clone(){return new eo(this.nullifier,this.nextNullifier,this.nextIndex)}static random(){return new eo(H.random(),H.random(),BigInt(Math.floor(Math.random()*1e3)))}static empty(){return new eo(H.ZERO,H.ZERO,0n)}static fromBuffer(e){const t=st.asReader(e);return new eo(t.readObject(H),t.readObject(H),Pi(t.readBytes(32)))}static fromLeaf(e,t,n){return new eo(e.nullifier,new H(t),n)}static clone(e){return new eo(e.nullifier,e.nextNullifier,e.nextIndex)}}class Nw{constructor(e){x(this,"nullifier");this.nullifier=e}getKey(){return this.nullifier.toBigInt()}toBuffer(){return this.nullifier.toBuffer()}isEmpty(){return this.nullifier.isZero()}updateTo(e){throw new Error("Nullifiers are create only")}static buildDummy(e){return new Nw(new H(e))}static fromBuffer(e){return new Nw(H.fromBuffer(e))}}class $l{constructor(e,t,n){x(this,"address");x(this,"nextAddress");x(this,"nextIndex");this.address=e,this.nextAddress=t,this.nextIndex=n}static get schema(){return M.object({address:wt.Fr,nextAddress:wt.Fr,nextIndex:wt.BigInt}).transform(({address:e,nextAddress:t,nextIndex:n})=>new $l(e,t,n))}getKey(){return this.address.toBigInt()}getNextKey(){return this.nextAddress.toBigInt()}getNextIndex(){return this.nextIndex}asLeaf(){return new Ow(this.address)}toBuffer(){return $e.concat(this.toHashInputs())}toHashInputs(){return[$e.from(this.address.toBuffer()),$e.from(this.nextAddress.toBuffer())]}toFields(){return[this.address,this.nextAddress,new H(this.nextIndex)]}static random(){return new $l(H.random(),H.random(),BigInt(Math.floor(Math.random()*1e3)%wN))}static empty(){return new $l(H.ZERO,H.ZERO,0n)}static fromBuffer(e){const t=st.asReader(e);return new $l(t.readObject(H),t.readObject(H),Pi(t.readBytes(32)))}static fromLeaf(e,t,n){return new $l(e.address,new H(t),n)}}class Ow{constructor(e){x(this,"address");this.address=e}getKey(){return this.address.toBigInt()}toBuffer(){return this.address.toBuffer()}isEmpty(){return this.address.isZero()}updateTo(e){throw new Error("Protocol contract tree is insert only")}static buildDummy(e){return new Ow(new H(e))}static fromBuffer(e){return new Ow(H.fromBuffer(e))}}class to{constructor(e,t,n,i){x(this,"slot");x(this,"value");x(this,"nextSlot");x(this,"nextIndex");this.slot=e,this.value=t,this.nextSlot=n,this.nextIndex=i}static get schema(){return M.object({slot:wt.Fr,value:wt.Fr,nextSlot:wt.Fr,nextIndex:wt.BigInt}).transform(({slot:e,value:t,nextSlot:n,nextIndex:i})=>new to(e,t,n,i))}getKey(){return this.slot.toBigInt()}getNextKey(){return this.nextSlot.toBigInt()}getNextIndex(){return this.nextIndex}asLeaf(){return new Sp(this.slot,this.value)}toBuffer(){return $e.concat(this.toHashInputs())}toHashInputs(){return[$e.from(this.slot.toBuffer()),$e.from(this.value.toBuffer()),$e.from(Si(this.nextIndex,32)),$e.from(this.nextSlot.toBuffer())]}clone(){return new to(this.slot,this.value,this.nextSlot,this.nextIndex)}static random(){return new to(H.random(),H.random(),H.random(),BigInt(Math.floor(Math.random()*1e3)))}static empty(){return new to(H.ZERO,H.ZERO,H.ZERO,0n)}static fromBuffer(e){const t=st.asReader(e),n=H.fromBuffer(t),i=H.fromBuffer(t),s=Pi(t.readBytes(32)),c=H.fromBuffer(t);return new to(n,i,c,s)}static fromLeaf(e,t,n){return new to(e.slot,e.value,new H(t),n)}static clone(e){return new to(e.slot,e.value,e.nextSlot,e.nextIndex)}}class Sp{constructor(e,t){x(this,"slot");x(this,"value");this.slot=e,this.value=t}getKey(){return this.slot.toBigInt()}toBuffer(){return ft([this.slot,this.value])}static fromBuffer(e){const t=st.asReader(e);return new Sp(H.fromBuffer(t),H.fromBuffer(t))}equals(e){return this.slot.equals(e.slot)&&this.value.equals(e.value)}toString(){return`PublicDataTreeLeaf(${this.slot.toString()}, ${this.value.toString()})`}isEmpty(){return this.slot.isZero()&&this.value.isZero()}updateTo(e){if(!this.slot.equals(e.slot))throw new Error("Invalid update: slots do not match");return new Sp(this.slot,e.value)}static buildDummy(e){return new Sp(new H(e),new H(0))}static empty(){return new Sp(H.ZERO,H.ZERO)}}class qt{constructor(e,t){x(this,"root");x(this,"nextAvailableLeafIndex");this.root=e,this.nextAvailableLeafIndex=t}static get schema(){return M.object({root:wt.Fr,nextAvailableLeafIndex:wt.UInt32}).transform(({root:e,nextAvailableLeafIndex:t})=>new qt(e,t))}getSize(){return this.root.size+4}toBuffer(){return ft(this.root,this.nextAvailableLeafIndex)}toFields(){return[this.root,new H(this.nextAvailableLeafIndex)]}toString(){return qr(this.toBuffer())}static fromBuffer(e){const t=st.asReader(e);return new qt(H.fromBuffer(t),t.readNumber())}static fromString(e){return qt.fromBuffer(tn(e))}static fromFields(e){const t=Ut.asReader(e);return new qt(t.readField(),Number(t.readField().toBigInt()))}static zero(){return new qt(H.ZERO,0)}isZero(){return this.root.isZero()&&this.nextAvailableLeafIndex===0}[St.inspect.custom](){return`AppendOnlyTreeSnapshot { root: ${this.root.toString()}, nextAvailableLeafIndex: ${this.nextAvailableLeafIndex} }`}equals(e){return this.root.equals(e.root)&&this.nextAvailableLeafIndex===e.nextAvailableLeafIndex}static random(){return new qt(H.random(),Math.floor(Math.random()*1e3))}}var ki=function(r){return r[r.NULLIFIER_TREE=b$]="NULLIFIER_TREE",r[r.NOTE_HASH_TREE=E$]="NOTE_HASH_TREE",r[r.PUBLIC_DATA_TREE=S$]="PUBLIC_DATA_TREE",r[r.L1_TO_L2_MESSAGE_TREE=x$]="L1_TO_L2_MESSAGE_TREE",r[r.ARCHIVE=A$]="ARCHIVE",r}({});ki.NOTE_HASH_TREE+"",ki.ARCHIVE+"",ki.L1_TO_L2_MESSAGE_TREE+"",ki.NULLIFIER_TREE+"",ki.PUBLIC_DATA_TREE+"";const kp=class kp{constructor(e){x(this,"value");if(this.value=e,e>2**(kp.SIZE*8)-1)throw new Error(`Selector must fit in ${kp.SIZE} bytes (got value ${e}).`)}isEmpty(){return this.value===0}toBuffer(e=kp.SIZE){return Si(BigInt(this.value),e)}toString(){return qr(this.toBuffer())}[St.inspect.custom](){return`Selector<${this.toString()}>`}equals(e){return this.value===e.value}toField(){return new H(BigInt(this.value))}};x(kp,"SIZE",4);let Xs=kp;class ro extends Xs{static fromBuffer(e){const t=st.asReader(e),n=Number(Pi(t.readBytes(Xs.SIZE)));return new ro(n)}static fromField(e){return new ro(Number(e.toBigInt()))}static async fromSignature(e){if(/\s/.test(e))throw new Error("Signature cannot contain whitespace");const n=(await aN($e.from(e))).toBuffer().slice(-4);return ro.fromBuffer(n)}static fromString(e){const t=RB(e);if(t.length!==Xs.SIZE)throw new Error(`Invalid EventSelector length ${t.length} (expected ${Xs.SIZE}).`);return ro.fromBuffer(t)}static empty(){return new ro(0)}static random(){return ro.fromBuffer(Ta(Xs.SIZE))}toJSON(){return this.toString()}static get schema(){return fo(ro)}}const xs=class xs{constructor(e){x(this,"xCoord");if("length"in e&&e.length!==32)throw new Error(`Invalid AztecAddress length ${e.length}.`);this.xCoord=new H(e)}[St.inspect.custom](){return`AztecAddress<${this.toString()}>`}static isAddress(e){return/^(0x)?[a-fA-F0-9]{64}$/.test(e)}static zero(){return xs.ZERO}static fromField(e){return new xs(e)}static fromBuffer(e){return new xs(WA(e,H))}static fromFields(e){const t=Ut.asReader(e);return new xs(t.readField())}static fromBigInt(e){return new xs(new H(e))}static fromNumber(e){return new xs(new H(e))}static fromString(e){return new xs(tn(e))}static async random(){for(;;){const e=new xs(H.random());if(await e.isValid())return e}}get size(){return this.xCoord.size}equals(e){return this.xCoord.equals(e.xCoord)}isZero(){return this.xCoord.isZero()}async isValid(){return await gr.YFromX(this.xCoord)!==null}toAddressPoint(){return gr.fromXAndSign(this.xCoord,!0)}toBuffer(){return this.xCoord.toBuffer()}toBigInt(){return this.xCoord.toBigInt()}toField(){return this.xCoord}toString(){return this.xCoord.toString()}toJSON(){return this.toString()}static get schema(){return fo(xs,xs.isAddress)}};x(xs,"SIZE_IN_BYTES",H.SIZE_IN_BYTES),x(xs,"ZERO",new xs($e.alloc(32,0)));let tt=xs;yh.register("AztecAddress",tt);function j$(r){return $$(r)||SN(r)}function $$(r){return r.kind==="struct"&&r.path.endsWith("address::EthAddress")}function SN(r){return r.kind==="struct"&&r.path.endsWith("address::AztecAddress")}function U$(r){return r.kind==="struct"&&r.path.endsWith("types::abis::function_selector::FunctionSelector")}function z$(r){return r.kind==="struct"&&r.fields.length===1&&r.fields[0].name==="inner"&&r.fields[0].type.kind==="field"}function H$(r,e){const t=$e.from(r),n=e!==void 0?t.subarray(-(e/8)):t;if(128&n.subarray(0,1).readUInt8()){for(let i=0;i<n.length;i++)n[i]=~n[i];return-(BigInt(`0x${n.toString("hex")}`)+1n)}return BigInt(`0x${n.toString("hex")}`)}class q${constructor(e,t){x(this,"types");x(this,"flattened");this.types=e,this.flattened=t}decodeNext(e){switch(e.kind){case"field":return this.getNextField().toBigInt();case"integer":{const t=this.getNextField();return e.sign==="signed"?H$(t.toBuffer(),e.width):t.toBigInt()}case"boolean":return!this.getNextField().isZero();case"array":{const t=[];for(let n=0;n<e.length;n+=1)t.push(this.decodeNext(e.type));return t}case"struct":{const t={};if(SN(e))return new tt(this.getNextField().toBuffer());for(const n of e.fields)t[n.name]=this.decodeNext(n.type);return t}case"string":{const t=[];for(let n=0;n<e.length;n+=1)t.push(this.getNextField().toBigInt());return t}case"tuple":{const t=[];for(const n of e.fields)t.push(this.decodeNext(n));return t}default:throw new Error(`Unsupported type: ${e}`)}}getNextField(){const e=this.flattened.shift();if(!e)throw new Error("Not enough return values");return e}decode(){if(this.types.length>1)throw new Error("Multiple types not supported");return this.types.length===0?[]:this.decodeNext(this.types[0])}}function H_(r,e){return new q$(r,e.slice()).decode()}class V${constructor(e,t,n=!1){x(this,"name");x(this,"parameters");x(this,"includeNames");x(this,"separator");this.name=e,this.parameters=t,this.includeNames=n,this.separator=n?", ":","}getParameterType(e){switch(e.kind){case"field":return"Field";case"integer":if(e.sign==="signed")throw new Error("Unsupported type: signed integer");return`u${e.width}`;case"boolean":return"bool";case"array":return`[${this.getParameterType(e.type)};${e.length}]`;case"string":return`str<${e.length}>`;case"struct":return`(${e.fields.map(t=>`${this.decodeParameter(t)}`).join(this.separator)})`;default:throw new Error(`Unsupported type: ${e}`)}}decodeParameter(e){const t=this.getParameterType(e.type);return this.includeNames?`${e.name}: ${t}`:t}decode(){return`${this.name}(${this.parameters.map(e=>this.decodeParameter(e)).join(this.separator)})`}}function Ax(r,e){return new V$(r,e).decode()}class $t extends Xs{static fromBuffer(e){const t=st.asReader(e),n=Number(Pi(t.readBytes(Xs.SIZE)));return new $t(n)}static fromField(e){return new $t(Number(e.toBigInt()))}static fromFields(e){const t=Ut.asReader(e);return $t.fromField(t.readField())}static async fromSignature(e){if(/\s/.test(e))throw new Error("Signature cannot contain whitespace");const n=(await aN($e.from(e))).toBuffer().slice(-4);return $t.fromBuffer(n)}static fromString(e){const t=RB(e);if(t.length!==Xs.SIZE)throw new Error(`Invalid FunctionSelector length ${t.length} (expected ${Xs.SIZE}).`);return $t.fromBuffer(t)}static empty(){return new $t(0)}static async fromNameAndParameters(e,t){const{name:n,parameters:i}=typeof e=="string"?{name:e,parameters:t}:e,s=Ax(n,i);return await this.fromSignature(s)}static random(){return $t.fromBuffer(Ta(Xs.SIZE))}toJSON(){return this.toString()}static get schema(){return fo($t)}}yh.register("FunctionSelector",$t);class no extends Xs{static fromBuffer(e){const t=st.asReader(e),n=Number(Pi(t.readBytes(Xs.SIZE)));if(n>=128)throw new Error(`Invalid note selector: ${n}`);return new no(n)}static fromString(e){const t=e.replace(/^0x/i,"").slice(-8),n=$e.from(t,"hex");return no.fromBuffer(n)}static fromField(e){return new no(Number(e.toBigInt()))}static empty(){return new no(0)}static random(){const e=HA(128);return no.fromField(new H(e))}toJSON(){return this.toString()}static get schema(){return fo(no)}}yh.register("NoteSelector",no);const Qe={EthAddress:wt.EthAddress,Fr:wt.Fr,Point:wt.Point,BigInt:wt.BigInt,Integer:wt.Integer,Buffer:wt.Buffer,BufferHex:wt.BufferHex,AztecAddress:tt.schema,NoteSelector:no.schema,FunctionSelector:$t.schema,EventSelector:ro.schema},f_=M.union([Qe.BigInt,M.boolean(),Qe.AztecAddress,M.array(M.lazy(()=>f_)),M.record(M.lazy(()=>f_))]);class q_{constructor(e,t,n){x(this,"index");x(this,"leafPreimage");x(this,"siblingPath");this.index=e,this.leafPreimage=t,this.siblingPath=n}static get schema(){return M.object({index:Qe.BigInt,leafPreimage:eo.schema,siblingPath:Vn.schemaFor(ch)}).transform(({index:e,leafPreimage:t,siblingPath:n})=>new q_(e,t,n))}static random(){return new q_(BigInt(Math.floor(Math.random()*1e3)),eo.random(),Vn.random(ch))}toFields(){return[new H(this.index),...this.leafPreimage.toFields(),...this.siblingPath.toFields()]}}class xp{constructor(e,t,n){x(this,"index");x(this,"leafPreimage");x(this,"siblingPath");this.index=e,this.leafPreimage=t,this.siblingPath=n}static get schema(){return M.object({index:Qe.BigInt,leafPreimage:to.schema,siblingPath:Vn.schemaFor(Kd)}).transform(({index:e,leafPreimage:t,siblingPath:n})=>new xp(e,t,n))}toFields(){return[new H(this.index),new H(this.leafPreimage.slot),new H(this.leafPreimage.value),new H(this.leafPreimage.nextIndex),new H(this.leafPreimage.nextSlot),...this.siblingPath.toFields()]}toBuffer(){return ft([this.index,this.leafPreimage,this.siblingPath])}toString(){return qr(this.toBuffer())}static random(){return new xp(BigInt(Math.floor(Math.random()*1e3)),to.random(),Vn.random(Kd))}static fromBuffer(e){const t=st.asReader(e);return new xp(Pi(t.readBytes(32)),t.readObject(to),Vn.fromBuffer(t.readBytes(4+32*Kd)))}static fromString(e){return xp.fromBuffer(tn(e))}}var z0={exports:{}},jE,AI;function W$(){if(AI)return jE;AI=1;var r=1e3,e=r*60,t=e*60,n=t*24,i=n*7,s=n*365.25;jE=function(m,y){y=y||{};var b=typeof m;if(b==="string"&&m.length>0)return c(m);if(b==="number"&&isFinite(m))return y.long?d(m):u(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function c(m){if(m=String(m),!(m.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(y){var b=parseFloat(y[1]),E=(y[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return b*s;case"weeks":case"week":case"w":return b*i;case"days":case"day":case"d":return b*n;case"hours":case"hour":case"hrs":case"hr":case"h":return b*t;case"minutes":case"minute":case"mins":case"min":case"m":return b*e;case"seconds":case"second":case"secs":case"sec":case"s":return b*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function u(m){var y=Math.abs(m);return y>=n?Math.round(m/n)+"d":y>=t?Math.round(m/t)+"h":y>=e?Math.round(m/e)+"m":y>=r?Math.round(m/r)+"s":m+"ms"}function d(m){var y=Math.abs(m);return y>=n?l(m,y,n,"day"):y>=t?l(m,y,t,"hour"):y>=e?l(m,y,e,"minute"):y>=r?l(m,y,r,"second"):m+" ms"}function l(m,y,b,E){var I=y>=b*1.5;return Math.round(m/b)+" "+E+(I?"s":"")}return jE}var $E,CI;function Z$(){if(CI)return $E;CI=1;function r(e){n.debug=n,n.default=n,n.coerce=l,n.disable=u,n.enable=s,n.enabled=d,n.humanize=W$(),n.destroy=m,Object.keys(e).forEach(y=>{n[y]=e[y]}),n.names=[],n.skips=[],n.formatters={};function t(y){let b=0;for(let E=0;E<y.length;E++)b=(b<<5)-b+y.charCodeAt(E),b|=0;return n.colors[Math.abs(b)%n.colors.length]}n.selectColor=t;function n(y){let b,E=null,I,S;function P(...N){if(!P.enabled)return;const k=P,R=Number(new Date),L=R-(b||R);k.diff=L,k.prev=b,k.curr=R,b=R,N[0]=n.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let U=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(V,oe)=>{if(V==="%%")return"%";U++;const de=n.formatters[oe];if(typeof de=="function"){const Ee=N[U];V=de.call(k,Ee),N.splice(U,1),U--}return V}),n.formatArgs.call(k,N),(k.log||n.log).apply(k,N)}return P.namespace=y,P.useColors=n.useColors(),P.color=n.selectColor(y),P.extend=i,P.destroy=n.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(I!==n.namespaces&&(I=n.namespaces,S=n.enabled(y)),S),set:N=>{E=N}}),typeof n.init=="function"&&n.init(P),P}function i(y,b){const E=n(this.namespace+(typeof b>"u"?":":b)+y);return E.log=this.log,E}function s(y){n.save(y),n.namespaces=y,n.names=[],n.skips=[];const b=(typeof y=="string"?y:"").trim().replace(" ",",").split(",").filter(Boolean);for(const E of b)E[0]==="-"?n.skips.push(E.slice(1)):n.names.push(E)}function c(y,b){let E=0,I=0,S=-1,P=0;for(;E<y.length;)if(I<b.length&&(b[I]===y[E]||b[I]==="*"))b[I]==="*"?(S=I,P=E,I++):(E++,I++);else if(S!==-1)I=S+1,P++,E=P;else return!1;for(;I<b.length&&b[I]==="*";)I++;return I===b.length}function u(){const y=[...n.names,...n.skips.map(b=>"-"+b)].join(",");return n.enable(""),y}function d(y){for(const b of n.skips)if(c(y,b))return!1;for(const b of n.names)if(c(y,b))return!0;return!1}function l(y){return y instanceof Error?y.stack||y.message:y}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return $E=r,$E}var TI;function K$(){return TI||(TI=1,function(r,e){var t={};e.formatArgs=i,e.save=s,e.load=c,e.useColors=n,e.storage=u(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;l.splice(1,0,m,"color: inherit");let y=0,b=0;l[0].replace(/%[a-zA-Z%]/g,E=>{E!=="%%"&&(y++,E==="%c"&&(b=y))}),l.splice(b,0,m)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function c(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof Hr<"u"&&"env"in Hr&&(l=t.DEBUG),l}function u(){try{return localStorage}catch{}}r.exports=Z$()(e);const{formatters:d}=r.exports;d.j=function(l){try{return JSON.stringify(l)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}}(z0,z0.exports)),z0.exports}var G$=K$();const xN=Zc(G$);function Y$(r,...e){xN.enabled(r.namespace)&&r(...e)}function X$(r){const e=xN(r);return(...t)=>Y$(e,...t)}function AN(r,e){return r.replace(/{(\d+)}/g,(t,n)=>typeof e[n]>"u"?t:e[n].toString()).replace(/{}/g,(t,n)=>e.toString())}class ji{constructor(e,t,n,i){x(this,"masterNullifierPublicKey");x(this,"masterIncomingViewingPublicKey");x(this,"masterOutgoingViewingPublicKey");x(this,"masterTaggingPublicKey");this.masterNullifierPublicKey=e,this.masterIncomingViewingPublicKey=t,this.masterOutgoingViewingPublicKey=n,this.masterTaggingPublicKey=i}static get schema(){return M.object({masterNullifierPublicKey:wt.Point,masterIncomingViewingPublicKey:wt.Point,masterOutgoingViewingPublicKey:wt.Point,masterTaggingPublicKey:wt.Point}).transform(ji.from)}static from(e){return new ji(e.masterNullifierPublicKey,e.masterIncomingViewingPublicKey,e.masterOutgoingViewingPublicKey,e.masterTaggingPublicKey)}hash(){return this.isEmpty()?H.ZERO:Nn([this.masterNullifierPublicKey,this.masterIncomingViewingPublicKey,this.masterOutgoingViewingPublicKey,this.masterTaggingPublicKey],Vr.PUBLIC_KEYS_HASH)}isEmpty(){return this.masterNullifierPublicKey.isZero()&&this.masterIncomingViewingPublicKey.isZero()&&this.masterOutgoingViewingPublicKey.isZero()&&this.masterTaggingPublicKey.isZero()}static default(){return new ji(new gr(new H(I$),new H(k$),!1),new gr(new H(R$),new H(P$),!1),new gr(new H(B$),new H(N$),!1),new gr(new H(O$),new H(F$),!1))}static async random(){return new ji(await gr.random(),await gr.random(),await gr.random(),await gr.random())}equals(e){return this.masterNullifierPublicKey.equals(e.masterNullifierPublicKey)&&this.masterIncomingViewingPublicKey.equals(e.masterIncomingViewingPublicKey)&&this.masterOutgoingViewingPublicKey.equals(e.masterOutgoingViewingPublicKey)&&this.masterTaggingPublicKey.equals(e.masterTaggingPublicKey)}toBuffer(){return ft([this.masterNullifierPublicKey,this.masterIncomingViewingPublicKey,this.masterOutgoingViewingPublicKey,this.masterTaggingPublicKey])}static fromBuffer(e){const t=st.asReader(e),n=t.readObject(gr),i=t.readObject(gr),s=t.readObject(gr),c=t.readObject(gr);return new ji(n,i,s,c)}toNoirStruct(){return{npk_m:this.masterNullifierPublicKey.toWrappedNoirStruct(),ivpk_m:this.masterIncomingViewingPublicKey.toWrappedNoirStruct(),ovpk_m:this.masterOutgoingViewingPublicKey.toWrappedNoirStruct(),tpk_m:this.masterTaggingPublicKey.toWrappedNoirStruct()}}toFields(){return[...this.masterNullifierPublicKey.toFields(),...this.masterIncomingViewingPublicKey.toFields(),...this.masterOutgoingViewingPublicKey.toFields(),...this.masterTaggingPublicKey.toFields()]}encodeToNoir(){return this.toFields()}static fromFields(e){const t=Ut.asReader(e);return new ji(t.readObject(gr),t.readObject(gr),t.readObject(gr),t.readObject(gr))}toString(){return qr(this.toBuffer())}static fromString(e){return ji.fromBuffer($e.from(my(e),"hex"))}}function J$(r){const e=`${r.toUpperCase()}SK_M`;return Vr[e]}function Q$(r,e,t){const n=J$(t);return Nn([r.hi,r.lo,e],n)}function eU(r){return yy([r,Vr.NSK_M])}function eC(r){return yy([r,Vr.IVSK_M])}function tU(r){return yy([r,Vr.OVSK_M])}function rU(r){return yy([r,Vr.IVSK_M])}function tC(r,e){return Nn([r,e],Vr.CONTRACT_ADDRESS_V1)}async function Cx(r,e){const t=await tC(await r.hash(),e),n=await new Qp().add(await zu(new Js(t.toBigInt())),r.masterIncomingViewingPublicKey);return new tt(n.x)}async function Sv(r,e){const t=e.add(new Js(r.toBigInt()));return(await zu(t)).y.toBigInt()<=(H.MODULUS-1n)/2n?t:new Js(Js.MODULUS-t.toBigInt())}function zu(r){const e=new Qp;return e.mul(e.generator(),r)}async function xv(r){const e=eU(r),t=eC(r),n=tU(r),i=yy([r,Vr.TSK_M]),s=await zu(e),c=await zu(t),u=await zu(n),d=await zu(i),l=new ji(s,c,u,d);return{masterNullifierSecretKey:e,masterIncomingViewingSecretKey:t,masterOutgoingViewingSecretKey:n,masterTaggingSecretKey:i,publicKeys:l}}async function II(r,e,t){const n=await tC(await r.publicKeys.hash(),r.partialAddress),i=await t.toAddressPoint();return new Qp().mul(i,await Sv(n,e))}const nU=["n","iv","ov","t"];function CN(r){return sa(r)}function iU(r,e){return Nn([r,e],Vr.NOTE_HASH_NONCE)}function rC(r,e){return Nn([r,e],Vr.SILOED_NOTE_HASH)}function nC(r,e){return Nn([r,e],Vr.UNIQUE_NOTE_HASH)}function uh(r,e){return Nn([r,e],Vr.OUTER_NULLIFIER)}function sU(r,e){return Nn([r,e],Vr.PUBLIC_LEAF_INDEX)}function Fw(r){return r.length===0?Promise.resolve(H.ZERO):Nn(r,Vr.FUNCTION_ARGS)}async function aU(r,e,t){const n=await Nn([e,t],Vr.MESSAGE_NULLIFIER);return uh(r,n)}function oU(r,e){return sa([r,e.toField()])}class Jl{constructor(e){x(this,"items");this.items=e}toBuffer(){return ft(this.items.length,this.items)}toFriendlyJSON(){return this.items}}var kI=function(r){return r[r.STANDARD=0]="STANDARD",r[r.ULTRA=1]="ULTRA",r}({});class Fc{constructor(e,t){x(this,"requestHash");x(this,"witness");this.requestHash=e,this.witness=t.map(n=>new H(n))}static get schema(){return fo(Fc)}toJSON(){return this.toString()}toBuffer(){return ft(this.requestHash,new Jl(this.witness))}static fromBuffer(e){const t=st.asReader(e);return new Fc(H.fromBuffer(t),t.readVector(H))}toString(){return qr(this.toBuffer())}static fromString(e){return Fc.fromBuffer(tn(e))}static random(){return new Fc(H.random(),[H.random(),H.random(),H.random()])}}M.object({l1StartBlock:Qe.BigInt,l1GenesisTime:Qe.BigInt,slotDuration:M.number(),epochDuration:M.number(),ethereumSlotDuration:M.number()});const wi=32;class so{constructor(e,t,n,i){x(this,"numTxs");x(this,"blobsHash");x(this,"inHash");x(this,"outHash");if(this.numTxs=e,this.blobsHash=t,this.inHash=n,this.outHash=i,t.length!==wi)throw new Error(`blobsHash buffer must be ${wi} bytes`);if(t[0]!==0)throw new Error("blobsHash buffer should be truncated and left padded");if(n.length!==wi)throw new Error(`inHash buffer must be ${wi} bytes`);if(n[0]!==0)throw new Error("inHash buffer should be truncated and left padded");if(i.length!==wi)throw new Error(`outHash buffer must be ${wi} bytes`);if(i[0]!==0)throw new Error("outHash buffer should be truncated and left padded")}static get schema(){return M.object({numTxs:wt.Fr,blobsHash:wt.Buffer,inHash:wt.Buffer,outHash:wt.Buffer}).transform(({numTxs:e,blobsHash:t,inHash:n,outHash:i})=>new so(e,t,n,i))}getSize(){return this.toBuffer().length}toBuffer(){return ft(this.numTxs,this.blobsHash,this.inHash,this.outHash)}toInspect(){return{numTxs:this.numTxs.toNumber(),blobsHash:qr(this.blobsHash),inHash:qr(this.inHash),outHash:qr(this.outHash)}}toFields(){const e=[this.numTxs,H.fromBuffer(this.blobsHash),H.fromBuffer(this.inHash),H.fromBuffer(this.outHash)];if(e.length!==VT)throw new Error(`Expected content commitment to have ${VT} fields, but it has ${e.length} fields`);return e}static fromBuffer(e){const t=st.asReader(e);return new so(t.readObject(H),t.readBytes(wi),t.readBytes(wi),t.readBytes(wi))}static fromFields(e){const t=Ut.asReader(e);return new so(t.readField(),t.readField().toBuffer(),t.readField().toBuffer(),t.readField().toBuffer())}static empty(){return new so(H.zero(),$e.alloc(wi),$e.alloc(wi),$e.alloc(wi))}isEmpty(){return this.numTxs.isZero()&&this.blobsHash.equals($e.alloc(wi))&&this.inHash.equals($e.alloc(wi))&&this.outHash.equals($e.alloc(wi))}toString(){return qr(this.toBuffer())}static fromString(e){const t=$e.from(e.replace(/^0x/i,""),"hex");return so.fromBuffer(t)}equals(e){return this.inHash.equals(e.inHash)&&this.outHash.equals(e.outHash)&&this.numTxs.equals(e.numTxs)&&this.blobsHash.equals(e.blobsHash)}}function cU(r,e){return e.parseAsync(JSON.parse(r))}function V_(r,e){return JSON.stringify(r,(t,n)=>typeof n=="bigint"?n.toString():typeof n=="object"&&n&&n.type==="Buffer"&&Array.isArray(n.data)?bp.from(n.data).toString("base64"):typeof n=="object"&&n&&bp.isBuffer(n)?n.toString("base64"):typeof n=="object"&&n instanceof Map?Array.from(n.entries()):typeof n=="object"&&n instanceof Set?Array.from(n.values()):n,0)}class Jr{constructor(e,t){x(this,"feePerDaGas");x(this,"feePerL2Gas");this.feePerDaGas=new H(e),this.feePerL2Gas=new H(t)}static get schema(){return M.object({feePerDaGas:wt.Fr,feePerL2Gas:wt.Fr}).transform(Jr.from)}clone(){return new Jr(this.feePerDaGas,this.feePerL2Gas)}equals(e){return this.feePerDaGas.equals(e.feePerDaGas)&&this.feePerL2Gas.equals(e.feePerL2Gas)}get(e){switch(e){case"da":return this.feePerDaGas;case"l2":return this.feePerL2Gas}}mul(e){return e===1||e===1n?this.clone():typeof e=="bigint"?new Jr(new H(this.feePerDaGas.toBigInt()*e),new H(this.feePerL2Gas.toBigInt()*e)):new Jr(new H(this.feePerDaGas.toNumberUnsafe()*e),new H(this.feePerL2Gas.toNumberUnsafe()*e))}static from(e){return new Jr(e.feePerDaGas,e.feePerL2Gas)}static random(){return new Jr(H.random(),H.random())}static empty(){return new Jr(H.ZERO,H.ZERO)}isEmpty(){return this.feePerDaGas.isZero()&&this.feePerL2Gas.isZero()}static fromBuffer(e){const t=st.asReader(e);return new Jr(t.readObject(H),t.readObject(H))}toBuffer(){return ft(this.feePerDaGas,this.feePerL2Gas)}static fromFields(e){const t=Ut.asReader(e);return new Jr(t.readField(),t.readField())}toFields(){return Wr(this.feePerDaGas,this.feePerL2Gas)}toInspect(){return{feePerDaGas:this.feePerDaGas.toNumberUnsafe(),feePerL2Gas:this.feePerL2Gas.toNumberUnsafe()}}[St.inspect.custom](){return`GasFees { feePerDaGas=${this.feePerDaGas.toBigInt()} feePerL2Gas=${this.feePerL2Gas.toBigInt()} }`}}class ci{constructor(e,t,n,i,s,c,u,d){x(this,"chainId");x(this,"version");x(this,"blockNumber");x(this,"slotNumber");x(this,"timestamp");x(this,"coinbase");x(this,"feeRecipient");x(this,"gasFees");this.chainId=e,this.version=t,this.blockNumber=n,this.slotNumber=i,this.timestamp=s,this.coinbase=c,this.feeRecipient=u,this.gasFees=d}static get schema(){return M.object({chainId:Qe.Fr,version:Qe.Fr,blockNumber:Qe.Fr,slotNumber:Qe.Fr,timestamp:Qe.Fr,coinbase:Qe.EthAddress,feeRecipient:Qe.AztecAddress,gasFees:Jr.schema}).transform(ci.from)}getSize(){return this.toBuffer().length}static from(e){return new ci(...ci.getFields(e))}static empty(e={}){return ci.from({blockNumber:H.ZERO,slotNumber:H.ZERO,timestamp:H.ZERO,chainId:H.ZERO,version:H.ZERO,coinbase:ea.ZERO,feeRecipient:tt.ZERO,gasFees:Jr.empty(),...e})}static fromBuffer(e){const t=st.asReader(e);return new ci(H.fromBuffer(t),H.fromBuffer(t),H.fromBuffer(t),H.fromBuffer(t),H.fromBuffer(t),t.readObject(ea),t.readObject(tt),t.readObject(Jr))}static fromFields(e){const t=Ut.asReader(e);return new ci(t.readField(),t.readField(),t.readField(),t.readField(),t.readField(),ea.fromField(t.readField()),tt.fromField(t.readField()),Jr.fromFields(t))}static getFields(e){return[e.chainId,e.version,e.blockNumber,e.slotNumber,e.timestamp,e.coinbase,e.feeRecipient,e.gasFees]}toBuffer(){return ft(...ci.getFields(this))}toFields(){const e=Wr(...ci.getFields(this));if(e.length!==ZT)throw new Error(`Invalid number of fields for GlobalVariables. Expected ${ZT}, got ${e.length}`);return e}toFriendlyJSON(){return{blockNumber:this.blockNumber.toNumber(),slotNumber:this.slotNumber.toNumber(),timestamp:this.timestamp.toString(),coinbase:this.coinbase.toString(),gasFees:V_(this.gasFees)}}clone(){return ci.fromBuffer(this.toBuffer())}isEmpty(){return this.chainId.isZero()&&this.version.isZero()&&this.blockNumber.isZero()&&this.slotNumber.isZero()&&this.timestamp.isZero()&&this.coinbase.isZero()&&this.feeRecipient.isZero()&&this.gasFees.isEmpty()}toInspect(){return{chainId:this.chainId.toNumber(),version:this.version.toNumber(),blockNumber:this.blockNumber.toNumber(),slotNumber:this.slotNumber.toNumber(),timestamp:this.timestamp.toNumber(),coinbase:this.coinbase.toString(),feeRecipient:this.feeRecipient.toString(),feePerDaGas:this.gasFees.feePerDaGas.toNumber(),feePerL2Gas:this.gasFees.feePerL2Gas.toNumber()}}[St.inspect.custom](){return`GlobalVariables ${St.inspect(this.toInspect())}`}equals(e){return this.chainId.equals(e.chainId)&&this.version.equals(e.version)&&this.blockNumber.equals(e.blockNumber)&&this.slotNumber.equals(e.slotNumber)&&this.timestamp.equals(e.timestamp)&&this.coinbase.equals(e.coinbase)&&this.feeRecipient.equals(e.feeRecipient)&&this.gasFees.equals(e.gasFees)}}class $o{constructor(e,t,n){x(this,"noteHashTree");x(this,"nullifierTree");x(this,"publicDataTree");this.noteHashTree=e,this.nullifierTree=t,this.publicDataTree=n}static get schema(){return M.object({noteHashTree:qt.schema,nullifierTree:qt.schema,publicDataTree:qt.schema}).transform(({noteHashTree:e,nullifierTree:t,publicDataTree:n})=>new $o(e,t,n))}getSize(){return this.noteHashTree.getSize()+this.nullifierTree.getSize()+this.publicDataTree.getSize()}static fromBuffer(e){const t=st.asReader(e);return new $o(t.readObject(qt),t.readObject(qt),t.readObject(qt))}static fromFields(e){const t=Ut.asReader(e),n=qt.fromFields(t),i=qt.fromFields(t),s=qt.fromFields(t);return new $o(n,i,s)}static empty(){return new $o(qt.zero(),qt.zero(),qt.zero())}toBuffer(){return ft(this.noteHashTree,this.nullifierTree,this.publicDataTree)}toFields(){const e=[...this.noteHashTree.toFields(),...this.nullifierTree.toFields(),...this.publicDataTree.toFields()];if(e.length!==eI)throw new Error(`Invalid number of fields for PartialStateReference. Expected ${eI}, got ${e.length}`);return e}isEmpty(){return this.noteHashTree.isZero()&&this.nullifierTree.isZero()&&this.publicDataTree.isZero()}equals(e){return this.noteHashTree.equals(e.noteHashTree)&&this.nullifierTree.equals(e.nullifierTree)&&this.publicDataTree.equals(e.publicDataTree)}}class Uo{constructor(e,t){x(this,"l1ToL2MessageTree");x(this,"partial");this.l1ToL2MessageTree=e,this.partial=t}static get schema(){return M.object({l1ToL2MessageTree:qt.schema,partial:$o.schema}).transform(({l1ToL2MessageTree:e,partial:t})=>new Uo(e,t))}getSize(){return this.l1ToL2MessageTree.getSize()+this.partial.getSize()}toBuffer(){return ft(this.l1ToL2MessageTree,this.partial)}toFields(){const e=[...this.l1ToL2MessageTree.toFields(),...this.partial.toFields()];if(e.length!==sI)throw new Error(`Invalid number of fields for StateReference. Expected ${sI}, got ${e.length}`);return e}static fromBuffer(e){const t=st.asReader(e);return new Uo(t.readObject(qt),t.readObject($o))}static fromFields(e){const t=Ut.asReader(e),n=qt.fromFields(t),i=$o.fromFields(t);return new Uo(n,i)}static empty(){return new Uo(qt.zero(),$o.empty())}isEmpty(){return this.l1ToL2MessageTree.isZero()&&this.partial.isEmpty()}toInspect(){return{l1ToL2MessageTree:this.l1ToL2MessageTree.root.toString(),noteHashTree:this.partial.noteHashTree.root.toString(),nullifierTree:this.partial.nullifierTree.root.toString(),publicDataTree:this.partial.publicDataTree.root.toString()}}[St.inspect.custom](){return`StateReference {
  l1ToL2MessageTree: ${St.inspect(this.l1ToL2MessageTree)},
  noteHashTree: ${St.inspect(this.partial.noteHashTree)},
  nullifierTree: ${St.inspect(this.partial.nullifierTree)},
  publicDataTree: ${St.inspect(this.partial.publicDataTree)},
}`}equals(e){return this.l1ToL2MessageTree.root.equals(e.l1ToL2MessageTree.root)&&this.partial.equals(e.partial)}}class Kr{constructor(e,t,n,i,s,c){x(this,"lastArchive");x(this,"contentCommitment");x(this,"state");x(this,"globalVariables");x(this,"totalFees");x(this,"totalManaUsed");this.lastArchive=e,this.contentCommitment=t,this.state=n,this.globalVariables=i,this.totalFees=s,this.totalManaUsed=c}static get schema(){return M.object({lastArchive:qt.schema,contentCommitment:so.schema,state:Uo.schema,globalVariables:ci.schema,totalFees:wt.Fr,totalManaUsed:wt.Fr}).transform(Kr.from)}static getFields(e){return[e.lastArchive,e.contentCommitment,e.state,e.globalVariables,e.totalFees,e.totalManaUsed]}static from(e){return new Kr(...Kr.getFields(e))}getSlot(){return this.globalVariables.slotNumber.toBigInt()}getSize(){return this.lastArchive.getSize()+this.contentCommitment.getSize()+this.state.getSize()+this.globalVariables.getSize()+this.totalFees.size+this.totalManaUsed.size}toBuffer(){return ft(...Kr.getFields(this))}toFields(){const e=Wr(...Kr.getFields(this));if(e.length!==uI)throw new Error(`Invalid number of fields for Header. Expected ${uI}, got ${e.length}`);return e}clone(){return Kr.fromBuffer(this.toBuffer())}static fromBuffer(e){const t=st.asReader(e);return new Kr(t.readObject(qt),t.readObject(so),t.readObject(Uo),t.readObject(ci),t.readObject(H),t.readObject(H))}static fromFields(e){const t=Ut.asReader(e);return new Kr(qt.fromFields(t),so.fromFields(t),Uo.fromFields(t),ci.fromFields(t),t.readField(),t.readField())}static empty(e={}){return Kr.from({lastArchive:qt.zero(),contentCommitment:so.empty(),state:Uo.empty(),globalVariables:ci.empty(),totalFees:H.ZERO,totalManaUsed:H.ZERO,...e})}isEmpty(){return this.lastArchive.isZero()&&this.contentCommitment.isEmpty()&&this.state.isEmpty()&&this.globalVariables.isEmpty()&&this.totalFees.isZero()&&this.totalManaUsed.isZero()}toString(){return qr(this.toBuffer())}static fromString(e){return Kr.fromBuffer(tn(e))}hash(){return Nn(this.toFields(),Vr.BLOCK_HASH)}toInspect(){return{lastArchive:this.lastArchive.root.toString(),contentCommitment:this.contentCommitment.toInspect(),state:this.state.toInspect(),globalVariables:this.globalVariables.toInspect(),totalFees:this.totalFees.toBigInt(),totalManaUsed:this.totalManaUsed.toBigInt()}}[St.inspect.custom](){return`Header {
  lastArchive: ${St.inspect(this.lastArchive)},
  contentCommitment.numTxs: ${this.contentCommitment.numTxs.toNumber()},
  contentCommitment.blobsHash: ${this.contentCommitment.blobsHash.toString("hex")},
  contentCommitment.inHash: ${this.contentCommitment.inHash.toString("hex")},
  contentCommitment.outHash: ${this.contentCommitment.outHash.toString("hex")},
  state.l1ToL2MessageTree: ${St.inspect(this.state.l1ToL2MessageTree)},
  state.noteHashTree: ${St.inspect(this.state.partial.noteHashTree)},
  state.nullifierTree: ${St.inspect(this.state.partial.nullifierTree)},
  state.publicDataTree: ${St.inspect(this.state.partial.publicDataTree)},
  globalVariables: ${St.inspect(this.globalVariables)},
  totalFees: ${this.totalFees},
  totalManaUsed: ${this.totalManaUsed},
}`}equals(e){return this.contentCommitment.equals(e.contentCommitment)&&this.state.equals(e.state)&&this.globalVariables.equals(e.globalVariables)&&this.totalFees.equals(e.totalFees)&&this.totalManaUsed.equals(e.totalManaUsed)&&this.lastArchive.equals(e.lastArchive)}}function fm(r){let e=r.length;for(;--e>=0;)r[e]=0}const uU=3,lU=258,TN=29,fU=256,dU=fU+1+TN,IN=30,hU=512,pU=new Array((dU+2)*2);fm(pU);const mU=new Array(IN*2);fm(mU);const gU=new Array(hU);fm(gU);const _U=new Array(lU-uU+1);fm(_U);const yU=new Array(TN);fm(yU);const wU=new Array(IN);fm(wU);const vU=(r,e,t,n)=>{let i=r&65535|0,s=r>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do i=i+e[n++]|0,s=s+i|0;while(--c);i%=65521,s%=65521}return i|s<<16|0};var Tx=vU;const bU=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},EU=new Uint32Array(bU()),SU=(r,e,t,n)=>{const i=EU,s=n+t;r^=-1;for(let c=n;c<s;c++)r=r>>>8^i[(r^e[c])&255];return r^-1};var _c=SU,Ix={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},kN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const xU=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var AU=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)xU(t,n)&&(r[n]=t[n])}}return r},CU=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,s=r.length;n<s;n++){let c=r[n];t.set(c,i),i+=c.length}return t},RN={assign:AU,flattenChunks:CU};let PN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{PN=!1}const W_=new Uint8Array(256);for(let r=0;r<256;r++)W_[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;W_[254]=W_[254]=1;var TU=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,s,c=r.length,u=0;for(i=0;i<c;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<c&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),s=0,i=0;s<u;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<c&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const IU=(r,e)=>{if(e<65534&&r.subarray&&PN)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var kU=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const s=new Array(t*2);for(i=0,n=0;n<t;){let c=r[n++];if(c<128){s[i++]=c;continue}let u=W_[c];if(u>4){s[i++]=65533,n+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&n<t;)c=c<<6|r[n++]&63,u--;if(u>1){s[i++]=65533;continue}c<65536?s[i++]=c:(c-=65536,s[i++]=55296|c>>10&1023,s[i++]=56320|c&1023)}return IU(s,i)},RU=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+W_[r[t]]>e?t:e},kx={string2buf:TU,buf2string:kU,utf8border:RU};function PU(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var BU=PU;const H0=16209,NU=16191;var OU=function(e,t){let n,i,s,c,u,d,l,m,y,b,E,I,S,P,N,k,R,L,U,te,V,oe,de,Ee;const Fe=e.state;n=e.next_in,de=e.input,i=n+(e.avail_in-5),s=e.next_out,Ee=e.output,c=s-(t-e.avail_out),u=s+(e.avail_out-257),d=Fe.dmax,l=Fe.wsize,m=Fe.whave,y=Fe.wnext,b=Fe.window,E=Fe.hold,I=Fe.bits,S=Fe.lencode,P=Fe.distcode,N=(1<<Fe.lenbits)-1,k=(1<<Fe.distbits)-1;e:do{I<15&&(E+=de[n++]<<I,I+=8,E+=de[n++]<<I,I+=8),R=S[E&N];t:for(;;){if(L=R>>>24,E>>>=L,I-=L,L=R>>>16&255,L===0)Ee[s++]=R&65535;else if(L&16){U=R&65535,L&=15,L&&(I<L&&(E+=de[n++]<<I,I+=8),U+=E&(1<<L)-1,E>>>=L,I-=L),I<15&&(E+=de[n++]<<I,I+=8,E+=de[n++]<<I,I+=8),R=P[E&k];r:for(;;){if(L=R>>>24,E>>>=L,I-=L,L=R>>>16&255,L&16){if(te=R&65535,L&=15,I<L&&(E+=de[n++]<<I,I+=8,I<L&&(E+=de[n++]<<I,I+=8)),te+=E&(1<<L)-1,te>d){e.msg="invalid distance too far back",Fe.mode=H0;break e}if(E>>>=L,I-=L,L=s-c,te>L){if(L=te-L,L>m&&Fe.sane){e.msg="invalid distance too far back",Fe.mode=H0;break e}if(V=0,oe=b,y===0){if(V+=l-L,L<U){U-=L;do Ee[s++]=b[V++];while(--L);V=s-te,oe=Ee}}else if(y<L){if(V+=l+y-L,L-=y,L<U){U-=L;do Ee[s++]=b[V++];while(--L);if(V=0,y<U){L=y,U-=L;do Ee[s++]=b[V++];while(--L);V=s-te,oe=Ee}}}else if(V+=y-L,L<U){U-=L;do Ee[s++]=b[V++];while(--L);V=s-te,oe=Ee}for(;U>2;)Ee[s++]=oe[V++],Ee[s++]=oe[V++],Ee[s++]=oe[V++],U-=3;U&&(Ee[s++]=oe[V++],U>1&&(Ee[s++]=oe[V++]))}else{V=s-te;do Ee[s++]=Ee[V++],Ee[s++]=Ee[V++],Ee[s++]=Ee[V++],U-=3;while(U>2);U&&(Ee[s++]=Ee[V++],U>1&&(Ee[s++]=Ee[V++]))}}else if((L&64)===0){R=P[(R&65535)+(E&(1<<L)-1)];continue r}else{e.msg="invalid distance code",Fe.mode=H0;break e}break}}else if((L&64)===0){R=S[(R&65535)+(E&(1<<L)-1)];continue t}else if(L&32){Fe.mode=NU;break e}else{e.msg="invalid literal/length code",Fe.mode=H0;break e}break}}while(n<i&&s<u);U=I>>3,n-=U,I-=U<<3,E&=(1<<I)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<u?257+(u-s):257-(s-u),Fe.hold=E,Fe.bits=I};const mp=15,RI=852,PI=592,BI=0,UE=1,NI=2,FU=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),LU=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),DU=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),MU=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jU=(r,e,t,n,i,s,c,u)=>{const d=u.bits;let l=0,m=0,y=0,b=0,E=0,I=0,S=0,P=0,N=0,k=0,R,L,U,te,V,oe=null,de;const Ee=new Uint16Array(mp+1),Fe=new Uint16Array(mp+1);let j=null,fe,z,Q;for(l=0;l<=mp;l++)Ee[l]=0;for(m=0;m<n;m++)Ee[e[t+m]]++;for(E=d,b=mp;b>=1&&Ee[b]===0;b--);if(E>b&&(E=b),b===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,u.bits=1,0;for(y=1;y<b&&Ee[y]===0;y++);for(E<y&&(E=y),P=1,l=1;l<=mp;l++)if(P<<=1,P-=Ee[l],P<0)return-1;if(P>0&&(r===BI||b!==1))return-1;for(Fe[1]=0,l=1;l<mp;l++)Fe[l+1]=Fe[l]+Ee[l];for(m=0;m<n;m++)e[t+m]!==0&&(c[Fe[e[t+m]]++]=m);if(r===BI?(oe=j=c,de=20):r===UE?(oe=FU,j=LU,de=257):(oe=DU,j=MU,de=0),k=0,m=0,l=y,V=s,I=E,S=0,U=-1,N=1<<E,te=N-1,r===UE&&N>RI||r===NI&&N>PI)return 1;for(;;){fe=l-S,c[m]+1<de?(z=0,Q=c[m]):c[m]>=de?(z=j[c[m]-de],Q=oe[c[m]-de]):(z=96,Q=0),R=1<<l-S,L=1<<I,y=L;do L-=R,i[V+(k>>S)+L]=fe<<24|z<<16|Q|0;while(L!==0);for(R=1<<l-1;k&R;)R>>=1;if(R!==0?(k&=R-1,k+=R):k=0,m++,--Ee[l]===0){if(l===b)break;l=e[t+c[m]]}if(l>E&&(k&te)!==U){for(S===0&&(S=E),V+=y,I=l-S,P=1<<I;I+S<b&&(P-=Ee[I+S],!(P<=0));)I++,P<<=1;if(N+=1<<I,r===UE&&N>RI||r===NI&&N>PI)return 1;U=k&te,i[U]=E<<24|I<<16|V-s|0}}return k!==0&&(i[V+k]=l-S<<24|64<<16|0),u.bits=E,0};var d_=jU;const $U=0,BN=1,NN=2,{Z_FINISH:OI,Z_BLOCK:UU,Z_TREES:q0,Z_OK:lh,Z_STREAM_END:zU,Z_NEED_DICT:HU,Z_STREAM_ERROR:lo,Z_DATA_ERROR:ON,Z_MEM_ERROR:FN,Z_BUF_ERROR:qU,Z_DEFLATED:FI}=kN,Av=16180,LI=16181,DI=16182,MI=16183,jI=16184,$I=16185,UI=16186,zI=16187,HI=16188,qI=16189,Lw=16190,Au=16191,zE=16192,VI=16193,HE=16194,WI=16195,ZI=16196,KI=16197,GI=16198,V0=16199,W0=16200,YI=16201,XI=16202,JI=16203,QI=16204,ek=16205,qE=16206,tk=16207,rk=16208,In=16209,LN=16210,DN=16211,VU=852,WU=592,ZU=15,KU=ZU,nk=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function GU(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wh=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Av||e.mode>DN?1:0},MN=r=>{if(wh(r))return lo;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Av,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(VU),e.distcode=e.distdyn=new Int32Array(WU),e.sane=1,e.back=-1,lh},jN=r=>{if(wh(r))return lo;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,MN(r)},$N=(r,e)=>{let t;if(wh(r))return lo;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?lo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,jN(r))},UN=(r,e)=>{if(!r)return lo;const t=new GU;r.state=t,t.strm=r,t.window=null,t.mode=Av;const n=$N(r,e);return n!==lh&&(r.state=null),n},YU=r=>UN(r,KU);let ik=!0,VE,WE;const XU=r=>{if(ik){VE=new Int32Array(512),WE=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(d_(BN,r.lens,0,288,VE,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;d_(NN,r.lens,0,32,WE,0,r.work,{bits:5}),ik=!1}r.lencode=VE,r.lenbits=9,r.distcode=WE,r.distbits=5},zN=(r,e,t,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(t-n,t-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},JU=(r,e)=>{let t,n,i,s,c,u,d,l,m,y,b,E,I,S,P=0,N,k,R,L,U,te,V,oe;const de=new Uint8Array(4);let Ee,Fe;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wh(r)||!r.output||!r.input&&r.avail_in!==0)return lo;t=r.state,t.mode===Au&&(t.mode=zE),c=r.next_out,i=r.output,d=r.avail_out,s=r.next_in,n=r.input,u=r.avail_in,l=t.hold,m=t.bits,y=u,b=d,oe=lh;e:for(;;)switch(t.mode){case Av:if(t.wrap===0){t.mode=zE;break}for(;m<16;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,de[0]=l&255,de[1]=l>>>8&255,t.check=_c(t.check,de,2,0),l=0,m=0,t.mode=LI;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){r.msg="incorrect header check",t.mode=In;break}if((l&15)!==FI){r.msg="unknown compression method",t.mode=In;break}if(l>>>=4,m-=4,V=(l&15)+8,t.wbits===0&&(t.wbits=V),V>15||V>t.wbits){r.msg="invalid window size",t.mode=In;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=l&512?qI:Au,l=0,m=0;break;case LI:for(;m<16;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}if(t.flags=l,(t.flags&255)!==FI){r.msg="unknown compression method",t.mode=In;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=In;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(de[0]=l&255,de[1]=l>>>8&255,t.check=_c(t.check,de,2,0)),l=0,m=0,t.mode=DI;case DI:for(;m<32;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(de[0]=l&255,de[1]=l>>>8&255,de[2]=l>>>16&255,de[3]=l>>>24&255,t.check=_c(t.check,de,4,0)),l=0,m=0,t.mode=MI;case MI:for(;m<16;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(de[0]=l&255,de[1]=l>>>8&255,t.check=_c(t.check,de,2,0)),l=0,m=0,t.mode=jI;case jI:if(t.flags&1024){for(;m<16;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(de[0]=l&255,de[1]=l>>>8&255,t.check=_c(t.check,de,2,0)),l=0,m=0}else t.head&&(t.head.extra=null);t.mode=$I;case $I:if(t.flags&1024&&(E=t.length,E>u&&(E=u),E&&(t.head&&(V=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+E),V)),t.flags&512&&t.wrap&4&&(t.check=_c(t.check,n,E,s)),u-=E,s+=E,t.length-=E),t.length))break e;t.length=0,t.mode=UI;case UI:if(t.flags&2048){if(u===0)break e;E=0;do V=n[s+E++],t.head&&V&&t.length<65536&&(t.head.name+=String.fromCharCode(V));while(V&&E<u);if(t.flags&512&&t.wrap&4&&(t.check=_c(t.check,n,E,s)),u-=E,s+=E,V)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=zI;case zI:if(t.flags&4096){if(u===0)break e;E=0;do V=n[s+E++],t.head&&V&&t.length<65536&&(t.head.comment+=String.fromCharCode(V));while(V&&E<u);if(t.flags&512&&t.wrap&4&&(t.check=_c(t.check,n,E,s)),u-=E,s+=E,V)break e}else t.head&&(t.head.comment=null);t.mode=HI;case HI:if(t.flags&512){for(;m<16;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}if(t.wrap&4&&l!==(t.check&65535)){r.msg="header crc mismatch",t.mode=In;break}l=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Au;break;case qI:for(;m<32;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}r.adler=t.check=nk(l),l=0,m=0,t.mode=Lw;case Lw:if(t.havedict===0)return r.next_out=c,r.avail_out=d,r.next_in=s,r.avail_in=u,t.hold=l,t.bits=m,HU;r.adler=t.check=1,t.mode=Au;case Au:if(e===UU||e===q0)break e;case zE:if(t.last){l>>>=m&7,m-=m&7,t.mode=qE;break}for(;m<3;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}switch(t.last=l&1,l>>>=1,m-=1,l&3){case 0:t.mode=VI;break;case 1:if(XU(t),t.mode=V0,e===q0){l>>>=2,m-=2;break e}break;case 2:t.mode=ZI;break;case 3:r.msg="invalid block type",t.mode=In}l>>>=2,m-=2;break;case VI:for(l>>>=m&7,m-=m&7;m<32;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}if((l&65535)!==(l>>>16^65535)){r.msg="invalid stored block lengths",t.mode=In;break}if(t.length=l&65535,l=0,m=0,t.mode=HE,e===q0)break e;case HE:t.mode=WI;case WI:if(E=t.length,E){if(E>u&&(E=u),E>d&&(E=d),E===0)break e;i.set(n.subarray(s,s+E),c),u-=E,s+=E,d-=E,c+=E,t.length-=E;break}t.mode=Au;break;case ZI:for(;m<14;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}if(t.nlen=(l&31)+257,l>>>=5,m-=5,t.ndist=(l&31)+1,l>>>=5,m-=5,t.ncode=(l&15)+4,l>>>=4,m-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=In;break}t.have=0,t.mode=KI;case KI:for(;t.have<t.ncode;){for(;m<3;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}t.lens[j[t.have++]]=l&7,l>>>=3,m-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Ee={bits:t.lenbits},oe=d_($U,t.lens,0,19,t.lencode,0,t.work,Ee),t.lenbits=Ee.bits,oe){r.msg="invalid code lengths set",t.mode=In;break}t.have=0,t.mode=GI;case GI:for(;t.have<t.nlen+t.ndist;){for(;P=t.lencode[l&(1<<t.lenbits)-1],N=P>>>24,k=P>>>16&255,R=P&65535,!(N<=m);){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}if(R<16)l>>>=N,m-=N,t.lens[t.have++]=R;else{if(R===16){for(Fe=N+2;m<Fe;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}if(l>>>=N,m-=N,t.have===0){r.msg="invalid bit length repeat",t.mode=In;break}V=t.lens[t.have-1],E=3+(l&3),l>>>=2,m-=2}else if(R===17){for(Fe=N+3;m<Fe;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}l>>>=N,m-=N,V=0,E=3+(l&7),l>>>=3,m-=3}else{for(Fe=N+7;m<Fe;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}l>>>=N,m-=N,V=0,E=11+(l&127),l>>>=7,m-=7}if(t.have+E>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=In;break}for(;E--;)t.lens[t.have++]=V}}if(t.mode===In)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=In;break}if(t.lenbits=9,Ee={bits:t.lenbits},oe=d_(BN,t.lens,0,t.nlen,t.lencode,0,t.work,Ee),t.lenbits=Ee.bits,oe){r.msg="invalid literal/lengths set",t.mode=In;break}if(t.distbits=6,t.distcode=t.distdyn,Ee={bits:t.distbits},oe=d_(NN,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Ee),t.distbits=Ee.bits,oe){r.msg="invalid distances set",t.mode=In;break}if(t.mode=V0,e===q0)break e;case V0:t.mode=W0;case W0:if(u>=6&&d>=258){r.next_out=c,r.avail_out=d,r.next_in=s,r.avail_in=u,t.hold=l,t.bits=m,OU(r,b),c=r.next_out,i=r.output,d=r.avail_out,s=r.next_in,n=r.input,u=r.avail_in,l=t.hold,m=t.bits,t.mode===Au&&(t.back=-1);break}for(t.back=0;P=t.lencode[l&(1<<t.lenbits)-1],N=P>>>24,k=P>>>16&255,R=P&65535,!(N<=m);){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}if(k&&(k&240)===0){for(L=N,U=k,te=R;P=t.lencode[te+((l&(1<<L+U)-1)>>L)],N=P>>>24,k=P>>>16&255,R=P&65535,!(L+N<=m);){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}l>>>=L,m-=L,t.back+=L}if(l>>>=N,m-=N,t.back+=N,t.length=R,k===0){t.mode=ek;break}if(k&32){t.back=-1,t.mode=Au;break}if(k&64){r.msg="invalid literal/length code",t.mode=In;break}t.extra=k&15,t.mode=YI;case YI:if(t.extra){for(Fe=t.extra;m<Fe;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=XI;case XI:for(;P=t.distcode[l&(1<<t.distbits)-1],N=P>>>24,k=P>>>16&255,R=P&65535,!(N<=m);){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}if((k&240)===0){for(L=N,U=k,te=R;P=t.distcode[te+((l&(1<<L+U)-1)>>L)],N=P>>>24,k=P>>>16&255,R=P&65535,!(L+N<=m);){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}l>>>=L,m-=L,t.back+=L}if(l>>>=N,m-=N,t.back+=N,k&64){r.msg="invalid distance code",t.mode=In;break}t.offset=R,t.extra=k&15,t.mode=JI;case JI:if(t.extra){for(Fe=t.extra;m<Fe;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=In;break}t.mode=QI;case QI:if(d===0)break e;if(E=b-d,t.offset>E){if(E=t.offset-E,E>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=In;break}E>t.wnext?(E-=t.wnext,I=t.wsize-E):I=t.wnext-E,E>t.length&&(E=t.length),S=t.window}else S=i,I=c-t.offset,E=t.length;E>d&&(E=d),d-=E,t.length-=E;do i[c++]=S[I++];while(--E);t.length===0&&(t.mode=W0);break;case ek:if(d===0)break e;i[c++]=t.length,d--,t.mode=W0;break;case qE:if(t.wrap){for(;m<32;){if(u===0)break e;u--,l|=n[s++]<<m,m+=8}if(b-=d,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?_c(t.check,i,b,c-b):Tx(t.check,i,b,c-b)),b=d,t.wrap&4&&(t.flags?l:nk(l))!==t.check){r.msg="incorrect data check",t.mode=In;break}l=0,m=0}t.mode=tk;case tk:if(t.wrap&&t.flags){for(;m<32;){if(u===0)break e;u--,l+=n[s++]<<m,m+=8}if(t.wrap&4&&l!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=In;break}l=0,m=0}t.mode=rk;case rk:oe=zU;break e;case In:oe=ON;break e;case LN:return FN;case DN:default:return lo}return r.next_out=c,r.avail_out=d,r.next_in=s,r.avail_in=u,t.hold=l,t.bits=m,(t.wsize||b!==r.avail_out&&t.mode<In&&(t.mode<qE||e!==OI))&&zN(r,r.output,r.next_out,b-r.avail_out),y-=r.avail_in,b-=r.avail_out,r.total_in+=y,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?_c(t.check,i,b,r.next_out-b):Tx(t.check,i,b,r.next_out-b)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Au?128:0)+(t.mode===V0||t.mode===HE?256:0),(y===0&&b===0||e===OI)&&oe===lh&&(oe=qU),oe},QU=r=>{if(wh(r))return lo;let e=r.state;return e.window&&(e.window=null),r.state=null,lh},ez=(r,e)=>{if(wh(r))return lo;const t=r.state;return(t.wrap&2)===0?lo:(t.head=e,e.done=!1,lh)},tz=(r,e)=>{const t=e.length;let n,i,s;return wh(r)||(n=r.state,n.wrap!==0&&n.mode!==Lw)?lo:n.mode===Lw&&(i=1,i=Tx(i,e,t,0),i!==n.check)?ON:(s=zN(r,e,t,t),s?(n.mode=LN,FN):(n.havedict=1,lh))};var rz=jN,nz=$N,iz=MN,sz=YU,az=UN,oz=JU,cz=QU,uz=ez,lz=tz,fz="pako inflate (from Nodeca project)",Nu={inflateReset:rz,inflateReset2:nz,inflateResetKeep:iz,inflateInit:sz,inflateInit2:az,inflate:oz,inflateEnd:cz,inflateGetHeader:uz,inflateSetDictionary:lz,inflateInfo:fz};function dz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hz=dz;const HN=Object.prototype.toString,{Z_NO_FLUSH:pz,Z_FINISH:mz,Z_OK:Z_,Z_STREAM_END:ZE,Z_NEED_DICT:KE,Z_STREAM_ERROR:gz,Z_DATA_ERROR:sk,Z_MEM_ERROR:_z}=kN;function Cv(r){this.options=RN.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new BU,this.strm.avail_out=0;let t=Nu.inflateInit2(this.strm,e.windowBits);if(t!==Z_)throw new Error(Ix[t]);if(this.header=new hz,Nu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=kx.string2buf(e.dictionary):HN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Nu.inflateSetDictionary(this.strm,e.dictionary),t!==Z_)))throw new Error(Ix[t])}Cv.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?mz:pz,HN.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=Nu.inflate(t,c),s===KE&&i&&(s=Nu.inflateSetDictionary(t,i),s===Z_?s=Nu.inflate(t,c):s===sk&&(s=KE));t.avail_in>0&&s===ZE&&t.state.wrap>0&&r[t.next_in]!==0;)Nu.inflateReset(t),s=Nu.inflate(t,c);switch(s){case gz:case sk:case KE:case _z:return this.onEnd(s),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||s===ZE))if(this.options.to==="string"){let d=kx.utf8border(t.output,t.next_out),l=t.next_out-d,m=kx.buf2string(t.output,d);t.next_out=l,t.avail_out=n-l,l&&t.output.set(t.output.subarray(d,d+l),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Z_&&u===0)){if(s===ZE)return s=Nu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Cv.prototype.onData=function(r){this.chunks.push(r)};Cv.prototype.onEnd=function(r){r===Z_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=RN.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function qN(r,e){const t=new Cv(e);if(t.push(r),t.err)throw t.msg||Ix[t.err];return t.result}var yz=qN,wz=qN,vz={inflate:yz,ungzip:wz};const{inflate:bz,ungzip:Ez}=vz;var Sz=bz,GE=Ez;const xz=Pr("aztec:foundation:abi"),sw=M.discriminatedUnion("kind",[M.object({kind:M.literal("boolean"),value:M.boolean()}),M.object({kind:M.literal("string"),value:M.string()}),M.object({kind:M.literal("array"),value:M.array(M.lazy(()=>sw))}),M.object({kind:M.literal("tuple"),fields:M.array(M.lazy(()=>sw))}),M.object({kind:M.literal("integer"),value:M.string(),sign:M.boolean()}),M.object({kind:M.literal("struct"),fields:M.array(M.object({name:M.string(),value:M.lazy(()=>sw)}))})]),VN=["public","private","databus"],Az=["unsigned","signed"],Vc=M.discriminatedUnion("kind",[M.object({kind:M.literal("field")}),M.object({kind:M.literal("boolean")}),M.object({kind:M.literal("integer"),sign:M.enum(Az),width:M.number()}),M.object({kind:M.literal("array"),length:M.number(),type:M.lazy(()=>Vc)}),M.object({kind:M.literal("string"),length:M.number()}),M.object({kind:M.literal("struct"),fields:M.array(M.lazy(()=>WN)),path:M.string()}),M.object({kind:M.literal("tuple"),fields:M.array(M.lazy(()=>Vc))})]),WN=M.object({name:M.string(),type:Vc});WN.and(M.object({visibility:M.enum(VN)}));const Cz=M.union([M.object({error_kind:M.literal("string"),string:M.string()}),M.object({error_kind:M.literal("fmtstring"),length:M.number(),item_types:M.array(Vc)}),M.object({error_kind:M.literal("custom")}).and(Vc)]);var Qr=function(r){return r.PRIVATE="private",r.PUBLIC="public",r.UNCONSTRAINED="unconstrained",r}({});const ZN=M.object({name:M.string(),functionType:M.nativeEnum(Qr),isInternal:M.boolean(),isStatic:M.boolean(),isInitializer:M.boolean(),parameters:M.array(M.object({name:M.string(),type:Vc,visibility:M.enum(VN)})),returnTypes:M.array(Vc),errorTypes:M.record(Cz)}),Tz=M.object({debugSymbols:M.object({locations:M.record(M.array(M.object({span:M.object({start:M.number(),end:M.number()}),file:M.number()}))),brillig_locations:M.record(M.record(M.array(M.object({span:M.object({start:M.number(),end:M.number()}),file:M.number()}))))}),files:M.record(M.object({source:M.string(),path:M.string()}))}),Iz=ZN.and(M.object({bytecode:wt.Buffer,verificationKey:M.string().optional(),debugSymbols:M.string(),debug:Tz.optional()})),kz=M.object({name:M.string(),index:M.number(),nullable:M.boolean()}),Rz=M.object({id:no.schema,typ:M.string(),fields:M.array(kz)}),Op=M.object({name:M.string(),functions:M.array(Iz),nonDispatchPublicFunctions:M.array(ZN),outputs:M.object({structs:M.record(M.array(Vc)).transform(r=>{for(const[e,t]of Object.entries(r))(e==="events"||e==="functions")&&(r[e]=t.sort((n,i)=>n.path>i.path?-1:1));return r}),globals:M.record(M.array(sw))}),storageLayout:M.record(M.object({slot:wt.Fr})),notes:M.record(Rz),fileMap:M.record(M.coerce.number(),M.object({source:M.string(),path:M.string()}))});function Pz(r,e){const t=r.functions.find(i=>i.name===e);if(!t)throw new Error(`Unknown function ${e}`);const n=iC(r,t);return{...t,debug:n}}async function Bz(r,e){var i;let t;if(typeof e=="string"?t=r.functions.find(s=>s.name===e):t=(i=(await Promise.all(r.functions.map(async c=>({fn:c,selector:await $t.fromNameAndParameters(c.name,c.parameters)})))).find(c=>e.equals(c.selector)))==null?void 0:i.fn,!t)throw new Error(`Unknown function ${e}`);const n=iC(r,t);return{...t,debug:n}}function Tv(r){return r.functions.map(e=>e).concat(r.nonDispatchPublicFunctions||[])}function KN(r){return JSON.parse(Sz($e.from(r,"base64"),{to:"string",raw:!0})).debug_infos}function iC(r,e){try{if(e.debugSymbols&&r.fileMap)return{debugSymbols:KN(e.debugSymbols)[0],files:r.fileMap}}catch(t){if(t instanceof RangeError&&t.message.includes("Invalid string length"))xz.warn(`Caught RangeError: Invalid string length. This suggests the debug_symbols field of the contract ${r.name} and function ${e.name} is huge; too big to parse. We'll skip returning this info until this issue is resolved. Here's the error:
${t.message}`);else throw t}}function GN(r){const t=Tv(r).filter(n=>n.isInitializer);return t.length>1?t.find(n=>n.name==="constructor")??t.find(n=>n.name==="initializer")??t.find(n=>{var i;return((i=n.parameters)==null?void 0:i.length)===0})??t.find(n=>n.functionType==="private")??t[0]:t[0]}function Nz(r,e){if(typeof e=="string"){const n=Tv(r).find(i=>i.name===e);if(n){if(!n.isInitializer)throw new Error(`Method ${e} is not an initializer`)}else throw new Error(`Constructor method ${e} not found in contract artifact`);return n}else{if(e===void 0)return GN(r);if(!e.isInitializer)throw new Error(`Method ${e.name} is not an initializer`);return e}}var YE,ak;function Oz(){if(ak)return YE;ak=1;var r=1/0,e=9007199254740991,t=17976931348623157e292,n=NaN,i="[object Function]",s="[object GeneratorFunction]",c="[object Symbol]",u=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,m=/^0o[0-7]+$/i,y=/^(?:0|[1-9]\d*)$/,b=parseInt,E=Object.prototype,I=E.toString,S=Math.ceil,P=Math.max;function N(Q,me,pe){var xe=-1,ce=Q.length;me<0&&(me=-me>ce?0:ce+me),pe=pe>ce?ce:pe,pe<0&&(pe+=ce),ce=me>pe?0:pe-me>>>0,me>>>=0;for(var ve=Array(ce);++xe<ce;)ve[xe]=Q[xe+me];return ve}function k(Q,me){return me=me??e,!!me&&(typeof Q=="number"||y.test(Q))&&Q>-1&&Q%1==0&&Q<me}function R(Q,me,pe){if(!de(pe))return!1;var xe=typeof me;return(xe=="number"?te(pe)&&k(me,pe.length):xe=="string"&&me in pe)?U(pe[me],Q):!1}function L(Q,me,pe){(pe?R(Q,me,pe):me===void 0)?me=1:me=P(fe(me),0);var xe=Q?Q.length:0;if(!xe||me<1)return[];for(var ce=0,ve=0,ee=Array(S(xe/me));ce<xe;)ee[ve++]=N(Q,ce,ce+=me);return ee}function U(Q,me){return Q===me||Q!==Q&&me!==me}function te(Q){return Q!=null&&oe(Q.length)&&!V(Q)}function V(Q){var me=de(Q)?I.call(Q):"";return me==i||me==s}function oe(Q){return typeof Q=="number"&&Q>-1&&Q%1==0&&Q<=e}function de(Q){var me=typeof Q;return!!Q&&(me=="object"||me=="function")}function Ee(Q){return!!Q&&typeof Q=="object"}function Fe(Q){return typeof Q=="symbol"||Ee(Q)&&I.call(Q)==c}function j(Q){if(!Q)return Q===0?Q:0;if(Q=z(Q),Q===r||Q===-1/0){var me=Q<0?-1:1;return me*t}return Q===Q?Q:0}function fe(Q){var me=j(Q),pe=me%1;return me===me?pe?me-pe:me:0}function z(Q){if(typeof Q=="number")return Q;if(Fe(Q))return n;if(de(Q)){var me=typeof Q.valueOf=="function"?Q.valueOf():Q;Q=de(me)?me+"":me}if(typeof Q!="string")return Q===0?Q:+Q;Q=Q.replace(u,"");var pe=l.test(Q);return pe||m.test(Q)?b(Q.slice(2),pe?2:8):d.test(Q)?n:+Q}return YE=L,YE}var Fz=Oz();const Lz=Zc(Fz);function YN(r,e){const t=[new H(r.length),...Lz(r,H.SIZE_IN_BYTES-1).map(n=>{const i=$e.alloc(H.SIZE_IN_BYTES);return $e.from(n).copy(i,1),H.fromBuffer(i)})];if(t.length>e)throw new Error(`Input buffer exceeds maximum size: got ${t.length} but max is ${e}`);return[...t,...Array(e-t.length).fill(H.ZERO)]}class Fp{constructor(e,t){x(this,"abi");x(this,"args");x(this,"flattened");this.abi=e,this.args=t,this.flattened=[]}static typeSize(e){switch(e.kind){case"field":case"boolean":case"integer":return 1;case"string":return e.length;case"array":return e.length*Fp.typeSize(e.type);case"struct":return e.fields.reduce((t,n)=>t+Fp.typeSize(n.type),0);case"tuple":return e.fields.reduce((t,n)=>t+Fp.typeSize(n),0);default:{const t=e;throw new Error(`Unhandled abi type: ${t}`)}}}encodeArgument(e,t,n){if(t===void 0||t==null)throw new Error(`Undefined argument ${n??"unnamed"} of type ${e.kind}`);switch(e.kind){case"field":if(typeof t=="number")this.flattened.push(new H(BigInt(t)));else if(typeof t=="bigint")this.flattened.push(new H(t));else if(typeof t=="string")this.flattened.push(H.fromString(t));else if(typeof t=="boolean")this.flattened.push(new H(t?1n:0n));else if(typeof t=="object")if($e.isBuffer(t))this.flattened.push(H.fromBuffer(t));else if(typeof t.toField=="function")this.flattened.push(t.toField());else if(typeof t.value=="string")this.flattened.push(H.fromHexString(t.value));else throw new Error(`Argument for ${n} cannot be serialized to a field`);else throw new Error(`Invalid argument "${t}" of type ${e.kind}`);break;case"boolean":this.flattened.push(new H(t?1n:0n));break;case"array":for(let i=0;i<e.length;i+=1)this.encodeArgument(e.type,t[i],`${n}[${i}]`);break;case"string":for(let i=0;i<e.length;i+=1){const s=i<t.length?BigInt(t.charCodeAt(i)):0n;this.flattened.push(new H(s))}break;case"struct":{if(t.encodeToNoir!==void 0){this.flattened.push(...t.encodeToNoir());break}const i=j$(e);if(i&&typeof t.address>"u"&&typeof t.inner>"u"){this.encodeArgument({kind:"field"},t,`${n}.inner`);break}if(i&&typeof t.address<"u"){this.encodeArgument({kind:"field"},t.address,`${n}.address`);break}if(U$(e)){this.encodeArgument({kind:"integer",sign:"unsigned",width:32},t.value??t,`${n}.inner`);break}if(z$(e)){this.encodeArgument({kind:"field"},t.inner??t,`${n}.inner`);break}for(const s of e.fields)this.encodeArgument(s.type,t[s.name],`${n}.${s.name}`);break}case"integer":if(typeof t=="string"){const i=BigInt(t);this.flattened.push(new H(i))}else this.flattened.push(new H(t));break;default:throw new Error(`Unsupported type: ${e}`)}}encode(){for(let e=0;e<this.abi.parameters.length;e+=1){const t=this.abi.parameters[e];this.encodeArgument(t.type,this.args[e],t.name)}return this.flattened}}function dm(r,e){return new Fp(r,e).encode()}function XN(r){return r.parameters.reduce((e,t)=>e+Fp.typeSize(t.type),0)}const Dz="private",Mz="public",jz="internal",$z="initializer",Uz="view";function zz(r){return $e.from(V_(r),"utf-8")}function Hz(r){return cU(r.toString("utf-8"),Op)}function vh(r){return qz(r)?r:Yz(r)}function qz(r){if(typeof r!="object")return!1;const e=r;if(typeof e.name!="string"||!Array.isArray(e.functions))return!1;for(const t of e.functions)if(typeof t.name!="string"||typeof t.functionType!="string"||!Rx(t)&&t.bytecode.length)return!1;if(!Array.isArray(e.nonDispatchPublicFunctions))return!1;for(const t of e.nonDispatchPublicFunctions)if(typeof t.name!="string"||typeof t.functionType!="string")return!1;return!0}function Vz(r){const{visibility:e}=r;if(e==="databus")throw new Error(`Unsupported visibility ${r.visibility} for noir contract function parameter ${r.name}.`);return{...r,visibility:e}}function Rx(r){return(r.functionType??QN(r))!==Qr.PUBLIC||r.name=="public_dispatch"}function JN(r,e){if(r.custom_attributes===void 0)throw new Error(`No custom attributes found for contract function ${r.name}. Try rebuilding the contract with the latest nargo version.`);const t=QN(r),n=r.custom_attributes.includes(jz),i=r.custom_attributes.includes(Uz);let s=r.abi.parameters.map(Vz);Zz(s)&&(s=s.slice(1));let c=[];if(t===Qr.UNCONSTRAINED)c=r.abi.return_type?[r.abi.return_type.abi_type]:c;else{const u=`${e.name}::${r.name}_abi`,l=e.outputs.structs.functions.find(m=>m.kind==="struct"&&m.path===u);if(l){if(l.kind!=="struct")throw new Error("Could not generate contract function artifact");const m=l.fields.find(y=>y.name==="return_type");m&&(c=[m.type])}}return{name:r.name,functionType:t,isInternal:n,isStatic:i,isInitializer:r.custom_attributes.includes($z),parameters:s,returnTypes:c,errorTypes:r.abi.error_types,...r.assert_messages?{assertMessages:r.assert_messages}:void 0}}function Wz(r,e){return{...JN(r,e),bytecode:r.bytecode,debugSymbols:r.debug_symbols,...r.verification_key?{verificationKey:r.verification_key}:void 0}}function QN(r){return r.custom_attributes.includes(Dz)?Qr.PRIVATE:r.custom_attributes.includes(Mz)?Qr.PUBLIC:r.is_unconstrained?Qr.UNCONSTRAINED:Qr.PRIVATE}function Zz(r){const e=r[0];return(e==null?void 0:e.type.kind)==="struct"&&e.type.path.includes("ContextInputs")}function Kz(r){const t=(r.outputs.globals.storage?r.outputs.globals.storage:[]).find(i=>{var c;return((c=i.fields.find(u=>u.name==="contract_name"))==null?void 0:c.value).value===r.name}),n=t?t.fields.find(i=>i.name=="fields").value.fields:[];return n.length===0?{}:n.reduce((i,s)=>{const c=s.name,u=s.value.fields[0].value;return i[c]={slot:`0x${u.value}`},i},{})}function Gz(r){const e=r.outputs.globals.notes;return e?e.reduce((t,n)=>{const i=n.fields,s=i.find(y=>y.kind==="integer"),c=i.find(y=>y.kind==="string"),u=i.find(y=>y.kind==="struct");if(!s||!c||!u)throw new Error(`Could not find note type id, name or fields for note ${n}`);const d=s.value,l=c.value,m=u.fields.map(y=>({name:y.name,index:parseInt(y.value.fields[0].value.value,16),nullable:y.value.fields[1].value.value}));return t[l]={id:d,typ:l,fields:m},t},{}):{}}function Yz(r){try{return Op.parse({name:r.name,functions:r.functions.filter(e=>Rx(e)).map(e=>Wz(e,r)),nonDispatchPublicFunctions:r.functions.filter(e=>!Rx(e)).map(e=>JN(e,r)),outputs:r.outputs,storageLayout:Kz(r),notes:Gz(r),fileMap:r.file_map})}catch(e){throw new Error(`Could not generate contract artifact for ${r.name}: ${e}`)}}class K_{constructor(e,t,n,i,s,c,u){x(this,"name");x(this,"to");x(this,"selector");x(this,"type");x(this,"isStatic");x(this,"args");x(this,"returnTypes");this.name=e,this.to=t,this.selector=n,this.type=i,this.isStatic=s,this.args=c,this.returnTypes=u}static getFields(e){return[e.name,e.to,e.selector,e.type,e.isStatic,e.args,e.returnTypes]}static from(e){return new K_(...K_.getFields(e))}static empty(){return{name:"",to:tt.ZERO,selector:$t.empty(),type:Qr.PUBLIC,isStatic:!1,args:[],returnTypes:[]}}}class Pn{constructor(e,t,n,i){x(this,"msgSender");x(this,"contractAddress");x(this,"functionSelector");x(this,"isStaticCall");this.msgSender=e,this.contractAddress=t,this.functionSelector=n,this.isStaticCall=i}static empty(){return new Pn(tt.ZERO,tt.ZERO,$t.empty(),!1)}static async random(){return new Pn(await tt.random(),await tt.random(),$t.random(),Math.random()>.5)}static get schema(){return M.object({msgSender:Qe.AztecAddress,contractAddress:Qe.AztecAddress,functionSelector:Qe.FunctionSelector,isStaticCall:M.boolean()}).transform(Pn.from)}isEmpty(){return this.msgSender.isZero()&&this.contractAddress.isZero()&&this.functionSelector.isEmpty()&&!this.isStaticCall}static from(e){return new Pn(...Pn.getFields(e))}static getFields(e){return[e.msgSender,e.contractAddress,e.functionSelector,e.isStaticCall]}toBuffer(){return ft(...Pn.getFields(this))}toFields(){const e=Wr(...Pn.getFields(this));if(e.length!==qT)throw new Error(`Invalid number of fields for CallContext. Expected ${qT}, got ${e.length}`);return e}static fromBuffer(e){const t=st.asReader(e);return new Pn(t.readObject(tt),t.readObject(tt),t.readObject($t),t.readBoolean())}static fromFields(e){const t=Ut.asReader(e);return new Pn(t.readObject(tt),t.readObject(tt),t.readObject($t),t.readBoolean())}equals(e){return e.msgSender.equals(this.msgSender)&&e.contractAddress.equals(this.contractAddress)&&e.functionSelector.equals(this.functionSelector)&&e.isStaticCall===this.isStaticCall}[St.inspect.custom](){return`CallContext {
      msgSender: ${this.msgSender}
      contractAddress: ${this.contractAddress}
      functionSelector: ${this.functionSelector}
      isStaticCall: ${this.isStaticCall}
    }`}}class Cs{constructor(e,t){x(this,"isSome");x(this,"value");this.isSome=e,this.value=t}toBuffer(){return ft(...Cs.getFields(this))}toFields(){const e=Wr(...Cs.getFields(this));if(e.length!==YT)throw new Error(`Invalid number of fields for MaxBlockNumber. Expected ${YT}, got ${e.length}`);return e}static fromBuffer(e){const t=st.asReader(e);return new Cs(t.readBoolean(),H.fromBuffer(t))}static fromFields(e){const t=Ut.asReader(e);return new Cs(t.readBoolean(),t.readField())}static empty(){return new Cs(!1,H.ZERO)}isEmpty(){return!this.isSome&&this.value.isZero()}static from(e){return new Cs(...Cs.getFields(e))}static getFields(e){return[e.isSome,e.value]}}class Mu{constructor(e,t){x(this,"selector");x(this,"isPrivate");this.selector=e,this.isPrivate=t}static async fromAbi(e){return new Mu(await $t.fromNameAndParameters(e.name,e.parameters),e.functionType===Qr.PRIVATE)}static get schema(){return M.object({selector:$t.schema,isPrivate:M.boolean()}).transform(({selector:e,isPrivate:t})=>new Mu(e,t))}toBuffer(){return ft(this.selector,this.isPrivate)}toFields(){const e=[this.selector.toField(),new H(this.isPrivate)];if(e.length!==WT)throw new Error(`Invalid number of fields for FunctionData. Expected ${WT}, got ${e.length}`);return e}isEmpty(){return this.selector.isEmpty()}equals(e){return this.selector.equals(e.selector)&&this.isPrivate===e.isPrivate}static empty(e){return new Mu($t.empty(),(e==null?void 0:e.isPrivate)??!1)}static fromBuffer(e){const t=st.asReader(e);return new Mu(t.readObject($t),t.readBoolean())}static fromFields(e){const t=Ut.asReader(e),n=$t.fromFields(t),i=t.readBoolean();return new Mu(n,i)}}class r_{constructor(e,t,n,i){x(this,"l1ToL2MessageTree");x(this,"noteHashTree");x(this,"nullifierTree");x(this,"publicDataTree");this.l1ToL2MessageTree=e,this.noteHashTree=t,this.nullifierTree=n,this.publicDataTree=i}static get schema(){return M.object({l1ToL2MessageTree:qt.schema,noteHashTree:qt.schema,nullifierTree:qt.schema,publicDataTree:qt.schema}).transform(({l1ToL2MessageTree:e,noteHashTree:t,nullifierTree:n,publicDataTree:i})=>new r_(e,t,n,i))}getSize(){return this.l1ToL2MessageTree.getSize()+this.noteHashTree.getSize()+this.nullifierTree.getSize()+this.publicDataTree.getSize()}static fromBuffer(e){const t=st.asReader(e);return new r_(t.readObject(qt),t.readObject(qt),t.readObject(qt),t.readObject(qt))}toBuffer(){return ft(this.l1ToL2MessageTree,this.noteHashTree,this.nullifierTree,this.publicDataTree)}static fromFields(e){const t=Ut.asReader(e),n=qt.fromFields(t),i=qt.fromFields(t),s=qt.fromFields(t),c=qt.fromFields(t);return new r_(n,i,s,c)}toFields(){const e=[...this.l1ToL2MessageTree.toFields(),...this.noteHashTree.toFields(),...this.nullifierTree.toFields(),...this.publicDataTree.toFields()];if(e.length!==aI)throw new Error(`Invalid number of fields for TreeSnapshots. Expected ${aI}, got ${e.length}`);return e}static empty(){return new r_(qt.zero(),qt.zero(),qt.zero(),qt.zero())}isEmpty(){return this.l1ToL2MessageTree.isZero()&&this.noteHashTree.isZero()&&this.nullifierTree.isZero()&&this.publicDataTree.isZero()}[St.inspect.custom](){return`TreeSnapshots {
  l1ToL2MessageTree: ${St.inspect(this.l1ToL2MessageTree)},
  noteHashTree: ${St.inspect(this.noteHashTree)},
  nullifierTree: ${St.inspect(this.nullifierTree)},
  publicDataTree: ${St.inspect(this.publicDataTree)},
}`}}const eO=["da","l2"];class wr{constructor(e,t){x(this,"daGas");x(this,"l2Gas");this.daGas=e,this.l2Gas=t}static get schema(){return M.object({daGas:wt.UInt32,l2Gas:wt.UInt32}).transform(wr.from)}clone(){return new wr(this.daGas,this.l2Gas)}get(e){return this[`${e}Gas`]}equals(e){return this.daGas===e.daGas&&this.l2Gas===e.l2Gas}static from(e){return new wr(e.daGas??0,e.l2Gas??0)}static empty(){return new wr(0,0)}static random(){return new wr(Math.floor(Math.random()*1e9),Math.floor(Math.random()*1e9))}isEmpty(){return this.daGas===0&&this.l2Gas===0}static fromBuffer(e){const t=st.asReader(e);return new wr(t.readNumber(),t.readNumber())}toBuffer(){return ft(this.daGas,this.l2Gas)}[St.inspect.custom](){return`Gas { daGas=${this.daGas} l2Gas=${this.l2Gas} }`}add(e){return new wr(this.daGas+e.daGas,this.l2Gas+e.l2Gas)}sub(e){return new wr(this.daGas-e.daGas,this.l2Gas-e.l2Gas)}mul(e){return new wr(Math.ceil(this.daGas*e),Math.ceil(this.l2Gas*e))}gtAny(e){return this.daGas>e.daGas||this.l2Gas>e.l2Gas}computeFee(e){return eO.reduce((t,n)=>t.add(e.get(n).mul(new H(this.get(n)))),H.ZERO)}toFields(){return Wr(this.daGas,this.l2Gas)}static fromFields(e){const t=Ut.asReader(e);return new wr(t.readU32(),t.readU32())}}class Li{constructor(e,t,n,i){x(this,"gasLimits");x(this,"teardownGasLimits");x(this,"maxFeesPerGas");x(this,"maxPriorityFeesPerGas");this.gasLimits=e,this.teardownGasLimits=t,this.maxFeesPerGas=n,this.maxPriorityFeesPerGas=i}static get schema(){return M.object({gasLimits:wr.schema,teardownGasLimits:wr.schema,maxFeesPerGas:Jr.schema,maxPriorityFeesPerGas:Jr.schema}).transform(Li.from)}getSize(){return this.toBuffer().length}static from(e){return new Li(wr.from(e.gasLimits),wr.from(e.teardownGasLimits),Jr.from(e.maxFeesPerGas),Jr.from(e.maxPriorityFeesPerGas))}clone(){return new Li(this.gasLimits.clone(),this.teardownGasLimits.clone(),this.maxFeesPerGas.clone(),this.maxPriorityFeesPerGas.clone())}getFeeLimit(){return eO.reduce((e,t)=>this.maxFeesPerGas.get(t).mul(new H(this.gasLimits.get(t))).add(e),H.ZERO)}static empty(){return new Li(wr.empty(),wr.empty(),Jr.empty(),Jr.empty())}static default(e){return Li.from({gasLimits:e.gasLimits??{l2Gas:gI,daGas:gI},teardownGasLimits:e.teardownGasLimits??{l2Gas:_I,daGas:_I},maxFeesPerGas:e.maxFeesPerGas,maxPriorityFeesPerGas:e.maxPriorityFeesPerGas??Jr.empty()})}isEmpty(){return this.gasLimits.isEmpty()&&this.teardownGasLimits.isEmpty()&&this.maxFeesPerGas.isEmpty()&&this.maxPriorityFeesPerGas.isEmpty()}equals(e){return this.gasLimits.equals(e.gasLimits)&&this.teardownGasLimits.equals(e.teardownGasLimits)&&this.maxFeesPerGas.equals(e.maxFeesPerGas)&&this.maxPriorityFeesPerGas.equals(e.maxPriorityFeesPerGas)}static fromBuffer(e){const t=st.asReader(e);return new Li(t.readObject(wr),t.readObject(wr),t.readObject(Jr),t.readObject(Jr))}toBuffer(){return ft(...Li.getFields(this))}static fromFields(e){const t=Ut.asReader(e);return new Li(t.readObject(wr),t.readObject(wr),t.readObject(Jr),t.readObject(Jr))}toFields(){const e=Wr(...Li.getFields(this));if(e.length!==HT)throw new Error(`Invalid number of fields for GasSettings. Expected ${HT} but got ${e.length}`);return e}static getFields(e){return[e.gasLimits,e.teardownGasLimits,e.maxFeesPerGas,e.maxPriorityFeesPerGas]}}class Gr{constructor(e,t,n){x(this,"gasSettings");x(this,"chainId");x(this,"version");this.gasSettings=n,this.chainId=new H(e),this.version=new H(t)}static get schema(){return M.object({chainId:wt.Fr,version:wt.Fr,gasSettings:Li.schema}).transform(Gr.from)}getSize(){return this.chainId.size+this.version.size+this.gasSettings.getSize()}clone(){return new Gr(this.chainId,this.version,this.gasSettings.clone())}toBuffer(){return ft(...Gr.getFields(this))}static fromFields(e){const t=Ut.asReader(e);return new Gr(t.readField(),t.readField(),t.readObject(Li))}toFields(){const e=Wr(...Gr.getFields(this));if(e.length!==oI)throw new Error(`Invalid number of fields for TxContext. Expected ${oI}, got ${e.length}`);return e}static fromBuffer(e){const t=st.asReader(e);return new Gr(H.fromBuffer(t),H.fromBuffer(t),t.readObject(Li))}static empty(e=0,t=0){return new Gr(new H(e),new H(t),Li.empty())}isEmpty(){return this.chainId.isZero()&&this.version.isZero()&&this.gasSettings.isEmpty()}static from(e){return new Gr(...Gr.getFields(e))}static getFields(e){return[e.chainId,e.version,e.gasSettings]}}class ui{constructor(e,t,n,i){x(this,"historicalHeader");x(this,"txContext");x(this,"vkTreeRoot");x(this,"protocolContractTreeRoot");this.historicalHeader=e,this.txContext=t,this.vkTreeRoot=n,this.protocolContractTreeRoot=i}static from(e){return new ui(...ui.getFields(e))}static getFields(e){return[e.historicalHeader,e.txContext,e.vkTreeRoot,e.protocolContractTreeRoot]}static fromFields(e){const t=Ut.asReader(e);return new ui(t.readObject(Kr),t.readObject(Gr),t.readField(),t.readField())}toFields(){const e=Wr(...ui.getFields(this));if(e.length!==fI)throw new Error(`Invalid number of fields for TxConstantData. Expected ${fI}, got ${e.length}`);return e}static fromBuffer(e){const t=st.asReader(e);return new ui(t.readObject(Kr),t.readObject(Gr),H.fromBuffer(t),H.fromBuffer(t))}toBuffer(){return ft(...ui.getFields(this))}static empty(){return new ui(Kr.empty(),Gr.empty(),H.ZERO,H.ZERO)}getSize(){return this.historicalHeader.getSize()+this.txContext.getSize()+this.vkTreeRoot.size+this.protocolContractTreeRoot.size}clone(){return ui.fromBuffer(this.toBuffer())}}class Ou{constructor(e,t,n,i){x(this,"origin");x(this,"functionData");x(this,"argsHash");x(this,"txContext");this.origin=e,this.functionData=t,this.argsHash=n,this.txContext=i}static getFields(e){return[e.origin,e.functionData,e.argsHash,e.txContext]}static from(e){return new Ou(...Ou.getFields(e))}toBuffer(){return ft([...Ou.getFields(this)])}toFields(){const e=Wr(...Ou.getFields(this));if(e.length!==cI)throw new Error(`Invalid number of fields for TxRequest. Expected ${cI}, got ${e.length}`);return e}static fromBuffer(e){const t=st.asReader(e);return new Ou(t.readObject(tt),t.readObject(Mu),H.fromBuffer(t),t.readObject(Gr))}hash(){return Nn(this.toFields(),Vr.TX_REQUEST)}static empty(){return new Ou(tt.ZERO,Mu.empty(),H.zero(),Gr.empty())}isEmpty(){return this.origin.isZero()&&this.functionData.isEmpty()&&this.argsHash.isZero()&&this.txContext.isEmpty()}}class Lc{constructor(e,t){x(this,"pkM");x(this,"skApp");this.pkM=e,this.skApp=t instanceof H?t:new H(t.toBigInt())}toBuffer(){return ft(this.pkM,this.skApp)}get skAppAsGrumpkinScalar(){return new Zl(this.skApp.toBigInt())}static fromBuffer(e){const t=st.asReader(e);return new Lc(gr.fromBuffer(t),H.fromBuffer(t))}toFields(){const e=[this.pkM.toFields(),this.skApp].flat();if(e.length!==XT)throw new Error(`Invalid number of fields for KeyValidationRequest. Expected ${XT}, got ${e.length}`);return e}static fromFields(e){const t=Ut.asReader(e);return new Lc(gr.fromFields(t),t.readField())}isEmpty(){return this.pkM.isZero()&&this.skApp.isZero()}static empty(){return new Lc(gr.ZERO,H.ZERO)}static async random(){return new Lc(await gr.random(),H.random())}}class Vo{constructor(e,t){x(this,"request");x(this,"skAppGenerator");this.request=e,this.skAppGenerator=t}toBuffer(){return ft(this.request,this.skAppGenerator)}static fromBuffer(e){const t=st.asReader(e);return new Vo(t.readObject(Lc),H.fromBuffer(t))}toFields(){const e=[...this.request.toFields(),this.skAppGenerator];if(e.length!==JT)throw new Error(`Invalid number of fields for KeyValidationRequestAndGenerator. Expected ${JT}, got ${e.length}`);return e}static fromFields(e){const t=Ut.asReader(e);return new Vo(Lc.fromFields(t),t.readField())}isEmpty(){return this.request.isEmpty()&&this.skAppGenerator.isZero()}static empty(){return new Vo(Lc.empty(),H.ZERO)}}class Wo{constructor(e,t,n){x(this,"value");x(this,"counter");x(this,"length");this.value=e,this.counter=t,this.length=n}toFields(){return[this.value,new H(this.counter),new H(this.length)]}static fromFields(e){const t=Ut.asReader(e);return new Wo(t.readField(),t.readU32(),t.readU32())}isEmpty(){return this.value.isZero()&&!this.length&&!this.counter}static empty(){return new Wo(H.zero(),0,0)}toBuffer(){return ft(this.value,this.counter,this.length)}static fromBuffer(e){const t=st.asReader(e);return new Wo(H.fromBuffer(t),t.readNumber(),t.readNumber())}toString(){return`value=${this.value} counter=${this.counter} length=${this.length}`}scope(e){return new Aa(this,e)}[St.inspect.custom](){return`LogHash { ${this.toString()} }`}}class Aa{constructor(e,t){x(this,"logHash");x(this,"contractAddress");this.logHash=e,this.contractAddress=t}get counter(){return this.logHash.counter}get value(){return this.logHash.value}toFields(){return[...this.logHash.toFields(),this.contractAddress.toField()]}static fromFields(e){const t=Ut.asReader(e);return new Aa(t.readObject(Wo),tt.fromField(t.readField()))}isEmpty(){return this.logHash.isEmpty()&&this.contractAddress.isZero()}static empty(){return new Aa(Wo.empty(),tt.ZERO)}toBuffer(){return ft(this.logHash,this.contractAddress)}static fromBuffer(e){const t=st.asReader(e);return new Aa(Wo.fromBuffer(t),tt.fromBuffer(t))}toString(){return`logHash=${this.logHash} contractAddress=${this.contractAddress}`}}class $c{constructor(e,t,n,i,s){x(this,"callContext");x(this,"argsHash");x(this,"returnsHash");x(this,"startSideEffectCounter");x(this,"endSideEffectCounter");this.callContext=e,this.argsHash=t,this.returnsHash=n,this.startSideEffectCounter=i,this.endSideEffectCounter=s}toFields(){return Wr([this.callContext,this.argsHash,this.returnsHash,this.startSideEffectCounter,this.endSideEffectCounter])}static fromFields(e){const t=Ut.asReader(e);return new $c(t.readObject(Pn),t.readField(),t.readField(),t.readU32(),t.readU32())}toBuffer(){return ft(this.callContext,this.argsHash,this.returnsHash,this.startSideEffectCounter,this.endSideEffectCounter)}static fromBuffer(e){const t=st.asReader(e);return new $c(t.readObject(Pn),H.fromBuffer(t),H.fromBuffer(t),t.readNumber(),t.readNumber())}isEmpty(){return this.callContext.isEmpty()&&this.argsHash.isZero()&&this.returnsHash.isZero()&&this.startSideEffectCounter===0&&this.endSideEffectCounter===0}static empty(){return new $c(Pn.empty(),H.ZERO,H.ZERO,0,0)}equals(e){return e.callContext.equals(this.callContext)&&e.argsHash.equals(this.argsHash)&&e.returnsHash.equals(this.returnsHash)&&e.startSideEffectCounter===this.startSideEffectCounter&&e.endSideEffectCounter===this.endSideEffectCounter}toString(){return`PrivateCallRequest(callContext: ${this.callContext}, argsHash: ${this.argsHash}, returnsHash: ${this.returnsHash}, startSideEffectCounter: ${this.startSideEffectCounter}, endSideEffectCounter: ${this.endSideEffectCounter})`}}const Ml=class Ml{constructor(e){x(this,"fields");this.fields=e}toFields(){return this.fields}static fromFields(e){const t=Ut.asReader(e);return new Ml(t.readFieldArray(Do))}isEmpty(){return this.fields.every(e=>e.isZero())}static empty(){return new Ml(zt(Do,H.zero))}toBuffer(){return ft(this.fields)}static fromBuffer(e){const t=st.asReader(e);return new Ml(t.readArray(Do,H))}static random(e=H.random()){return Ml.fromFields([e,...Array.from({length:Do-1},()=>H.random())])}getEmittedLength(){return this.getEmittedFields().length}getEmittedFields(){const e=this.fields.findLastIndex(t=>!t.isZero());return this.fields.slice(0,e+1)}static get schema(){return M.object({fields:M.array(wt.Fr)}).transform(({fields:e})=>Ml.fromFields(e))}equals(e){return this.fields.every((t,n)=>t.equals(e.fields[n]))}[St.inspect.custom](){return`PrivateLog {
      fields: [${this.fields.map(e=>St.inspect(e)).join(", ")}],
    }`}};x(Ml,"SIZE_IN_BYTES",H.SIZE_IN_BYTES*Do);let Zn=Ml;class Ts{constructor(e,t,n){x(this,"log");x(this,"noteHashCounter");x(this,"counter");this.log=e,this.noteHashCounter=t,this.counter=n}static from(e){return new Ts(...Ts.getFields(e))}static getFields(e){return[e.log,e.noteHashCounter,e.counter]}static fromFields(e){const t=Ut.asReader(e);return new Ts(t.readObject(Zn),t.readU32(),t.readU32())}toFields(){const e=Wr(...Ts.getFields(this));if(e.length!==tI)throw new Error(`Invalid number of fields for PrivateLogData. Expected ${tI}, got ${e.length}`);return e}static fromBuffer(e){const t=st.asReader(e);return new Ts(t.readObject(Zn),t.readNumber(),t.readNumber())}toBuffer(){return ft(...Ts.getFields(this))}static empty(){return new Ts(Zn.empty(),0,0)}isEmpty(){return this.log.isEmpty()&&!this.noteHashCounter&&!this.counter}[St.inspect.custom](){return`PrivateLogData {
      log: ${this.log}
      noteHashCounter: ${this.noteHashCounter}
      counter: ${this.counter}
    }`}}class Lo{constructor(e,t){x(this,"inner");x(this,"contractAddress");this.inner=e,this.contractAddress=t}static from(e){return new Lo(...Lo.getFields(e))}static getFields(e){return[e.inner,e.contractAddress]}toFields(){return Wr(...Lo.getFields(this))}static fromFields(e){const t=Ut.asReader(e);return new Lo(t.readObject(Ts),tt.fromField(t.readField()))}isEmpty(){return this.inner.isEmpty()&&this.contractAddress.isZero()}static empty(){return new Lo(Ts.empty(),tt.ZERO)}toBuffer(){return ft(...Lo.getFields(this))}static fromBuffer(e){const t=st.asReader(e);return new Lo(Ts.fromBuffer(t),tt.fromBuffer(t))}[St.inspect.custom](){return`ScopedPrivateLogData {
      inner: ${this.inner}
      contractAddress: ${this.contractAddress}
    }`}}class Ea{constructor(e,t,n){x(this,"recipient");x(this,"content");x(this,"counter");this.recipient=e,this.content=t,this.counter=n}static get schema(){return M.object({recipient:wt.EthAddress,content:wt.Fr,counter:M.number().int().nonnegative()}).transform(({recipient:e,content:t,counter:n})=>new Ea(e,t,n))}static empty(){return new Ea(ea.ZERO,H.zero(),0)}equals(e){return this.recipient.equals(e.recipient)&&this.content.equals(e.content)&&this.counter===e.counter}toBuffer(){return ft(this.recipient,this.content,this.counter)}toFields(){const e=[this.recipient.toField(),this.content,new H(this.counter)];if(e.length!==KT)throw new Error(`Invalid number of fields for L2ToL1Message. Expected ${KT}, got ${e.length}`);return e}static fromFields(e){const t=Ut.asReader(e);return new Ea(t.readObject(ea),t.readField(),t.readU32())}static fromBuffer(e){const t=st.asReader(e);return new Ea(t.readObject(ea),t.readObject(H),t.readNumber())}isEmpty(){return this.recipient.isZero()&&this.content.isZero()&&!this.counter}scope(e){return new Ei(this,e)}}class Ei{constructor(e,t){x(this,"message");x(this,"contractAddress");this.message=e,this.contractAddress=t}static get schema(){return M.object({message:Ea.schema,contractAddress:tt.schema}).transform(({message:e,contractAddress:t})=>new Ei(e,t))}static getFields(e){return[e.message,e.contractAddress]}static empty(){return new Ei(Ea.empty(),tt.ZERO)}equals(e){return this.message.equals(e.message)&&this.contractAddress.equals(e.contractAddress)}toBuffer(){return ft(this.message,this.contractAddress)}static fromBuffer(e){const t=st.asReader(e);return new Ei(t.readObject(Ea),t.readObject(tt))}static fromFields(e){const t=Ut.asReader(e);return new Ei(t.readObject(Ea),t.readObject(tt))}toFields(){const e=Wr(...Ei.getFields(this));if(e.length!==GT)throw new Error(`Invalid number of fields for ScopedL2ToL1Message. Expected ${GT}, got ${e.length}`);return e}isEmpty(){return this.message.isEmpty()&&this.contractAddress.isZero()}}class Ys{constructor(e,t){x(this,"value");x(this,"counter");this.value=e,this.counter=t}toBuffer(){return ft(this.value,this.counter)}static fromBuffer(e){const t=st.asReader(e);return new Ys(H.fromBuffer(t),t.readNumber())}toFields(){return[this.value,new H(this.counter)]}static fromFields(e){const t=Ut.asReader(e);return new Ys(t.readField(),t.readU32())}isEmpty(){return this.value.isZero()&&!this.counter}static empty(){return new Ys(H.zero(),0)}scope(e){return new va(this,e)}}class va{constructor(e,t){x(this,"readRequest");x(this,"contractAddress");this.readRequest=e,this.contractAddress=t}get value(){return this.readRequest.value}get counter(){return this.readRequest.counter}toBuffer(){return ft(this.readRequest,this.contractAddress)}static fromBuffer(e){const t=st.asReader(e);return new va(Ys.fromBuffer(t),tt.fromBuffer(t))}toFields(){return[...this.readRequest.toFields(),this.contractAddress.toField()]}static fromFields(e){const t=Ut.asReader(e);return new va(t.readObject(Ys),tt.fromField(t.readField()))}isEmpty(){return this.readRequest.isEmpty()&&this.contractAddress.isZero()}static empty(){return new va(Ys.empty(),tt.ZERO)}}class Zo{constructor(e,t){x(this,"value");x(this,"counter");this.value=e,this.counter=t}toFields(){return[this.value,new H(this.counter)]}static fromFields(e){const t=Ut.asReader(e);return new Zo(t.readField(),t.readU32())}isEmpty(){return this.value.isZero()&&!this.counter}static empty(){return new Zo(H.zero(),0)}toBuffer(){return ft(this.value,this.counter)}static fromBuffer(e){const t=st.asReader(e);return new Zo(H.fromBuffer(t),t.readNumber())}toString(){return`value=${this.value} counter=${this.counter}`}scope(e){return new Vu(this,e)}}class Vu{constructor(e,t){x(this,"noteHash");x(this,"contractAddress");this.noteHash=e,this.contractAddress=t}get counter(){return this.noteHash.counter}get value(){return this.noteHash.value}toFields(){return[...this.noteHash.toFields(),this.contractAddress.toField()]}static fromFields(e){const t=Ut.asReader(e);return new Vu(t.readObject(Zo),tt.fromField(t.readField()))}isEmpty(){return this.noteHash.isEmpty()&&this.contractAddress.isZero()}static empty(){return new Vu(Zo.empty(),tt.ZERO)}toBuffer(){return ft(this.noteHash,this.contractAddress)}static fromBuffer(e){const t=st.asReader(e);return new Vu(Zo.fromBuffer(t),tt.fromBuffer(t))}toString(){return`noteHash=${this.noteHash} contractAddress=${this.contractAddress}`}}class Ko{constructor(e,t,n){x(this,"value");x(this,"counter");x(this,"noteHash");this.value=e,this.counter=t,this.noteHash=n}toFields(){return[this.value,new H(this.counter),this.noteHash]}static fromFields(e){const t=Ut.asReader(e);return new Ko(t.readField(),t.readU32(),t.readField())}isEmpty(){return this.value.isZero()&&!this.counter&&this.noteHash.isZero()}static empty(){return new Ko(H.zero(),0,H.zero())}toBuffer(){return ft(this.value,this.counter,this.noteHash)}static fromBuffer(e){const t=st.asReader(e);return new Ko(H.fromBuffer(t),t.readNumber(),H.fromBuffer(t))}toString(){return`value=${this.value} counter=${this.counter} noteHash=${this.noteHash}`}scope(e){return new Wu(this,e)}}class Wu{constructor(e,t){x(this,"nullifier");x(this,"contractAddress");this.nullifier=e,this.contractAddress=t}get counter(){return this.nullifier.counter}get value(){return this.nullifier.value}get nullifiedNoteHash(){return this.nullifier.noteHash}toFields(){return[...this.nullifier.toFields(),this.contractAddress.toField()]}static fromFields(e){const t=Ut.asReader(e);return new Wu(t.readObject(Ko),tt.fromField(t.readField()))}isEmpty(){return this.nullifier.isEmpty()&&this.contractAddress.isZero()}static empty(){return new Wu(Ko.empty(),tt.ZERO)}toBuffer(){return ft(this.nullifier,this.contractAddress)}static fromBuffer(e){const t=st.asReader(e);return new Wu(Ko.fromBuffer(t),tt.fromBuffer(t))}toString(){return`nullifier=${this.nullifier} contractAddress=${this.contractAddress}`}}class bn{constructor(e,t,n,i,s){x(this,"msgSender");x(this,"contractAddress");x(this,"functionSelector");x(this,"isStaticCall");x(this,"argsHash");this.msgSender=e,this.contractAddress=t,this.functionSelector=n,this.isStaticCall=i,this.argsHash=s}static get schema(){return M.object({msgSender:tt.schema,contractAddress:tt.schema,functionSelector:$t.schema,isStaticCall:M.boolean(),argsHash:wt.Fr}).transform(({msgSender:e,contractAddress:t,functionSelector:n,isStaticCall:i,argsHash:s})=>new bn(e,t,n,i,s))}getSize(){return this.isEmpty()?0:this.toBuffer().length}static from(e){return new bn(...bn.getFields(e))}static getFields(e){return[e.msgSender,e.contractAddress,e.functionSelector,e.isStaticCall,e.argsHash]}static fromFields(e){const t=Ut.asReader(e);return new bn(t.readObject(tt),t.readObject(tt),t.readObject($t),t.readBoolean(),t.readField())}toFields(){const e=Wr(...bn.getFields(this));if(e.length!==rI)throw new Error(`Invalid number of fields for PublicCallRequest. Expected ${rI}, got ${e.length}`);return e}static fromBuffer(e){const t=st.asReader(e);return new bn(t.readObject(tt),t.readObject(tt),t.readObject($t),t.readBoolean(),t.readObject(H))}toBuffer(){return ft(...bn.getFields(this))}static empty(){return new bn(tt.ZERO,tt.ZERO,$t.empty(),!1,H.ZERO)}isEmpty(){return this.msgSender.isZero()&&this.contractAddress.isZero()&&this.functionSelector.isEmpty()&&!this.isStaticCall&&this.argsHash.isEmpty()}[St.inspect.custom](){return`PublicCallRequest {
      msgSender: ${this.msgSender}
      contractAddress: ${this.contractAddress}
      functionSelector: ${this.functionSelector}
      isStaticCall: ${this.isStaticCall}
      argsHash: ${this.argsHash}
    }`}}class ao{constructor(e,t){x(this,"inner");x(this,"counter");this.inner=e,this.counter=t}getSize(){return this.isEmpty()?0:this.toBuffer().length}static getFields(e){return[e.inner,e.counter]}static fromFields(e){const t=Ut.asReader(e);return new ao(t.readObject(bn),t.readU32())}toFields(){const e=Wr(...ao.getFields(this));if(e.length!==nI)throw new Error(`Invalid number of fields for CountedPublicCallRequest. Expected ${nI}, got ${e.length}`);return e}static fromBuffer(e){const t=st.asReader(e);return new ao(t.readObject(bn),t.readNumber())}toBuffer(){return ft(...ao.getFields(this))}static empty(){return new ao(bn.empty(),0)}isEmpty(){return this.inner.isEmpty()&&this.counter==0}}function oi(r){return r.reduce((e,t,n)=>{if(!t.isEmpty()){if(e!==n)throw new Error("Non-empty items must be placed continuously from index 0.");return e+1}return e},0)}function Z0(r,e,t=r.length){const n=oi(r),i=oi(e);if(n+i>t)throw new Error("Combined non-empty items exceeded the maximum allowed.");const s=[...r];return e.slice(0,i).forEach((c,u)=>s[u+n]=c),s}function Xz(r,e,t=!0){return[...r].sort((n,i)=>n.isEmpty()?1:i.isEmpty()?-1:t?e(n,i):e(i,n))}function Jz(r,e){return r.counter-e.counter}function tO(r,e=!0){return Xz(r,Jz,e)}function yc(r){return r.every(e=>e.isEmpty())}function em(r){return r.filter(e=>!e.isEmpty())}class wa{constructor(e,t,n,i,s,c,u,d,l,m,y,b,E,I,S,P,N,k,R,L,U){x(this,"callContext");x(this,"argsHash");x(this,"returnsHash");x(this,"minRevertibleSideEffectCounter");x(this,"isFeePayer");x(this,"maxBlockNumber");x(this,"noteHashReadRequests");x(this,"nullifierReadRequests");x(this,"keyValidationRequestsAndGenerators");x(this,"noteHashes");x(this,"nullifiers");x(this,"privateCallRequests");x(this,"publicCallRequests");x(this,"publicTeardownCallRequest");x(this,"l2ToL1Msgs");x(this,"privateLogs");x(this,"contractClassLogsHashes");x(this,"startSideEffectCounter");x(this,"endSideEffectCounter");x(this,"historicalHeader");x(this,"txContext");this.callContext=e,this.argsHash=t,this.returnsHash=n,this.minRevertibleSideEffectCounter=i,this.isFeePayer=s,this.maxBlockNumber=c,this.noteHashReadRequests=u,this.nullifierReadRequests=d,this.keyValidationRequestsAndGenerators=l,this.noteHashes=m,this.nullifiers=y,this.privateCallRequests=b,this.publicCallRequests=E,this.publicTeardownCallRequest=I,this.l2ToL1Msgs=S,this.privateLogs=P,this.contractClassLogsHashes=N,this.startSideEffectCounter=k,this.endSideEffectCounter=R,this.historicalHeader=L,this.txContext=U}static from(e){return new wa(...wa.getFields(e))}static fromBuffer(e){const t=st.asReader(e);return new wa(t.readObject(Pn),t.readObject(H),t.readObject(H),t.readObject(H),t.readBoolean(),t.readObject(Cs),t.readArray(BE,Ys),t.readArray(NE,Ys),t.readArray(OE,Vo),t.readArray(TE,Zo),t.readArray(IE,Ko),t.readArray(kE,$c),t.readArray(RE,ao),t.readObject(bn),t.readArray(PE,Ea),t.readArray(FE,Ts),t.readArray(LE,Wo),t.readObject(H),t.readObject(H),t.readObject(Kr),t.readObject(Gr))}static fromFields(e){const t=Ut.asReader(e);return new wa(t.readObject(Pn),t.readField(),t.readField(),t.readField(),t.readBoolean(),t.readObject(Cs),t.readArray(BE,Ys),t.readArray(NE,Ys),t.readArray(OE,Vo),t.readArray(TE,Zo),t.readArray(IE,Ko),t.readArray(kE,$c),t.readArray(RE,ao),t.readObject(bn),t.readArray(PE,Ea),t.readArray(FE,Ts),t.readArray(LE,Wo),t.readField(),t.readField(),t.readObject(Kr),t.readObject(Gr))}static empty(){return new wa(Pn.empty(),H.ZERO,H.ZERO,H.ZERO,!1,Cs.empty(),zt(BE,Ys.empty),zt(NE,Ys.empty),zt(OE,Vo.empty),zt(TE,Zo.empty),zt(IE,Ko.empty),zt(kE,$c.empty),zt(RE,ao.empty),bn.empty(),zt(PE,Ea.empty),zt(FE,Ts.empty),zt(LE,Wo.empty),H.ZERO,H.ZERO,Kr.empty(),Gr.empty())}isEmpty(){return this.callContext.isEmpty()&&this.argsHash.isZero()&&this.returnsHash.isZero()&&this.minRevertibleSideEffectCounter.isZero()&&!this.isFeePayer&&this.maxBlockNumber.isEmpty()&&yc(this.noteHashReadRequests)&&yc(this.nullifierReadRequests)&&yc(this.keyValidationRequestsAndGenerators)&&yc(this.noteHashes)&&yc(this.nullifiers)&&yc(this.privateCallRequests)&&yc(this.publicCallRequests)&&this.publicTeardownCallRequest.isEmpty()&&yc(this.l2ToL1Msgs)&&yc(this.privateLogs)&&yc(this.contractClassLogsHashes)&&this.startSideEffectCounter.isZero()&&this.endSideEffectCounter.isZero()&&this.historicalHeader.isEmpty()&&this.txContext.isEmpty()}static getFields(e){return[e.callContext,e.argsHash,e.returnsHash,e.minRevertibleSideEffectCounter,e.isFeePayer,e.maxBlockNumber,e.noteHashReadRequests,e.nullifierReadRequests,e.keyValidationRequestsAndGenerators,e.noteHashes,e.nullifiers,e.privateCallRequests,e.publicCallRequests,e.publicTeardownCallRequest,e.l2ToL1Msgs,e.privateLogs,e.contractClassLogsHashes,e.startSideEffectCounter,e.endSideEffectCounter,e.historicalHeader,e.txContext]}toBuffer(){return ft(...wa.getFields(this))}toFields(){const e=Wr(...wa.getFields(this));if(e.length!==xx)throw new Error(`Invalid number of fields for PrivateCircuitPublicInputs. Expected ${xx}, got ${e.length}`);return e}toJSON(){return this.toBuffer()}static get schema(){return df(wa)}}const vc=class vc{constructor(e,t){x(this,"contractAddress");x(this,"fields");x(this,"unsiloedFirstField");if(this.contractAddress=e,this.fields=t,t.length!==id)throw new Error(`Invalid number of fields for ContractClassLog. Expected ${id}, got ${t.length}`)}toFields(){return[this.contractAddress.toField(),...this.fields]}equals(e){return this.contractAddress.equals(e.contractAddress)&&this.fields.length===e.fields.length&&this.fields.every((t,n)=>t.equals(e.fields[n]))}static fromFields(e){const t=Ut.asReader(e);return new vc(t.readObject(tt),Array.from({length:id},()=>t.readField()))}isEmpty(){return this.fields.every(e=>e.isZero())}static empty(){return new vc(tt.ZERO,new Array(id).fill(H.ZERO))}toBuffer(){return ft([this.contractAddress,this.fields])}static fromBuffer(e){const t=st.asReader(e),n=t.readObject(tt),i=Array.from({length:id},()=>t.remainingBytes()==0?H.ZERO:H.fromBuffer(t));return new vc(n,i)}clone(){return vc.fromBuffer(this.toBuffer())}static async random(){const e=Array.from({length:Math.ceil(id/2)},()=>H.random());return new vc(await tt.random(),e.concat(Array.from({length:Math.floor(id/2)},()=>H.ZERO)))}getEmittedLength(){return this.getEmittedFields().length}getEmittedFields(){const e=this.fields.findLastIndex(t=>!t.isZero());return this.fields.slice(0,e+1)}setUnsiloedFirstField(e){this.unsiloedFirstField=e}toUnsiloed(){return this.unsiloedFirstField?new vc(this.contractAddress,[this.unsiloedFirstField].concat(this.fields.slice(1))):this}async silo(){const e=this.clone();return e.contractAddress.isZero()||(e.setUnsiloedFirstField(e.fields[0]),e.fields[0]=await sa([e.contractAddress,e.fields[0]])),e}async hash(){return await sa(this.fields)}static get schema(){return M.object({contractAddress:tt.schema,fields:M.array(wt.Fr)}).transform(({contractAddress:e,fields:t})=>vc.fromFields([e.toField(),...t]))}[St.inspect.custom](){return`ContractClassLog {
      fields: [${this.fields.map(e=>St.inspect(e)).join(", ")}],
    }`}};x(vc,"SIZE_IN_BYTES",H.SIZE_IN_BYTES*vN);let hs=vc;class Cd extends Jl{toJSON(){return this.toBuffer()}static get schema(){return Qe.Buffer.transform(Cd.fromBuffer)}static fromBuffer(e){const t=st.asReader(e);return new Cd(t.readVector(H))}static random(){const e=HA(10)+1,t=Array.from({length:e},()=>H.random());return new Cd(t)}toString(){return qr(this.toBuffer())}static fromString(e){return Cd.fromBuffer(tn(e))}get length(){return this.items.length}equals(e){return this.items.every((t,n)=>t.equals(e.items[n]))}}class Bs extends Cd{static get schema(){return wt.Buffer.transform(Bs.fromBuffer)}static fromBuffer(e){const t=st.asReader(e);return new Bs(t.readVector(H))}}class Mn{constructor(e,t){x(this,"callContext");x(this,"args");this.callContext=e,this.args=t}getSize(){return this.isEmpty()?0:this.toBuffer().length}toBuffer(){return ft(this.callContext,new Jl(this.args))}static get schema(){return M.object({callContext:Pn.schema,args:M.array(Qe.Fr)}).transform(Mn.from)}static fromBuffer(e){const t=st.asReader(e);return new Mn(Pn.fromBuffer(t),t.readVector(H))}static from(e){return new Mn(...Mn.getFields(e))}static getFields(e){return[e.callContext,e.args]}static empty(){return new Mn(Pn.empty(),[])}static async random(){return new Mn(await Pn.random(),[H.random(),H.random()])}isEmpty(){return this.callContext.isEmpty()&&this.args.length===0}async isForCallRequest(e){return this.callContext.msgSender.equals(e.msgSender)&&this.callContext.contractAddress.equals(e.contractAddress)&&this.callContext.functionSelector.equals(e.functionSelector)&&this.callContext.isStaticCall==e.isStaticCall&&(await Fw(this.args)).equals(e.argsHash)}async toCallRequest(){return new bn(this.callContext.msgSender,this.callContext.contractAddress,this.callContext.functionSelector,this.callContext.isStaticCall,await Fw(this.args))}[St.inspect.custom](){return`PublicExecutionRequest {
      callContext: ${St.inspect(this.callContext)}
      args: ${this.args}
    }`}}class Xd{constructor(e,t,n){x(this,"note");x(this,"storageSlot");x(this,"noteTypeId");this.note=e,this.storageSlot=t,this.noteTypeId=n}static get schema(){return M.object({note:Bs.schema,storageSlot:Qe.Fr,noteTypeId:Qe.NoteSelector}).transform(Xd.from)}static from(e){return new Xd(e.note,e.storageSlot,e.noteTypeId)}static random(){return new Xd(Bs.random(),H.random(),no.random())}}class tm{constructor(e,t){x(this,"log");x(this,"counter");this.log=e,this.counter=t}static get schema(){return M.object({log:hs.schema,counter:Qe.Integer}).transform(tm.from)}static from(e){return new tm(e.log,e.counter)}isEmpty(){return this.log.isEmpty()&&!this.counter}}class Jd{constructor(e,t){x(this,"request");x(this,"counter");this.request=e,this.counter=t}static get schema(){return M.object({request:Mn.schema,counter:Qe.Integer}).transform(Jd.from)}static from(e){return new Jd(e.request,e.counter)}isEmpty(){return this.request.isEmpty()&&!this.counter}static async random(){return new Jd(await Mn.random(),0)}}class Uc{constructor(e,t){x(this,"entrypoint");x(this,"firstNullifier");this.entrypoint=e,this.firstNullifier=t}static get schema(){return M.object({entrypoint:ju.schema,firstNullifier:Qe.Fr}).transform(Uc.from)}static from(e){return new Uc(e.entrypoint,e.firstNullifier)}static async random(e=1){return new Uc(await ju.random(e),H.random())}}class ju{constructor(e,t,n,i,s,c,u,d,l,m,y,b){x(this,"acir");x(this,"vk");x(this,"partialWitness");x(this,"publicInputs");x(this,"noteHashLeafIndexMap");x(this,"newNotes");x(this,"noteHashNullifierCounterMap");x(this,"returnValues");x(this,"nestedExecutions");x(this,"enqueuedPublicFunctionCalls");x(this,"publicTeardownFunctionCall");x(this,"contractClassLogs");this.acir=e,this.vk=t,this.partialWitness=n,this.publicInputs=i,this.noteHashLeafIndexMap=s,this.newNotes=c,this.noteHashNullifierCounterMap=u,this.returnValues=d,this.nestedExecutions=l,this.enqueuedPublicFunctionCalls=m,this.publicTeardownFunctionCall=y,this.contractClassLogs=b}static get schema(){return M.object({acir:Qe.Buffer,vk:Qe.Buffer,partialWitness:rE(M.coerce.number(),M.string()),publicInputs:wa.schema,noteHashLeafIndexMap:rE(Qe.BigInt,Qe.BigInt),newNotes:M.array(Xd.schema),noteHashNullifierCounterMap:rE(M.coerce.number(),M.number()),returnValues:M.array(Qe.Fr),nestedExecutions:M.array(M.lazy(()=>ju.schema)),enqueuedPublicFunctionCalls:M.array(Jd.schema),publicTeardownFunctionCall:Mn.schema,contractClassLogs:M.array(tm.schema)}).transform(ju.from)}static from(e){return new ju(e.acir,e.vk,e.partialWitness,e.publicInputs,e.noteHashLeafIndexMap,e.newNotes,e.noteHashNullifierCounterMap,e.returnValues,e.nestedExecutions,e.enqueuedPublicFunctionCalls,e.publicTeardownFunctionCall,e.contractClassLogs)}static async random(e=1){return new ju(Ta(4),Ta(4),new Map([[1,"one"]]),wa.empty(),new Map([[1n,1n]]),[Xd.random()],new Map([[0,0]]),[H.random()],await UA(e,()=>ju.random(0)),[await Jd.random()],await Mn.random(),[new tm(await hs.random(),HA(10))])}}function Qz(r){const e=new Map,t=(n,i)=>{n.noteHashLeafIndexMap.forEach((s,c)=>i.set(c,s)),n.nestedExecutions.forEach(s=>t(s,i))};return t(r.entrypoint,e),e}function e7(r){const e=new Map,t=(n,i)=>{n.noteHashNullifierCounterMap.forEach((s,c)=>i.set(c,s)),n.nestedExecutions.forEach(s=>t(s,i))};return t(r.entrypoint,e),e}function rO(r){return[r.contractClassLogs,...r.nestedExecutions.flatMap(rO)].flat()}function nO(r){const e=rO(r.entrypoint);return tO(e).map(n=>n.log)}function iO(r){return[...r.enqueuedPublicFunctionCalls,...r.nestedExecutions.flatMap(iO)]}function sC(r){const e=iO(r.entrypoint);return tO(e,!1).map(t=>t.request)}function aC(r){const e=n=>[n.publicTeardownFunctionCall,...n.nestedExecutions.flatMap(e)].filter(i=>!i.isEmpty()),t=e(r.entrypoint);if(t.length===1)return t[0];if(t.length>1)throw new Error("Multiple public teardown calls detected");return Mn.empty()}function t7(r){const e=t=>t.nestedExecutions.reduce((n,i)=>{const s=e(i);return s||n},t.publicInputs.minRevertibleSideEffectCounter.toNumber());return e(r.entrypoint)}function Dw(r,e){return r.flatMap(e).concat(r.flatMap(({nestedExecutions:n})=>Dw(n,e)))}class br{constructor(e){x(this,"hash");this.hash=e}static random(){return new br(H.random())}static fromBuffer(e){const t=st.asReader(e);return new this(t.readObject(H))}static fromString(e){return new br(H.fromString(e))}static fromBigInt(e){return new br(new H(e))}toBuffer(){return this.hash.toBuffer()}toString(){return this.hash.toString()}toBigInt(){return this.hash.toBigInt()}toJSON(){return this.toString()}equals(e){return this.hash.equals(e.hash)}static get schema(){return Qe.BufferHex.transform(e=>new br(H.fromBuffer(e)))}static zero(){return new br(H.ZERO)}static get SIZE(){return H.SIZE_IN_BYTES}}const Za=class Za{constructor(e,t){x(this,"leafSlot");x(this,"value");this.leafSlot=e,this.value=t}static get schema(){return M.object({leafSlot:wt.Fr,value:wt.Fr}).transform(Za.from)}static from(e){return new Za(...Za.getFields(e))}static getFields(e){return[e.leafSlot,e.value]}static fromFields(e){const t=Ut.asReader(e);return new Za(t.readField(),t.readField())}static fromBuffer(e){const t=st.asReader(e);return new Za(H.fromBuffer(t),H.fromBuffer(t))}toBuffer(){return ft(...Za.getFields(this))}static fromString(e){return Za.fromBuffer(tn(e))}toString(){return qr(this.toBuffer())}static empty(){return new Za(H.ZERO,H.ZERO)}static random(){return new Za(H.random(),H.random())}static isEmpty(e){return e.isEmpty()}isEmpty(){return this.leafSlot.isZero()&&this.value.isZero()}equals(e){return this.leafSlot.equals(e.leafSlot)&&this.value.equals(e.value)}};x(Za,"SIZE_IN_BYTES",H.SIZE_IN_BYTES*2);let Td=Za;var r7=function(r){return r[r.OK=0]="OK",r[r.APP_LOGIC_REVERTED=1]="APP_LOGIC_REVERTED",r[r.TEARDOWN_REVERTED=2]="TEARDOWN_REVERTED",r[r.BOTH_REVERTED=3]="BOTH_REVERTED",r}({});function ok(r){return r===0||r===1||r===2||r===3}const kn=class kn{constructor(e){x(this,"code");this.code=e.valueOf()}getCode(){return this.code}equals(e){return this.code===e.code}isOK(){return this.equals(kn.OK)}getDescription(){switch(this.code){case 0:return"OK";case 1:return"Application logic reverted";case 2:return"Teardown reverted";case 3:return"Both reverted";default:return`Unknown RevertCode: ${this.code}`}}toJSON(){return this.code}static get schema(){return M.nativeEnum(r7).transform(e=>new kn(e))}toHashPreimage(){const e=$e.alloc(kn.PREIMAGE_SIZE_IN_BYTES-kn.PACKED_SIZE_IN_BYTES);return $e.concat([e,this.toBuffer()])}toBuffer(){const e=$e.alloc(kn.PACKED_SIZE_IN_BYTES);return e.writeUInt8(this.code,0),e}toField(){return new H(this.toBuffer())}getSerializedLength(){return this.toBuffer().length}static fromField(e){if(!ok(e.toNumber()))throw new Error(`Invalid RevertCode: ${e.toNumber()}`);return new kn(e.toNumber())}static fromFields(e){const t=Ut.asReader(e);return kn.fromField(t.readField())}static fromBuffer(e){const n=st.asReader(e).readBytes(kn.PACKED_SIZE_IN_BYTES).readUInt8(0);if(!ok(n))throw new Error(`Invalid RevertCode: ${n}`);return new kn(n)}static random(){return new kn(Math.floor(Math.random()*kn.NUM_OPTIONS))}[St.inspect.custom](){return`RevertCode<${this.code.toString()}>`}};x(kn,"OK",new kn(0)),x(kn,"APP_LOGIC_REVERTED",new kn(1)),x(kn,"TEARDOWN_REVERTED",new kn(2)),x(kn,"BOTH_REVERTED",new kn(3)),x(kn,"PREIMAGE_SIZE_IN_BYTES",32),x(kn,"PACKED_SIZE_IN_BYTES",1),x(kn,"NUM_OPTIONS",4);let Mo=kn;class Ap extends cs{constructor(e){super(e)}static random(){return new Ap(H.random().toBuffer())}static get schema(){return Qe.BufferHex.transform(e=>new Ap(e))}static zero(){return new Ap(cs.ZERO.toBuffer())}static fromField(e){return new Ap(e.toBuffer())}}var aw=function(r){return r.DROPPED="dropped",r.PENDING="pending",r.SUCCESS="success",r.APP_LOGIC_REVERTED="app_logic_reverted",r.TEARDOWN_REVERTED="teardown_reverted",r.BOTH_REVERTED="both_reverted",r}({});class Lp{constructor(e,t,n,i,s,c,u){x(this,"txHash");x(this,"status");x(this,"error");x(this,"transactionFee");x(this,"blockHash");x(this,"blockNumber");x(this,"debugInfo");this.txHash=e,this.status=t,this.error=n,this.transactionFee=i,this.blockHash=s,this.blockNumber=c,this.debugInfo=u}static empty(){return new Lp(br.zero(),"dropped","")}static get schema(){return M.object({txHash:br.schema,status:M.nativeEnum(aw),error:M.string(),blockHash:Ap.schema.optional(),blockNumber:M.number().int().nonnegative().optional(),transactionFee:Qe.BigInt.optional(),debugInfo:n7.optional()}).transform(Lp.from)}static from(e){return new Lp(e.txHash,e.status,e.error,e.transactionFee,e.blockHash,e.blockNumber,e.debugInfo)}static statusFromRevertCode(e){if(e.equals(Mo.OK))return"success";if(e.equals(Mo.APP_LOGIC_REVERTED))return"app_logic_reverted";if(e.equals(Mo.TEARDOWN_REVERTED))return"teardown_reverted";if(e.equals(Mo.BOTH_REVERTED))return"both_reverted";throw new Error(`Unknown revert code: ${e}`)}}const n7=M.object({noteHashes:M.array(Qe.Fr),nullifiers:M.array(Qe.Fr),publicDataWrites:M.array(Td.schema),l2ToL1Msgs:M.array(Qe.Fr)});class zi{constructor(e){x(this,"maxBlockNumber");this.maxBlockNumber=e}getSize(){return this.toBuffer().length}toBuffer(){return ft(this.maxBlockNumber)}toString(){return qr(this.toBuffer())}static getFields(e){return[e.maxBlockNumber]}static fromFields(e){const t=Ut.asReader(e);return new zi(Cs.fromFields(t))}toFields(){const e=Wr(...zi.getFields(this));if(e.length!==iI)throw new Error(`Invalid number of fields for RollupValidationRequests. Expected ${iI}, got ${e.length}`);return e}static fromBuffer(e){const t=st.asReader(e);return new zi(t.readObject(Cs))}static fromString(e){return zi.fromBuffer(tn(e))}static empty(){return new zi(Cs.empty())}}class fs{constructor(e,t,n,i,s,c){x(this,"noteHashes");x(this,"nullifiers");x(this,"l2ToL1Msgs");x(this,"privateLogs");x(this,"contractClassLogsHashes");x(this,"publicCallRequests");this.noteHashes=e,this.nullifiers=t,this.l2ToL1Msgs=n,this.privateLogs=i,this.contractClassLogsHashes=s,this.publicCallRequests=c}getSize(){return fi(this.noteHashes)+fi(this.nullifiers)+fi(this.l2ToL1Msgs)+fi(this.privateLogs)+fi(this.contractClassLogsHashes)+fi(this.publicCallRequests)}static getFields(e){return[e.noteHashes,e.nullifiers,e.l2ToL1Msgs,e.privateLogs,e.contractClassLogsHashes,e.publicCallRequests]}static fromFields(e){const t=Ut.asReader(e);return new this(t.readFieldArray(Bn),t.readFieldArray(jn),t.readArray(vi,Ei),t.readArray(ta,Zn),t.readArray(qo,Aa),t.readArray(Gd,bn))}static from(e){return new fs(...fs.getFields(e))}static fromBuffer(e){const t=st.asReader(e);return new fs(t.readArray(Bn,H),t.readArray(jn,H),t.readArray(vi,Ei),t.readArray(ta,Zn),t.readArray(qo,Aa),t.readArray(Gd,bn))}toBuffer(){return ft(...fs.getFields(this))}toFields(){const e=Wr(...fs.getFields(this));if(e.length!==dI)throw new Error(`Invalid number of fields for PrivateToPublicAccumulatedData. Expected ${dI}, got ${e.length}`);return e}static empty(){return new fs(zt(Bn,H.zero),zt(jn,H.zero),zt(vi,Ei.empty),zt(ta,Zn.empty),zt(qo,Aa.empty),zt(Gd,bn.empty))}[St.inspect.custom](){return`PrivateToPublicAccumulatedData {
      noteHashes: [${this.noteHashes.filter(e=>!e.isZero()).map(e=>St.inspect(e)).join(", ")}],
      nullifiers: [${this.nullifiers.filter(e=>!e.isZero()).map(e=>St.inspect(e)).join(", ")}],
      l2ToL1Msgs: [${this.l2ToL1Msgs.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}],
      privateLogs: [${this.privateLogs.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}],
      contractClassLogsHashes: [${this.contractClassLogsHashes.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}],
      publicCallRequests: [${this.publicCallRequests.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}],
    }`}}class Cp{constructor(e,t,n,i,s,c,u){x(this,"constants");x(this,"rollupValidationRequests");x(this,"nonRevertibleAccumulatedData");x(this,"revertibleAccumulatedData");x(this,"publicTeardownCallRequest");x(this,"gasUsed");x(this,"feePayer");this.constants=e,this.rollupValidationRequests=t,this.nonRevertibleAccumulatedData=n,this.revertibleAccumulatedData=i,this.publicTeardownCallRequest=s,this.gasUsed=c,this.feePayer=u}toBuffer(){return ft(this.constants,this.rollupValidationRequests,this.nonRevertibleAccumulatedData,this.revertibleAccumulatedData,this.publicTeardownCallRequest,this.gasUsed,this.feePayer)}static getFields(e){return[e.constants,e.rollupValidationRequests,e.nonRevertibleAccumulatedData,e.revertibleAccumulatedData,e.publicTeardownCallRequest,e.gasUsed,e.feePayer]}static fromBuffer(e){const t=st.asReader(e);return new Cp(t.readObject(ui),t.readObject(zi),t.readObject(fs),t.readObject(fs),t.readObject(bn),t.readObject(wr),t.readObject(tt))}static empty(){return new Cp(ui.empty(),zi.empty(),fs.empty(),fs.empty(),bn.empty(),wr.empty(),tt.ZERO)}static fromString(e){return Cp.fromBuffer(tn(e))}toString(){return qr(this.toBuffer())}toFields(){const e=Wr(...Cp.getFields(this));if(e.length!==pI)throw new Error(`Invalid number of fields for PrivateToPublicKernelCircuitPublicInputs. Expected ${pI}, got ${e.length}`);return e}hash(){return Nn(this.toFields(),Vr.PUBLIC_TX_HASH)}}class As{constructor(e,t,n,i,s){x(this,"noteHashes");x(this,"nullifiers");x(this,"l2ToL1Msgs");x(this,"privateLogs");x(this,"contractClassLogsHashes");this.noteHashes=e,this.nullifiers=t,this.l2ToL1Msgs=n,this.privateLogs=i,this.contractClassLogsHashes=s}getSize(){return fi(this.noteHashes)+fi(this.nullifiers)+fi(this.l2ToL1Msgs)+fi(this.privateLogs)+fi(this.contractClassLogsHashes)}static getFields(e){return[e.noteHashes,e.nullifiers,e.l2ToL1Msgs,e.privateLogs,e.contractClassLogsHashes]}static from(e){return new As(...As.getFields(e))}static get schema(){return df(As)}toJSON(){return this.toBuffer()}toBuffer(){return ft(...As.getFields(this))}toString(){return qr(this.toBuffer())}static fromBuffer(e){const t=st.asReader(e);return new As(t.readArray(Bn,H),t.readArray(jn,H),t.readArray(vi,Ei),t.readArray(ta,Zn),t.readArray(qo,Aa))}static fromString(e){return As.fromBuffer(tn(e))}static empty(){return new As(zt(Bn,H.zero),zt(jn,H.zero),zt(vi,Ei.empty),zt(ta,Zn.empty),zt(qo,Aa.empty))}toFields(){const e=Wr(...As.getFields(this));if(e.length!==lI)throw new Error(`Invalid number of fields for PrivateToRollupAccumulatedData. Expected ${lI}, got ${e.length}`);return e}[St.inspect.custom](){return`PrivateToRollupAccumulatedData {
      noteHashes: [${this.noteHashes.filter(e=>!e.isZero()).map(e=>St.inspect(e)).join(", ")}],
      nullifiers: [${this.nullifiers.filter(e=>!e.isZero()).map(e=>St.inspect(e)).join(", ")}],
      l2ToL1Msgs: [${this.l2ToL1Msgs.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}],
      privateLogs:  [${this.privateLogs.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}]
      contractClassLogsHashes: : [${this.contractClassLogsHashes.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}],
    }`}}class _d{constructor(e,t,n,i,s){x(this,"constants");x(this,"rollupValidationRequests");x(this,"end");x(this,"gasUsed");x(this,"feePayer");this.constants=e,this.rollupValidationRequests=t,this.end=n,this.gasUsed=i,this.feePayer=s}getNonEmptyNullifiers(){return this.end.nullifiers.filter(e=>!e.isZero())}toBuffer(){return ft(this.constants,this.rollupValidationRequests,this.end,this.gasUsed,this.feePayer)}static fromBuffer(e){const t=st.asReader(e);return new _d(t.readObject(ui),t.readObject(zi),t.readObject(As),t.readObject(wr),t.readObject(tt))}static empty(){return new _d(ui.empty(),zi.empty(),As.empty(),wr.empty(),tt.ZERO)}toString(){return qr(this.toBuffer())}static fromString(e){return _d.fromBuffer(tn(e))}toJSON(){return this.toBuffer()}static getFields(e){return[e.constants,e.rollupValidationRequests,e.end,e.gasUsed,e.feePayer]}static get schema(){return df(_d)}toFields(){const e=Wr(..._d.getFields(this));if(e.length!==mI)throw new Error(`Invalid number of fields for PrivateToRollupKernelCircuitPublicInputs. Expected ${mI}, got ${e.length}`);return e}hash(){return Nn(this.toFields(),Vr.PRIVATE_TX_HASH)}}class G_{constructor(e,t,n){x(this,"nonRevertibleAccumulatedData");x(this,"revertibleAccumulatedData");x(this,"publicTeardownCallRequest");this.nonRevertibleAccumulatedData=e,this.revertibleAccumulatedData=t,this.publicTeardownCallRequest=n}getSize(){return this.nonRevertibleAccumulatedData.getSize()+this.revertibleAccumulatedData.getSize()+this.publicTeardownCallRequest.getSize()}get needsSetup(){return!this.nonRevertibleAccumulatedData.publicCallRequests[0].isEmpty()}get needsAppLogic(){return!this.revertibleAccumulatedData.publicCallRequests[0].isEmpty()}get needsTeardown(){return!this.publicTeardownCallRequest.isEmpty()}static fromBuffer(e){const t=st.asReader(e);return new G_(t.readObject(fs),t.readObject(fs),t.readObject(bn))}toBuffer(){return ft(this.nonRevertibleAccumulatedData,this.revertibleAccumulatedData,this.publicTeardownCallRequest)}static empty(){return new G_(fs.empty(),fs.empty(),bn.empty())}}class Qd{constructor(e){x(this,"end");this.end=e}static fromBuffer(e){const t=st.asReader(e);return new Qd(t.readObject(As))}getSize(){return this.end.getSize()}toBuffer(){return ft(this.end)}static empty(){return new Qd(As.empty())}}class Ps{constructor(e,t,n,i,s,c){x(this,"constants");x(this,"rollupValidationRequests");x(this,"gasUsed");x(this,"feePayer");x(this,"forPublic");x(this,"forRollup");if(this.constants=e,this.rollupValidationRequests=t,this.gasUsed=n,this.feePayer=i,this.forPublic=s,this.forRollup=c,!s&&!c)throw new Error("Missing partial public inputs for private tail circuit.");if(s&&c)throw new Error("Cannot create PrivateKernelTailCircuitPublicInputs that is for both public kernel circuit and rollup circuit.")}static get schema(){return df(Ps)}toJSON(){return this.toBuffer()}getSize(){var e,t;return(((e=this.forPublic)==null?void 0:e.getSize())??0)+(((t=this.forRollup)==null?void 0:t.getSize())??0)+this.constants.getSize()+this.rollupValidationRequests.getSize()+this.feePayer.size}toPrivateToPublicKernelCircuitPublicInputs(){if(!this.forPublic)throw new Error("Private tail public inputs is not for public circuit.");return new Cp(this.constants,this.rollupValidationRequests,this.forPublic.nonRevertibleAccumulatedData,this.forPublic.revertibleAccumulatedData,this.forPublic.publicTeardownCallRequest,this.gasUsed,this.feePayer)}toPrivateToRollupKernelCircuitPublicInputs(){if(!this.forRollup)throw new Error("Private tail public inputs is not for rollup circuit.");const e=new ui(this.constants.historicalHeader,this.constants.txContext,this.constants.vkTreeRoot,this.constants.protocolContractTreeRoot);return new _d(e,this.rollupValidationRequests,this.forRollup.end,this.gasUsed,this.feePayer)}numberOfPublicCallRequests(){return this.numberOfNonRevertiblePublicCallRequests()+this.numberOfRevertiblePublicCallRequests()+(this.hasTeardownPublicCallRequest()?1:0)}numberOfNonRevertiblePublicCallRequests(){return this.forPublic?oi(this.forPublic.nonRevertibleAccumulatedData.publicCallRequests):0}numberOfRevertiblePublicCallRequests(){return this.forPublic?oi(this.forPublic.revertibleAccumulatedData.publicCallRequests):0}hasTeardownPublicCallRequest(){return this.forPublic?!this.forPublic.publicTeardownCallRequest.isEmpty():!1}getNonRevertiblePublicCallRequests(){return this.forPublic?this.forPublic.nonRevertibleAccumulatedData.publicCallRequests.filter(e=>!e.isEmpty()):[]}getRevertiblePublicCallRequests(){return this.forPublic?this.forPublic.revertibleAccumulatedData.publicCallRequests.filter(e=>!e.isEmpty()):[]}getTeardownPublicCallRequest(){var t;const e=(t=this.forPublic)==null?void 0:t.publicTeardownCallRequest;return e!=null&&e.isEmpty()?void 0:e}getNonEmptyNoteHashes(){return(this.forPublic?Z0(this.forPublic.nonRevertibleAccumulatedData.noteHashes,this.forPublic.revertibleAccumulatedData.noteHashes):this.forRollup.end.noteHashes).filter(t=>!t.isZero())}getNonEmptyNullifiers(){return(this.forPublic?Z0(this.forPublic.nonRevertibleAccumulatedData.nullifiers,this.forPublic.revertibleAccumulatedData.nullifiers):this.forRollup.end.nullifiers).filter(t=>!t.isZero())}getNonEmptyPrivateLogs(){return(this.forPublic?Z0(this.forPublic.nonRevertibleAccumulatedData.privateLogs,this.forPublic.revertibleAccumulatedData.privateLogs):this.forRollup.end.privateLogs).filter(t=>!t.isEmpty())}getNonEmptyContractClassLogsHashes(){return(this.forPublic?Z0(this.forPublic.nonRevertibleAccumulatedData.contractClassLogsHashes,this.forPublic.revertibleAccumulatedData.contractClassLogsHashes):this.forRollup.end.contractClassLogsHashes).filter(t=>!t.isEmpty())}getEmittedContractClassLogsLength(){return this.getNonEmptyContractClassLogsHashes().reduce((e,t)=>e+t.logHash.length,0)}getEmittedPrivateLogsLength(){return this.getNonEmptyPrivateLogs().reduce((e,t)=>e+t.getEmittedLength(),0)}static fromBuffer(e){const t=st.asReader(e),n=t.readBoolean();return new Ps(t.readObject(ui),t.readObject(zi),t.readObject(wr),t.readObject(tt),n?t.readObject(G_):void 0,n?void 0:t.readObject(Qd))}toBuffer(){const e=!!this.forPublic;return ft(e,this.constants,this.rollupValidationRequests,this.gasUsed,this.feePayer,e?this.forPublic.toBuffer():this.forRollup.toBuffer())}static empty(){return new Ps(ui.empty(),zi.empty(),wr.empty(),tt.ZERO,void 0,Qd.empty())}static emptyWithNullifier(){const e=As.empty();return e.nullifiers[0]=H.random(),new Ps(ui.empty(),zi.empty(),wr.empty(),tt.ZERO,void 0,new Qd(e))}}class sO{}x(sO,"p2pTopic");function i7(r){return"/aztec/"+r+"/0.1.0"}var s7=function(r){return r.tx="tx",r.block_proposal="block_proposal",r.block_attestation="block_attestation",r}({});const a7=172052,o7=2730;class $i{constructor(e,t){x(this,"clientIvcProofBuffer");x(this,"clientIvcVkBuffer");this.clientIvcProofBuffer=e,this.clientIvcVkBuffer=t}isEmpty(){return this.clientIvcProofBuffer.length===0}static empty(){return new $i($e.from(""),$e.from(""))}static fake(e=Math.floor(Math.random()*255)){return new $i($e.alloc(1,e),$e.alloc(1,e))}static random(){return new $i($e.from(Ta(a7)),$e.from(Ta(o7)))}static get schema(){return df($i)}toJSON(){return this.toBuffer()}static fromBuffer(e){const t=st.asReader(e);return new $i(t.readBuffer(),t.readBuffer())}toBuffer(){return ft(this.clientIvcProofBuffer.length,this.clientIvcProofBuffer,this.clientIvcVkBuffer.length,this.clientIvcVkBuffer)}}const ko=class ko extends sO{constructor(t,n,i,s,c){super();x(this,"data");x(this,"clientIvcProof");x(this,"contractClassLogs");x(this,"enqueuedPublicFunctionCalls");x(this,"publicTeardownFunctionCall");x(this,"txHash");this.data=t,this.clientIvcProof=n,this.contractClassLogs=i,this.enqueuedPublicFunctionCalls=s,this.publicTeardownFunctionCall=c}async p2pMessageIdentifier(){return new cs((await this.getTxHash()).toBuffer())}hasPublicCalls(){return this.data.numberOfPublicCallRequests()>0}getNonRevertiblePublicExecutionRequests(){const t=this.data.numberOfRevertiblePublicCallRequests();return this.enqueuedPublicFunctionCalls.slice(t)}getRevertiblePublicExecutionRequests(){const t=this.data.numberOfRevertiblePublicCallRequests();return this.enqueuedPublicFunctionCalls.slice(0,t)}getPublicTeardownExecutionRequest(){return this.publicTeardownFunctionCall.isEmpty()?void 0:this.publicTeardownFunctionCall}getTotalPublicArgsCount(){let t=this.enqueuedPublicFunctionCalls.reduce((n,i)=>n+i.args.length,0);return this.publicTeardownFunctionCall.isEmpty()||(t+=this.publicTeardownFunctionCall.args.length),t}getGasSettings(){return this.data.constants.txContext.gasSettings}static fromBuffer(t){const n=st.asReader(t);return new ko(n.readObject(Ps),n.readObject($i),n.readVectorUint8Prefix(hs),n.readVectorUint8Prefix(Mn),n.readObject(Mn))}static newWithTxData(t,n){return new ko(t,$i.empty(),[],[],n||Mn.empty())}toBuffer(){return ft([this.data,this.clientIvcProof,xc(this.contractClassLogs,1),xc(this.enqueuedPublicFunctionCalls,1),this.publicTeardownFunctionCall])}static get schema(){return M.object({data:Ps.schema,clientIvcProof:$i.schema,contractClassLogs:M.array(hs.schema),enqueuedPublicFunctionCalls:M.array(Mn.schema),publicTeardownFunctionCall:Mn.schema}).transform(ko.from)}static from(t){return new ko(t.data,t.clientIvcProof,t.contractClassLogs,t.enqueuedPublicFunctionCalls,t.publicTeardownFunctionCall)}async getPublicLogs(t){return t.getPublicLogs({txHash:await this.getTxHash()})}async getSplitContractClassLogs(t,n=!1){if(!this.data.forPublic)return[];const i=t?this.data.forPublic.revertibleAccumulatedData.contractClassLogsHashes.filter(s=>!s.isEmpty()):this.data.forPublic.nonRevertibleAccumulatedData.contractClassLogsHashes.filter(s=>!s.isEmpty());return await this.filterContractClassLogs(i,n)}async filterContractClassLogs(t,n=!1){const i=[];for(const s of this.contractClassLogs){const c=await s.hash();t.find(d=>d.value.equals(c)&&d.contractAddress.equals(s.contractAddress))&&i.push(n?await s.silo():s)}return i}async getTxHash(t=!1){if(!this.txHash||t){const n=this.data.forPublic?await this.data.toPrivateToPublicKernelCircuitPublicInputs().hash():await this.data.toPrivateToRollupKernelCircuitPublicInputs().hash();this.txHash=new br(n)}return this.txHash}setTxHash(t){this.txHash=t}async getStats(){var t;return{txHash:(await this.getTxHash()).toString(),noteHashCount:this.data.getNonEmptyNoteHashes().length,nullifierCount:this.data.getNonEmptyNullifiers().length,privateLogCount:this.data.getNonEmptyPrivateLogs().length,classRegisteredCount:this.data.getNonEmptyContractClassLogsHashes().length,contractClassLogSize:this.data.getEmittedContractClassLogsLength(),proofSize:this.clientIvcProof.clientIvcProofBuffer.length,size:this.toBuffer().length,feePaymentMethod:(t=this.data.forPublic)!=null&&t.needsSetup?this.data.getNonRevertiblePublicCallRequests().at(-1).functionSelector.toField().toBigInt()===0x43417bb1n?"fpc_public":"fpc_private":"fee_juice"}}getSize(){return this.data.getSize()+this.clientIvcProof.clientIvcProofBuffer.length+fi(this.contractClassLogs)+fi(this.enqueuedPublicFunctionCalls)+fi([this.publicTeardownFunctionCall])}getEstimatedPrivateTxEffectsSize(){return this.data.getNonEmptyNoteHashes().length*H.SIZE_IN_BYTES+this.data.getNonEmptyNullifiers().length*H.SIZE_IN_BYTES+this.data.getEmittedPrivateLogsLength()*H.SIZE_IN_BYTES+this.data.getEmittedContractClassLogsLength()*H.SIZE_IN_BYTES}static async getHash(t){return c7(t)?t.hash:await t.getTxHash()}static async getHashes(t){return await Promise.all(t.map(ko.getHash))}static clone(t){const n=Ps.fromBuffer(t.data.toBuffer()),i=$i.fromBuffer(t.clientIvcProof.toBuffer()),s=t.contractClassLogs.map(l=>hs.fromBuffer(l.toBuffer())),c=t.enqueuedPublicFunctionCalls.map(l=>Mn.fromBuffer(l.toBuffer())),u=Mn.fromBuffer(t.publicTeardownFunctionCall.toBuffer()),d=new ko(n,i,s,c,u);return t.txHash&&d.setTxHash(br.fromBuffer(t.txHash.toBuffer())),d}static async random(t=!1){return new ko(Ps.emptyWithNullifier(),t?$i.random():$i.empty(),[await hs.random()],[await Mn.random()],await Mn.random())}async filterRevertedLogs(){this.contractClassLogs=await this.getSplitContractClassLogs(!1)}};x(ko,"p2pTopic"),ko.p2pTopic=i7(s7.tx);let ba=ko;function c7(r){return r.hash!==void 0}class Ro{constructor(e,t,n,i,s){x(this,"historicalHeader");x(this,"txContext");x(this,"vkTreeRoot");x(this,"protocolContractTreeRoot");x(this,"globalVariables");this.historicalHeader=e,this.txContext=t,this.vkTreeRoot=n,this.protocolContractTreeRoot=i,this.globalVariables=s}static combine(e,t){return new Ro(e.historicalHeader,e.txContext,e.vkTreeRoot,e.protocolContractTreeRoot,t)}static get schema(){return M.object({historicalHeader:Kr.schema,txContext:Gr.schema,vkTreeRoot:wt.Fr,protocolContractTreeRoot:wt.Fr,globalVariables:ci.schema}).transform(Ro.from).or(fo(Ro))}toBuffer(){return ft(this.historicalHeader,this.txContext,this.vkTreeRoot,this.protocolContractTreeRoot,this.globalVariables)}clone(){return Ro.fromBuffer(this.toBuffer())}getSize(){return this.historicalHeader.getSize()+this.txContext.getSize()+this.vkTreeRoot.size+this.protocolContractTreeRoot.size+this.globalVariables.getSize()}static from({historicalHeader:e,txContext:t,vkTreeRoot:n,protocolContractTreeRoot:i,globalVariables:s}){return new Ro(e,t,n,i,s)}static fromBuffer(e){const t=st.asReader(e);return new Ro(t.readObject(Kr),t.readObject(Gr),H.fromBuffer(t),H.fromBuffer(t),t.readObject(ci))}static fromFields(e){const t=Ut.asReader(e);return new Ro(t.readObject(Kr),t.readObject(Gr),t.readField(),t.readField(),t.readObject(ci))}static empty(){return new Ro(Kr.empty(),Gr.empty(),H.ZERO,H.ZERO,ci.empty())}}const bc=class bc{constructor(e,t){x(this,"contractAddress");x(this,"log");this.contractAddress=e,this.log=t}toFields(){return Wr(...bc.getFields(this))}static getFields(e){return[e.contractAddress,e.log]}static fromFields(e){const t=Ut.asReader(e);return new bc(t.readObject(tt),t.readFieldArray(t_))}isEmpty(){return this.contractAddress.isZero()&&this.log.every(e=>e.isZero())}static empty(){return new bc(tt.ZERO,zt(t_,H.zero))}toBuffer(){return ft(...bc.getFields(this))}static fromBuffer(e){const t=st.asReader(e);return new bc(t.readObject(tt),t.readArray(t_,H))}static async random(){return new bc(await tt.random(),zt(t_,H.random))}getEmittedLength(){return this.getEmittedFields().length}getEmittedFields(){const e=this.toFields(),t=e.findLastIndex(n=>!n.isZero());return e.slice(0,t+1)}equals(e){return this.contractAddress.equals(e.contractAddress)&&this.log.reduce((t,n,i)=>t&&n.equals(e.log[i]),!0)}toHumanReadable(){return`PublicLog: (contractAddress: ${this.contractAddress} log: ${this.log})`}static get schema(){return M.object({contractAddress:tt.schema,log:M.array(wt.Fr)}).transform(({contractAddress:e,log:t})=>bc.fromFields([e.toField(),...t]))}[St.inspect.custom](){return`PublicLog {
      contractAddress: ${St.inspect(this.contractAddress)},
      log: [${this.log.map(e=>St.inspect(e)).join(", ")}],
    }`}};x(bc,"SIZE_IN_BYTES",H.SIZE_IN_BYTES*yN);let ls=bc;const Px=8392562855083340404n,n_=Px.toString(16).length/2,K0=n_+7;class Ui{constructor(e,t,n,i,s,c,u,d,l,m){x(this,"revertCode");x(this,"txHash");x(this,"transactionFee");x(this,"noteHashes");x(this,"nullifiers");x(this,"l2ToL1Msgs");x(this,"publicDataWrites");x(this,"privateLogs");x(this,"publicLogs");x(this,"contractClassLogs");if(this.revertCode=e,this.txHash=t,this.transactionFee=n,this.noteHashes=i,this.nullifiers=s,this.l2ToL1Msgs=c,this.publicDataWrites=u,this.privateLogs=d,this.publicLogs=l,this.contractClassLogs=m,i.length>Bn)throw new Error(`Too many note hashes: ${i.length}, max: ${Bn}`);if(i.forEach(y=>{if(y.isZero())throw new Error("Note hash is zero")}),s.length>jn)throw new Error(`Too many nullifiers: ${s.length}, max: ${jn}`);if(s.forEach(y=>{if(y.isZero())throw new Error("Nullifier is zero")}),c.length>vi)throw new Error(`Too many L2 to L1 messages: ${c.length}, max: ${vi}`);if(c.forEach(y=>{if(y.isZero())throw new Error("L2 to L1 message is zero")}),u.length>DE)throw new Error(`Too many public data writes: ${u.length}, max: ${DE}`);if(u.forEach(y=>{if(y.isEmpty())throw new Error("Public data write is empty")}),d.length>ta)throw new Error(`Too many private logs: ${d.length}, max: ${ta}`);d.forEach(y=>{if(y.isEmpty())throw new Error("Private log is empty")})}toBuffer(){return ft([this.revertCode,this.txHash,this.transactionFee,xc(this.noteHashes,1),xc(this.nullifiers,1),xc(this.l2ToL1Msgs,1),xc(this.publicDataWrites,1),xc(this.privateLogs,1),xc(this.publicLogs,1),xc(this.contractClassLogs,1)])}equals(e){return this.revertCode.equals(e.revertCode)&&this.txHash.equals(e.txHash)&&this.transactionFee.equals(e.transactionFee)&&this.noteHashes.length===e.noteHashes.length&&this.noteHashes.every((t,n)=>t.equals(e.noteHashes[n]))&&this.nullifiers.length===e.nullifiers.length&&this.nullifiers.every((t,n)=>t.equals(e.nullifiers[n]))&&this.l2ToL1Msgs.length===e.l2ToL1Msgs.length&&this.l2ToL1Msgs.every((t,n)=>t.equals(e.l2ToL1Msgs[n]))&&this.publicDataWrites.length===e.publicDataWrites.length&&this.publicDataWrites.every((t,n)=>t.equals(e.publicDataWrites[n]))&&this.privateLogs.length===e.privateLogs.length&&this.privateLogs.every((t,n)=>t.equals(e.privateLogs[n]))&&this.publicLogs.length===e.publicLogs.length&&this.publicLogs.every((t,n)=>t.equals(e.publicLogs[n]))&&this.contractClassLogs.length===e.contractClassLogs.length&&this.contractClassLogs.every((t,n)=>t.equals(e.contractClassLogs[n]))}getDASize(){return this.toBlobFields().length*H.SIZE_IN_BYTES}static fromBuffer(e){const t=st.asReader(e);return new Ui(Mo.fromBuffer(t),br.fromBuffer(t),H.fromBuffer(t),t.readVectorUint8Prefix(H),t.readVectorUint8Prefix(H),t.readVectorUint8Prefix(H),t.readVectorUint8Prefix(Td),t.readVectorUint8Prefix(Zn),t.readVectorUint8Prefix(ls),t.readVectorUint8Prefix(hs))}txOutHash(){const{l2ToL1Msgs:e}=this;if(e.length==0)return $e.alloc(32);const t=e.length==1?1:Math.ceil(Math.log2(e.length));let n=C_(e.map(s=>s.toBuffer()),$e.alloc(32),2**t),i=[];for(let s=0;s<t;s++){for(let c=0;c<n.length;c+=2)i[c/2]=fN($e.concat([n[c],n[c+1]]));n=i,i=[]}return n[0]}static async random(e=3,t=1){return new Ui(Mo.random(),br.random(),new H(Math.floor(Math.random()*1e5)),zt(Bn,H.random),zt(jn,H.random),zt(vi,H.random),zt(DE,()=>new Td(H.random(),H.random())),zt(ta,()=>new Zn(zt(Do,H.random))),await jT(e*t,async()=>await ls.random()),await jT(qo,hs.random))}static empty(){return new Ui(Mo.OK,br.zero(),H.ZERO,[],[],[],[],[],[],[])}isEmpty(){return this.nullifiers.length===0}toString(){return qr(this.toBuffer())}toPrefix(e,t){const n=$e.alloc(4);return n.writeUint8(e),n.writeUInt16BE(t,2),new H(n)}static fromPrefix(e){const t=e.toBuffer().subarray(-4);return{type:t[0],length:new H(t.subarray(-2)).toNumber()}}encodeFirstField(e,t){const n=$e.alloc(2);return n.writeUInt16BE(e,0),new H($e.concat([Si(Px,n_),$e.alloc(1),n,$e.alloc(1),$e.from([ME]),$e.alloc(1),t.toBuffer()]))}static decodeFirstField(e){const t=e.toBuffer().subarray(-K0);return{length:new H(t.subarray(n_+1,n_+3)).toNumber(),revertCode:t[t.length-1]}}static isFirstField(e){const t=e.toBuffer();if(!t.subarray(0,e.size-K0).equals($e.alloc(e.size-K0)))return!1;const n=t.subarray(-K0);return!(!new H(n.subarray(0,n_)).equals(new H(Px))||n[n.length-3]!==ME||n[n.length-1]>4)}toBlobFields(){if(this.isEmpty())return[];const e=[];if(e.push(H.ZERO),e.push(this.txHash.hash),e.push(new H($e.concat([$e.from([D$]),$e.alloc(1),this.transactionFee.toBuffer().subarray(3)]))),this.noteHashes.length&&(e.push(this.toPrefix(yI,this.noteHashes.length)),e.push(...this.noteHashes)),this.nullifiers.length&&(e.push(this.toPrefix(wI,this.nullifiers.length)),e.push(...this.nullifiers)),this.l2ToL1Msgs.length&&(e.push(this.toPrefix(vI,this.l2ToL1Msgs.length)),e.push(...this.l2ToL1Msgs)),this.publicDataWrites.length&&(e.push(this.toPrefix(bI,this.publicDataWrites.length*2)),e.push(...this.publicDataWrites.map(t=>[t.leafSlot,t.value]).flat())),this.privateLogs.length){const t=this.privateLogs.reduce((n,i)=>n+(i.getEmittedLength()==0?0:i.getEmittedLength()+1),0);e.push(this.toPrefix(EI,t)),e.push(...this.privateLogs.flatMap(n=>[new H(n.getEmittedLength()),...n.getEmittedFields()]))}if(this.publicLogs.length){const t=this.publicLogs.reduce((n,i)=>n+(i.getEmittedLength()==0?0:i.getEmittedLength()+1),0);e.push(this.toPrefix(SI,t)),e.push(...this.publicLogs.flatMap(n=>[new H(n.getEmittedLength()),...n.getEmittedFields()]))}if(this.contractClassLogs.length){const t=this.contractClassLogs.reduce((n,i)=>n+(i.getEmittedLength()==0?0:i.getEmittedLength()+2),0);e.push(this.toPrefix(xI,t)),e.push(...this.contractClassLogs.flatMap(n=>[new H(n.getEmittedLength()),n.contractAddress.toField(),...n.getEmittedFields()]))}return e[0]=this.encodeFirstField(e.length,this.revertCode),e}static fromBlobFields(e){const t=l=>{if(l.length)throw new Error("Invalid fields given to TxEffect.fromBlobFields(): Attempted to assign property twice.")},n=this.empty();if(!(e instanceof Ut)&&!e.length)return n;const i=Ut.asReader(e),s=i.readField();if(!this.isFirstField(s))throw new Error("Invalid fields given to TxEffect.fromBlobFields(): First field invalid.");const{length:c,revertCode:u}=this.decodeFirstField(s);n.revertCode=Mo.fromField(new H(u)),n.txHash=new br(i.readField());const d=i.readField();for(n.transactionFee=H.fromBuffer($e.concat([$e.alloc(3),d.toBuffer().subarray(3)]));!i.isFinished();){const{type:l,length:m}=this.fromPrefix(i.readField());switch(l){case yI:t(n.noteHashes),n.noteHashes=i.readFieldArray(m);break;case wI:t(n.nullifiers),n.nullifiers=i.readFieldArray(m);break;case vI:t(n.l2ToL1Msgs),n.l2ToL1Msgs=i.readFieldArray(m);break;case bI:{t(n.publicDataWrites);const y=i.readFieldArray(m);for(let b=0;b<m;b+=2)n.publicDataWrites.push(new Td(y[b],y[b+1]));break}case EI:{t(n.privateLogs);const y=i.readFieldArray(m);let b=0;for(;b<m;){const E=y[b++].toNumber(),I=y.slice(b,b+=E);n.privateLogs.push(Zn.fromFields(I.concat(new Array(Do-E).fill(H.ZERO))))}break}case SI:{t(n.publicLogs);const y=i.readFieldArray(m);let b=0;for(;b<m;){const E=y[b++].toNumber(),I=y.slice(b,b+=E);n.publicLogs.push(ls.fromFields(I.concat(new Array(yN-E).fill(H.ZERO))))}break}case xI:{t(n.contractClassLogs);const y=i.readFieldArray(m);let b=0;for(;b<m;){const E=y[b++].toNumber(),I=y.slice(b,b+=E+1);n.contractClassLogs.push(hs.fromFields(I.concat(new Array(vN-E).fill(H.ZERO))))}break}case ME:default:throw new Error("Too many fields to decode given to TxEffect.fromBlobFields()")}}return n}static from(e){return new Ui(e.revertCode,e.txHash,e.transactionFee,e.noteHashes,e.nullifiers,e.l2ToL1Msgs,e.publicDataWrites,e.privateLogs,e.publicLogs,e.contractClassLogs)}static get schema(){return M.object({revertCode:Mo.schema,txHash:br.schema,transactionFee:wt.Fr,noteHashes:M.array(wt.Fr),nullifiers:M.array(wt.Fr),l2ToL1Msgs:M.array(wt.Fr),publicDataWrites:M.array(Td.schema),privateLogs:M.array(Zn.schema),publicLogs:M.array(ls.schema),contractClassLogs:M.array(hs.schema)}).transform(Ui.from)}[St.inspect.custom](){return`TxEffect {
      revertCode: ${this.revertCode},
      txHash: ${this.txHash},
      transactionFee: ${this.transactionFee},
      note hashes: [${this.noteHashes.map(e=>e.toString()).join(", ")}],
      nullifiers: [${this.nullifiers.map(e=>e.toString()).join(", ")}],
      l2ToL1Msgs: [${this.l2ToL1Msgs.map(e=>e.toString()).join(", ")}],
      publicDataWrites: [${this.publicDataWrites.map(e=>e.toString()).join(", ")}],
      privateLogs: [${this.privateLogs.map(e=>e.toString()).join(", ")}],
      publicLogs: [${this.publicLogs.map(e=>e.toString()).join(", ")}],
      contractClassLogs: [${this.contractClassLogs.map(e=>e.toString()).join(", ")}],
     }`}static fromString(e){return Ui.fromBuffer(tn(e))}}const u7=M.object({gateCounts:M.array(M.object({circuitName:M.string(),gateCount:M.number()}))});var XE,ck;function l7(){if(ck)return XE;ck=1;var r=1/0,e=9007199254740991,t=17976931348623157e292,n=NaN,i=4294967295,s="[object Symbol]",c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,l=/^0o[0-7]+$/i,m=parseInt;function y(V,oe){for(var de=-1,Ee=Array(V);++de<V;)Ee[de]=oe(de);return Ee}var b=Object.prototype,E=b.toString,I=Math.min;function S(V){var oe=typeof V;return!!V&&(oe=="object"||oe=="function")}function P(V){return!!V&&typeof V=="object"}function N(V){return typeof V=="symbol"||P(V)&&E.call(V)==s}function k(V){if(!V)return V===0?V:0;if(V=L(V),V===r||V===-1/0){var oe=V<0?-1:1;return oe*t}return V===V?V:0}function R(V){var oe=k(V),de=oe%1;return oe===oe?de?oe-de:oe:0}function L(V){if(typeof V=="number")return V;if(N(V))return n;if(S(V)){var oe=typeof V.valueOf=="function"?V.valueOf():V;V=S(oe)?oe+"":oe}if(typeof V!="string")return V===0?V:+V;V=V.replace(c,"");var de=d.test(V);return de||l.test(V)?m(V.slice(2),de?2:8):u.test(V)?n:+V}function U(V){return V}function te(V,oe){if(V=R(V),V<1||V>e)return[];var de=i,Ee=I(V,i);oe=typeof oe=="function"?oe:U,V-=i;for(var Fe=y(Ee,oe);++de<V;)oe(de);return Fe}return XE=te,XE}var f7=l7();const aO=Zc(f7),d7=M.object({filePath:M.string(),line:M.number().int().nonnegative(),column:M.number().int().nonnegative(),fileSource:M.string(),locationText:M.string()}),h7=M.union([M.array(d7),M.array(M.string())]);function oO(r){return typeof r[0]=="string"}class Dc extends Error{constructor(t,n,i=[],s,c){super(t,c);x(this,"originalMessage");x(this,"functionErrorStack");x(this,"revertData");x(this,"noirErrorStack");x(this,"aztecContext");this.originalMessage=t,this.functionErrorStack=n,this.revertData=i,this.noirErrorStack=s,this.aztecContext="";const u=()=>this.getMessage(),d=()=>this.getStack();Object.defineProperties(this,{message:{configurable:!1,enumerable:!0,get(){return u()}},stack:{configurable:!1,enumerable:!0,get(){return d()},set(l){}}})}getMessage(){return this.noirErrorStack&&!oO(this.noirErrorStack)&&this.noirErrorStack.length?`${this.originalMessage} '${this.noirErrorStack[this.noirErrorStack.length-1].locationText}'${this.aztecContext}`:this.originalMessage}getOriginalMessage(){return this.originalMessage}setOriginalMessage(t){this.originalMessage=t}enrichWithContractName(t,n){this.functionErrorStack.forEach(i=>{i.contractAddress.equals(t)&&(i.contractName=n)})}enrichWithFunctionName(t,n,i){this.functionErrorStack.forEach(s=>{s.contractAddress.equals(t)&&s.functionSelector&&s.functionSelector.equals(n)&&(s.functionName=i)})}getStack(){const t=this.getCallStack(),n=this.getNoirCallStack(),i=[...t.map(s=>{var c;return`at ${s.contractName??s.contractAddress.toString()}.${s.functionName??((c=s.functionSelector)==null?void 0:c.toString())??"unknown"}`}),...n.map(s=>typeof s=="string"?`at opcode ${s}`:`at ${s.locationText} (${s.filePath}:${s.line}:${s.column})`)];return[`Simulation error: ${this.message}`,...i.reverse()].join(`
`)}getCallStack(){return this.functionErrorStack}getNoirCallStack(){return this.noirErrorStack||[]}setNoirCallStack(t){this.noirErrorStack=t}setAztecContext(t){this.aztecContext=t}toJSON(){return{originalMessage:this.originalMessage,functionErrorStack:this.functionErrorStack,noirErrorStack:this.noirErrorStack,revertData:this.revertData.map(t=>t.toString())}}static get schema(){return M.object({originalMessage:M.string(),functionErrorStack:M.array(M.object({contractAddress:Qe.AztecAddress,contractName:M.string().optional(),functionSelector:Qe.FunctionSelector,functionName:M.string().optional()})),noirErrorStack:h7.optional(),revertData:M.array(Qe.Fr)}).transform(({originalMessage:t,functionErrorStack:n,noirErrorStack:i,revertData:s})=>new Dc(t,n,s,i))}static async random(){return new Dc("Random simulation error",[{contractAddress:await tt.random(),functionSelector:$t.random()}])}}class $u{constructor(e,t){x(this,"values");x(this,"nested");this.values=e,this.nested=t??[]}static get schema(){return M.object({values:M.array(wt.Fr).optional(),nested:M.array(M.lazy(()=>$u.schema))}).transform(({values:e,nested:t})=>new $u(e,t))}static empty(){return new $u([])}static random(e=1){return new $u(aO(3,H.random),e>0?[$u.random(e-1)]:[])}}class rm{constructor(e,t,n,i,s){x(this,"revertReason");x(this,"constants");x(this,"txEffect");x(this,"publicReturnValues");x(this,"gasUsed");this.revertReason=e,this.constants=t,this.txEffect=n,this.publicReturnValues=i,this.gasUsed=s}static get schema(){return M.object({revertReason:Dc.schema.optional(),constants:Ro.schema,txEffect:Ui.schema,publicReturnValues:M.array($u.schema),gasUsed:M.object({totalGas:wr.schema,teardownGas:wr.schema,publicGas:wr.schema,billedGas:wr.schema})}).transform(e=>new rm(e.revertReason,e.constants,e.txEffect,e.publicReturnValues,e.gasUsed))}static async random(){return new rm(await Dc.random(),Ro.empty(),Ui.empty(),aO(2,$u.random),{teardownGas:wr.random(),totalGas:wr.random(),publicGas:wr.random(),billedGas:wr.random()})}}class cO{constructor(e,t){x(this,"privateExecutionResult");x(this,"publicInputs");this.privateExecutionResult=e,this.publicInputs=t}getPrivateReturnValues(){return p7(this.privateExecutionResult)}toSimulatedTx(){const e=nO(this.privateExecutionResult),t=sC(this.privateExecutionResult),n=aC(this.privateExecutionResult);return new ba(this.publicInputs,$i.empty(),e,t,n)}}class Id extends cO{constructor(t,n,i,s){super(t,n);x(this,"publicOutput");x(this,"profileResult");this.publicOutput=i,this.profileResult=s}get gasUsed(){var t;return((t=this.publicOutput)==null?void 0:t.gasUsed)??{totalGas:this.publicInputs.gasUsed,billedGas:this.publicInputs.gasUsed,teardownGas:wr.empty(),publicGas:wr.empty()}}static get schema(){return M.object({privateExecutionResult:Uc.schema,publicInputs:Ps.schema,publicOutput:rm.schema.optional(),profileResult:u7.optional()}).transform(Id.from)}static from(t){return new Id(t.privateExecutionResult,t.publicInputs,t.publicOutput,t.profileResult)}getPublicReturnValues(){return this.publicOutput?this.publicOutput.publicReturnValues:[]}static fromPrivateSimulationResultAndPublicOutput(t,n,i){return new Id(t.privateExecutionResult,t.publicInputs,n,i)}static async random(){return new Id(await Uc.random(),Ps.empty(),await rm.random())}}class Dp{constructor(e,t,n){x(this,"privateExecutionResult");x(this,"publicInputs");x(this,"clientIvcProof");this.privateExecutionResult=e,this.publicInputs=t,this.clientIvcProof=n}toTx(){const e=nO(this.privateExecutionResult),t=sC(this.privateExecutionResult),n=aC(this.privateExecutionResult);return new ba(this.publicInputs,this.clientIvcProof,e,t,n)}static get schema(){return M.object({privateExecutionResult:Uc.schema,publicInputs:Ps.schema,clientIvcProof:$i.schema}).transform(Dp.from)}static from(e){return new Dp(e.privateExecutionResult,e.publicInputs,e.clientIvcProof)}static async random(){return new Dp(await Uc.random(),Ps.empty(),$i.empty())}}function p7(r){const e=t=>{const n=new $u(t.returnValues);return n.nested=t.nestedExecutions.map(i=>e(i)),n};return e(r.entrypoint)}class Hu{constructor(e,t,n){x(this,"contractAddress");x(this,"storageSlot");x(this,"data");this.contractAddress=e,this.storageSlot=t,this.data=n}static get schema(){return fo(Hu)}toJSON(){return this.toString()}toBuffer(){return ft(this.contractAddress,this.storageSlot,new Jl(this.data))}static fromBuffer(e){const t=st.asReader(e);return new Hu(tt.fromBuffer(t),H.fromBuffer(t),t.readVector(H))}toString(){return qr(this.toBuffer())}static fromString(e){return Hu.fromBuffer(tn(e))}}class Qs{constructor(e,t){x(this,"values");x(this,"hash");this.values=e,this.hash=t}static get schema(){return M.array(Qe.Fr).transform(Qs.fromValues)}toJSON(){return this.values}static random(){return Qs.fromValues([H.random(),H.random()])}static async fromValues(e){return new Qs(e,await Fw(e))}toBuffer(){return ft(new Jl(this.values),this.hash)}static fromBuffer(e){const t=st.asReader(e);return new Qs(t.readVector(H),H.fromBuffer(t))}}class io{constructor(e,t,n,i,s,c,u){x(this,"origin");x(this,"functionSelector");x(this,"firstCallArgsHash");x(this,"txContext");x(this,"argsOfCalls");x(this,"authWitnesses");x(this,"capsules");this.origin=e,this.functionSelector=t,this.firstCallArgsHash=n,this.txContext=i,this.argsOfCalls=s,this.authWitnesses=c,this.capsules=u}static get schema(){return M.object({origin:Qe.AztecAddress,functionSelector:Qe.FunctionSelector,firstCallArgsHash:Qe.Fr,txContext:Gr.schema,argsOfCalls:M.array(Qs.schema),authWitnesses:M.array(Fc.schema),capsules:M.array(Hu.schema)}).transform(io.from)}toTxRequest(){return new Ou(this.origin,new Mu(this.functionSelector,!0),this.firstCallArgsHash,this.txContext)}static getFields(e){return[e.origin,e.functionSelector,e.firstCallArgsHash,e.txContext,e.argsOfCalls,e.authWitnesses,e.capsules]}static from(e){return new io(...io.getFields(e))}toBuffer(){return ft(this.origin,this.functionSelector,this.firstCallArgsHash,this.txContext,new Jl(this.argsOfCalls),new Jl(this.authWitnesses),new Jl(this.capsules))}toString(){return qr(this.toBuffer())}static fromBuffer(e){const t=st.asReader(e);return new io(t.readObject(tt),t.readObject($t),H.fromBuffer(t),t.readObject(Gr),t.readVector(Qs),t.readVector(Fc),t.readVector(Hu))}static fromString(e){return io.fromBuffer(tn(e))}static async random(){return new io(await tt.random(),$t.random(),H.random(),Gr.empty(),[await Qs.random()],[Fc.random()],[new Hu(await tt.random(),H.random(),[H.random(),H.random()]),new Hu(await tt.random(),H.random(),[H.random()])])}[St.inspect.custom](){return`TxExecutionRequest(${this.origin} called ${this.functionSelector})`}}const m7=M.discriminatedUnion("result",[M.object({result:M.literal("valid"),reason:M.array(M.string()).optional()}),M.object({result:M.literal("invalid"),reason:M.array(M.string())}),M.object({result:M.literal("skipped"),reason:M.array(M.string())})]);class Kl{constructor(e){x(this,"txEffects");this.txEffects=e,e.forEach(t=>{if(t.isEmpty())throw new Error("Empty tx effect not allowed in Body")})}equals(e){return this.txEffects.length===e.txEffects.length&&this.txEffects.every((t,n)=>t.equals(e.txEffects[n]))}static get schema(){return M.object({txEffects:M.array(Ui.schema)}).transform(({txEffects:e})=>new Kl(e))}toBuffer(){return ft(this.txEffects.length,this.txEffects)}static fromBuffer(e){const t=st.asReader(e);return new this(t.readVector(Ui))}toBlobFields(){let e=[];if(this.txEffects.forEach(t=>{e=e.concat(t.toBlobFields())}),e.length>zT*UT)throw new Error(`Attempted to overfill block's blobs with ${e.length} elements. The maximum is ${zT*UT}`);return e}static fromBlobFields(e){const t=[];let n=0;for(;n!==e.length;){if(!Ui.isFirstField(e[n]))throw new Error("Invalid fields given to Body.fromBlobFields(): First field invalid.");const s=Ui.decodeFirstField(e[n]).length;t.push(e.slice(n,n+s)),n+=s}const i=t.filter(s=>s.length).map(s=>Ui.fromBlobFields(s));return new this(i)}[St.inspect.custom](){return`Body {
  txEffects: ${St.inspect(this.txEffects)},
}`}static async random(e=4,t=3,n=1){const i=await UA(e,()=>Ui.random(t,n));return new Kl(i)}static empty(){return new Kl([])}}function g7(r=0,e=void 0,t=void 0,n=void 0,i=void 0){return new Kr(Mp(r+256),_7(r+512,e,i),y7(r+1536),v7(r+=1792,t,n??t),new H(r+2048),new H(r+2304))}function Mp(r=1){return new qt(new H(r),r)}function _7(r=0,e=void 0,t=void 0){return new so(e?new H(e):new H(r),Si(BigInt(r+256),wi),t??Si(BigInt(r+512),wi),Si(BigInt(r+768),wi))}function y7(r=0){return new Uo(Mp(r),w7(r+1))}function w7(r=0){return new $o(Mp(r),Mp(r+1),Mp(r+2))}function v7(r=1,e=void 0,t=void 0){return new ci(new H(r),new H(r+1),new H(e??r+2),new H(t??r+3),new H(r+4),ea.fromField(new H(r+5)),tt.fromField(new H(r+6)),new Jr(new H(r+7),new H(r+8)))}class Bc{constructor(e,t,n){x(this,"archive");x(this,"header");x(this,"body");this.archive=e,this.header=t,this.body=n}static get schema(){return M.object({archive:qt.schema,header:Kr.schema,body:Kl.schema}).transform(({archive:e,header:t,body:n})=>new Bc(e,t,n))}static fromBuffer(e){const t=st.asReader(e),n=t.readObject(Kr),i=t.readObject(qt),s=t.readObject(Kl);return new Bc(i,n,s)}toBuffer(){return ft(this.header,this.archive,this.body)}static fromString(e){return Bc.fromBuffer(tn(e))}toString(){return qr(this.toBuffer())}static async random(e,t=4,n=3,i=1,s=void 0,c=void 0){const u=await Kl.random(t,n,i);return new Bc(Mp(e+1),g7(0,t,e,c??e,s),u)}static empty(){return new Bc(qt.zero(),Kr.empty(),Kl.empty())}get number(){return Number(this.header.globalVariables.blockNumber.toBigInt())}hash(){return this.header.hash()}getPublicInputsHash(){const e=[this.header.globalVariables,qt.zero(),qt.zero(),qt.zero(),qt.zero(),this.header.lastArchive,this.header.state.partial.noteHashTree,this.header.state.partial.nullifierTree,this.header.state.partial.publicDataTree,this.header.state.l1ToL2MessageTree,this.archive];return n$(e)}getStartStateHash(){const e=ft(new H(Number(this.header.globalVariables.blockNumber.toBigInt())-1),qt.zero(),qt.zero(),qt.zero(),qt.zero(),this.header.lastArchive);return U_(e)}getEndStateHash(){const e=ft(this.header.globalVariables.blockNumber,this.header.state.partial.noteHashTree,this.header.state.partial.nullifierTree,this.header.state.partial.publicDataTree,this.header.state.l1ToL2MessageTree,this.archive);return U_(e)}getStats(){const e={privateLogCount:this.body.txEffects.reduce((t,n)=>t+n.privateLogs.length,0),publicLogCount:this.body.txEffects.reduce((t,n)=>t+n.publicLogs.length,0),contractClassLogCount:this.body.txEffects.reduce((t,n)=>t+n.contractClassLogs.length,0),contractClassLogSize:this.body.txEffects.reduce((t,n)=>t+n.contractClassLogs.reduce((i,s)=>i+s.getEmittedLength(),0),0)};return{txCount:this.body.txEffects.length,blockNumber:this.number,blockTimestamp:this.header.globalVariables.timestamp.toNumber(),...e}}equals(e){return this.archive.equals(e.archive)&&this.header.equals(e.header)&&this.body.equals(e.body)}}class b7 extends Error{constructor(){super(...arguments);x(this,"name","InterruptError")}}class Bx extends Error{constructor(){super(...arguments);x(this,"name","TimeoutError")}}class E7 extends Error{constructor(){super(...arguments);x(this,"name","AbortError")}}class S7{constructor(e=Pr("foundation:memory_fifo")){x(this,"log");x(this,"waiting");x(this,"flushing");this.log=e,this.waiting=[],this.flushing=!1}length(){return this.items.length}getImmediate(){return this.items.get()}get(e){return this.items.length?Promise.resolve(this.items.get()):this.items.length===0&&this.flushing?Promise.resolve(null):e===0?Promise.reject(new Bx("Timeout getting item from queue.")):new Promise((t,n)=>{this.waiting.push(t),e&&setTimeout(()=>{const i=this.waiting.findIndex(s=>s===t);if(i>-1){this.waiting.splice(i,1);const s=new Bx("Timeout getting item from queue.");n(s)}},e*1e3)})}put(e){return this.flushing?(this.log.warn("Discarding item because queue is flushing"),!1):this.waiting.length?(this.waiting.shift()(e),!0):(this.items.put(e),!0)}end(){this.flushing=!0,this.waiting.forEach(e=>e(null))}cancel(){this.flushing=!0,this.items.clear(),this.waiting.forEach(e=>e(null))}async process(e){try{for(;;){const t=await this.get();if(t===null)break;await e(t)}}catch(t){this.log.error("Queue handler exception",t)}}}class x7 extends S7{constructor(t){super(t);x(this,"container",new A7)}get items(){return this.container}}class A7{constructor(){x(this,"items",[])}put(e){this.items.push(e)}get(){return this.items.shift()}get length(){return this.items.length}clear(){this.items=[]}}class C7{constructor(){x(this,"queue",new x7);x(this,"runningPromise");x(this,"started",!1)}start(){this.started||(this.runningPromise=this.queue.process(e=>e()),this.started=!0)}length(){return this.queue.length()}cancel(){return this.queue.cancel(),this.runningPromise}end(){return this.queue.end(),this.runningPromise}put(e){return new Promise((t,n)=>{this.queue.put(async()=>{try{const s=await e();t(s)}catch(s){n(s)}})||n(new Error("Could not enqueue function"))})}async syncPoint(){await this.put(async()=>{})}}function T7(){let r,e;return{promise:new Promise((n,i)=>{r=n,e=i}),resolve:r,reject:e}}class I7{constructor(){x(this,"interrupts",[])}async sleep(e){let t;const n=new Promise(c=>{t=c,this.interrupts.push(c)}),i=new Promise(c=>setTimeout(()=>c(!1),e)),s=await Promise.race([n,i]);if(this.interrupts=this.interrupts.filter(c=>c!==t),s)throw new b7("Interrupted.")}interrupt(e=!1){this.interrupts.forEach(t=>t(e)),this.interrupts=[]}}function k7(r,e){return new Promise(t=>setTimeout(()=>t(e),r))}Pr("types:l2_block_downloader");const R7=Symbol.for("RunningPromise.EXIT");function P7(r,...e){return t=>{t instanceof Error&&!e.some(n=>t instanceof n)&&r.error("Error in running promise",t)}}const ev=class ev{constructor(e,t=Pr("running-promise"),n=1e4,i=P7(t)){x(this,"fn");x(this,"logger");x(this,"pollingIntervalMS");x(this,"handleError");x(this,"running");x(this,"runningPromise");x(this,"interruptibleSleep");x(this,"requested");this.fn=e,this.logger=t,this.pollingIntervalMS=n,this.handleError=i,this.running=!1,this.runningPromise=Promise.resolve(),this.interruptibleSleep=new I7,this.requested=void 0}start(){if(this.running){this.logger.warn("Attempted to start running promise that was already started");return}this.running=!0;const e=async()=>{for(;this.running;){const t=this.requested!==void 0;try{await this.fn()}catch(n){await this.handleError(n)===ev.EXIT&&(this.logger.warn("Error handler has requested to exit",{err:n}),this.running=!1)}t&&(this.requested.resolve(),this.requested=void 0),this.requested===void 0&&this.running&&await this.interruptibleSleep.sleep(this.pollingIntervalMS)}};this.runningPromise=e()}async stop(){if(!this.running){this.logger.warn("Running promise was not started");return}this.running=!1,this.interruptibleSleep.interrupt(),await this.runningPromise}isRunning(){return this.running}async trigger(){if(!this.running)return this.fn();let e=this.requested;e||(e=T7(),this.requested=e,this.interruptibleSleep.interrupt()),await e.promise}setPollingIntervalMS(e){this.pollingIntervalMS=e}};x(ev,"EXIT",R7);let Nx=ev;class B7{constructor(e,t,n,i=Pr("types:block_stream"),s={}){x(this,"l2BlockSource");x(this,"localData");x(this,"handler");x(this,"log");x(this,"opts");x(this,"runningPromise");x(this,"isSyncing");this.l2BlockSource=e,this.localData=t,this.handler=n,this.log=i,this.opts=s,this.isSyncing=!1,this.runningPromise=new Nx(()=>this.work(),i,this.opts.pollIntervalMS??1e3)}start(){this.log.verbose("Starting L2 block stream",this.opts),this.runningPromise.start()}async stop(){await this.runningPromise.stop()}isRunning(){return this.runningPromise.isRunning()}async sync(){this.isSyncing=!0,await this.runningPromise.trigger(),this.isSyncing=!1}async work(){try{const e=await this.l2BlockSource.getL2Tips(),t=await this.localData.getL2Tips();this.log.trace("Running L2 block stream",{sourceLatest:e.latest.number,localLatest:t.latest.number,sourceFinalized:e.finalized.number,localFinalized:t.finalized.number,sourceProven:e.proven.number,localProven:t.proven.number,sourceLatestHash:e.latest.hash,localLatestHash:t.latest.hash,sourceProvenHash:e.proven.hash,localProvenHash:t.proven.hash,sourceFinalizedHash:e.finalized.hash,localFinalizedHash:t.finalized.hash});let n=t.latest.number;for(;!await this.areBlockHashesEqualAt(n,{sourceCache:[e.latest]});)n--;for(n<t.latest.number&&(this.log.verbose(`Reorg detected. Pruning blocks from ${n+1} to ${t.latest.number}.`),await this.emitEvent({type:"chain-pruned",blockNumber:n})),n===0&&this.opts.startingBlock!==void 0&&(n=Math.max(this.opts.startingBlock-1,0),this.log.verbose(`Starting sync from block number ${n}`));n<e.latest.number;){const i=n+1,s=Math.min(this.opts.batchSize??20,e.latest.number-i+1);this.log.trace(`Requesting blocks from ${i} limit ${s} proven=${this.opts.proven}`);const c=await this.l2BlockSource.getPublishedBlocks(i,s,this.opts.proven);if(c.length===0)break;await this.emitEvent({type:"blocks-added",blocks:c}),n=c.at(-1).block.number}t.proven!==void 0&&e.proven.number!==t.proven.number&&await this.emitEvent({type:"chain-proven",blockNumber:e.proven.number}),t.finalized!==void 0&&e.finalized.number!==t.finalized.number&&await this.emitEvent({type:"chain-finalized",blockNumber:e.finalized.number})}catch(e){if(e.name==="AbortError")return;this.log.error("Error processing block stream",e)}}async areBlockHashesEqualAt(e,t){var s,c,u;if(e===0)return!0;const n=await this.localData.getL2BlockHash(e),i=((s=t.sourceCache.find(d=>d.number===e&&d.hash))==null?void 0:s.hash)??await this.l2BlockSource.getBlockHeader(e).then(d=>d==null?void 0:d.hash()).then(d=>d==null?void 0:d.toString());return this.log.trace(`Comparing block hashes for block ${e}`,{localBlockHash:n,sourceBlockHash:i,sourceCacheNumber:(c=t.sourceCache[0])==null?void 0:c.number,sourceCacheHash:(u=t.sourceCache[0])==null?void 0:u.hash}),n===i}async emitEvent(e){if(this.log.debug(`Emitting ${e.type} (${e.type==="blocks-added"?e.blocks.length:e.blockNumber})`),await this.handler.handleBlockStreamEvent(e),!this.isRunning()&&!this.isSyncing)throw new E7}}function Ox(r){return M.object({data:r,l2BlockNumber:Qe.Integer,l2BlockHash:M.string()})}const Zs=M.union([Qe.Integer,M.literal("latest")]),JE=M.union([M.object({number:M.literal(0),hash:M.undefined()}),M.object({number:M.number(),hash:M.string()})]),N7=M.object({latest:JE,proven:JE,finalized:JE}),O7=M.object({block:Bc.schema,l1:M.object({blockNumber:wt.BigInt,timestamp:wt.BigInt,blockHash:M.string()}),signatures:M.array(Iu.schema)});class Iv{constructor(e,t,n,i){x(this,"logContent");x(this,"txHash");x(this,"uniqueNoteHashesInTx");x(this,"firstNullifierInTx");this.logContent=e,this.txHash=t,this.uniqueNoteHashesInTx=n,this.firstNullifierInTx=i}toNoirSerialization(){return[...uk(this.logContent,t_),this.txHash,...uk(this.uniqueNoteHashesInTx,Bn),this.firstNullifierInTx]}static noirSerializationOfEmpty(){return new Iv([],new H(0),[],new H(0)).toNoirSerialization()}}function uk(r,e){if(r.length>e)throw new Error(`An array of length ${r.length} cannot be converted to a BoundedVec of max length ${e}`);return[r.concat(Array(e-r.length).fill(new H(0))),new H(r.length)]}class dd{constructor(e,t){x(this,"appTaggingSecret");x(this,"index");if(this.appTaggingSecret=e,this.index=t,t<0)throw new Error("IndexedTaggingSecret index out of bounds")}toFields(){return[this.appTaggingSecret,new H(this.index)]}static fromFields(e){return new this(e[0],e[1].toNumber())}computeTag(e){return sa([this.appTaggingSecret,e,this.index])}async computeSiloedTag(e,t){const n=await this.computeTag(e);return sa([t,n])}}class co{constructor(e,t,n){x(this,"blockNumber");x(this,"txIndex");x(this,"logIndex");if(this.blockNumber=e,this.txIndex=t,this.logIndex=n,!Number.isInteger(e)||e<QA)throw new Error(`Invalid block number: ${e}`);if(!Number.isInteger(t))throw new Error(`Invalid tx index: ${t}`);if(!Number.isInteger(n))throw new Error(`Invalid log index: ${n}`)}static random(){return new co(Math.floor(Math.random()*1e3)+1,Math.floor(Math.random()*1e3),Math.floor(Math.random()*100))}static get schema(){return M.object({blockNumber:Qe.Integer,txIndex:Qe.Integer,logIndex:Qe.Integer}).transform(({blockNumber:e,txIndex:t,logIndex:n})=>new co(e,t,n))}toBuffer(){return $e.concat([Si(BigInt(this.blockNumber),4),Si(BigInt(this.txIndex),4),Si(BigInt(this.logIndex),4)])}static fromBuffer(e){const t=st.asReader(e),n=t.readNumber(),i=t.readNumber(),s=t.readNumber();return new co(n,i,s)}toString(){return`${this.blockNumber}-${this.txIndex}-${this.logIndex}`}static fromString(e){const[t,n,i]=e.split("-"),s=Number(t),c=Number(n),u=Number(i);return new co(s,c,u)}toHumanReadable(){return`logId: (blockNumber: ${this.blockNumber}, txIndex: ${this.txIndex}, logIndex: ${this.logIndex})`}}const Mw=M.object({txHash:br.schema.optional(),fromBlock:Qe.Integer.optional(),toBlock:Qe.Integer.optional(),afterLog:co.schema.optional(),contractAddress:Qe.AztecAddress.optional()});var i_={exports:{}};i_.exports;var lk;function F7(){return lk||(lk=1,function(r,e){var t=200,n="__lodash_hash_undefined__",i=1,s=2,c=9007199254740991,u="[object Arguments]",d="[object Array]",l="[object AsyncFunction]",m="[object Boolean]",y="[object Date]",b="[object Error]",E="[object Function]",I="[object GeneratorFunction]",S="[object Map]",P="[object Number]",N="[object Null]",k="[object Object]",R="[object Promise]",L="[object Proxy]",U="[object RegExp]",te="[object Set]",V="[object String]",oe="[object Symbol]",de="[object Undefined]",Ee="[object WeakMap]",Fe="[object ArrayBuffer]",j="[object DataView]",fe="[object Float32Array]",z="[object Float64Array]",Q="[object Int8Array]",me="[object Int16Array]",pe="[object Int32Array]",xe="[object Uint8Array]",ce="[object Uint8ClampedArray]",ve="[object Uint16Array]",ee="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,se=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,J={};J[fe]=J[z]=J[Q]=J[me]=J[pe]=J[xe]=J[ce]=J[ve]=J[ee]=!0,J[u]=J[d]=J[Fe]=J[m]=J[j]=J[y]=J[b]=J[E]=J[S]=J[P]=J[k]=J[U]=J[te]=J[V]=J[Ee]=!1;var Se=typeof Oc=="object"&&Oc&&Oc.Object===Object&&Oc,Me=typeof self=="object"&&self&&self.Object===Object&&self,Ce=Se||Me||Function("return this")(),Re=e&&!e.nodeType&&e,je=Re&&!0&&r&&!r.nodeType&&r,Ge=je&&je.exports===Re,ct=Ge&&Se.process,pt=function(){try{return ct&&ct.binding&&ct.binding("util")}catch{}}(),W=pt&&pt.isTypedArray;function He(ye,Ue){for(var lt=-1,kt=ye==null?0:ye.length,jr=0,ir=[];++lt<kt;){var Lr=ye[lt];Ue(Lr,lt,ye)&&(ir[jr++]=Lr)}return ir}function _e(ye,Ue){for(var lt=-1,kt=Ue.length,jr=ye.length;++lt<kt;)ye[jr+lt]=Ue[lt];return ye}function ge(ye,Ue){for(var lt=-1,kt=ye==null?0:ye.length;++lt<kt;)if(Ue(ye[lt],lt,ye))return!0;return!1}function ue(ye,Ue){for(var lt=-1,kt=Array(ye);++lt<ye;)kt[lt]=Ue(lt);return kt}function he(ye){return function(Ue){return ye(Ue)}}function Ke(ye,Ue){return ye.has(Ue)}function Ve(ye,Ue){return ye==null?void 0:ye[Ue]}function Oe(ye){var Ue=-1,lt=Array(ye.size);return ye.forEach(function(kt,jr){lt[++Ue]=[jr,kt]}),lt}function et(ye,Ue){return function(lt){return ye(Ue(lt))}}function be(ye){var Ue=-1,lt=Array(ye.size);return ye.forEach(function(kt){lt[++Ue]=kt}),lt}var Ae=Array.prototype,Ze=Function.prototype,ut=Object.prototype,X=Ce["__core-js_shared__"],B=Ze.toString,w=ut.hasOwnProperty,v=function(){var ye=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return ye?"Symbol(src)_1."+ye:""}(),A=ut.toString,Z=RegExp("^"+B.call(w).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ae=Ge?Ce.Buffer:void 0,Ne=Ce.Symbol,ze=Ce.Uint8Array,_t=ut.propertyIsEnumerable,xt=Ae.splice,At=Ne?Ne.toStringTag:void 0,Ir=Object.getOwnPropertySymbols,cr=ae?ae.isBuffer:void 0,Kn=et(Object.keys,Object),Br=Qn(Ce,"DataView"),Fs=Qn(Ce,"Map"),ho=Qn(Ce,"Promise"),Bi=Qn(Ce,"Set"),Xo=Qn(Ce,"WeakMap"),ie=Qn(Object,"create"),D=ei(Br),q=ei(Fs),we=ei(ho),Le=ei(Bi),Ye=ei(Xo),it=Ne?Ne.prototype:void 0,Gt=it?it.valueOf:void 0;function Er(ye){var Ue=-1,lt=ye==null?0:ye.length;for(this.clear();++Ue<lt;){var kt=ye[Ue];this.set(kt[0],kt[1])}}function Nr(){this.__data__=ie?ie(null):{},this.size=0}function Xr(ye){var Ue=this.has(ye)&&delete this.__data__[ye];return this.size-=Ue?1:0,Ue}function Or(ye){var Ue=this.__data__;if(ie){var lt=Ue[ye];return lt===n?void 0:lt}return w.call(Ue,ye)?Ue[ye]:void 0}function Jo(ye){var Ue=this.__data__;return ie?Ue[ye]!==void 0:w.call(Ue,ye)}function po(ye,Ue){var lt=this.__data__;return this.size+=this.has(ye)?0:1,lt[ye]=ie&&Ue===void 0?n:Ue,this}Er.prototype.clear=Nr,Er.prototype.delete=Xr,Er.prototype.get=Or,Er.prototype.has=Jo,Er.prototype.set=po;function gs(ye){var Ue=-1,lt=ye==null?0:ye.length;for(this.clear();++Ue<lt;){var kt=ye[Ue];this.set(kt[0],kt[1])}}function bh(){this.__data__=[],this.size=0}function gm(ye){var Ue=this.__data__,lt=Wi(Ue,ye);if(lt<0)return!1;var kt=Ue.length-1;return lt==kt?Ue.pop():xt.call(Ue,lt,1),--this.size,!0}function Eh(ye){var Ue=this.__data__,lt=Wi(Ue,ye);return lt<0?void 0:Ue[lt][1]}function Ju(ye){return Wi(this.__data__,ye)>-1}function Qo(ye,Ue){var lt=this.__data__,kt=Wi(lt,ye);return kt<0?(++this.size,lt.push([ye,Ue])):lt[kt][1]=Ue,this}gs.prototype.clear=bh,gs.prototype.delete=gm,gs.prototype.get=Eh,gs.prototype.has=Ju,gs.prototype.set=Qo;function qi(ye){var Ue=-1,lt=ye==null?0:ye.length;for(this.clear();++Ue<lt;){var kt=ye[Ue];this.set(kt[0],kt[1])}}function ec(){this.size=0,this.__data__={hash:new Er,map:new(Fs||gs),string:new Er}}function hf(ye){var Ue=Jt(this,ye).delete(ye);return this.size-=Ue?1:0,Ue}function yn(ye){return Jt(this,ye).get(ye)}function mo(ye){return Jt(this,ye).has(ye)}function Gc(ye,Ue){var lt=Jt(this,ye),kt=lt.size;return lt.set(ye,Ue),this.size+=lt.size==kt?0:1,this}qi.prototype.clear=ec,qi.prototype.delete=hf,qi.prototype.get=yn,qi.prototype.has=mo,qi.prototype.set=Gc;function Yc(ye){var Ue=-1,lt=ye==null?0:ye.length;for(this.__data__=new qi;++Ue<lt;)this.add(ye[Ue])}function tc(ye){return this.__data__.set(ye,n),this}function Sh(ye){return this.__data__.has(ye)}Yc.prototype.add=Yc.prototype.push=tc,Yc.prototype.has=Sh;function Ls(ye){var Ue=this.__data__=new gs(ye);this.size=Ue.size}function Xc(){this.__data__=new gs,this.size=0}function Vi(ye){var Ue=this.__data__,lt=Ue.delete(ye);return this.size=Ue.size,lt}function Qu(ye){return this.__data__.get(ye)}function _s(ye){return this.__data__.has(ye)}function xh(ye,Ue){var lt=this.__data__;if(lt instanceof gs){var kt=lt.__data__;if(!Fs||kt.length<t-1)return kt.push([ye,Ue]),this.size=++lt.size,this;lt=this.__data__=new qi(kt)}return lt.set(ye,Ue),this.size=lt.size,this}Ls.prototype.clear=Xc,Ls.prototype.delete=Vi,Ls.prototype.get=Qu,Ls.prototype.has=_s,Ls.prototype.set=xh;function _m(ye,Ue){var lt=ua(ye),kt=!lt&&yo(ye),jr=!lt&&!kt&&wf(ye),ir=!lt&&!kt&&!jr&&Ef(ye),Lr=lt||kt||jr||ir,On=Lr?ue(ye.length,String):[],rn=On.length;for(var nn in ye)w.call(ye,nn)&&!(Lr&&(nn=="length"||jr&&(nn=="offset"||nn=="parent")||ir&&(nn=="buffer"||nn=="byteLength"||nn=="byteOffset")||yf(nn,rn)))&&On.push(nn);return On}function Wi(ye,Ue){for(var lt=ye.length;lt--;)if(Ms(ye[lt][0],Ue))return lt;return-1}function ka(ye,Ue,lt){var kt=Ue(ye);return ua(ye)?kt:_e(kt,lt(ye))}function Zi(ye){return ye==null?ye===void 0?de:N:At&&At in Object(ye)?gf(ye):ca(ye)}function Ds(ye){return fa(ye)&&Zi(ye)==u}function go(ye,Ue,lt,kt,jr){return ye===Ue?!0:ye==null||Ue==null||!fa(ye)&&!fa(Ue)?ye!==ye&&Ue!==Ue:el(ye,Ue,lt,kt,go,jr)}function el(ye,Ue,lt,kt,jr,ir){var Lr=ua(ye),On=ua(Ue),rn=Lr?d:oa(ye),nn=On?d:oa(Ue);rn=rn==u?k:rn,nn=nn==u?k:nn;var Sr=rn==k,$n=nn==k,ln=rn==nn;if(ln&&wf(ye)){if(!wf(Ue))return!1;Lr=!0,Sr=!1}if(ln&&!Sr)return ir||(ir=new Ls),Lr||Ef(ye)?Jc(ye,Ue,lt,kt,jr,ir):_o(ye,Ue,rn,lt,kt,jr,ir);if(!(lt&i)){var pi=Sr&&w.call(ye,"__wrapped__"),mi=$n&&w.call(Ue,"__wrapped__");if(pi||mi){var Tn=pi?ye.value():ye,Sn=mi?Ue.value():Ue;return ir||(ir=new Ls),jr(Tn,Sn,lt,kt,ir)}}return ln?(ir||(ir=new Ls),Ah(ye,Ue,lt,kt,jr,ir)):!1}function pf(ye){if(!bf(ye)||rl(ye))return!1;var Ue=rc(ye)?Z:se;return Ue.test(ei(ye))}function tl(ye){return fa(ye)&&vf(ye.length)&&!!J[Zi(ye)]}function mf(ye){if(!Qc(ye))return Kn(ye);var Ue=[];for(var lt in Object(ye))w.call(ye,lt)&&lt!="constructor"&&Ue.push(lt);return Ue}function Jc(ye,Ue,lt,kt,jr,ir){var Lr=lt&i,On=ye.length,rn=Ue.length;if(On!=rn&&!(Lr&&rn>On))return!1;var nn=ir.get(ye);if(nn&&ir.get(Ue))return nn==Ue;var Sr=-1,$n=!0,ln=lt&s?new Yc:void 0;for(ir.set(ye,Ue),ir.set(Ue,ye);++Sr<On;){var pi=ye[Sr],mi=Ue[Sr];if(kt)var Tn=Lr?kt(mi,pi,Sr,Ue,ye,ir):kt(pi,mi,Sr,ye,Ue,ir);if(Tn!==void 0){if(Tn)continue;$n=!1;break}if(ln){if(!ge(Ue,function(Sn,da){if(!Ke(ln,da)&&(pi===Sn||jr(pi,Sn,lt,kt,ir)))return ln.push(da)})){$n=!1;break}}else if(!(pi===mi||jr(pi,mi,lt,kt,ir))){$n=!1;break}}return ir.delete(ye),ir.delete(Ue),$n}function _o(ye,Ue,lt,kt,jr,ir,Lr){switch(lt){case j:if(ye.byteLength!=Ue.byteLength||ye.byteOffset!=Ue.byteOffset)return!1;ye=ye.buffer,Ue=Ue.buffer;case Fe:return!(ye.byteLength!=Ue.byteLength||!ir(new ze(ye),new ze(Ue)));case m:case y:case P:return Ms(+ye,+Ue);case b:return ye.name==Ue.name&&ye.message==Ue.message;case U:case V:return ye==Ue+"";case S:var On=Oe;case te:var rn=kt&i;if(On||(On=be),ye.size!=Ue.size&&!rn)return!1;var nn=Lr.get(ye);if(nn)return nn==Ue;kt|=s,Lr.set(ye,Ue);var Sr=Jc(On(ye),On(Ue),kt,jr,ir,Lr);return Lr.delete(ye),Sr;case oe:if(Gt)return Gt.call(ye)==Gt.call(Ue)}return!1}function Ah(ye,Ue,lt,kt,jr,ir){var Lr=lt&i,On=Ra(ye),rn=On.length,nn=Ra(Ue),Sr=nn.length;if(rn!=Sr&&!Lr)return!1;for(var $n=rn;$n--;){var ln=On[$n];if(!(Lr?ln in Ue:w.call(Ue,ln)))return!1}var pi=ir.get(ye);if(pi&&ir.get(Ue))return pi==Ue;var mi=!0;ir.set(ye,Ue),ir.set(Ue,ye);for(var Tn=Lr;++$n<rn;){ln=On[$n];var Sn=ye[ln],da=Ue[ln];if(kt)var Ni=Lr?kt(da,Sn,ln,Ue,ye,ir):kt(Sn,da,ln,ye,Ue,ir);if(!(Ni===void 0?Sn===da||jr(Sn,da,lt,kt,ir):Ni)){mi=!1;break}Tn||(Tn=ln=="constructor")}if(mi&&!Tn){var nl=ye.constructor,nc=Ue.constructor;nl!=nc&&"constructor"in ye&&"constructor"in Ue&&!(typeof nl=="function"&&nl instanceof nl&&typeof nc=="function"&&nc instanceof nc)&&(mi=!1)}return ir.delete(ye),ir.delete(Ue),mi}function Ra(ye){return ka(ye,ym,_f)}function Jt(ye,Ue){var lt=ye.__data__;return Ch(Ue)?lt[typeof Ue=="string"?"string":"hash"]:lt.map}function Qn(ye,Ue){var lt=Ve(ye,Ue);return pf(lt)?lt:void 0}function gf(ye){var Ue=w.call(ye,At),lt=ye[At];try{ye[At]=void 0;var kt=!0}catch{}var jr=A.call(ye);return kt&&(Ue?ye[At]=lt:delete ye[At]),jr}var _f=Ir?function(ye){return ye==null?[]:(ye=Object(ye),He(Ir(ye),function(Ue){return _t.call(ye,Ue)}))}:eu,oa=Zi;(Br&&oa(new Br(new ArrayBuffer(1)))!=j||Fs&&oa(new Fs)!=S||ho&&oa(ho.resolve())!=R||Bi&&oa(new Bi)!=te||Xo&&oa(new Xo)!=Ee)&&(oa=function(ye){var Ue=Zi(ye),lt=Ue==k?ye.constructor:void 0,kt=lt?ei(lt):"";if(kt)switch(kt){case D:return j;case q:return S;case we:return R;case Le:return te;case Ye:return Ee}return Ue});function yf(ye,Ue){return Ue=Ue??c,!!Ue&&(typeof ye=="number"||Y.test(ye))&&ye>-1&&ye%1==0&&ye<Ue}function Ch(ye){var Ue=typeof ye;return Ue=="string"||Ue=="number"||Ue=="symbol"||Ue=="boolean"?ye!=="__proto__":ye===null}function rl(ye){return!!v&&v in ye}function Qc(ye){var Ue=ye&&ye.constructor,lt=typeof Ue=="function"&&Ue.prototype||ut;return ye===lt}function ca(ye){return A.call(ye)}function ei(ye){if(ye!=null){try{return B.call(ye)}catch{}try{return ye+""}catch{}}return""}function Ms(ye,Ue){return ye===Ue||ye!==ye&&Ue!==Ue}var yo=Ds(function(){return arguments}())?Ds:function(ye){return fa(ye)&&w.call(ye,"callee")&&!_t.call(ye,"callee")},ua=Array.isArray;function la(ye){return ye!=null&&vf(ye.length)&&!rc(ye)}var wf=cr||tu;function Th(ye,Ue){return go(ye,Ue)}function rc(ye){if(!bf(ye))return!1;var Ue=Zi(ye);return Ue==E||Ue==I||Ue==l||Ue==L}function vf(ye){return typeof ye=="number"&&ye>-1&&ye%1==0&&ye<=c}function bf(ye){var Ue=typeof ye;return ye!=null&&(Ue=="object"||Ue=="function")}function fa(ye){return ye!=null&&typeof ye=="object"}var Ef=W?he(W):tl;function ym(ye){return la(ye)?_m(ye):mf(ye)}function eu(){return[]}function tu(){return!1}r.exports=Th}(i_,i_.exports)),i_.exports}var L7=F7();const uO=Zc(L7);class yd{constructor(e,t){x(this,"id");x(this,"log");this.id=e,this.log=t}static async random(){return new yd(co.random(),await ls.random())}static get schema(){return M.object({id:co.schema,log:ls.schema}).transform(yd.from)}static from(e){return new yd(e.id,e.log)}toBuffer(){return $e.concat([this.id.toBuffer(),this.log.toBuffer()])}toString(){return qr(this.toBuffer())}toHumanReadable(){return`${this.id.toHumanReadable()}, ${this.log.toHumanReadable()}`}equals(e){return uO(this,e)}static fromBuffer(e){const t=st.asReader(e),n=co.fromBuffer(t),i=ls.fromBuffer(t);return new yd(n,i)}static fromString(e){return yd.fromBuffer(tn(e))}}class wd{constructor(e,t){x(this,"id");x(this,"log");this.id=e,this.log=t}static async random(){return new wd(co.random(),await hs.random())}static get schema(){return M.object({id:co.schema,log:hs.schema}).transform(wd.from)}static from(e){return new wd(e.id,e.log)}toBuffer(){return $e.concat([this.id.toBuffer(),this.log.toBuffer()])}toString(){return qr(this.toBuffer())}equals(e){return uO(this,e)}static fromBuffer(e){const t=st.asReader(e),n=co.fromBuffer(t),i=hs.fromBuffer(t);return new wd(n,i)}static fromString(e){return wd.fromBuffer(tn(e))}}function D7(r){const e=$e.concat([r.toCompressedBuffer(),yv(Vr.SYMMETRIC_KEY)]);return U_(e)}function M7(r,e){const t=e(r),n=t.subarray(0,16),i=t.subarray(16,32);return[n,i]}function fk(r){return M7(r,D7)}function dk(r,e,t){return new GA().encryptBufferCBC(r,e,t)}function hk(r,e,t){return new GA().decryptBufferCBC(r,e,t)}async function oC(r,e){if(e.isZero())throw new Error("Attempting to derive a shared secret with a zero public key. You have probably passed a zero public key in your Noir code somewhere thinking that the note won't be broadcast... but it was.");return await new Qp().mul(e,r)}async function j7(r,e){const t=await e.toAddressPoint();return await oC(r,t)}const lO=1,fO=1,dO=Do-lO-fO,$7=dO*31/16*16,ow=48,pk=$7-ow,U7=32,z7=2;function H7(r){const e=[],t=Math.ceil(r.length/31);for(let n=0;n<t;n++)e.push(new H(r.subarray(n*31,(n+1)*31)));return e}function q7(r){return $e.concat(r.map(e=>e.toBuffer().subarray(1)))}class cC{constructor(e,t,n){x(this,"tag");x(this,"contractAddress");x(this,"incomingBodyPlaintext");this.tag=e,this.contractAddress=t,this.incomingBodyPlaintext=n}async generatePayload(e,t,n=Ta){const i=await zu(e),[s,c]=i.toXAndSign(),u=$e.from([Number(c)]),d=await j7(e,t),[l,m]=fk(d);if(this.incomingBodyPlaintext.length>pk)throw new Error(`Incoming body plaintext cannot be more than ${pk} bytes.`);const y=this.incomingBodyPlaintext,b=await dk(y,m,l),E=ft(this.contractAddress.toBuffer(),z9(b.length)),I=await dk(E,m,l);if(I.length!==ow)throw new Error(`Invalid header ciphertext size: ${I.length}`);const S=1+ow+b.length,P=n(31*Math.ceil(S/31)-S),N=ft(u,I,b,P);if(N.length%31!==0)throw new Error(`logBytes.length should be divisible by 31, got: ${N.length}`);const k=Array.from({length:dO-N.length/31},()=>H.fromBuffer(n(32))),R=[this.tag,s,...H7(N),...k];if(R.length!==Do)throw new Error(`Expected private log payload to have ${Do} fields. Got ${R.length}.`);return new Zn(R)}static async decryptAsIncoming(e,t){try{const n=e,i=n[0],s=n[1],c=st.asReader(q7(n.slice(lO+fO))),d=!!c.readBytes(1)[0],l=await gr.fromXAndSign(s,d),m=c.readBytes(ow);let y=tt.ZERO;if(!t)throw new Error("Cannot decrypt without an address secret.");const b=await oC(t,l),[E,I]=fk(b),S=await hk(m,I,E),P=st.asReader(S),N=P.readBytes(U7);y=tt.fromBuffer(N);const k=P.readBytes(z7),R=(k[0]<<8)+k[1],L=c.readBytes(R),U=await hk(L,I,E);return new cC(i,y,U)}catch(n){if(!this.isAcceptableError(n))throw n;return}}static isAcceptableError(e){return e instanceof vx||e.message.endsWith("is greater or equal to field modulus.")||e.message.startsWith("Invalid AztecAddress length")||e.message.startsWith("Selector must fit in")||e.message.startsWith("Attempted to read beyond buffer length")||e.message.startsWith("RangeError [ERR_BUFFER_OUT_OF_BOUNDS]:")}toBuffer(){return ft(this.tag,this.contractAddress.toBuffer(),this.incomingBodyPlaintext)}}class h_{constructor(e,t,n,i){x(this,"txHash");x(this,"dataStartIndexForTx");x(this,"blockNumber");x(this,"log");this.txHash=e,this.dataStartIndexForTx=t,this.blockNumber=n,this.log=i}get isFromPublic(){return this.log instanceof ls}static get schema(){return M.object({txHash:br.schema,dataStartIndexForTx:M.number(),blockNumber:M.number(),log:M.union([Zn.schema,ls.schema])}).transform(({txHash:e,dataStartIndexForTx:t,blockNumber:n,log:i})=>new h_(e,t,n,i))}toBuffer(){const e=this.log instanceof ls;return $e.concat([this.txHash.toBuffer(),$_(this.dataStartIndexForTx),$_(this.blockNumber),sN(e),this.log.toBuffer()])}static fromBuffer(e){const t=st.asReader(e),n=t.readObject(br),i=t.readNumber(),s=t.readNumber(),u=t.readBoolean()?ls.fromBuffer(t):Zn.fromBuffer(t);return new h_(n,i,s,u)}static async random(){const t=Math.random()<.5?await ls.random():Zn.random();return new h_(br.random(),1,1,t)}equals(e){return this.txHash.equals(e.txHash)&&this.dataStartIndexForTx===e.dataStartIndexForTx&&this.blockNumber===e.blockNumber&&(this.log instanceof ls&&e.log instanceof ls||this.log instanceof Zn&&e.log instanceof Zn)&&this.log.equals(e.log)}}let mk=class Fx extends Cd{static get schema(){return Qe.Buffer.transform(Fx.fromBuffer)}static fromBuffer(e){const t=st.asReader(e);return new Fx(t.readVector(H))}};var tv,hO;const b_=class b_{constructor(e,t,n){x(this,"event");x(this,"contractAddress");x(this,"eventTypeId");this.event=e,this.contractAddress=t,this.eventTypeId=n}static async decryptAsIncoming(e,t){const n=await cC.decryptAsIncoming(e.fields,t);if(n)return Lt(this,tv,hO).call(this,n.incomingBodyPlaintext,n.contractAddress)}toIncomingBodyPlaintext(){const e=[this.eventTypeId.toField(),...this.event.items];return ft(e)}static async random(e){return new b_(mk.random(),e??await tt.random(),ro.random())}equals(e){return this.event.equals(e.event)&&this.contractAddress.equals(e.contractAddress)&&this.eventTypeId.equals(e.eventTypeId)}};tv=new WeakSet,hO=function(e,t){let n;try{const s=st.asReader(e).readArray(e.length/H.SIZE_IN_BYTES,H),c=ro.fromField(s[0]),u=new mk(s.slice(1));n=new b_(u,t,c)}catch{return}return n},Nt(b_,tv);let jw=b_;class Y_{constructor(e){x(this,"decode");x(this,"eventSelector");x(this,"abiType");x(this,"fieldNames");this.eventSelector=e.eventSelector,this.abiType=e.abiType,this.fieldNames=e.fieldNames,this.decode=Y_.decodeEvent(e.eventSelector,e.abiType)}static decodeEvent(e,t){return n=>{if(n!==void 0)return n instanceof jw?e.equals(n.eventTypeId)?H_([t],n.event.items):void 0:H_([t],n.log)}}static get schema(){return M.object({eventSelector:Qe.EventSelector,abiType:Vc,fieldNames:M.array(M.string())}).transform(e=>new Y_(e))}}async function pO(r,e,t,n){const i=await r.getL1ToL2MessageMembershipWitness("latest",t);if(!i)throw new Error(`No L1 to L2 message found for message hash ${t.toString()}`);const[s,c]=i,u=await aU(e,t,n),[d]=await r.findLeavesIndexes("latest",ki.NULLIFIER_TREE,[u]);if(d!==void 0)throw new Error(`No non-nullified L1 to L2 message found for message hash ${t.toString()}`);return[s,c]}var gp=function(r){return r[r.EQ=1]="EQ",r[r.NEQ=2]="NEQ",r[r.LT=3]="LT",r[r.LTE=4]="LTE",r[r.GT=5]="GT",r[r.GTE=6]="GTE",r}({});class p_{constructor(e,t,n,i,s){x(this,"note");x(this,"recipient");x(this,"contractAddress");x(this,"storageSlot");x(this,"txHash");this.note=e,this.recipient=t,this.contractAddress=n,this.storageSlot=i,this.txHash=s}toBuffer(){return ft([this.note,this.recipient,this.contractAddress,this.storageSlot,this.txHash])}static fromBuffer(e){const t=st.asReader(e),n=t.readObject(Bs),i=t.readObject(tt),s=t.readObject(tt),c=t.readObject(H),u=t.readObject(br);return new this(n,i,s,c,u)}static get schema(){return M.object({note:Bs.schema,recipient:Qe.AztecAddress,contractAddress:Qe.AztecAddress,storageSlot:Qe.Fr,txHash:br.schema}).transform(({note:e,recipient:t,contractAddress:n,storageSlot:i,txHash:s})=>new p_(e,t,n,i,s))}toString(){return qr(this.toBuffer())}static fromString(e){return p_.fromBuffer(tn(e))}static async random(){return new p_(Bs.random(),await tt.random(),await tt.random(),H.random(),br.random())}}class jp extends p_{constructor(t,n,i,s,c,u){super(t,n,i,s,c);x(this,"nonce");this.nonce=u}static get schema(){return M.object({note:Bs.schema,recipient:Qe.AztecAddress,contractAddress:Qe.AztecAddress,storageSlot:Qe.Fr,txHash:br.schema,nonce:Qe.Fr}).transform(({note:t,recipient:n,contractAddress:i,storageSlot:s,txHash:c,nonce:u})=>new jp(t,n,i,s,c,u))}toBuffer(){return ft([this.note,this.recipient,this.contractAddress,this.storageSlot,this.txHash,this.nonce])}static async random(){return new jp(Bs.random(),await tt.random(),await tt.random(),H.random(),br.random(),H.random())}static fromBuffer(t){const n=st.asReader(t),i=n.readObject(Bs),s=n.readObject(tt),c=n.readObject(tt),u=n.readObject(H),d=n.readObject(br),l=n.readObject(H);return new this(i,s,c,u,d,l)}static fromString(t){return jp.fromBuffer(tn(t))}}var Lx=function(r){return r[r.ACTIVE=1]="ACTIVE",r[r.ACTIVE_OR_NULLIFIED=2]="ACTIVE_OR_NULLIFIED",r}({});const V7=M.object({txHash:br.schema.optional(),contractAddress:Qe.AztecAddress.optional(),storageSlot:Qe.Fr.optional(),recipient:Qe.AztecAddress.optional(),status:M.nativeEnum(Lx).optional(),siloedNullifier:Qe.Fr.optional(),scopes:M.array(Qe.AztecAddress).optional()}),mO=1,nm=U9(U_,H);async function gO(r){if("privateFunctionRoot"in r&&"unconstrainedFunctionRoot"in r&&"metadataHash"in r){const{privateFunctionRoot:n,unconstrainedFunctionRoot:i,metadataHash:s}=r,c=[n,i,s].map(u=>u.toBuffer());return nm($e.concat([yv(mO),...c]))}const e=await W7(r),t=gO(e);return J7().trace("Computed artifact hash",{artifactHash:t,...e}),t}async function W7(r){const e=await gk(r,Qr.PRIVATE),t=await gk(r,Qr.UNCONSTRAINED),n=Z7(r);return{privateFunctionRoot:e,unconstrainedFunctionRoot:t,metadataHash:n}}function Z7(r){return nm($e.from(JSON.stringify({name:r.name,outputs:r.outputs}),"utf-8"))}async function gk(r,e){const t=await K7(r,e);return t!=null&&t.root?H.fromBuffer(t.root):H.ZERO}async function K7(r,e){const t=await G7(r,e);if(t.length===0)return;const n=Math.ceil(Math.log2(t.length));return(await vv.create(n,$e.alloc(32),Q7())).computeTree(t.map(s=>s.toBuffer()))}async function G7(r,e){const t=await Promise.all(r.functions.filter(n=>n.functionType===e).map(async n=>({...n,selector:await $t.fromNameAndParameters(n.name,n.parameters)})));return t.sort((n,i)=>n.selector.value-i.selector.value),await Promise.all(t.map(Y7))}async function Y7(r){const e="selector"in r?r.selector:await $t.fromNameAndParameters(r),t=nm(r.bytecode).toBuffer(),n="functionMetadataHash"in r?r.functionMetadataHash:X7(r);return nm($e.concat([yv(mO),e.toBuffer(),n.toBuffer(),t]))}function X7(r){return nm($e.from(JSON.stringify(r.returnTypes),"utf8"))}function J7(){return Pr("circuits:artifact_hash")}function Q7(){return(r,e)=>Promise.resolve(nm($e.concat([r,e])).toBuffer())}async function uC(r){const e=await kv(r);return Cx(r.publicKeys,e)}async function kv(r){const e="saltedInitializationHash"in r?r.saltedInitializationHash:await _O(r);return Nn([r.originalContractClassId,e],Vr.PARTIAL_ADDRESS)}function _O(r){return Nn([r.salt,r.initializationHash,r.deployer],Vr.PARTIAL_ADDRESS)}async function eH(r,e){if(!r)return H.ZERO;const t=await $t.fromNameAndParameters(r.name,r.parameters),n=dm(r,e);return yO(t,n)}async function yO(r,e){const t=await Fw(e);return Nn([r,t],Vr.CONSTRUCTOR)}var QE={exports:{}},e2={},_k;function wO(){if(_k)return e2;_k=1;function r(k){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},r(k)}function e(k,R,L){return Object.defineProperty(k,"prototype",{writable:!1}),k}function t(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}function n(k,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),R&&i(k,R)}function i(k,R){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,te){return U.__proto__=te,U},i(k,R)}function s(k){var R=d();return function(){var U=l(k),te;if(R){var V=l(this).constructor;te=Reflect.construct(U,arguments,V)}else te=U.apply(this,arguments);return c(this,te)}}function c(k,R){if(R&&(r(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(k)}function u(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(k){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},l(k)}var m={},y,b;function E(k,R,L){L||(L=Error);function U(V,oe,de){return typeof R=="string"?R:R(V,oe,de)}var te=function(V){n(de,V);var oe=s(de);function de(Ee,Fe,j){var fe;return t(this,de),fe=oe.call(this,U(Ee,Fe,j)),fe.code=k,fe}return e(de)}(L);m[k]=te}function I(k,R){if(Array.isArray(k)){var L=k.length;return k=k.map(function(U){return String(U)}),L>2?"one of ".concat(R," ").concat(k.slice(0,L-1).join(", "),", or ")+k[L-1]:L===2?"one of ".concat(R," ").concat(k[0]," or ").concat(k[1]):"of ".concat(R," ").concat(k[0])}else return"of ".concat(R," ").concat(String(k))}function S(k,R,L){return k.substr(0,R.length)===R}function P(k,R,L){return(L===void 0||L>k.length)&&(L=k.length),k.substring(L-R.length,L)===R}function N(k,R,L){return typeof L!="number"&&(L=0),L+R.length>k.length?!1:k.indexOf(R,L)!==-1}return E("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),E("ERR_INVALID_ARG_TYPE",function(k,R,L){y===void 0&&(y=Dx()),y(typeof k=="string","'name' must be a string");var U;typeof R=="string"&&S(R,"not ")?(U="must not be",R=R.replace(/^not /,"")):U="must be";var te;if(P(k," argument"))te="The ".concat(k," ").concat(U," ").concat(I(R,"type"));else{var V=N(k,".")?"property":"argument";te='The "'.concat(k,'" ').concat(V," ").concat(U," ").concat(I(R,"type"))}return te+=". Received type ".concat(r(L)),te},TypeError),E("ERR_INVALID_ARG_VALUE",function(k,R){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";b===void 0&&(b=Kp());var U=b.inspect(R);return U.length>128&&(U="".concat(U.slice(0,128),"...")),"The argument '".concat(k,"' ").concat(L,". Received ").concat(U)},TypeError),E("ERR_INVALID_RETURN_VALUE",function(k,R,L){var U;return L&&L.constructor&&L.constructor.name?U="instance of ".concat(L.constructor.name):U="type ".concat(r(L)),"Expected ".concat(k,' to be returned from the "').concat(R,'"')+" function but got ".concat(U,".")},TypeError),E("ERR_MISSING_ARGS",function(){for(var k=arguments.length,R=new Array(k),L=0;L<k;L++)R[L]=arguments[L];y===void 0&&(y=Dx()),y(R.length>0,"At least one arg needs to be specified");var U="The ",te=R.length;switch(R=R.map(function(V){return'"'.concat(V,'"')}),te){case 1:U+="".concat(R[0]," argument");break;case 2:U+="".concat(R[0]," and ").concat(R[1]," arguments");break;default:U+=R.slice(0,te-1).join(", "),U+=", and ".concat(R[te-1]," arguments");break}return"".concat(U," must be specified")},TypeError),e2.codes=m,e2}var t2,yk;function tH(){if(yk)return t2;yk=1;function r(ce,ve){var ee=Object.keys(ce);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(ce);ve&&(re=re.filter(function(se){return Object.getOwnPropertyDescriptor(ce,se).enumerable})),ee.push.apply(ee,re)}return ee}function e(ce){for(var ve=1;ve<arguments.length;ve++){var ee=arguments[ve]!=null?arguments[ve]:{};ve%2?r(Object(ee),!0).forEach(function(re){t(ce,re,ee[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(ee)):r(Object(ee)).forEach(function(re){Object.defineProperty(ce,re,Object.getOwnPropertyDescriptor(ee,re))})}return ce}function t(ce,ve,ee){return ve=c(ve),ve in ce?Object.defineProperty(ce,ve,{value:ee,enumerable:!0,configurable:!0,writable:!0}):ce[ve]=ee,ce}function n(ce,ve){if(!(ce instanceof ve))throw new TypeError("Cannot call a class as a function")}function i(ce,ve){for(var ee=0;ee<ve.length;ee++){var re=ve[ee];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(ce,c(re.key),re)}}function s(ce,ve,ee){return ve&&i(ce.prototype,ve),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function c(ce){var ve=u(ce,"string");return k(ve)==="symbol"?ve:String(ve)}function u(ce,ve){if(k(ce)!=="object"||ce===null)return ce;var ee=ce[Symbol.toPrimitive];if(ee!==void 0){var re=ee.call(ce,ve);if(k(re)!=="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ce)}function d(ce,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(ve&&ve.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),ve&&P(ce,ve)}function l(ce){var ve=I();return function(){var re=N(ce),se;if(ve){var Y=N(this).constructor;se=Reflect.construct(re,arguments,Y)}else se=re.apply(this,arguments);return m(this,se)}}function m(ce,ve){if(ve&&(k(ve)==="object"||typeof ve=="function"))return ve;if(ve!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(ce)}function y(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function b(ce){var ve=typeof Map=="function"?new Map:void 0;return b=function(re){if(re===null||!S(re))return re;if(typeof re!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ve<"u"){if(ve.has(re))return ve.get(re);ve.set(re,se)}function se(){return E(re,arguments,N(this).constructor)}return se.prototype=Object.create(re.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),P(se,re)},b(ce)}function E(ce,ve,ee){return I()?E=Reflect.construct.bind():E=function(se,Y,J){var Se=[null];Se.push.apply(Se,Y);var Me=Function.bind.apply(se,Se),Ce=new Me;return J&&P(Ce,J.prototype),Ce},E.apply(null,arguments)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(ce){return Function.toString.call(ce).indexOf("[native code]")!==-1}function P(ce,ve){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(re,se){return re.__proto__=se,re},P(ce,ve)}function N(ce){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},N(ce)}function k(ce){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ve){return typeof ve}:function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},k(ce)}var R=Kp(),L=R.inspect,U=wO(),te=U.codes.ERR_INVALID_ARG_TYPE;function V(ce,ve,ee){return(ee===void 0||ee>ce.length)&&(ee=ce.length),ce.substring(ee-ve.length,ee)===ve}function oe(ce,ve){if(ve=Math.floor(ve),ce.length==0||ve==0)return"";var ee=ce.length*ve;for(ve=Math.floor(Math.log(ve)/Math.log(2));ve;)ce+=ce,ve--;return ce+=ce.substring(0,ee-ce.length),ce}var de="",Ee="",Fe="",j="",fe={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},z=10;function Q(ce){var ve=Object.keys(ce),ee=Object.create(Object.getPrototypeOf(ce));return ve.forEach(function(re){ee[re]=ce[re]}),Object.defineProperty(ee,"message",{value:ce.message}),ee}function me(ce){return L(ce,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function pe(ce,ve,ee){var re="",se="",Y=0,J="",Se=!1,Me=me(ce),Ce=Me.split(`
`),Re=me(ve).split(`
`),je=0,Ge="";if(ee==="strictEqual"&&k(ce)==="object"&&k(ve)==="object"&&ce!==null&&ve!==null&&(ee="strictEqualObject"),Ce.length===1&&Re.length===1&&Ce[0]!==Re[0]){var ct=Ce[0].length+Re[0].length;if(ct<=z){if((k(ce)!=="object"||ce===null)&&(k(ve)!=="object"||ve===null)&&(ce!==0||ve!==0))return"".concat(fe[ee],`

`)+"".concat(Ce[0]," !== ").concat(Re[0],`
`)}else if(ee!=="strictEqualObject"){var pt=Hr.stderr&&Hr.stderr.isTTY?Hr.stderr.columns:80;if(ct<pt){for(;Ce[0][je]===Re[0][je];)je++;je>2&&(Ge=`
  `.concat(oe(" ",je),"^"),je=0)}}}for(var W=Ce[Ce.length-1],He=Re[Re.length-1];W===He&&(je++<2?J=`
  `.concat(W).concat(J):re=W,Ce.pop(),Re.pop(),!(Ce.length===0||Re.length===0));)W=Ce[Ce.length-1],He=Re[Re.length-1];var _e=Math.max(Ce.length,Re.length);if(_e===0){var ge=Me.split(`
`);if(ge.length>30)for(ge[26]="".concat(de,"...").concat(j);ge.length>27;)ge.pop();return"".concat(fe.notIdentical,`

`).concat(ge.join(`
`),`
`)}je>3&&(J=`
`.concat(de,"...").concat(j).concat(J),Se=!0),re!==""&&(J=`
  `.concat(re).concat(J),re="");var ue=0,he=fe[ee]+`
`.concat(Ee,"+ actual").concat(j," ").concat(Fe,"- expected").concat(j),Ke=" ".concat(de,"...").concat(j," Lines skipped");for(je=0;je<_e;je++){var Ve=je-Y;if(Ce.length<je+1)Ve>1&&je>2&&(Ve>4?(se+=`
`.concat(de,"...").concat(j),Se=!0):Ve>3&&(se+=`
  `.concat(Re[je-2]),ue++),se+=`
  `.concat(Re[je-1]),ue++),Y=je,re+=`
`.concat(Fe,"-").concat(j," ").concat(Re[je]),ue++;else if(Re.length<je+1)Ve>1&&je>2&&(Ve>4?(se+=`
`.concat(de,"...").concat(j),Se=!0):Ve>3&&(se+=`
  `.concat(Ce[je-2]),ue++),se+=`
  `.concat(Ce[je-1]),ue++),Y=je,se+=`
`.concat(Ee,"+").concat(j," ").concat(Ce[je]),ue++;else{var Oe=Re[je],et=Ce[je],be=et!==Oe&&(!V(et,",")||et.slice(0,-1)!==Oe);be&&V(Oe,",")&&Oe.slice(0,-1)===et&&(be=!1,et+=","),be?(Ve>1&&je>2&&(Ve>4?(se+=`
`.concat(de,"...").concat(j),Se=!0):Ve>3&&(se+=`
  `.concat(Ce[je-2]),ue++),se+=`
  `.concat(Ce[je-1]),ue++),Y=je,se+=`
`.concat(Ee,"+").concat(j," ").concat(et),re+=`
`.concat(Fe,"-").concat(j," ").concat(Oe),ue+=2):(se+=re,re="",(Ve===1||je===0)&&(se+=`
  `.concat(et),ue++))}if(ue>20&&je<_e-2)return"".concat(he).concat(Ke,`
`).concat(se,`
`).concat(de,"...").concat(j).concat(re,`
`)+"".concat(de,"...").concat(j)}return"".concat(he).concat(Se?Ke:"",`
`).concat(se).concat(re).concat(J).concat(Ge)}var xe=function(ce,ve){d(re,ce);var ee=l(re);function re(se){var Y;if(n(this,re),k(se)!=="object"||se===null)throw new te("options","Object",se);var J=se.message,Se=se.operator,Me=se.stackStartFn,Ce=se.actual,Re=se.expected,je=Error.stackTraceLimit;if(Error.stackTraceLimit=0,J!=null)Y=ee.call(this,String(J));else if(Hr.stderr&&Hr.stderr.isTTY&&(Hr.stderr&&Hr.stderr.getColorDepth&&Hr.stderr.getColorDepth()!==1?(de="\x1B[34m",Ee="\x1B[32m",j="\x1B[39m",Fe="\x1B[31m"):(de="",Ee="",j="",Fe="")),k(Ce)==="object"&&Ce!==null&&k(Re)==="object"&&Re!==null&&"stack"in Ce&&Ce instanceof Error&&"stack"in Re&&Re instanceof Error&&(Ce=Q(Ce),Re=Q(Re)),Se==="deepStrictEqual"||Se==="strictEqual")Y=ee.call(this,pe(Ce,Re,Se));else if(Se==="notDeepStrictEqual"||Se==="notStrictEqual"){var Ge=fe[Se],ct=me(Ce).split(`
`);if(Se==="notStrictEqual"&&k(Ce)==="object"&&Ce!==null&&(Ge=fe.notStrictEqualObject),ct.length>30)for(ct[26]="".concat(de,"...").concat(j);ct.length>27;)ct.pop();ct.length===1?Y=ee.call(this,"".concat(Ge," ").concat(ct[0])):Y=ee.call(this,"".concat(Ge,`

`).concat(ct.join(`
`),`
`))}else{var pt=me(Ce),W="",He=fe[Se];Se==="notDeepEqual"||Se==="notEqual"?(pt="".concat(fe[Se],`

`).concat(pt),pt.length>1024&&(pt="".concat(pt.slice(0,1021),"..."))):(W="".concat(me(Re)),pt.length>512&&(pt="".concat(pt.slice(0,509),"...")),W.length>512&&(W="".concat(W.slice(0,509),"...")),Se==="deepEqual"||Se==="equal"?pt="".concat(He,`

`).concat(pt,`

should equal

`):W=" ".concat(Se," ").concat(W)),Y=ee.call(this,"".concat(pt).concat(W))}return Error.stackTraceLimit=je,Y.generatedMessage=!J,Object.defineProperty(y(Y),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Y.code="ERR_ASSERTION",Y.actual=Ce,Y.expected=Re,Y.operator=Se,Error.captureStackTrace&&Error.captureStackTrace(y(Y),Me),Y.stack,Y.name="AssertionError",m(Y)}return s(re,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:ve,value:function(Y,J){return L(this,e(e({},J),{},{customInspect:!1,depth:0}))}}]),re}(b(Error),L.custom);return t2=xe,t2}var r2,wk;function vO(){if(wk)return r2;wk=1;var r=Object.prototype.toString;return r2=function(t){var n=r.call(t),i=n==="[object Arguments]";return i||(i=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&r.call(t.callee)==="[object Function]"),i},r2}var n2,vk;function rH(){if(vk)return n2;vk=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=vO(),i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),c=i.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(b){var E=b.constructor;return E&&E.prototype===b},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},m=function(){if(typeof window>"u")return!1;for(var b in window)try{if(!l["$"+b]&&e.call(window,b)&&window[b]!==null&&typeof window[b]=="object")try{d(window[b])}catch{return!0}}catch{return!0}return!1}(),y=function(b){if(typeof window>"u"||!m)return d(b);try{return d(b)}catch{return!1}};r=function(E){var I=E!==null&&typeof E=="object",S=t.call(E)==="[object Function]",P=n(E),N=I&&t.call(E)==="[object String]",k=[];if(!I&&!S&&!P)throw new TypeError("Object.keys called on a non-object");var R=c&&S;if(N&&E.length>0&&!e.call(E,0))for(var L=0;L<E.length;++L)k.push(String(L));if(P&&E.length>0)for(var U=0;U<E.length;++U)k.push(String(U));else for(var te in E)!(R&&te==="prototype")&&e.call(E,te)&&k.push(String(te));if(s)for(var V=y(E),oe=0;oe<u.length;++oe)!(V&&u[oe]==="constructor")&&e.call(E,u[oe])&&k.push(u[oe]);return k}}return n2=r,n2}var i2,bk;function bO(){if(bk)return i2;bk=1;var r=Array.prototype.slice,e=vO(),t=Object.keys,n=t?function(c){return t(c)}:rH(),i=Object.keys;return n.shim=function(){if(Object.keys){var c=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);c||(Object.keys=function(d){return e(d)?i(r.call(d)):i(d)})}else Object.keys=n;return Object.keys||n},i2=n,i2}var s2,Ek;function nH(){if(Ek)return s2;Ek=1;var r=bO(),e=NA()(),t=lm(),n=OA(),i=t("Array.prototype.push"),s=t("Object.prototype.propertyIsEnumerable"),c=e?n.getOwnPropertySymbols:null;return s2=function(d,l){if(d==null)throw new TypeError("target must be an object");var m=n(d);if(arguments.length===1)return m;for(var y=1;y<arguments.length;++y){var b=n(arguments[y]),E=r(b),I=e&&(n.getOwnPropertySymbols||c);if(I)for(var S=I(b),P=0;P<S.length;++P){var N=S[P];s(b,N)&&i(E,N)}for(var k=0;k<E.length;++k){var R=E[k];if(s(b,R)){var L=b[R];m[R]=L}}}return m},s2}var a2,Sk;function iH(){if(Sk)return a2;Sk=1;var r=nH(),e=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",i=n.split(""),s={},c=0;c<i.length;++c)s[i[c]]=i[c];var u=Object.assign({},s),d="";for(var l in u)d+=l;return n!==d},t=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1};return a2=function(){return!Object.assign||e()||t()?r:Object.assign},a2}var o2,xk;function EO(){if(xk)return o2;xk=1;var r=function(e){return e!==e};return o2=function(t,n){return t===0&&n===0?1/t===1/n:!!(t===n||r(t)&&r(n))},o2}var c2,Ak;function lC(){if(Ak)return c2;Ak=1;var r=EO();return c2=function(){return typeof Object.is=="function"?Object.is:r},c2}var u2,Ck;function sH(){if(Ck)return u2;Ck=1;var r=jA(),e=mv(),t=e(r("String.prototype.indexOf"));return u2=function(i,s){var c=r(i,!!s);return typeof c=="function"&&t(i,".prototype.")>-1?e(c):c},u2}var l2,Tk;function Rv(){if(Tk)return l2;Tk=1;var r=bO(),e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",t=Object.prototype.toString,n=Array.prototype.concat,i=CB(),s=function(l){return typeof l=="function"&&t.call(l)==="[object Function]"},c=TB()(),u=function(l,m,y,b){if(m in l){if(b===!0){if(l[m]===y)return}else if(!s(b)||!b())return}c?i(l,m,y,!0):i(l,m,y)},d=function(l,m){var y=arguments.length>2?arguments[2]:{},b=r(m);e&&(b=n.call(b,Object.getOwnPropertySymbols(m)));for(var E=0;E<b.length;E+=1)u(l,b[E],m[b[E]],y[b[E]])};return d.supportsDescriptors=!!c,l2=d,l2}var f2,Ik;function aH(){if(Ik)return f2;Ik=1;var r=lC(),e=Rv();return f2=function(){var n=r();return e(Object,{is:n},{is:function(){return Object.is!==n}}),n},f2}var d2,kk;function oH(){if(kk)return d2;kk=1;var r=Rv(),e=mv(),t=EO(),n=lC(),i=aH(),s=e(n(),Object);return r(s,{getPolyfill:n,implementation:t,shim:i}),d2=s,d2}var h2,Rk;function SO(){return Rk||(Rk=1,h2=function(e){return e!==e}),h2}var p2,Pk;function xO(){if(Pk)return p2;Pk=1;var r=SO();return p2=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r},p2}var m2,Bk;function cH(){if(Bk)return m2;Bk=1;var r=Rv(),e=xO();return m2=function(){var n=e();return r(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},m2}var g2,Nk;function uH(){if(Nk)return g2;Nk=1;var r=mv(),e=Rv(),t=SO(),n=xO(),i=cH(),s=r(n(),Number);return e(s,{getPolyfill:n,implementation:t,shim:i}),g2=s,g2}var _2,Ok;function lH(){if(Ok)return _2;Ok=1;function r(be,Ae){return s(be)||i(be,Ae)||t(be,Ae)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(be,Ae){if(be){if(typeof be=="string")return n(be,Ae);var Ze=Object.prototype.toString.call(be).slice(8,-1);if(Ze==="Object"&&be.constructor&&(Ze=be.constructor.name),Ze==="Map"||Ze==="Set")return Array.from(be);if(Ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze))return n(be,Ae)}}function n(be,Ae){(Ae==null||Ae>be.length)&&(Ae=be.length);for(var Ze=0,ut=new Array(Ae);Ze<Ae;Ze++)ut[Ze]=be[Ze];return ut}function i(be,Ae){var Ze=be==null?null:typeof Symbol<"u"&&be[Symbol.iterator]||be["@@iterator"];if(Ze!=null){var ut,X,B,w,v=[],A=!0,Z=!1;try{if(B=(Ze=Ze.call(be)).next,Ae!==0)for(;!(A=(ut=B.call(Ze)).done)&&(v.push(ut.value),v.length!==Ae);A=!0);}catch(ae){Z=!0,X=ae}finally{try{if(!A&&Ze.return!=null&&(w=Ze.return(),Object(w)!==w))return}finally{if(Z)throw X}}return v}}function s(be){if(Array.isArray(be))return be}function c(be){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},c(be)}var u=/a/g.flags!==void 0,d=function(Ae){var Ze=[];return Ae.forEach(function(ut){return Ze.push(ut)}),Ze},l=function(Ae){var Ze=[];return Ae.forEach(function(ut,X){return Ze.push([X,ut])}),Ze},m=Object.is?Object.is:oH(),y=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},b=Number.isNaN?Number.isNaN:uH();function E(be){return be.call.bind(be)}var I=E(Object.prototype.hasOwnProperty),S=E(Object.prototype.propertyIsEnumerable),P=E(Object.prototype.toString),N=Kp().types,k=N.isAnyArrayBuffer,R=N.isArrayBufferView,L=N.isDate,U=N.isMap,te=N.isRegExp,V=N.isSet,oe=N.isNativeError,de=N.isBoxedPrimitive,Ee=N.isNumberObject,Fe=N.isStringObject,j=N.isBooleanObject,fe=N.isBigIntObject,z=N.isSymbolObject,Q=N.isFloat32Array,me=N.isFloat64Array;function pe(be){if(be.length===0||be.length>10)return!0;for(var Ae=0;Ae<be.length;Ae++){var Ze=be.charCodeAt(Ae);if(Ze<48||Ze>57)return!0}return be.length===10&&be>=Math.pow(2,32)}function xe(be){return Object.keys(be).filter(pe).concat(y(be).filter(Object.prototype.propertyIsEnumerable.bind(be)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ce(be,Ae){if(be===Ae)return 0;for(var Ze=be.length,ut=Ae.length,X=0,B=Math.min(Ze,ut);X<B;++X)if(be[X]!==Ae[X]){Ze=be[X],ut=Ae[X];break}return Ze<ut?-1:ut<Ze?1:0}var ve=!0,ee=!1,re=0,se=1,Y=2,J=3;function Se(be,Ae){return u?be.source===Ae.source&&be.flags===Ae.flags:RegExp.prototype.toString.call(be)===RegExp.prototype.toString.call(Ae)}function Me(be,Ae){if(be.byteLength!==Ae.byteLength)return!1;for(var Ze=0;Ze<be.byteLength;Ze++)if(be[Ze]!==Ae[Ze])return!1;return!0}function Ce(be,Ae){return be.byteLength!==Ae.byteLength?!1:ce(new Uint8Array(be.buffer,be.byteOffset,be.byteLength),new Uint8Array(Ae.buffer,Ae.byteOffset,Ae.byteLength))===0}function Re(be,Ae){return be.byteLength===Ae.byteLength&&ce(new Uint8Array(be),new Uint8Array(Ae))===0}function je(be,Ae){return Ee(be)?Ee(Ae)&&m(Number.prototype.valueOf.call(be),Number.prototype.valueOf.call(Ae)):Fe(be)?Fe(Ae)&&String.prototype.valueOf.call(be)===String.prototype.valueOf.call(Ae):j(be)?j(Ae)&&Boolean.prototype.valueOf.call(be)===Boolean.prototype.valueOf.call(Ae):fe(be)?fe(Ae)&&BigInt.prototype.valueOf.call(be)===BigInt.prototype.valueOf.call(Ae):z(Ae)&&Symbol.prototype.valueOf.call(be)===Symbol.prototype.valueOf.call(Ae)}function Ge(be,Ae,Ze,ut){if(be===Ae)return be!==0?!0:Ze?m(be,Ae):!0;if(Ze){if(c(be)!=="object")return typeof be=="number"&&b(be)&&b(Ae);if(c(Ae)!=="object"||be===null||Ae===null||Object.getPrototypeOf(be)!==Object.getPrototypeOf(Ae))return!1}else{if(be===null||c(be)!=="object")return Ae===null||c(Ae)!=="object"?be==Ae:!1;if(Ae===null||c(Ae)!=="object")return!1}var X=P(be),B=P(Ae);if(X!==B)return!1;if(Array.isArray(be)){if(be.length!==Ae.length)return!1;var w=xe(be),v=xe(Ae);return w.length!==v.length?!1:pt(be,Ae,Ze,ut,se,w)}if(X==="[object Object]"&&(!U(be)&&U(Ae)||!V(be)&&V(Ae)))return!1;if(L(be)){if(!L(Ae)||Date.prototype.getTime.call(be)!==Date.prototype.getTime.call(Ae))return!1}else if(te(be)){if(!te(Ae)||!Se(be,Ae))return!1}else if(oe(be)||be instanceof Error){if(be.message!==Ae.message||be.name!==Ae.name)return!1}else if(R(be)){if(!Ze&&(Q(be)||me(be))){if(!Me(be,Ae))return!1}else if(!Ce(be,Ae))return!1;var A=xe(be),Z=xe(Ae);return A.length!==Z.length?!1:pt(be,Ae,Ze,ut,re,A)}else{if(V(be))return!V(Ae)||be.size!==Ae.size?!1:pt(be,Ae,Ze,ut,Y);if(U(be))return!U(Ae)||be.size!==Ae.size?!1:pt(be,Ae,Ze,ut,J);if(k(be)){if(!Re(be,Ae))return!1}else if(de(be)&&!je(be,Ae))return!1}return pt(be,Ae,Ze,ut,re)}function ct(be,Ae){return Ae.filter(function(Ze){return S(be,Ze)})}function pt(be,Ae,Ze,ut,X,B){if(arguments.length===5){B=Object.keys(be);var w=Object.keys(Ae);if(B.length!==w.length)return!1}for(var v=0;v<B.length;v++)if(!I(Ae,B[v]))return!1;if(Ze&&arguments.length===5){var A=y(be);if(A.length!==0){var Z=0;for(v=0;v<A.length;v++){var ae=A[v];if(S(be,ae)){if(!S(Ae,ae))return!1;B.push(ae),Z++}else if(S(Ae,ae))return!1}var Ne=y(Ae);if(A.length!==Ne.length&&ct(Ae,Ne).length!==Z)return!1}else{var ze=y(Ae);if(ze.length!==0&&ct(Ae,ze).length!==0)return!1}}if(B.length===0&&(X===re||X===se&&be.length===0||be.size===0))return!0;if(ut===void 0)ut={val1:new Map,val2:new Map,position:0};else{var _t=ut.val1.get(be);if(_t!==void 0){var xt=ut.val2.get(Ae);if(xt!==void 0)return _t===xt}ut.position++}ut.val1.set(be,ut.position),ut.val2.set(Ae,ut.position);var At=Ve(be,Ae,Ze,B,ut,X);return ut.val1.delete(be),ut.val2.delete(Ae),At}function W(be,Ae,Ze,ut){for(var X=d(be),B=0;B<X.length;B++){var w=X[B];if(Ge(Ae,w,Ze,ut))return be.delete(w),!0}return!1}function He(be){switch(c(be)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":be=+be;case"number":if(b(be))return!1}return!0}function _e(be,Ae,Ze){var ut=He(Ze);return ut??(Ae.has(ut)&&!be.has(ut))}function ge(be,Ae,Ze,ut,X){var B=He(Ze);if(B!=null)return B;var w=Ae.get(B);return w===void 0&&!Ae.has(B)||!Ge(ut,w,!1,X)?!1:!be.has(B)&&Ge(ut,w,!1,X)}function ue(be,Ae,Ze,ut){for(var X=null,B=d(be),w=0;w<B.length;w++){var v=B[w];if(c(v)==="object"&&v!==null)X===null&&(X=new Set),X.add(v);else if(!Ae.has(v)){if(Ze||!_e(be,Ae,v))return!1;X===null&&(X=new Set),X.add(v)}}if(X!==null){for(var A=d(Ae),Z=0;Z<A.length;Z++){var ae=A[Z];if(c(ae)==="object"&&ae!==null){if(!W(X,ae,Ze,ut))return!1}else if(!Ze&&!be.has(ae)&&!W(X,ae,Ze,ut))return!1}return X.size===0}return!0}function he(be,Ae,Ze,ut,X,B){for(var w=d(be),v=0;v<w.length;v++){var A=w[v];if(Ge(Ze,A,X,B)&&Ge(ut,Ae.get(A),X,B))return be.delete(A),!0}return!1}function Ke(be,Ae,Ze,ut){for(var X=null,B=l(be),w=0;w<B.length;w++){var v=r(B[w],2),A=v[0],Z=v[1];if(c(A)==="object"&&A!==null)X===null&&(X=new Set),X.add(A);else{var ae=Ae.get(A);if(ae===void 0&&!Ae.has(A)||!Ge(Z,ae,Ze,ut)){if(Ze||!ge(be,Ae,A,Z,ut))return!1;X===null&&(X=new Set),X.add(A)}}}if(X!==null){for(var Ne=l(Ae),ze=0;ze<Ne.length;ze++){var _t=r(Ne[ze],2),xt=_t[0],At=_t[1];if(c(xt)==="object"&&xt!==null){if(!he(X,be,xt,At,Ze,ut))return!1}else if(!Ze&&(!be.has(xt)||!Ge(be.get(xt),At,!1,ut))&&!he(X,be,xt,At,!1,ut))return!1}return X.size===0}return!0}function Ve(be,Ae,Ze,ut,X,B){var w=0;if(B===Y){if(!ue(be,Ae,Ze,X))return!1}else if(B===J){if(!Ke(be,Ae,Ze,X))return!1}else if(B===se)for(;w<be.length;w++)if(I(be,w)){if(!I(Ae,w)||!Ge(be[w],Ae[w],Ze,X))return!1}else{if(I(Ae,w))return!1;for(var v=Object.keys(be);w<v.length;w++){var A=v[w];if(!I(Ae,A)||!Ge(be[A],Ae[A],Ze,X))return!1}return v.length===Object.keys(Ae).length}for(w=0;w<ut.length;w++){var Z=ut[w];if(!Ge(be[Z],Ae[Z],Ze,X))return!1}return!0}function Oe(be,Ae){return Ge(be,Ae,ee)}function et(be,Ae){return Ge(be,Ae,ve)}return _2={isDeepEqual:Oe,isDeepStrictEqual:et},_2}var Fk;function Dx(){if(Fk)return QE.exports;Fk=1;function r(Y){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},r(Y)}function e(Y,J,Se){return Object.defineProperty(Y,"prototype",{writable:!1}),Y}function t(Y,J){if(!(Y instanceof J))throw new TypeError("Cannot call a class as a function")}var n=wO(),i=n.codes,s=i.ERR_AMBIGUOUS_ARGUMENT,c=i.ERR_INVALID_ARG_TYPE,u=i.ERR_INVALID_ARG_VALUE,d=i.ERR_INVALID_RETURN_VALUE,l=i.ERR_MISSING_ARGS,m=tH(),y=Kp(),b=y.inspect,E=Kp().types,I=E.isPromise,S=E.isRegExp,P=iH()(),N=lC()(),k=sH()("RegExp.prototype.test"),R,L;function U(){var Y=lH();R=Y.isDeepEqual,L=Y.isDeepStrictEqual}var te=!1,V=QE.exports=j,oe={};function de(Y){throw Y.message instanceof Error?Y.message:new m(Y)}function Ee(Y,J,Se,Me,Ce){var Re=arguments.length,je;if(Re===0)je="Failed";else if(Re===1)Se=Y,Y=void 0;else{if(te===!1){te=!0;var Ge=Hr.emitWarning?Hr.emitWarning:console.warn.bind(console);Ge("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Re===2&&(Me="!=")}if(Se instanceof Error)throw Se;var ct={actual:Y,expected:J,operator:Me===void 0?"fail":Me,stackStartFn:Ce||Ee};Se!==void 0&&(ct.message=Se);var pt=new m(ct);throw je&&(pt.message=je,pt.generatedMessage=!0),pt}V.fail=Ee,V.AssertionError=m;function Fe(Y,J,Se,Me){if(!Se){var Ce=!1;if(J===0)Ce=!0,Me="No value argument passed to `assert.ok()`";else if(Me instanceof Error)throw Me;var Re=new m({actual:Se,expected:!0,message:Me,operator:"==",stackStartFn:Y});throw Re.generatedMessage=Ce,Re}}function j(){for(var Y=arguments.length,J=new Array(Y),Se=0;Se<Y;Se++)J[Se]=arguments[Se];Fe.apply(void 0,[j,J.length].concat(J))}V.ok=j,V.equal=function Y(J,Se,Me){if(arguments.length<2)throw new l("actual","expected");J!=Se&&de({actual:J,expected:Se,message:Me,operator:"==",stackStartFn:Y})},V.notEqual=function Y(J,Se,Me){if(arguments.length<2)throw new l("actual","expected");J==Se&&de({actual:J,expected:Se,message:Me,operator:"!=",stackStartFn:Y})},V.deepEqual=function Y(J,Se,Me){if(arguments.length<2)throw new l("actual","expected");R===void 0&&U(),R(J,Se)||de({actual:J,expected:Se,message:Me,operator:"deepEqual",stackStartFn:Y})},V.notDeepEqual=function Y(J,Se,Me){if(arguments.length<2)throw new l("actual","expected");R===void 0&&U(),R(J,Se)&&de({actual:J,expected:Se,message:Me,operator:"notDeepEqual",stackStartFn:Y})},V.deepStrictEqual=function Y(J,Se,Me){if(arguments.length<2)throw new l("actual","expected");R===void 0&&U(),L(J,Se)||de({actual:J,expected:Se,message:Me,operator:"deepStrictEqual",stackStartFn:Y})},V.notDeepStrictEqual=fe;function fe(Y,J,Se){if(arguments.length<2)throw new l("actual","expected");R===void 0&&U(),L(Y,J)&&de({actual:Y,expected:J,message:Se,operator:"notDeepStrictEqual",stackStartFn:fe})}V.strictEqual=function Y(J,Se,Me){if(arguments.length<2)throw new l("actual","expected");N(J,Se)||de({actual:J,expected:Se,message:Me,operator:"strictEqual",stackStartFn:Y})},V.notStrictEqual=function Y(J,Se,Me){if(arguments.length<2)throw new l("actual","expected");N(J,Se)&&de({actual:J,expected:Se,message:Me,operator:"notStrictEqual",stackStartFn:Y})};var z=e(function Y(J,Se,Me){var Ce=this;t(this,Y),Se.forEach(function(Re){Re in J&&(Me!==void 0&&typeof Me[Re]=="string"&&S(J[Re])&&k(J[Re],Me[Re])?Ce[Re]=Me[Re]:Ce[Re]=J[Re])})});function Q(Y,J,Se,Me,Ce,Re){if(!(Se in Y)||!L(Y[Se],J[Se])){if(!Me){var je=new z(Y,Ce),Ge=new z(J,Ce,Y),ct=new m({actual:je,expected:Ge,operator:"deepStrictEqual",stackStartFn:Re});throw ct.actual=Y,ct.expected=J,ct.operator=Re.name,ct}de({actual:Y,expected:J,message:Me,operator:Re.name,stackStartFn:Re})}}function me(Y,J,Se,Me){if(typeof J!="function"){if(S(J))return k(J,Y);if(arguments.length===2)throw new c("expected",["Function","RegExp"],J);if(r(Y)!=="object"||Y===null){var Ce=new m({actual:Y,expected:J,message:Se,operator:"deepStrictEqual",stackStartFn:Me});throw Ce.operator=Me.name,Ce}var Re=Object.keys(J);if(J instanceof Error)Re.push("name","message");else if(Re.length===0)throw new u("error",J,"may not be an empty object");return R===void 0&&U(),Re.forEach(function(je){typeof Y[je]=="string"&&S(J[je])&&k(J[je],Y[je])||Q(Y,J,je,Se,Re,Me)}),!0}return J.prototype!==void 0&&Y instanceof J?!0:Error.isPrototypeOf(J)?!1:J.call({},Y)===!0}function pe(Y){if(typeof Y!="function")throw new c("fn","Function",Y);try{Y()}catch(J){return J}return oe}function xe(Y){return I(Y)||Y!==null&&r(Y)==="object"&&typeof Y.then=="function"&&typeof Y.catch=="function"}function ce(Y){return Promise.resolve().then(function(){var J;if(typeof Y=="function"){if(J=Y(),!xe(J))throw new d("instance of Promise","promiseFn",J)}else if(xe(Y))J=Y;else throw new c("promiseFn",["Function","Promise"],Y);return Promise.resolve().then(function(){return J}).then(function(){return oe}).catch(function(Se){return Se})})}function ve(Y,J,Se,Me){if(typeof Se=="string"){if(arguments.length===4)throw new c("error",["Object","Error","Function","RegExp"],Se);if(r(J)==="object"&&J!==null){if(J.message===Se)throw new s("error/message",'The error message "'.concat(J.message,'" is identical to the message.'))}else if(J===Se)throw new s("error/message",'The error "'.concat(J,'" is identical to the message.'));Me=Se,Se=void 0}else if(Se!=null&&r(Se)!=="object"&&typeof Se!="function")throw new c("error",["Object","Error","Function","RegExp"],Se);if(J===oe){var Ce="";Se&&Se.name&&(Ce+=" (".concat(Se.name,")")),Ce+=Me?": ".concat(Me):".";var Re=Y.name==="rejects"?"rejection":"exception";de({actual:void 0,expected:Se,operator:Y.name,message:"Missing expected ".concat(Re).concat(Ce),stackStartFn:Y})}if(Se&&!me(J,Se,Me,Y))throw J}function ee(Y,J,Se,Me){if(J!==oe){if(typeof Se=="string"&&(Me=Se,Se=void 0),!Se||me(J,Se)){var Ce=Me?": ".concat(Me):".",Re=Y.name==="doesNotReject"?"rejection":"exception";de({actual:J,expected:Se,operator:Y.name,message:"Got unwanted ".concat(Re).concat(Ce,`
`)+'Actual message: "'.concat(J&&J.message,'"'),stackStartFn:Y})}throw J}}V.throws=function Y(J){for(var Se=arguments.length,Me=new Array(Se>1?Se-1:0),Ce=1;Ce<Se;Ce++)Me[Ce-1]=arguments[Ce];ve.apply(void 0,[Y,pe(J)].concat(Me))},V.rejects=function Y(J){for(var Se=arguments.length,Me=new Array(Se>1?Se-1:0),Ce=1;Ce<Se;Ce++)Me[Ce-1]=arguments[Ce];return ce(J).then(function(Re){return ve.apply(void 0,[Y,Re].concat(Me))})},V.doesNotThrow=function Y(J){for(var Se=arguments.length,Me=new Array(Se>1?Se-1:0),Ce=1;Ce<Se;Ce++)Me[Ce-1]=arguments[Ce];ee.apply(void 0,[Y,pe(J)].concat(Me))},V.doesNotReject=function Y(J){for(var Se=arguments.length,Me=new Array(Se>1?Se-1:0),Ce=1;Ce<Se;Ce++)Me[Ce-1]=arguments[Ce];return ce(J).then(function(Re){return ee.apply(void 0,[Y,Re].concat(Me))})},V.ifError=function Y(J){if(J!=null){var Se="ifError got unwanted exception: ";r(J)==="object"&&typeof J.message=="string"?J.message.length===0&&J.constructor?Se+=J.constructor.name:Se+=J.message:Se+=b(J);var Me=new m({actual:J,expected:null,operator:"ifError",message:Se,stackStartFn:Y}),Ce=J.stack;if(typeof Ce=="string"){var Re=Ce.split(`
`);Re.shift();for(var je=Me.stack.split(`
`),Ge=0;Ge<Re.length;Ge++){var ct=je.indexOf(Re[Ge]);if(ct!==-1){je=je.slice(0,ct);break}}Me.stack="".concat(je.join(`
`),`
`).concat(Re.join(`
`))}throw Me}};function re(Y,J,Se,Me,Ce){if(!S(J))throw new c("regexp","RegExp",J);var Re=Ce==="match";if(typeof Y!="string"||k(J,Y)!==Re){if(Se instanceof Error)throw Se;var je=!Se;Se=Se||(typeof Y!="string"?'The "string" argument must be of type string. Received type '+"".concat(r(Y)," (").concat(b(Y),")"):(Re?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(b(J),`. Input:

`).concat(b(Y),`
`));var Ge=new m({actual:Y,expected:J,message:Se,operator:Ce,stackStartFn:Me});throw Ge.generatedMessage=je,Ge}}V.match=function Y(J,Se,Me){re(J,Se,Me,Y,"match")},V.doesNotMatch=function Y(J,Se,Me){re(J,Se,Me,Y,"doesNotMatch")};function se(){for(var Y=arguments.length,J=new Array(Y),Se=0;Se<Y;Se++)J[Se]=arguments[Se];Fe.apply(void 0,[se,J.length].concat(J))}return V.strict=P(se,V,{equal:V.strictEqual,deepEqual:V.deepStrictEqual,notEqual:V.notStrictEqual,notDeepEqual:V.notDeepStrictEqual}),V.strict.strict=V.strict,QE.exports}var AO=Dx();let y2;const fH=2;async function dH(r){const e=await kO(),t=await TO(r);return e.computeTree(t)}async function CO(r){const e=await kO(),t=await TO(r);return H.fromBuffer(await e.computeTreeRoot(t))}function TO(r){const e=[...r].sort((t,n)=>t.selector.value-n.selector.value);return Promise.all(e.map(IO))}async function IO(r){return(await Nn([r.selector,r.vkHash],Vr.FUNCTION_LEAF)).toBuffer()}async function kO(){if(!y2){const r=(await hN(new Array(fH).fill(0))).toBuffer();y2=await vv.create(Pw,r,async(e,t)=>(await sa([e,t])).toBuffer())}return y2}async function hH(r){const e=r.artifactHash,t="privateFunctionsRoot"in r?r.privateFunctionsRoot:await CO(r.privateFunctions),n="publicBytecodeCommitment"in r?r.publicBytecodeCommitment:await RO(r.packedBytecode);return{id:await Nn([e,t,n],Vr.CONTRACT_LEAF),artifactHash:e,privateFunctionsRoot:t,publicBytecodeCommitment:n}}async function pH(r){const e=await CO(r.privateFunctions),t=await RO(r.packedBytecode);return{artifactHash:r.artifactHash,privateFunctionsRoot:e,publicBytecodeCommitment:t}}async function RO(r){const e=YN(r,Sx),t=Math.ceil(e[0].toNumber()/(H.SIZE_IN_BYTES-1));return AO.strict(t<Sx,"Bytecode exceeds maximum deployable size"),t==0?new H(0):await K9(e.slice(0,t+1))}const Lk=(r,e)=>r.selector.toField().cmp(e.selector.toField());async function Mc(r){const e="artifactHash"in r?r.artifactHash:await gO(r),t=r.functions.filter(l=>l.functionType===Qr.PUBLIC),n=await Promise.all(t.map(async l=>({selector:await $t.fromNameAndParameters(l.name,l.parameters),bytecode:l.bytecode})));n.sort(Lk);let i=$e.alloc(0),s;if(n.length>0){if(s=n.find(l=>l.selector.equals($t.fromField(new H(z_)))),!s)throw new Error(`A contract with public functions should define a public_dispatch(Field) function as its public entrypoint. Contract: ${r.name}`);i=s.bytecode}const c=r.functions.filter(l=>l.functionType===Qr.PRIVATE),u=await Promise.all(c.map(mH));u.sort(Lk);const d={version:1,artifactHash:e,publicFunctions:s?[s]:[],packedBytecode:i,privateFunctions:u};return{...d,...await hH(d)}}async function mH(r){return{selector:await $t.fromNameAndParameters(r.name,r.parameters),vkHash:await gH(r)}}async function gH(r){if(!r.verificationKey)throw new Error(`Private function ${r.name} must have a verification key`);return CN(await pN($e.from(r.verificationKey,"base64")))}const G0=1;class $p{constructor(e){x(this,"version",G0);x(this,"salt");x(this,"deployer");x(this,"currentContractClassId");x(this,"originalContractClassId");x(this,"initializationHash");x(this,"publicKeys");if(e.version!==G0)throw new Error(`Unexpected contract class version ${e.version}`);this.salt=e.salt,this.deployer=e.deployer,this.currentContractClassId=e.currentContractClassId,this.originalContractClassId=e.originalContractClassId,this.initializationHash=e.initializationHash,this.publicKeys=e.publicKeys}toBuffer(){return ft(yv(this.version),this.salt,this.deployer,this.currentContractClassId,this.originalContractClassId,this.initializationHash,this.publicKeys)}withAddress(e){return{...this,address:e}}static fromBuffer(e){const t=st.asReader(e);return new $p({version:t.readUInt8(),salt:t.readObject(H),deployer:t.readObject(tt),currentContractClassId:t.readObject(H),originalContractClassId:t.readObject(H),initializationHash:t.readObject(H),publicKeys:t.readObject(ji)})}static async random(e={}){return new $p({version:G0,salt:H.random(),deployer:await tt.random(),currentContractClassId:H.random(),originalContractClassId:H.random(),initializationHash:H.random(),publicKeys:await ji.random(),...e})}static default(){return new $p({version:G0,salt:H.zero(),deployer:tt.zero(),currentContractClassId:H.zero(),originalContractClassId:H.zero(),initializationHash:H.zero(),publicKeys:ji.default()})}}async function Pv(r,e){const t=e.constructorArgs??[],n=e.salt??H.random(),i=_H(r,e.constructorArtifact),s=e.deployer??tt.ZERO,c=await Mc(r),u=i&&(e!=null&&e.skipArgsDecoding)?await yO(await $t.fromNameAndParameters(i==null?void 0:i.name,i==null?void 0:i.parameters),t):await eH(i,t),d=e.publicKeys??ji.default(),l={currentContractClassId:c.id,originalContractClassId:c.id,initializationHash:u,publicKeys:d,salt:n,deployer:s,version:1};return{...l,address:await uC(l)}}function _H(r,e){if(typeof e=="string"){const t=Tv(r).find(n=>n.name===e);if(!t)throw new Error(`No constructor found with name ${e}`);return t}return e??GN(r)}const yH=1,PO=M.object({selector:$t.schema,vkHash:wt.Fr}),wH=PO.and(M.object({bytecode:wt.Buffer})),vH=M.object({selector:$t.schema,bytecode:wt.Buffer}),bH=M.object({selector:$t.schema,bytecode:wt.Buffer}),EH=M.object({artifactMetadataHash:wt.Fr,functionMetadataHash:wt.Fr,unconstrainedFunctionsArtifactTreeRoot:wt.Fr,privateFunctionTreeSiblingPath:M.array(wt.Fr),privateFunctionTreeLeafIndex:wt.Integer,artifactTreeSiblingPath:M.array(wt.Fr),artifactTreeLeafIndex:wt.Integer}),SH=M.object({artifactMetadataHash:wt.Fr,functionMetadataHash:wt.Fr,privateFunctionsArtifactTreeRoot:wt.Fr,artifactTreeSiblingPath:M.array(wt.Fr),artifactTreeLeafIndex:wt.Integer}),BO=M.object({version:M.literal(yH),artifactHash:wt.Fr,privateFunctions:M.array(PO),publicFunctions:M.array(vH),packedBytecode:wt.Buffer}),xH=BO.extend({id:wt.Fr}),Dk=M.object({id:wt.Fr,privateFunctionsRoot:wt.Fr,privateFunctions:M.array(wH.and(EH)),unconstrainedFunctions:M.array(bH.and(SH))}).and(BO.omit({privateFunctions:!0})),AH=1,CH=M.object({version:M.literal(AH),salt:Qe.Fr,deployer:Qe.AztecAddress,currentContractClassId:Qe.Fr,originalContractClassId:Qe.Fr,initializationHash:Qe.Fr,publicKeys:ji.schema}),fC=CH.and(M.object({address:Qe.AztecAddress})),TH=M.object({prevContractClassId:Qe.Fr,newContractClassId:Qe.Fr,blockOfChange:M.number().int().nonnegative()});TH.and(M.object({address:Qe.AztecAddress}));const NO=M.object({rollupAddress:wt.EthAddress,registryAddress:wt.EthAddress,inboxAddress:wt.EthAddress,outboxAddress:wt.EthAddress,feeJuiceAddress:wt.EthAddress,stakingAssetAddress:wt.EthAddress,feeJuicePortalAddress:wt.EthAddress,coinIssuerAddress:wt.EthAddress,rewardDistributorAddress:wt.EthAddress,governanceProposerAddress:wt.EthAddress,governanceAddress:wt.EthAddress,slashFactoryAddress:wt.EthAddress.optional()}),Va=r=>ea.fromString(r),OO={rollupAddress:{env:"ROLLUP_CONTRACT_ADDRESS",description:"The deployed L1 rollup contract address.",parseEnv:Va},registryAddress:{env:"REGISTRY_CONTRACT_ADDRESS",description:"The deployed L1 registry contract address.",parseEnv:Va},inboxAddress:{env:"INBOX_CONTRACT_ADDRESS",description:"The deployed L1 inbox contract address.",parseEnv:Va},outboxAddress:{env:"OUTBOX_CONTRACT_ADDRESS",description:"The deployed L1 outbox contract address.",parseEnv:Va},feeJuiceAddress:{env:"FEE_JUICE_CONTRACT_ADDRESS",description:"The deployed L1 Fee Juice contract address.",parseEnv:Va},stakingAssetAddress:{env:"STAKING_ASSET_CONTRACT_ADDRESS",description:"The deployed L1 staking asset contract address.",parseEnv:Va},feeJuicePortalAddress:{env:"FEE_JUICE_PORTAL_CONTRACT_ADDRESS",description:"The deployed L1 Fee Juice portal contract address.",parseEnv:Va},coinIssuerAddress:{env:"COIN_ISSUER_CONTRACT_ADDRESS",description:"The deployed L1 coinIssuer contract address",parseEnv:Va},rewardDistributorAddress:{env:"REWARD_DISTRIBUTOR_CONTRACT_ADDRESS",description:"The deployed L1 rewardDistributor contract address",parseEnv:Va},governanceProposerAddress:{env:"GOVERNANCE_PROPOSER_CONTRACT_ADDRESS",description:"The deployed L1 governanceProposer contract address",parseEnv:Va},governanceAddress:{env:"GOVERNANCE_CONTRACT_ADDRESS",description:"The deployed L1 governance contract address",parseEnv:Va},slashFactoryAddress:{env:"SLASH_FACTORY_CONTRACT_ADDRESS",description:"The deployed L1 slashFactory contract address",parseEnv:Va}},dC=M.object({classRegisterer:Qe.AztecAddress,feeJuice:Qe.AztecAddress,instanceDeployer:Qe.AztecAddress,multiCallEntrypoint:Qe.AztecAddress}),FO=M.object({nodeVersion:M.string(),l1ChainId:M.number().int().nonnegative(),protocolVersion:M.number().int().nonnegative(),enr:M.string().optional(),l1ContractAddresses:NO,protocolContractAddresses:dC}).transform(r=>({enr:void 0,...r})),Ru=class Ru{constructor(e,t,n){x(this,"address");x(this,"publicKeys");x(this,"partialAddress");this.address=e,this.publicKeys=t,this.partialAddress=n}static async create(e,t,n){const i=new Ru(e,t,n);return await i.validate(),i}static get schema(){return fo(Ru)}toJSON(){return this.toString()}static async random(){return await this.fromSecretKeyAndPartialAddress(H.random(),H.random())}static async fromSecretKeyAndPartialAddress(e,t){const{publicKeys:n}=await xv(e),i=await Cx(n,t);return new Ru(i,n,t)}async getPreaddress(){return tC(await this.publicKeys.hash(),this.partialAddress)}static async fromSecretKeyAndInstance(e,t){const n=await kv(t);return Ru.fromSecretKeyAndPartialAddress(e,n)}async validate(){const e=await Cx(this.publicKeys,this.partialAddress);if(!e.equals(this.address))throw new Error(`Address cannot be derived from public keys and partial address (received ${this.address.toString()}, derived ${e.toString()})`)}toReadableString(){return`Address: ${this.address.toString()}
Master Nullifier Public Key: ${this.publicKeys.masterNullifierPublicKey.toString()}
Master Incoming Viewing Public Key: ${this.publicKeys.masterIncomingViewingPublicKey.toString()}
Master Outgoing Viewing Public Key: ${this.publicKeys.masterOutgoingViewingPublicKey.toString()}
Master Tagging Public Key: ${this.publicKeys.masterTaggingPublicKey.toString()}
Partial Address: ${this.partialAddress.toString()}
`}equals(e){return this.address.equals(e.address)&&this.publicKeys.equals(e.publicKeys)&&this.partialAddress.equals(e.partialAddress)}toBuffer(){return ft([this.address,this.publicKeys,this.partialAddress])}static fromBuffer(e){const t=st.asReader(e),n=t.readObject(tt),i=t.readObject(ji),s=t.readObject(H);return Ru.create(n,i,s)}static fromString(e){return Ru.fromBuffer($e.from(e.replace(/^0x/i,""),"hex"))}toString(){return qr(this.toBuffer())}};x(Ru,"SIZE_IN_BYTES",32*10);let Zu=Ru;const LO=M.object({logs:M.array(wd.schema),maxLogsHit:M.boolean()}),DO=M.object({logs:M.array(yd.schema),maxLogsHit:M.boolean()}),Mk=M.object({eventSelector:Qe.EventSelector,abiType:Vc,fieldNames:M.array(M.string())}),IH=M.object({contractInstance:M.union([fC,M.undefined()]),isContractInitialized:M.boolean(),isContractPubliclyDeployed:M.boolean()}),kH=M.object({contractClass:M.union([xH,M.undefined()]),isContractClassPubliclyRegistered:M.boolean(),artifact:M.union([Op,M.undefined()])}),RH=M.object({pxeVersion:M.string(),protocolContractAddresses:dC});M.function().args(Qe.Fr).returns(M.boolean()),M.function().args(Fc.schema).returns(M.void()),M.function().args(Qe.Fr).returns(M.union([M.undefined(),M.array(Qe.Fr)])),M.function().args(Qe.AztecAddress,Qe.Fr,M.array(Qe.Fr)).returns(M.void()),M.function().args(Qe.Fr,Qe.Fr).returns(Zu.schema),M.function().returns(M.array(Zu.schema)),M.function().args(Qe.AztecAddress).returns(Qe.AztecAddress),M.function().returns(M.array(Qe.AztecAddress)),M.function().args(Qe.AztecAddress).returns(M.void()),M.function().args(Op).returns(M.void()),M.function().args(M.object({instance:fC,artifact:M.optional(Op)})).returns(M.void()),M.function().args(Qe.AztecAddress,Op).returns(M.void()),M.function().returns(M.array(Qe.AztecAddress)),M.function().args(io.schema,Uc.schema).returns(Dp.schema),M.function().args(io.schema,M.boolean(),us(Qe.AztecAddress),us(M.boolean()),us(M.boolean()),us(M.boolean()),us(M.array(Qe.AztecAddress))).returns(Id.schema),M.function().args(ba.schema).returns(br.schema),M.function().args(br.schema).returns(Lp.schema),M.function().args(br.schema).returns(M.union([Ox(Ui.schema),M.undefined()])),M.function().args(Qe.AztecAddress,Qe.Fr).returns(Qe.Fr),M.function().args(V7).returns(M.array(jp.schema)),M.function().args(Qe.AztecAddress,Qe.Fr,Qe.Fr).returns(M.tuple([Qe.BigInt,Vn.schemaFor(JA)])),M.function().args(M.number(),Qe.Fr).returns(M.tuple([Qe.BigInt,Vn.schema])),M.function().args(M.number()).returns(M.union([Bc.schema,M.undefined()])),M.function().returns(Jr.schema),M.function().args(M.string(),M.array(M.any()),Qe.AztecAddress,us(Qe.AztecAddress),us(M.array(Qe.AztecAddress))).returns(f_),M.function().args(Mw).returns(DO),M.function().args(Mw).returns(LO),M.function().returns(M.number()),M.function().returns(M.number()),M.function().returns(FO),M.function().returns(RH),M.function().args(Qe.AztecAddress).returns(IH),M.function().args(Qe.Fr,us(M.boolean())).returns(kH),M.function().args(Mk,M.number(),M.number(),M.array(Qe.Point)).returns(M.array(f_)),M.function().args(Mk,M.number(),M.number()).returns(M.array(f_));class fh{constructor(){x(this,"start");this.start=performance?performance.now():Date.now()}us(){return this.ms()*1e3}ms(){return(performance?performance.now():Date.now())-this.start}s(){return this.ms()/1e3}}class PH extends Error{}async function jk(r,e="",t=0,n=1){const i=new fh;for(;;){const s=await r();if(s)return s;if(await k7(n*1e3),t&&i.s()>t)throw new Bx(e?`Timeout awaiting ${e}`:"Timeout")}}const BH=Pr("json-rpc:json_rpc_client");async function MO(r,e,t,n,i={},s=!1){BH.debug(St.format("JsonRpcClient.fetch",r,e,"->",t));let c;try{n?c=await fetch(`${r}/${e}`,{method:"POST",body:V_(t),headers:{"content-type":"application/json",...i}}):c=await fetch(r,{method:"POST",body:V_({...t,method:e}),headers:{"content-type":"application/json",...i}})}catch(d){const l=`Error fetching from host ${r} with method ${e}: ${St.inspect(d)}`;throw new Error(l)}let u;try{u=await c.json()}catch{throw c.ok?new Error(`Failed to parse body as JSON: ${c.text()}`):new Error(c.statusText)}if(!c.ok){const d=`Error ${c.status} from server ${r} on ${e}: ${u.error.message}`;throw s||c.status>=400&&c.status<500?new PH(d):new Error(d)}return{response:u,headers:c.headers}}function NH(r,e,t={}){const n=t.fetch??MO,i=t.log??Pr("json-rpc:client"),{useApiEndpoints:s=!1,namespaceMethods:c=!1}=t;let u=0;const d=async(m,y)=>{if(!v$(e,m))throw new Error(`Unspecified method ${m} in client schema`);const b=c?`${c}_${m}`:m,E={jsonrpc:"2.0",id:u++,method:b,params:y};i.debug(St.format("request",b,y));const{response:I,headers:S}=await n(r,b,E,s);if(i.debug(St.format("result",b,I)),t.onResponse&&await t.onResponse({response:I,headers:S}),I.error)throw I.error;if(![null,void 0,"null","undefined"].includes(I.result))return e[m].returnType().parseAsync(I.result)},l={};for(const m of Object.keys(e))l[m]=(...y)=>d(m,y);return l}class OH extends Error{constructor(e,t,n){super(`Expected component version ${e} to be ${t} but received ${n}`),this.name="ComponentsVersionsError"}}function FH(r){return({headers:e})=>{for(const t in r){const n=r[t];if(n!==void 0){const i=e.get(`x-aztec-${t}`);if(i!=null&&i!==n.toString())throw new OH(t,n.toString(),i)}}return Promise.resolve()}}const LH=M.union([M.object({address:Qe.AztecAddress,selector:Qe.FunctionSelector}),M.object({address:Qe.AztecAddress}),M.object({classId:Qe.Fr,selector:Qe.FunctionSelector}),M.object({classId:Qe.Fr})]),DH=M.object({transactionPollingIntervalMS:M.number().optional(),maxTxsPerBlock:M.number().optional(),minTxsPerBlock:M.number().optional(),maxL2BlockGas:M.number().optional(),maxDABlockGas:M.number().optional(),coinbase:Qe.EthAddress.optional(),feeRecipient:Qe.AztecAddress.optional(),acvmWorkingDirectory:M.string().optional(),acvmBinaryPath:M.string().optional(),allowedInSetup:M.array(LH).optional(),maxBlockSizeInBytes:M.number().optional(),governanceProposerPayload:Qe.EthAddress.optional(),maxL1TxInclusionTimeIntoSlot:M.number().optional(),enforceTimeTable:M.boolean().optional()}),MH=M.object({nodeUrl:M.string().optional(),realProofs:M.boolean(),proverId:Qe.Fr,proverTestDelayType:M.enum(["fixed","realistic"]),proverTestDelayMs:M.number(),proverTestDelayFactor:M.number(),proverAgentCount:M.number()});H.ZERO;const jH=M.object({finalisedBlockNumber:M.number().int().nonnegative(),latestBlockNumber:M.number().int().nonnegative(),latestBlockHash:M.string(),oldestHistoricBlockNumber:M.number().int().nonnegative(),treesAreSynched:M.boolean()}),$H={getL2Tips:M.function().args().returns(N7),getWorldStateSyncStatus:M.function().args().returns(jH),findLeavesIndexes:M.function().args(Zs,M.nativeEnum(ki),M.array(Qe.Fr)).returns(M.array(us(Qe.BigInt))),findBlockNumbersForIndexes:M.function().args(Zs,M.nativeEnum(ki),M.array(Qe.BigInt)).returns(M.array(us(Qe.BigInt))),findNullifiersIndexesWithBlock:M.function().args(Zs,M.array(Qe.Fr)).returns(M.array(us(Ox(Qe.BigInt)))),getNullifierSiblingPath:M.function().args(Zs,Qe.BigInt).returns(Vn.schemaFor(ch)),getNoteHashSiblingPath:M.function().args(Zs,Qe.BigInt).returns(Vn.schemaFor(bv)),getL1ToL2MessageMembershipWitness:M.function().args(Zs,Qe.Fr).returns(M.tuple([Qe.BigInt,Vn.schemaFor(JA)]).optional()),isL1ToL2MessageSynced:M.function().args(Qe.Fr).returns(M.boolean()),getL2ToL1MessageMembershipWitness:M.function().args(Zs,Qe.Fr).returns(M.tuple([Qe.BigInt,Vn.schema])),getArchiveSiblingPath:M.function().args(Zs,Qe.BigInt).returns(Vn.schemaFor(gN)),getPublicDataSiblingPath:M.function().args(Zs,Qe.BigInt).returns(Vn.schemaFor(Kd)),getNullifierMembershipWitness:M.function().args(Zs,Qe.Fr).returns(q_.schema.optional()),getLowNullifierMembershipWitness:M.function().args(Zs,Qe.Fr).returns(q_.schema.optional()),getPublicDataTreeWitness:M.function().args(Zs,Qe.Fr).returns(xp.schema.optional()),getBlock:M.function().args(M.number()).returns(Bc.schema.optional()),getBlockNumber:M.function().returns(M.number()),getProvenBlockNumber:M.function().returns(M.number()),isReady:M.function().returns(M.boolean()),getNodeInfo:M.function().returns(FO),getBlocks:M.function().args(M.number(),M.number()).returns(M.array(Bc.schema)),getPublishedBlocks:M.function().args(M.number(),M.number()).returns(M.array(O7)),getCurrentBaseFees:M.function().returns(Jr.schema),getNodeVersion:M.function().returns(M.string()),getVersion:M.function().returns(M.number()),getChainId:M.function().returns(M.number()),getL1ContractAddresses:M.function().returns(NO),getProtocolContractAddresses:M.function().returns(dC),registerContractFunctionSignatures:M.function().args(Qe.AztecAddress,M.array(M.string())).returns(M.void()),getPrivateLogs:M.function().args(M.number(),M.number()).returns(M.array(Zn.schema)),getPublicLogs:M.function().args(Mw).returns(DO),getContractClassLogs:M.function().args(Mw).returns(LO),getLogsByTags:M.function().args(M.array(Qe.Fr)).returns(M.array(M.array(h_.schema))),sendTx:M.function().args(ba.schema).returns(M.void()),getTxReceipt:M.function().args(br.schema).returns(Lp.schema),getTxEffect:M.function().args(br.schema).returns(Ox(Ui.schema).optional()),getPendingTxs:M.function().returns(M.array(ba.schema)),getPendingTxCount:M.function().returns(M.number()),getTxByHash:M.function().args(br.schema).returns(ba.schema.optional()),getTxsByHash:M.function().args(M.array(br.schema)).returns(M.array(ba.schema)),getPublicStorageAt:M.function().args(Zs,Qe.AztecAddress,Qe.Fr).returns(Qe.Fr),getBlockHeader:M.function().args(us(Zs)).returns(Kr.schema.optional()),simulatePublicCalls:M.function().args(ba.schema,us(M.boolean())).returns(rm.schema),isValidTx:M.function().args(ba.schema,us(M.object({isSimulation:us(M.boolean()),skipFeeEnforcement:us(M.boolean())}))).returns(m7),setConfig:M.function().args(DH.merge(MH).partial()).returns(M.void()),getContractClass:M.function().args(Qe.Fr).returns(Dk.optional()),getContract:M.function().args(Qe.AztecAddress).returns(fC.optional()),flushTxs:M.function().returns(M.void()),getEncodedEnr:M.function().returns(M.string().optional()),addContractClass:M.function().args(Dk).returns(M.void())};function UH(r,e={},t=MO){return NH(r,$H,{namespaceMethods:"node",fetch:t,onResponse:FH(e)})}const jO=["AuthRegistry","ContractInstanceDeployer","ContractClassRegisterer","MultiCallEntrypoint","FeeJuice","Router"],zH={AuthRegistry:new H(1),ContractInstanceDeployer:new H(1),ContractClassRegisterer:new H(1),MultiCallEntrypoint:new H(1),FeeJuice:new H(1),Router:new H(1)},Hi={AuthRegistry:tt.fromBigInt(1n),ContractInstanceDeployer:tt.fromBigInt(2n),ContractClassRegisterer:tt.fromBigInt(3n),MultiCallEntrypoint:tt.fromBigInt(4n),FeeJuice:tt.fromBigInt(5n),Router:tt.fromBigInt(6n)},HH={AuthRegistry:H.fromHexString("0x0abce7be190e121ac9e359c0b312c81abe60ba45dea3d91829b14f10f81b3f8d"),ContractInstanceDeployer:H.fromHexString("0x286afcfce11c485acb4cebd101ed1ece052d185f1815087204a030df8dc96b18"),ContractClassRegisterer:H.fromHexString("0x01d686e1b270afbfb2aba9b6e1d2a70d306fa02840e426fdf53645faaa4fa094"),MultiCallEntrypoint:H.fromHexString("0x21342236d63d4031428a71a32675b969cf5ef91a100da9a130eb504c7c5e23cf"),FeeJuice:H.fromHexString("0x16c34e229fa92abc43da84003be29fa324592ba80a7cf266b3e311b417ebbaf2"),Router:H.fromHexString("0x235be4003b35b4562036718fea8d5137c942ee61eae9824a73d4f2a2cee1d483")},qH=H.fromHexString("0x1d5ac84762f3430445cda47985926b21096b3aafa90a5efdce0b41082047960f");H.fromHexString("0x20cd27645f65c15a38720ca984aef936592f3938a705db706d068ad13fc58ae9");H.fromHexString("0x0abf338154e355442d9916d630da0491036d5a7b23c42b477c1395ba3bf9b42d");H.fromHexString("0x27774539896271d6dbe0c1de45ddc44709d1e8d9a9fb686ca3c105d87c417bb8");H.fromHexString("0x2ec28b91a5f838506d6042915005ff55cf7a0a5f889a83b11faed33a31b486f2");new H(1534834688047131268740281708431107902615560100979874281215533519862n);function VH(r){return Object.values(Hi).some(e=>e.equals(r))}async function WH(r){const e={hash:async(i,s)=>(await sa([i,s])).toBuffer(),hashInputs:async i=>(await sa(i)).toBuffer()},t=await XA.create(_N,e,$l),n=new Array(wN).fill($e.alloc(32));for(const i of r){const s=i.address.toField().toNumber();n[s]=i.leaf.toBuffer()}return t.computeTree(n)}let w2;async function ZH(){if(!w2){const r=jO.map(e=>({address:Hi[e],leaf:HH[e]}));w2=await WH(r)}return w2}async function KH(r,e){const t=await ZH();let n,i;if(VH(r)){const s=r.toField().toNumber();n=t.leafPreimages[s],i=t.getMembershipWitness(s)}else{n=t.getLowLeaf(e.toBigInt());const s=(await sa(n.toHashInputs())).toBuffer();i=t.getMembershipWitness(s)}return{lowLeaf:n,witness:i}}var v2,$k;function GH(){if($k)return v2;$k=1;function r(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function e(i,s){for(var c="",u=0,d=-1,l=0,m,y=0;y<=i.length;++y){if(y<i.length)m=i.charCodeAt(y);else{if(m===47)break;m=47}if(m===47){if(!(d===y-1||l===1))if(d!==y-1&&l===2){if(c.length<2||u!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var b=c.lastIndexOf("/");if(b!==c.length-1){b===-1?(c="",u=0):(c=c.slice(0,b),u=c.length-1-c.lastIndexOf("/")),d=y,l=0;continue}}else if(c.length===2||c.length===1){c="",u=0,d=y,l=0;continue}}s&&(c.length>0?c+="/..":c="..",u=2)}else c.length>0?c+="/"+i.slice(d+1,y):c=i.slice(d+1,y),u=y-d-1;d=y,l=0}else m===46&&l!==-1?++l:l=-1}return c}function t(i,s){var c=s.dir||s.root,u=s.base||(s.name||"")+(s.ext||"");return c?c===s.root?c+u:c+i+u:u}var n={resolve:function(){for(var s="",c=!1,u,d=arguments.length-1;d>=-1&&!c;d--){var l;d>=0?l=arguments[d]:(u===void 0&&(u=Hr.cwd()),l=u),r(l),l.length!==0&&(s=l+"/"+s,c=l.charCodeAt(0)===47)}return s=e(s,!c),c?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(r(s),s.length===0)return".";var c=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=e(s,!c),s.length===0&&!c&&(s="."),s.length>0&&u&&(s+="/"),c?"/"+s:s},isAbsolute:function(s){return r(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,c=0;c<arguments.length;++c){var u=arguments[c];r(u),u.length>0&&(s===void 0?s=u:s+="/"+u)}return s===void 0?".":n.normalize(s)},relative:function(s,c){if(r(s),r(c),s===c||(s=n.resolve(s),c=n.resolve(c),s===c))return"";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var d=s.length,l=d-u,m=1;m<c.length&&c.charCodeAt(m)===47;++m);for(var y=c.length,b=y-m,E=l<b?l:b,I=-1,S=0;S<=E;++S){if(S===E){if(b>E){if(c.charCodeAt(m+S)===47)return c.slice(m+S+1);if(S===0)return c.slice(m+S)}else l>E&&(s.charCodeAt(u+S)===47?I=S:S===0&&(I=0));break}var P=s.charCodeAt(u+S),N=c.charCodeAt(m+S);if(P!==N)break;P===47&&(I=S)}var k="";for(S=u+I+1;S<=d;++S)(S===d||s.charCodeAt(S)===47)&&(k.length===0?k+="..":k+="/..");return k.length>0?k+c.slice(m+I):(m+=I,c.charCodeAt(m)===47&&++m,c.slice(m))},_makeLong:function(s){return s},dirname:function(s){if(r(s),s.length===0)return".";for(var c=s.charCodeAt(0),u=c===47,d=-1,l=!0,m=s.length-1;m>=1;--m)if(c=s.charCodeAt(m),c===47){if(!l){d=m;break}}else l=!1;return d===-1?u?"/":".":u&&d===1?"//":s.slice(0,d)},basename:function(s,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');r(s);var u=0,d=-1,l=!0,m;if(c!==void 0&&c.length>0&&c.length<=s.length){if(c.length===s.length&&c===s)return"";var y=c.length-1,b=-1;for(m=s.length-1;m>=0;--m){var E=s.charCodeAt(m);if(E===47){if(!l){u=m+1;break}}else b===-1&&(l=!1,b=m+1),y>=0&&(E===c.charCodeAt(y)?--y===-1&&(d=m):(y=-1,d=b))}return u===d?d=b:d===-1&&(d=s.length),s.slice(u,d)}else{for(m=s.length-1;m>=0;--m)if(s.charCodeAt(m)===47){if(!l){u=m+1;break}}else d===-1&&(l=!1,d=m+1);return d===-1?"":s.slice(u,d)}},extname:function(s){r(s);for(var c=-1,u=0,d=-1,l=!0,m=0,y=s.length-1;y>=0;--y){var b=s.charCodeAt(y);if(b===47){if(!l){u=y+1;break}continue}d===-1&&(l=!1,d=y+1),b===46?c===-1?c=y:m!==1&&(m=1):c!==-1&&(m=-1)}return c===-1||d===-1||m===0||m===1&&c===d-1&&c===u+1?"":s.slice(c,d)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return t("/",s)},parse:function(s){r(s);var c={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return c;var u=s.charCodeAt(0),d=u===47,l;d?(c.root="/",l=1):l=0;for(var m=-1,y=0,b=-1,E=!0,I=s.length-1,S=0;I>=l;--I){if(u=s.charCodeAt(I),u===47){if(!E){y=I+1;break}continue}b===-1&&(E=!1,b=I+1),u===46?m===-1?m=I:S!==1&&(S=1):m!==-1&&(S=-1)}return m===-1||b===-1||S===0||S===1&&m===b-1&&m===y+1?b!==-1&&(y===0&&d?c.base=c.name=s.slice(1,b):c.base=c.name=s.slice(y,b)):(y===0&&d?(c.name=s.slice(1,m),c.base=s.slice(1,b)):(c.name=s.slice(y,m),c.base=s.slice(y,b)),c.ext=s.slice(m,b)),y>0?c.dir=s.slice(0,y-1):d&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,v2=n,v2}GH();async function YH(r,e,t){const{publicKeys:n}=await xv(e),{constructorName:i,constructorArgs:s}=await r.getDeploymentFunctionAndArgs()??{constructorName:void 0,constructorArgs:void 0},c=await r.getContractArtifact();return(await Pv(c,{constructorArtifact:i,constructorArgs:s,salt:t,publicKeys:n})).address}class $O{constructor(e){x(this,"sender");this.sender=e}getAsset(){return Promise.resolve(Hi.FeeJuice)}getFunctionCalls(){return Promise.resolve([])}getFeePayer(){return Promise.resolve(this.sender)}}function Uk(r,e=.1){return{totalGas:r.gasUsed.totalGas.mul(1+e),teardownGas:r.gasUsed.teardownGas.mul(1+e)}}const vd={ignoreDroppedReceiptsFor:5,timeout:60,provenTimeout:600,interval:1,debug:!1};class Bv{constructor(e,t){x(this,"pxeOrNode");x(this,"txHashPromise");this.pxeOrNode=e,this.txHashPromise=t}getTxHash(){return this.txHashPromise}async getReceipt(){const e=await this.getTxHash();return await this.pxeOrNode.getTxReceipt(e)}async wait(e){const t=await this.waitForReceipt(e);if(t.status!==aw.SUCCESS&&!(e!=null&&e.dontThrowOnRevert))throw new Error(`Transaction ${await this.getTxHash()} was ${t.status}. Reason: ${t.error??"unknown"}`);if(e!=null&&e.proven&&t.blockNumber!==void 0&&await this.waitForProven(t.blockNumber,e),e!=null&&e.debug){const n=await this.getTxHash(),{data:i}=await this.pxeOrNode.getTxEffect(n);t.debugInfo={noteHashes:i.noteHashes,nullifiers:i.nullifiers,publicDataWrites:i.publicDataWrites,l2ToL1Msgs:i.l2ToL1Msgs}}return t}async getPublicLogs(){return await this.wait(),this.pxeOrNode.getPublicLogs({txHash:await this.getTxHash()})}async waitForReceipt(e){const t=await this.getTxHash(),n=Date.now(),i=(e==null?void 0:e.ignoreDroppedReceiptsFor)??vd.ignoreDroppedReceiptsFor;return await jk(async()=>{const s=await this.pxeOrNode.getTxReceipt(t);if(s.status!==aw.PENDING){if(s.status===aw.DROPPED){const c=(Date.now()-n)/1e3;return!i||c>i?s:void 0}return s}},"isMined",(e==null?void 0:e.timeout)??vd.timeout,(e==null?void 0:e.interval)??vd.interval)}async waitForProven(e,t){return await jk(async()=>{const n=await this.pxeOrNode.getProvenBlockNumber();return n>=e?n:void 0},"isProven",(t==null?void 0:t.provenTimeout)??vd.provenTimeout,(t==null?void 0:t.interval)??vd.interval)}}class UO extends ba{constructor(t,n){super(n.data,n.clientIvcProof,n.contractClassLogs,n.enqueuedPublicFunctionCalls,n.publicTeardownFunctionCall);x(this,"wallet");this.wallet=t}getPlainDataTx(){return new ba(this.data,this.clientIvcProof,this.contractClassLogs,this.enqueuedPublicFunctionCalls,this.publicTeardownFunctionCall)}send(){const t=this.wallet.sendTx(this.getPlainDataTx());return new Bv(this.wallet,t)}}class zO{constructor(e){x(this,"wallet");x(this,"log");x(this,"authWitnesses");x(this,"hashedArguments");x(this,"capsules");this.wallet=e,this.log=Pr("aztecjs:contract_interaction"),this.authWitnesses=[],this.hashedArguments=[],this.capsules=[]}async proveInternal(e={}){const t=await this.create(e),n=await this.wallet.simulateTx(t,!e.skipPublicSimulation,void 0,!0);return await this.wallet.proveTx(t,n.privateExecutionResult)}async prove(e={}){const t=await this.proveInternal(e);return new UO(this.wallet,t.toTx())}send(e={}){const t=(async()=>{const n=await this.proveInternal(e);return this.wallet.sendTx(n.toTx())})();return new Bv(this.wallet,t)}async estimateGas(e){var c;const t=await this.create({...e,fee:{...e==null?void 0:e.fee,estimateGas:!1}}),n=await this.wallet.simulateTx(t,!0,void 0,void 0,!0),{totalGas:i,teardownGas:s}=Uk(n,(c=e==null?void 0:e.fee)==null?void 0:c.estimatedGasPadding);return{gasLimits:i,teardownGasLimits:s}}async getDefaultFeeOptions(e){var s;const t=((s=e==null?void 0:e.gasSettings)==null?void 0:s.maxFeesPerGas)??(await this.wallet.getCurrentBaseFees()).mul(1+((e==null?void 0:e.baseFeePadding)??.5)),n=(e==null?void 0:e.paymentMethod)??new $O(this.wallet.getAddress()),i=Li.default({...e==null?void 0:e.gasSettings,maxFeesPerGas:t});return this.log.debug("Using L2 gas settings",i),{gasSettings:i,paymentMethod:n}}async getFeeOptions(e){var u,d;const t=await this.getDefaultFeeOptions(e.fee),n=t.paymentMethod,i=t.gasSettings.maxFeesPerGas,s=t.gasSettings.maxPriorityFeesPerGas;let c=t.gasSettings;if((u=e.fee)!=null&&u.estimateGas){const l={paymentMethod:n,gasSettings:c},m=await this.wallet.createTxExecutionRequest({...e,fee:l}),y=await this.wallet.simulateTx(m,!0,void 0,void 0,!0),{totalGas:b,teardownGas:E}=Uk(y,(d=e.fee)==null?void 0:d.estimatedGasPadding);c=Li.from({maxFeesPerGas:i,maxPriorityFeesPerGas:s,gasLimits:b,teardownGasLimits:E}),this.log.verbose(`Estimated gas limits for tx: DA=${b.daGas} L2=${b.l2Gas} teardownDA=${E.daGas} teardownL2=${E.l2Gas}`)}return{gasSettings:c,paymentMethod:n}}addAuthWitness(e){this.authWitnesses.push(e)}addAuthWitnesses(e){this.authWitnesses.push(...e)}getAuthWitnesses(){return this.authWitnesses}addHashedArgument(e){this.hashedArguments.push(e)}addHashedArguments(e){this.hashedArguments.push(...e)}getHashedArguments(){return this.hashedArguments}addCapsule(e){this.capsules.push(e)}addCapsules(e){this.capsules.push(...e)}getCapsules(){return this.capsules}}class Gl extends zO{constructor(t,n,i,s){super(t);x(this,"contractAddress");x(this,"functionDao");x(this,"args");if(this.contractAddress=n,this.functionDao=i,this.args=s,s.some(c=>c==null))throw new Error("All function interaction arguments must be defined and not null. Received: "+s)}async create(t={}){if(this.functionDao.functionType===Qr.UNCONSTRAINED)throw new Error("Can't call `create` on an unconstrained function.");const n=await this.request(t),{fee:i}=t,s=await this.getFeeOptions({...n,fee:i});return await this.wallet.createTxExecutionRequest({...n,fee:s})}async request(t={}){const n=dm(this.functionDao,this.args),i=[{name:this.functionDao.name,args:n,selector:await $t.fromNameAndParameters(this.functionDao.name,this.functionDao.parameters),type:this.functionDao.functionType,to:this.contractAddress,isStatic:this.functionDao.isStatic,returnTypes:this.functionDao.returnTypes}],s=this.getAuthWitnesses(),c=this.getHashedArguments(),u=this.getCapsules(),{nonce:d,cancellable:l}=t;return{calls:i,authWitnesses:s,hashedArguments:c,capsules:u,nonce:d,cancellable:l}}async simulate(t={}){var u;if(this.functionDao.functionType==Qr.UNCONSTRAINED)return this.wallet.simulateUnconstrained(this.functionDao.name,this.args,this.contractAddress,t==null?void 0:t.from);const n=t.fee??{paymentMethod:new $O(tt.ZERO)},i=await this.create({fee:n}),s=await this.wallet.simulateTx(i,!0,t.from,t.skipTxValidation,t.skipFeeEnforcement??!0);let c;return this.functionDao.functionType==Qr.PRIVATE?s.getPrivateReturnValues().nested.length>0?c=s.getPrivateReturnValues().nested[0].values:c=s.getPrivateReturnValues().values:c=(u=s.getPublicReturnValues())==null?void 0:u[0].values,c?H_(this.functionDao.returnTypes,c):[]}async simulateWithProfile(t={}){var u,d;if(this.functionDao.functionType==Qr.UNCONSTRAINED)throw new Error("Can't profile an unconstrained function.");const n=await this.create({fee:t.fee}),i=await this.wallet.simulateTx(n,!0,t==null?void 0:t.from,t==null?void 0:t.skipTxValidation,void 0,!0),s=this.functionDao.functionType==Qr.PRIVATE?(u=i.getPrivateReturnValues().nested)==null?void 0:u[0].values:(d=i.getPublicReturnValues())==null?void 0:d[0].values;return{returnValues:s?H_(this.functionDao.returnTypes,s):[],gateCounts:i.profileResult.gateCounts}}}class Nv{constructor(e,t,n){x(this,"instance");x(this,"artifact");x(this,"wallet");x(this,"methods");this.instance=e,this.artifact=t,this.wallet=n,this.methods={},Tv(t).forEach(i=>{const s=(...c)=>new Gl(this.wallet,this.instance.address,i,c);this.methods[i.name]=Object.assign(s,{selector(){return $t.fromNameAndParameters(i.name,i.parameters)}})})}get address(){return this.instance.address}get partialAddress(){return kv(this.instance)}withWallet(e){return new Nv(this.instance,this.artifact,e)}}class HO extends Nv{constructor(e,t,n){super(e,t,n)}}async function XH(r){const{contractInstance:e}=await r.getContractMetadata(Hi.ContractClassRegisterer);if(!e)throw new Error("ContractClassRegisterer is not registered in this wallet's instance");const{artifact:t}=await r.getContractClassMetadata(e.currentContractClassId,!0);return new HO(e,t,r)}async function JH(r){const{contractInstance:e}=await r.getContractMetadata(Hi.ContractInstanceDeployer);if(!e)throw new Error("ContractInstanceDeployer is not registered in this wallet's instance");const{artifact:t}=await r.getContractClassMetadata(e.currentContractClassId,!0);return new HO(e,t,r)}async function QH(r,e){const t=await JH(r),{salt:n,currentContractClassId:i,publicKeys:s,deployer:c}=e,u=c.isZero();if(!u&&!r.getAddress().equals(c))throw new Error(`Expected deployer ${c.toString()} does not match sender wallet ${r.getAddress().toString()}`);return t.methods.deploy(n,i,e.initializationHash,s,u)}var zk={};const eq=typeof Hr=="object"&&typeof zk=="object"?["1","true","yes",""].includes(zk.AZTEC_EMIT_PUBLIC_BYTECODE??""):!0;async function tq(r,e,t=eq){const{artifactHash:n,privateFunctionsRoot:i,publicBytecodeCommitment:s,packedBytecode:c}=await Mc(e),d=(await XH(r)).methods.register(n,i,s,t),l=YN(c,Sx);return d.addCapsule(new Hu(Hi.ContractClassRegisterer,new H(C$),l)),d}const b2=4,rq=2;class dh{constructor(e,t,n,i){x(this,"functionCalls");x(this,"_hashedArguments");x(this,"generatorIndex");x(this,"_nonce");this.functionCalls=e,this._hashedArguments=t,this.generatorIndex=n,this._nonce=i}static async create(e){const t=[];for(const i of e)t.push(await Qs.fromValues(i.args));return{encodedFunctionCalls:e.map((i,s)=>({args_hash:t[s].hash,function_selector:i.selector.toField(),target_address:i.to.toField(),is_public:i.type==Qr.PUBLIC,is_static:i.isStatic})),hashedArguments:t}}get function_calls(){return this.functionCalls}get nonce(){return this._nonce}get hashedArguments(){return this._hashedArguments}hash(){return Nn(this.toFields(),this.generatorIndex)}functionCallsToFields(){return this.functionCalls.flatMap(e=>[e.args_hash,e.function_selector,e.target_address,new H(e.is_public),new H(e.is_static)])}static async fromFunctionCalls(e){const{encodedFunctionCalls:t,hashedArguments:n}=await this.create(e);return new Hk(t,n,0,H.random())}static async fromAppExecution(e,t=H.random()){if(e.length>b2)throw new Error(`Expected at most ${b2} function calls, got ${e.length}`);const n=C_(e,K_.empty(),b2),{encodedFunctionCalls:i,hashedArguments:s}=await this.create(n);return new Hk(i,s,Vr.SIGNATURE_PAYLOAD,t)}static async fromFeeOptions(e,t){const n=await(t==null?void 0:t.paymentMethod.getFunctionCalls(t==null?void 0:t.gasSettings))??[],i=await(t==null?void 0:t.paymentMethod.getFeePayer(t==null?void 0:t.gasSettings)),s=!!i&&i.equals(e),c=C_(n,K_.empty(),rq),{encodedFunctionCalls:u,hashedArguments:d}=await this.create(c);return new nq(u,d,Vr.FEE_PAYLOAD,H.random(),s)}}class Hk extends dh{toFields(){return[...this.functionCallsToFields(),this.nonce]}}var zp;class nq extends dh{constructor(t,n,i,s,c){super(t,n,i,s);Nt(this,zp);Vt(this,zp,c)}toFields(){return[...this.functionCallsToFields(),this.nonce,new H(Ie(this,zp))]}get is_fee_payer(){return Ie(this,zp)}}zp=new WeakMap;async function qO(r,e){return Nn([await r.hash(),await e.hash()],Vr.COMBINED_PAYLOAD)}class iq{constructor(e,t){x(this,"chainId");x(this,"protocolVersion");this.chainId=e,this.protocolVersion=t}async createTxExecutionRequest(e){const{fee:t,calls:n,authWitnesses:i=[],hashedArguments:s=[],capsules:c=[]}=e;if(n.length>1)throw new Error(`Expected a single call, got ${n.length}`);const u=n[0];if(u.type!==Qr.PRIVATE)throw new Error("Public entrypoints are not allowed");const d=await Qs.fromValues(u.args),l=new Gr(this.chainId,this.protocolVersion,t.gasSettings);return Promise.resolve(new io(u.to,u.selector,d.hash,l,[...s,d],i,c))}}class sq{constructor(e,t,n=Hi.MultiCallEntrypoint){x(this,"chainId");x(this,"version");x(this,"address");this.chainId=e,this.version=t,this.address=n}async createTxExecutionRequest(e){const{fee:t,calls:n,authWitnesses:i=[],hashedArguments:s=[],capsules:c=[]}=e,u=await dh.fromAppExecution(n),d=this.getEntrypointAbi(),l=await Qs.fromValues(dm(d,[u])),m=io.from({firstCallArgsHash:l.hash,origin:this.address,functionSelector:await $t.fromNameAndParameters(d.name,d.parameters),txContext:new Gr(this.chainId,this.version,t.gasSettings),argsOfCalls:[...u.hashedArguments,...s,l],authWitnesses:i,capsules:c});return Promise.resolve(m)}getEntrypointAbi(){return{name:"entrypoint",isInitializer:!1,functionType:"private",isInternal:!1,isStatic:!1,parameters:[{name:"app_payload",type:{kind:"struct",path:"authwit::entrypoint::app::AppPayload",fields:[{name:"function_calls",type:{kind:"array",length:4,type:{kind:"struct",path:"authwit::entrypoint::function_call::FunctionCall",fields:[{name:"args_hash",type:{kind:"field"}},{name:"function_selector",type:{kind:"struct",path:"authwit::aztec::protocol_types::abis::function_selector::FunctionSelector",fields:[{name:"inner",type:{kind:"integer",sign:"unsigned",width:32}}]}},{name:"target_address",type:{kind:"struct",path:"authwit::aztec::protocol_types::address::AztecAddress",fields:[{name:"inner",type:{kind:"field"}}]}},{name:"is_public",type:{kind:"boolean"}},{name:"is_static",type:{kind:"boolean"}}]}}},{name:"nonce",type:{kind:"field"}}]},visibility:"public"}],returnTypes:[],errorTypes:{}}}}function aq(r,{nonce:e,cancellable:t}={}){const n=r.map(u=>u.calls).flat(),i=r.map(u=>u.authWitnesses??[]).flat(),s=r.map(u=>u.hashedArguments??[]).flat(),c=r.map(u=>u.capsules??[]).flat();return{calls:n,authWitnesses:i,hashedArguments:s,capsules:c,nonce:e,cancellable:t}}class VO extends Bv{constructor(t,n,i,s){super(t,n);x(this,"postDeployCtor");x(this,"instanceGetter");x(this,"log");this.postDeployCtor=i,this.instanceGetter=s,this.log=Pr("aztecjs:deploy_sent_tx")}async deployed(t){const n=await this.wait(t),i=await this.instanceGetter();return this.log.info(`Contract ${i.address.toString()} successfully deployed.`),n.contract}async wait(t){const n=await super.wait(t),i=await this.getContractObject(t==null?void 0:t.wallet);return{...n,contract:i}}async getContractObject(t){const i=t??((c=>!!c.createTxExecutionRequest)(this.pxeOrNode)&&this.pxeOrNode);if(!i)throw new Error("A wallet is required for creating a contract instance");const s=await this.instanceGetter();return this.postDeployCtor(s.address,i)}}class oq extends UO{constructor(t,n,i,s){super(t,n);x(this,"postDeployCtor");x(this,"instanceGetter");this.postDeployCtor=i,this.instanceGetter=s}send(){const t=this.wallet.sendTx(this.getPlainDataTx());return new VO(this.wallet,t,this.postDeployCtor,this.instanceGetter)}}class $w extends zO{constructor(t,n,i,s,c=[],u){super(n);x(this,"publicKeys");x(this,"artifact");x(this,"postDeployCtor");x(this,"args");x(this,"instance");x(this,"constructorArtifact");this.publicKeys=t,this.artifact=i,this.postDeployCtor=s,this.args=c,this.instance=void 0,this.constructorArtifact=Nz(i,u)}async create(t={}){const n=await this.request(t),i=await this.getFeeOptions({...n,fee:t.fee});return this.wallet.createTxExecutionRequest({...n,fee:i})}async request(t={}){const n=await this.getDeploymentFunctionCalls(t);await this.wallet.registerContract({artifact:this.artifact,instance:await this.getInstance(t)});const i=await this.getInitializeFunctionCalls(t),s=await Promise.all([...n,...i].map(d=>d.request()));if(!s.length)throw new Error(`No function calls needed to deploy contract ${this.artifact.name}`);const{nonce:c,cancellable:u}=t;return aq(s,{nonce:c,cancellable:u})}async register(t={}){const n=await this.getInstance(t);return await this.wallet.registerContract({artifact:this.artifact,instance:n}),this.postDeployCtor(n.address,this.wallet)}async getDeploymentFunctionCalls(t={}){const n=[],i=await this.getInstance(t),s=await Mc(this.artifact);if(!i.currentContractClassId.equals(s.id))throw new Error(`Contract class mismatch when deploying contract: got ${i.currentContractClassId.toString()} from instance and ${s.id.toString()} from artifact`);if(!t.skipClassRegistration)if((await this.wallet.getContractClassMetadata(s.id)).isContractClassPubliclyRegistered)this.log.debug(`Skipping registration of already registered contract class ${s.id.toString()} for ${i.address.toString()}`);else{this.log.info(`Creating request for registering contract class ${s.id.toString()} as part of deployment for ${i.address.toString()}`);const c=await tq(this.wallet,this.artifact);n.push(c)}if(!t.skipPublicDeployment){const c=await QH(this.wallet,i);n.push(c)}return n}async getInitializeFunctionCalls(t){const n=[];if(this.constructorArtifact&&!t.skipInitialization){const{address:i}=await this.getInstance(t),s=new Gl(this.wallet,i,this.constructorArtifact,this.args);n.push(s)}return n}send(t={}){const n=super.send(t).getTxHash();return this.log.debug(`Sent deployment tx of ${this.artifact.name} contract`),new VO(this.wallet,n,this.postDeployCtor,()=>this.getInstance(t))}async getInstance(t={}){return this.instance||(this.instance=await Pv(this.artifact,{constructorArgs:this.args,salt:t.contractAddressSalt,publicKeys:this.publicKeys,constructorArtifact:this.constructorArtifact,deployer:t.universalDeploy?tt.ZERO:this.wallet.getAddress()})),this.instance}async prove(t){const n=await this.proveInternal(t);return new oq(this.wallet,n.toTx(),this.postDeployCtor,()=>this.getInstance(t))}estimateGas(t){return super.estimateGas(t)}get address(){var t;return(t=this.instance)==null?void 0:t.address}get partialAddress(){return this.instance&&kv(this.instance)}}class Up extends Nv{static async at(e,t,n){const i=(await n.getContractMetadata(e)).contractInstance;if(i===void 0)throw new Error(`Contract instance at ${e.toString()} has not been registered in the wallet's PXE`);const s=await Mc(t);return s.id.equals(i.currentContractClassId)||(await n.updateContract(e,t),i.currentContractClassId=s.id),new Up(i,t,n)}static deploy(e,t,n,i){const s=(c,u)=>Up.at(c,t,u);return new $w(ji.default(),e,t,s,n,i)}static deployWithPublicKeys(e,t,n,i,s){const c=(u,d)=>Up.at(u,n,d);return new $w(e,t,n,c,i,s)}}const cq=async(r,e)=>{const t=e.chainId,n=e.version;if("caller"in r){const i=r.action instanceof Gl?(await r.action.request()).calls[0]:r.action;return qk(i.to,t,n,await WO(r.caller,i))}else{const i=$e.isBuffer(r.innerHash)?H.fromBuffer(r.innerHash):r.innerHash;return qk(r.consumer,t,n,i)}},WO=async(r,e)=>uq([r.toField(),e.selector.toField(),(await Qs.fromValues(e.args)).hash]),uq=r=>Nn(r,Vr.AUTHWIT_INNER),qk=(r,e,t,n)=>Nn([r.toField(),e,t,n],Vr.AUTHWIT_OUTER);class ZO{constructor(e,t){x(this,"pxe");x(this,"scopes");this.pxe=e,this.scopes=t}setScopes(e){this.scopes=e}getScopes(){return this.scopes}getAddress(){return this.getCompleteAddress().address}storeCapsule(e,t,n){return this.pxe.storeCapsule(e,t,n)}registerAccount(e,t){return this.pxe.registerAccount(e,t)}getRegisteredAccounts(){return this.pxe.getRegisteredAccounts()}registerSender(e){return this.pxe.registerSender(e)}getSenders(){return this.pxe.getSenders()}async removeSender(e){await this.pxe.removeSender(e)}registerContract(e){return this.pxe.registerContract(e)}registerContractClass(e){return this.pxe.registerContractClass(e)}updateContract(e,t){return this.pxe.updateContract(e,t)}getContracts(){return this.pxe.getContracts()}proveTx(e,t){return this.pxe.proveTx(e,t)}simulateTx(e,t,n,i,s,c){return this.pxe.simulateTx(e,t,n,i,s,c,this.scopes)}sendTx(e){return this.pxe.sendTx(e)}getTxEffect(e){return this.pxe.getTxEffect(e)}getTxReceipt(e){return this.pxe.getTxReceipt(e)}getNotes(e){return this.pxe.getNotes(e)}getPublicStorageAt(e,t){return this.pxe.getPublicStorageAt(e,t)}getBlock(e){return this.pxe.getBlock(e)}getCurrentBaseFees(){return this.pxe.getCurrentBaseFees()}simulateUnconstrained(e,t,n,i){return this.pxe.simulateUnconstrained(e,t,n,i)}getPublicLogs(e){return this.pxe.getPublicLogs(e)}getContractClassLogs(e){return this.pxe.getContractClassLogs(e)}getBlockNumber(){return this.pxe.getBlockNumber()}getProvenBlockNumber(){return this.pxe.getProvenBlockNumber()}getNodeInfo(){return this.pxe.getNodeInfo()}addAuthWitness(e){return this.pxe.addAuthWitness(e)}getAuthWitness(e){return this.pxe.getAuthWitness(e)}getPXEInfo(){return this.pxe.getPXEInfo()}getContractClassMetadata(e,t=!1){return this.pxe.getContractClassMetadata(e,t)}getContractMetadata(e){return this.pxe.getContractMetadata(e)}getPrivateEvents(e,t,n,i=[this.getCompleteAddress().publicKeys.masterIncomingViewingPublicKey]){return this.pxe.getPrivateEvents(e,t,n,i)}getPublicEvents(e,t,n){return this.pxe.getPublicEvents(e,t,n)}getL1ToL2MembershipWitness(e,t,n){return this.pxe.getL1ToL2MembershipWitness(e,t,n)}getL2ToL1MembershipWitness(e,t){return this.pxe.getL2ToL1MembershipWitness(e,t)}}class lq extends ZO{constructor(t,n){super(t,[n.getAddress()]);x(this,"account");this.account=n}createTxExecutionRequest(t){return this.account.createTxExecutionRequest(t)}getChainId(){return this.account.getChainId()}getVersion(){return this.account.getVersion()}isL1ToL2MessageSynced(t){return this.pxe.isL1ToL2MessageSynced(t)}async createAuthWit(t){let n;$e.isBuffer(t)?n=H.fromBuffer(t):t instanceof H?n=t:n=await this.getMessageHash(t);const i=await this.account.createAuthWit(n);return await this.pxe.addAuthWitness(i),i}async setPublicAuthWit(t,n){let i;return $e.isBuffer(t)?i=H.fromBuffer(t):t instanceof H?i=t:i=await this.getMessageHash(t),new Gl(this,Hi.AuthRegistry,this.getSetAuthorizedAbi(),[i,n])}async getInnerHashAndConsumer(t){if("caller"in t&&"action"in t){const n=t.action instanceof Gl?(await t.action.request()).calls[0]:t.action;return{innerHash:await WO(t.caller,n),consumer:n.to}}else if($e.isBuffer(t.innerHash))return{innerHash:H.fromBuffer(t.innerHash),consumer:t.consumer};return{innerHash:t.innerHash,consumer:t.consumer}}getMessageHash(t){const n=this.getChainId(),i=this.getVersion();return cq(t,{chainId:n,version:i})}async lookupValidity(t,n){const{innerHash:i,consumer:s}=await this.getInnerHashAndConsumer(n),c=await this.getMessageHash(n),u={isValidInPrivate:!1,isValidInPublic:!1};return await this.getAuthWitness(c)!==void 0&&(u.isValidInPrivate=await new Gl(this,t,this.getLookupValidityAbi(),[s,i]).simulate()),u.isValidInPublic=await new Gl(this,Hi.AuthRegistry,this.getIsConsumableAbi(),[t,c]).simulate(),u}getCompleteAddress(){return this.account.getCompleteAddress()}getAddress(){return this.getCompleteAddress().address}getSetAuthorizedAbi(){return{name:"set_authorized",isInitializer:!1,functionType:Qr.PUBLIC,isInternal:!0,isStatic:!1,parameters:[{name:"message_hash",type:{kind:"field"},visibility:"private"},{name:"authorize",type:{kind:"boolean"},visibility:"private"}],returnTypes:[],errorTypes:{}}}getLookupValidityAbi(){return{name:"lookup_validity",isInitializer:!1,functionType:Qr.UNCONSTRAINED,isInternal:!1,isStatic:!1,parameters:[{name:"message_hash",type:{kind:"field"},visibility:"private"}],returnTypes:[{kind:"boolean"}],errorTypes:{}}}getIsConsumableAbi(){return{name:"unconstrained_is_consumable",isInitializer:!1,functionType:Qr.UNCONSTRAINED,isInternal:!1,isStatic:!1,parameters:[{name:"address",type:{fields:[{name:"inner",type:{kind:"field"}}],kind:"struct",path:"authwit::aztec::protocol_types::address::aztec_address::AztecAddress"},visibility:"private"},{name:"message_hash",type:{kind:"field"},visibility:"private"}],returnTypes:[{kind:"boolean"}],errorTypes:{}}}}class fq extends lq{constructor(t,n,i,s){super(t,n);x(this,"secretKey");x(this,"salt");this.secretKey=i,this.salt=s}getSecretKey(){return this.secretKey}async getEncryptionSecret(){return Sv(await this.getCompleteAddress().getPreaddress(),eC(this.getSecretKey()))}}class dq extends ZO{constructor(t,n){super(t);x(this,"entrypoint");this.entrypoint=n}async createTxExecutionRequest(t){let n=this.entrypoint;if(!n){const{l1ChainId:i,protocolVersion:s}=await this.pxe.getNodeInfo();n=new iq(i,s)}return n.createTxExecutionRequest(t)}getChainId(){throw new Error("SignerlessWallet: Method getChainId not implemented.")}getVersion(){throw new Error("SignerlessWallet: Method getVersion not implemented.")}getPublicKeysHash(){throw new Error("SignerlessWallet: Method getPublicKeysHash not implemented.")}getCompleteAddress(){throw new Error("SignerlessWallet: Method getCompleteAddress not implemented.")}createAuthWit(t){throw new Error("SignerlessWallet: Method createAuthWit not implemented.")}isL1ToL2MessageSynced(t){return this.pxe.isL1ToL2MessageSynced(t)}}var Q_,Hp;class hq extends $w{constructor(t,n,i,s,c=[],u,d){super(n,i,s,(l,m)=>Up.at(l,s,m),c,u);Nt(this,Q_);Nt(this,Hp);Vt(this,Q_,t),Vt(this,Hp,typeof d=="string"?Pz(s,d):d)}async getInitializeFunctionCalls(t){const n=await super.getInitializeFunctionCalls(t);if(t.fee&&Ie(this,Hp)){const{address:i}=await this.getInstance(),s=await dh.fromAppExecution([]),c=await this.getDefaultFeeOptions(t.fee),u=await dh.fromFeeOptions(i,c),d=[s,u,!1],l=new Gl(this.wallet,i,Ie(this,Hp),d);l.addAuthWitness(await Ie(this,Q_).createAuthWit(await qO(s,u))),l.addHashedArguments(s.hashedArguments),l.addHashedArguments(u.hashedArguments),n.push(l)}return n}}Q_=new WeakMap,Hp=new WeakMap;class pq extends Bv{constructor(t,n,i){super(t,n);x(this,"getWalletPromise");this.getWalletPromise=i}async getWallet(t){return(await this.wait(t)).wallet}async wait(t=vd){const n=await super.wait(t),i=await this.getWalletPromise;return{...n,wallet:i}}}class hC{constructor(e,t,n,i,s){x(this,"pxe");x(this,"secretKey");x(this,"accountContract");x(this,"instance");x(this,"salt");this.pxe=e,this.secretKey=t,this.accountContract=n,this.instance=i,this.salt=s}static async create(e,t,n,i){const{publicKeys:s}=await xv(t);i=i!==void 0?new H(i):H.random();const{constructorName:c,constructorArgs:u}=await n.getDeploymentFunctionAndArgs()??{constructorName:void 0,constructorArgs:void 0},d=await n.getContractArtifact(),l=await Pv(d,{constructorArtifact:c,constructorArgs:u,salt:i,publicKeys:s});return new hC(e,t,n,l,i)}getPublicKeys(){return this.instance.publicKeys}getPublicKeysHash(){return this.getPublicKeys().hash()}async getAccount(){const e=await this.pxe.getNodeInfo(),t=await this.getCompleteAddress();return this.accountContract.getInterface(t,e)}getCompleteAddress(){return Zu.fromSecretKeyAndInstance(this.secretKey,this.instance)}getAddress(){return this.instance.address}getInstance(){return this.instance}async getWallet(){const e=await this.getAccount();return new fq(this.pxe,e,this.secretKey,this.salt)}async register(){return await this.pxe.registerContract({artifact:await this.accountContract.getContractArtifact(),instance:this.getInstance()}),await this.pxe.registerAccount(this.secretKey,(await this.getCompleteAddress()).partialAddress),this.getWallet()}async getDeployMethod(e){const t=await this.accountContract.getContractArtifact();if(!await this.isDeployable())throw new Error(`Account contract ${t.name} does not require deployment.`);const n=await this.getCompleteAddress();await this.pxe.registerAccount(this.secretKey,n.partialAddress);const{constructorName:i,constructorArgs:s}=await this.accountContract.getDeploymentFunctionAndArgs()??{constructorName:void 0,constructorArgs:void 0};if(e){const l=await this.getWallet();return new $w(this.getPublicKeys(),e,t,m=>Up.at(m,t,l),s,i)}const{l1ChainId:c,protocolVersion:u}=await this.pxe.getNodeInfo(),d=new dq(this.pxe,new sq(c,u));return new hq(this.accountContract.getAuthWitnessProvider(n),this.getPublicKeys(),d,t,s,i,"entrypoint")}deploy(e){const t=this.getDeployMethod(e==null?void 0:e.deployWallet).then(n=>n.send({contractAddressSalt:new H(this.salt),skipClassRegistration:(e==null?void 0:e.skipClassRegistration)??!0,skipPublicDeployment:(e==null?void 0:e.skipPublicDeployment)??!0,skipInitialization:(e==null?void 0:e.skipInitialization)??!1,universalDeploy:!0,fee:e==null?void 0:e.fee})).then(n=>n.getTxHash());return new pq(this.pxe,t,this.getWallet())}async waitSetup(e=vd){return await(await this.isDeployable()?this.deploy(e).wait(e):this.register()),this.getWallet()}async isDeployable(){return await this.accountContract.getDeploymentFunctionAndArgs()!==void 0}}function KO(r,e){return function(){return r.apply(e,arguments)}}const{toString:mq}=Object.prototype,{getPrototypeOf:pC}=Object,Ov=(r=>e=>{const t=mq.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Yo=r=>(r=r.toLowerCase(),e=>Ov(e)===r),Fv=r=>e=>typeof e===r,{isArray:hm}=Array,X_=Fv("undefined");function gq(r){return r!==null&&!X_(r)&&r.constructor!==null&&!X_(r.constructor)&&Ca(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const GO=Yo("ArrayBuffer");function _q(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&GO(r.buffer),e}const yq=Fv("string"),Ca=Fv("function"),YO=Fv("number"),Lv=r=>r!==null&&typeof r=="object",wq=r=>r===!0||r===!1,cw=r=>{if(Ov(r)!=="object")return!1;const e=pC(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},vq=Yo("Date"),bq=Yo("File"),Eq=Yo("Blob"),Sq=Yo("FileList"),xq=r=>Lv(r)&&Ca(r.pipe),Aq=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Ca(r.append)&&((e=Ov(r))==="formdata"||e==="object"&&Ca(r.toString)&&r.toString()==="[object FormData]"))},Cq=Yo("URLSearchParams"),[Tq,Iq,kq,Rq]=["ReadableStream","Request","Response","Headers"].map(Yo),Pq=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wy(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),hm(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const s=t?Object.getOwnPropertyNames(r):Object.keys(r),c=s.length;let u;for(n=0;n<c;n++)u=s[n],e.call(null,r[u],u,r)}}function XO(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const kd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Pp,JO=r=>!X_(r)&&r!==kd;function Mx(){const{caseless:r}=JO(this)&&this||{},e={},t=(n,i)=>{const s=r&&XO(e,i)||i;cw(e[s])&&cw(n)?e[s]=Mx(e[s],n):cw(n)?e[s]=Mx({},n):hm(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&wy(arguments[n],t);return e}const Bq=(r,e,t,{allOwnKeys:n}={})=>(wy(e,(i,s)=>{t&&Ca(i)?r[s]=KO(i,t):r[s]=i},{allOwnKeys:n}),r),Nq=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Oq=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Fq=(r,e,t,n)=>{let i,s,c;const u={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),s=i.length;s-- >0;)c=i[s],(!n||n(c,r,e))&&!u[c]&&(e[c]=r[c],u[c]=!0);r=t!==!1&&pC(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Lq=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},Dq=r=>{if(!r)return null;if(hm(r))return r;let e=r.length;if(!YO(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Mq=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&pC(Uint8Array)),jq=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(r,s[0],s[1])}},$q=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},Uq=Yo("HTMLFormElement"),zq=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),Vk=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Hq=Yo("RegExp"),QO=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};wy(t,(i,s)=>{let c;(c=e(i,s,r))!==!1&&(n[s]=c||i)}),Object.defineProperties(r,n)},qq=r=>{QO(r,(e,t)=>{if(Ca(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Ca(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Vq=(r,e)=>{const t={},n=i=>{i.forEach(s=>{t[s]=!0})};return hm(r)?n(r):n(String(r).split(e)),t},Wq=()=>{},Zq=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Kq(r){return!!(r&&Ca(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Gq=r=>{const e=new Array(10),t=(n,i)=>{if(Lv(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=hm(n)?[]:{};return wy(n,(c,u)=>{const d=t(c,i+1);!X_(d)&&(s[u]=d)}),e[i]=void 0,s}}return n};return t(r,0)},Yq=Yo("AsyncFunction"),Xq=r=>r&&(Lv(r)||Ca(r))&&Ca(r.then)&&Ca(r.catch),eF=((r,e)=>r?setImmediate:e?((t,n)=>(kd.addEventListener("message",({source:i,data:s})=>{i===kd&&s===t&&n.length&&n.shift()()},!1),i=>{n.push(i),kd.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ca(kd.postMessage)),Jq=typeof queueMicrotask<"u"?queueMicrotask.bind(kd):typeof Hr<"u"&&Hr.nextTick||eF,nt={isArray:hm,isArrayBuffer:GO,isBuffer:gq,isFormData:Aq,isArrayBufferView:_q,isString:yq,isNumber:YO,isBoolean:wq,isObject:Lv,isPlainObject:cw,isReadableStream:Tq,isRequest:Iq,isResponse:kq,isHeaders:Rq,isUndefined:X_,isDate:vq,isFile:bq,isBlob:Eq,isRegExp:Hq,isFunction:Ca,isStream:xq,isURLSearchParams:Cq,isTypedArray:Mq,isFileList:Sq,forEach:wy,merge:Mx,extend:Bq,trim:Pq,stripBOM:Nq,inherits:Oq,toFlatObject:Fq,kindOf:Ov,kindOfTest:Yo,endsWith:Lq,toArray:Dq,forEachEntry:jq,matchAll:$q,isHTMLForm:Uq,hasOwnProperty:Vk,hasOwnProp:Vk,reduceDescriptors:QO,freezeMethods:qq,toObjectSet:Vq,toCamelCase:zq,noop:Wq,toFiniteNumber:Zq,findKey:XO,global:kd,isContextDefined:JO,isSpecCompliantForm:Kq,toJSONObject:Gq,isAsyncFn:Yq,isThenable:Xq,setImmediate:eF,asap:Jq};function fr(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}nt.inherits(fr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nt.toJSONObject(this.config),code:this.code,status:this.status}}});const tF=fr.prototype,rF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{rF[r]={value:r}});Object.defineProperties(fr,rF);Object.defineProperty(tF,"isAxiosError",{value:!0});fr.from=(r,e,t,n,i,s)=>{const c=Object.create(tF);return nt.toFlatObject(r,c,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),fr.call(c,r.message,e,t,n,i),c.cause=r,c.name=r.name,s&&Object.assign(c,s),c};const Qq=null;function jx(r){return nt.isPlainObject(r)||nt.isArray(r)}function nF(r){return nt.endsWith(r,"[]")?r.slice(0,-2):r}function Wk(r,e,t){return r?r.concat(e).map(function(i,s){return i=nF(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function eV(r){return nt.isArray(r)&&!r.some(jx)}const tV=nt.toFlatObject(nt,{},null,function(e){return/^is[A-Z]/.test(e)});function Dv(r,e,t){if(!nt.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=nt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,P){return!nt.isUndefined(P[S])});const n=t.metaTokens,i=t.visitor||m,s=t.dots,c=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&nt.isSpecCompliantForm(e);if(!nt.isFunction(i))throw new TypeError("visitor must be a function");function l(I){if(I===null)return"";if(nt.isDate(I))return I.toISOString();if(!d&&nt.isBlob(I))throw new fr("Blob is not supported. Use a Buffer instead.");return nt.isArrayBuffer(I)||nt.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):$e.from(I):I}function m(I,S,P){let N=I;if(I&&!P&&typeof I=="object"){if(nt.endsWith(S,"{}"))S=n?S:S.slice(0,-2),I=JSON.stringify(I);else if(nt.isArray(I)&&eV(I)||(nt.isFileList(I)||nt.endsWith(S,"[]"))&&(N=nt.toArray(I)))return S=nF(S),N.forEach(function(R,L){!(nt.isUndefined(R)||R===null)&&e.append(c===!0?Wk([S],L,s):c===null?S:S+"[]",l(R))}),!1}return jx(I)?!0:(e.append(Wk(P,S,s),l(I)),!1)}const y=[],b=Object.assign(tV,{defaultVisitor:m,convertValue:l,isVisitable:jx});function E(I,S){if(!nt.isUndefined(I)){if(y.indexOf(I)!==-1)throw Error("Circular reference detected in "+S.join("."));y.push(I),nt.forEach(I,function(N,k){(!(nt.isUndefined(N)||N===null)&&i.call(e,N,nt.isString(k)?k.trim():k,S,b))===!0&&E(N,S?S.concat(k):[k])}),y.pop()}}if(!nt.isObject(r))throw new TypeError("data must be an object");return E(r),e}function Zk(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function mC(r,e){this._pairs=[],r&&Dv(r,this,e)}const iF=mC.prototype;iF.append=function(e,t){this._pairs.push([e,t])};iF.toString=function(e){const t=e?function(n){return e.call(this,n,Zk)}:Zk;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function rV(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sF(r,e,t){if(!e)return r;const n=t&&t.encode||rV;nt.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=nt.isURLSearchParams(e)?e.toString():new mC(e,t).toString(n),s){const c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class Kk{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){nt.forEach(this.handlers,function(n){n!==null&&e(n)})}}const aF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nV=typeof URLSearchParams<"u"?URLSearchParams:mC,iV=typeof FormData<"u"?FormData:null,sV=typeof Blob<"u"?Blob:null,aV={isBrowser:!0,classes:{URLSearchParams:nV,FormData:iV,Blob:sV},protocols:["http","https","file","blob","url","data"]},gC=typeof window<"u"&&typeof document<"u",$x=typeof navigator=="object"&&navigator||void 0,oV=gC&&(!$x||["ReactNative","NativeScript","NS"].indexOf($x.product)<0),cV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uV=gC&&window.location.href||"http://localhost",lV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gC,hasStandardBrowserEnv:oV,hasStandardBrowserWebWorkerEnv:cV,navigator:$x,origin:uV},Symbol.toStringTag,{value:"Module"})),ds={...lV,...aV};function fV(r,e){return Dv(r,new ds.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,s){return ds.isNode&&nt.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function dV(r){return nt.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function hV(r){const e={},t=Object.keys(r);let n;const i=t.length;let s;for(n=0;n<i;n++)s=t[n],e[s]=r[s];return e}function oF(r){function e(t,n,i,s){let c=t[s++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),d=s>=t.length;return c=!c&&nt.isArray(i)?i.length:c,d?(nt.hasOwnProp(i,c)?i[c]=[i[c],n]:i[c]=n,!u):((!i[c]||!nt.isObject(i[c]))&&(i[c]=[]),e(t,n,i[c],s)&&nt.isArray(i[c])&&(i[c]=hV(i[c])),!u)}if(nt.isFormData(r)&&nt.isFunction(r.entries)){const t={};return nt.forEachEntry(r,(n,i)=>{e(dV(n),i,t,0)}),t}return null}function pV(r,e,t){if(nt.isString(r))try{return(e||JSON.parse)(r),nt.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const vy={transitional:aF,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=nt.isObject(e);if(s&&nt.isHTMLForm(e)&&(e=new FormData(e)),nt.isFormData(e))return i?JSON.stringify(oF(e)):e;if(nt.isArrayBuffer(e)||nt.isBuffer(e)||nt.isStream(e)||nt.isFile(e)||nt.isBlob(e)||nt.isReadableStream(e))return e;if(nt.isArrayBufferView(e))return e.buffer;if(nt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fV(e,this.formSerializer).toString();if((u=nt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Dv(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),pV(e)):e}],transformResponse:[function(e){const t=this.transitional||vy.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(nt.isResponse(e)||nt.isReadableStream(e))return e;if(e&&nt.isString(e)&&(n&&!this.responseType||i)){const c=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?fr.from(u,fr.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ds.classes.FormData,Blob:ds.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nt.forEach(["delete","get","head","post","put","patch"],r=>{vy.headers[r]={}});const mV=nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gV=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(c){i=c.indexOf(":"),t=c.substring(0,i).trim().toLowerCase(),n=c.substring(i+1).trim(),!(!t||e[t]&&mV[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Gk=Symbol("internals");function Tg(r){return r&&String(r).trim().toLowerCase()}function uw(r){return r===!1||r==null?r:nt.isArray(r)?r.map(uw):String(r)}function _V(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const yV=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function E2(r,e,t,n,i){if(nt.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!nt.isString(e)){if(nt.isString(n))return e.indexOf(n)!==-1;if(nt.isRegExp(n))return n.test(e)}}function wV(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function vV(r,e){const t=nt.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,s,c){return this[n].call(this,e,i,s,c)},configurable:!0})})}let ra=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function s(u,d,l){const m=Tg(d);if(!m)throw new Error("header name must be a non-empty string");const y=nt.findKey(i,m);(!y||i[y]===void 0||l===!0||l===void 0&&i[y]!==!1)&&(i[y||d]=uw(u))}const c=(u,d)=>nt.forEach(u,(l,m)=>s(l,m,d));if(nt.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(nt.isString(e)&&(e=e.trim())&&!yV(e))c(gV(e),t);else if(nt.isHeaders(e))for(const[u,d]of e.entries())s(d,u,n);else e!=null&&s(t,e,n);return this}get(e,t){if(e=Tg(e),e){const n=nt.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return _V(i);if(nt.isFunction(t))return t.call(this,i,n);if(nt.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Tg(e),e){const n=nt.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||E2(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function s(c){if(c=Tg(c),c){const u=nt.findKey(n,c);u&&(!t||E2(n,n[u],u,t))&&(delete n[u],i=!0)}}return nt.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const s=t[n];(!e||E2(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,n={};return nt.forEach(this,(i,s)=>{const c=nt.findKey(n,s);if(c){t[c]=uw(i),delete t[s];return}const u=e?wV(s):String(s).trim();u!==s&&delete t[s],t[u]=uw(i),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return nt.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&nt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Gk]=this[Gk]={accessors:{}}).accessors,i=this.prototype;function s(c){const u=Tg(c);n[u]||(vV(i,c),n[u]=!0)}return nt.isArray(e)?e.forEach(s):s(e),this}};ra.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);nt.reduceDescriptors(ra.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});nt.freezeMethods(ra);function S2(r,e){const t=this||vy,n=e||t,i=ra.from(n.headers);let s=n.data;return nt.forEach(r,function(u){s=u.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function cF(r){return!!(r&&r.__CANCEL__)}function pm(r,e,t){fr.call(this,r??"canceled",fr.ERR_CANCELED,e,t),this.name="CanceledError"}nt.inherits(pm,fr,{__CANCEL__:!0});function uF(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new fr("Request failed with status code "+t.status,[fr.ERR_BAD_REQUEST,fr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function bV(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function EV(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,s=0,c;return e=e!==void 0?e:1e3,function(d){const l=Date.now(),m=n[s];c||(c=l),t[i]=d,n[i]=l;let y=s,b=0;for(;y!==i;)b+=t[y++],y=y%r;if(i=(i+1)%r,i===s&&(s=(s+1)%r),l-c<e)return;const E=m&&l-m;return E?Math.round(b*1e3/E):void 0}}function SV(r,e){let t=0,n=1e3/e,i,s;const c=(l,m=Date.now())=>{t=m,i=null,s&&(clearTimeout(s),s=null),r.apply(null,l)};return[(...l)=>{const m=Date.now(),y=m-t;y>=n?c(l,m):(i=l,s||(s=setTimeout(()=>{s=null,c(i)},n-y)))},()=>i&&c(i)]}const Uw=(r,e,t=3)=>{let n=0;const i=EV(50,250);return SV(s=>{const c=s.loaded,u=s.lengthComputable?s.total:void 0,d=c-n,l=i(d),m=c<=u;n=c;const y={loaded:c,total:u,progress:u?c/u:void 0,bytes:d,rate:l||void 0,estimated:l&&u&&m?(u-c)/l:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};r(y)},t)},Yk=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Xk=r=>(...e)=>nt.asap(()=>r(...e)),xV=ds.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,ds.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(ds.origin),ds.navigator&&/(msie|trident)/i.test(ds.navigator.userAgent)):()=>!0,AV=ds.hasStandardBrowserEnv?{write(r,e,t,n,i,s){const c=[r+"="+encodeURIComponent(e)];nt.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),nt.isString(n)&&c.push("path="+n),nt.isString(i)&&c.push("domain="+i),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function CV(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function TV(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function lF(r,e,t){let n=!CV(e);return r&&(n||t==!1)?TV(r,e):e}const Jk=r=>r instanceof ra?{...r}:r;function hh(r,e){e=e||{};const t={};function n(l,m,y,b){return nt.isPlainObject(l)&&nt.isPlainObject(m)?nt.merge.call({caseless:b},l,m):nt.isPlainObject(m)?nt.merge({},m):nt.isArray(m)?m.slice():m}function i(l,m,y,b){if(nt.isUndefined(m)){if(!nt.isUndefined(l))return n(void 0,l,y,b)}else return n(l,m,y,b)}function s(l,m){if(!nt.isUndefined(m))return n(void 0,m)}function c(l,m){if(nt.isUndefined(m)){if(!nt.isUndefined(l))return n(void 0,l)}else return n(void 0,m)}function u(l,m,y){if(y in e)return n(l,m);if(y in r)return n(void 0,l)}const d={url:s,method:s,data:s,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(l,m,y)=>i(Jk(l),Jk(m),y,!0)};return nt.forEach(Object.keys(Object.assign({},r,e)),function(m){const y=d[m]||i,b=y(r[m],e[m],m);nt.isUndefined(b)&&y!==u||(t[m]=b)}),t}const fF=r=>{const e=hh({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:c,auth:u}=e;e.headers=c=ra.from(c),e.url=sF(lF(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(nt.isFormData(t)){if(ds.hasStandardBrowserEnv||ds.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((d=c.getContentType())!==!1){const[l,...m]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];c.setContentType([l||"multipart/form-data",...m].join("; "))}}if(ds.hasStandardBrowserEnv&&(n&&nt.isFunction(n)&&(n=n(e)),n||n!==!1&&xV(e.url))){const l=i&&s&&AV.read(s);l&&c.set(i,l)}return e},IV=typeof XMLHttpRequest<"u",kV=IV&&function(r){return new Promise(function(t,n){const i=fF(r);let s=i.data;const c=ra.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:l}=i,m,y,b,E,I;function S(){E&&E(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function N(){if(!P)return;const R=ra.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),U={data:!u||u==="text"||u==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:R,config:r,request:P};uF(function(V){t(V),S()},function(V){n(V),S()},U),P=null}"onloadend"in P?P.onloadend=N:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(N)},P.onabort=function(){P&&(n(new fr("Request aborted",fr.ECONNABORTED,r,P)),P=null)},P.onerror=function(){n(new fr("Network Error",fr.ERR_NETWORK,r,P)),P=null},P.ontimeout=function(){let L=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const U=i.transitional||aF;i.timeoutErrorMessage&&(L=i.timeoutErrorMessage),n(new fr(L,U.clarifyTimeoutError?fr.ETIMEDOUT:fr.ECONNABORTED,r,P)),P=null},s===void 0&&c.setContentType(null),"setRequestHeader"in P&&nt.forEach(c.toJSON(),function(L,U){P.setRequestHeader(U,L)}),nt.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),u&&u!=="json"&&(P.responseType=i.responseType),l&&([b,I]=Uw(l,!0),P.addEventListener("progress",b)),d&&P.upload&&([y,E]=Uw(d),P.upload.addEventListener("progress",y),P.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(m=R=>{P&&(n(!R||R.type?new pm(null,r,P):R),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const k=bV(i.url);if(k&&ds.protocols.indexOf(k)===-1){n(new fr("Unsupported protocol "+k+":",fr.ERR_BAD_REQUEST,r));return}P.send(s||null)})},RV=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const s=function(l){if(!i){i=!0,u();const m=l instanceof Error?l:this.reason;n.abort(m instanceof fr?m:new pm(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,s(new fr(`timeout ${e} of ms exceeded`,fr.ETIMEDOUT))},e);const u=()=>{r&&(c&&clearTimeout(c),c=null,r.forEach(l=>{l.unsubscribe?l.unsubscribe(s):l.removeEventListener("abort",s)}),r=null)};r.forEach(l=>l.addEventListener("abort",s));const{signal:d}=n;return d.unsubscribe=()=>nt.asap(u),d}},PV=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},BV=async function*(r,e){for await(const t of NV(r))yield*PV(t,e)},NV=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Qk=(r,e,t,n)=>{const i=BV(r,e);let s=0,c,u=d=>{c||(c=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:l,value:m}=await i.next();if(l){u(),d.close();return}let y=m.byteLength;if(t){let b=s+=y;t(b)}d.enqueue(new Uint8Array(m))}catch(l){throw u(l),l}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},Mv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dF=Mv&&typeof ReadableStream=="function",OV=Mv&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),hF=(r,...e)=>{try{return!!r(...e)}catch{return!1}},FV=dF&&hF(()=>{let r=!1;const e=new Request(ds.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),eR=64*1024,Ux=dF&&hF(()=>nt.isReadableStream(new Response("").body)),zw={stream:Ux&&(r=>r.body)};Mv&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zw[e]&&(zw[e]=nt.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new fr(`Response type '${e}' is not supported`,fr.ERR_NOT_SUPPORT,n)})})})(new Response);const LV=async r=>{if(r==null)return 0;if(nt.isBlob(r))return r.size;if(nt.isSpecCompliantForm(r))return(await new Request(ds.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(nt.isArrayBufferView(r)||nt.isArrayBuffer(r))return r.byteLength;if(nt.isURLSearchParams(r)&&(r=r+""),nt.isString(r))return(await OV(r)).byteLength},DV=async(r,e)=>{const t=nt.toFiniteNumber(r.getContentLength());return t??LV(e)},MV=Mv&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:s,timeout:c,onDownloadProgress:u,onUploadProgress:d,responseType:l,headers:m,withCredentials:y="same-origin",fetchOptions:b}=fF(r);l=l?(l+"").toLowerCase():"text";let E=RV([i,s&&s.toAbortSignal()],c),I;const S=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let P;try{if(d&&FV&&t!=="get"&&t!=="head"&&(P=await DV(m,n))!==0){let U=new Request(e,{method:"POST",body:n,duplex:"half"}),te;if(nt.isFormData(n)&&(te=U.headers.get("content-type"))&&m.setContentType(te),U.body){const[V,oe]=Yk(P,Uw(Xk(d)));n=Qk(U.body,eR,V,oe)}}nt.isString(y)||(y=y?"include":"omit");const N="credentials"in Request.prototype;I=new Request(e,{...b,signal:E,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:N?y:void 0});let k=await fetch(I);const R=Ux&&(l==="stream"||l==="response");if(Ux&&(u||R&&S)){const U={};["status","statusText","headers"].forEach(de=>{U[de]=k[de]});const te=nt.toFiniteNumber(k.headers.get("content-length")),[V,oe]=u&&Yk(te,Uw(Xk(u),!0))||[];k=new Response(Qk(k.body,eR,V,()=>{oe&&oe(),S&&S()}),U)}l=l||"text";let L=await zw[nt.findKey(zw,l)||"text"](k,r);return!R&&S&&S(),await new Promise((U,te)=>{uF(U,te,{data:L,headers:ra.from(k.headers),status:k.status,statusText:k.statusText,config:r,request:I})})}catch(N){throw S&&S(),N&&N.name==="TypeError"&&/fetch/i.test(N.message)?Object.assign(new fr("Network Error",fr.ERR_NETWORK,r,I),{cause:N.cause||N}):fr.from(N,N&&N.code,r,I)}}),zx={http:Qq,xhr:kV,fetch:MV};nt.forEach(zx,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const tR=r=>`- ${r}`,jV=r=>nt.isFunction(r)||r===null||r===!1,pF={getAdapter:r=>{r=nt.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let s=0;s<e;s++){t=r[s];let c;if(n=t,!jV(t)&&(n=zx[(c=String(t)).toLowerCase()],n===void 0))throw new fr(`Unknown adapter '${c}'`);if(n)break;i[c||"#"+s]=n}if(!n){const s=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=e?s.length>1?`since :
`+s.map(tR).join(`
`):" "+tR(s[0]):"as no adapter specified";throw new fr("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:zx};function x2(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new pm(null,r)}function rR(r){return x2(r),r.headers=ra.from(r.headers),r.data=S2.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),pF.getAdapter(r.adapter||vy.adapter)(r).then(function(n){return x2(r),n.data=S2.call(r,r.transformResponse,n),n.headers=ra.from(n.headers),n},function(n){return cF(n)||(x2(r),n&&n.response&&(n.response.data=S2.call(r,r.transformResponse,n.response),n.response.headers=ra.from(n.response.headers))),Promise.reject(n)})}const mF="1.8.4",jv={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{jv[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const nR={};jv.transitional=function(e,t,n){function i(s,c){return"[Axios v"+mF+"] Transitional option '"+s+"'"+c+(n?". "+n:"")}return(s,c,u)=>{if(e===!1)throw new fr(i(c," has been removed"+(t?" in "+t:"")),fr.ERR_DEPRECATED);return t&&!nR[c]&&(nR[c]=!0,console.warn(i(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,c,u):!0}};jv.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function $V(r,e,t){if(typeof r!="object")throw new fr("options must be an object",fr.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const s=n[i],c=e[s];if(c){const u=r[s],d=u===void 0||c(u,s,r);if(d!==!0)throw new fr("option "+s+" must be "+d,fr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new fr("Unknown option "+s,fr.ERR_BAD_OPTION)}}const lw={assertOptions:$V,validators:jv},wc=lw.validators;let eh=class{constructor(e){this.defaults=e,this.interceptors={request:new Kk,response:new Kk}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=hh(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:s}=t;n!==void 0&&lw.assertOptions(n,{silentJSONParsing:wc.transitional(wc.boolean),forcedJSONParsing:wc.transitional(wc.boolean),clarifyTimeoutError:wc.transitional(wc.boolean)},!1),i!=null&&(nt.isFunction(i)?t.paramsSerializer={serialize:i}:lw.assertOptions(i,{encode:wc.function,serialize:wc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),lw.assertOptions(t,{baseUrl:wc.spelling("baseURL"),withXsrfToken:wc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=s&&nt.merge(s.common,s[t.method]);s&&nt.forEach(["delete","get","head","post","put","patch","common"],I=>{delete s[I]}),t.headers=ra.concat(c,s);const u=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(d=d&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const l=[];this.interceptors.response.forEach(function(S){l.push(S.fulfilled,S.rejected)});let m,y=0,b;if(!d){const I=[rR.bind(this),void 0];for(I.unshift.apply(I,u),I.push.apply(I,l),b=I.length,m=Promise.resolve(t);y<b;)m=m.then(I[y++],I[y++]);return m}b=u.length;let E=t;for(y=0;y<b;){const I=u[y++],S=u[y++];try{E=I(E)}catch(P){S.call(this,P);break}}try{m=rR.call(this,E)}catch(I){return Promise.reject(I)}for(y=0,b=l.length;y<b;)m=m.then(l[y++],l[y++]);return m}getUri(e){e=hh(this.defaults,e);const t=lF(e.baseURL,e.url,e.allowAbsoluteUrls);return sF(t,e.params,e.paramsSerializer)}};nt.forEach(["delete","get","head","options"],function(e){eh.prototype[e]=function(t,n){return this.request(hh(n||{},{method:e,url:t,data:(n||{}).data}))}});nt.forEach(["post","put","patch"],function(e){function t(n){return function(s,c,u){return this.request(hh(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:c}))}}eh.prototype[e]=t(),eh.prototype[e+"Form"]=t(!0)});let UV=class gF{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const c=new Promise(u=>{n.subscribe(u),s=u}).then(i);return c.cancel=function(){n.unsubscribe(s)},c},e(function(s,c,u){n.reason||(n.reason=new pm(s,c,u),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new gF(function(i){e=i}),cancel:e}}};function zV(r){return function(t){return r.apply(null,t)}}function HV(r){return nt.isObject(r)&&r.isAxiosError===!0}const Hx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hx).forEach(([r,e])=>{Hx[e]=r});function _F(r){const e=new eh(r),t=KO(eh.prototype.request,e);return nt.extend(t,eh.prototype,e,{allOwnKeys:!0}),nt.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return _F(hh(r,i))},t}const Xn=_F(vy);Xn.Axios=eh;Xn.CanceledError=pm;Xn.CancelToken=UV;Xn.isCancel=cF;Xn.VERSION=mF;Xn.toFormData=Dv;Xn.AxiosError=fr;Xn.Cancel=Xn.CanceledError;Xn.all=function(e){return Promise.all(e)};Xn.spread=zV;Xn.isAxiosError=HV;Xn.mergeConfig=hh;Xn.AxiosHeaders=ra;Xn.formToJSON=r=>oF(nt.isHTMLForm(r)?new FormData(r):r);Xn.getAdapter=pF.getAdapter;Xn.HttpStatusCode=Hx;Xn.default=Xn;const{Axios:pJ,AxiosError:mJ,CanceledError:gJ,isCancel:_J,CancelToken:yJ,VERSION:wJ,all:vJ,Cancel:bJ,isAxiosError:EJ,spread:SJ,toFormData:xJ,AxiosHeaders:AJ,HttpStatusCode:CJ,formToJSON:TJ,getAdapter:IJ,mergeConfig:kJ}=Xn;async function cn(r){const e=[];for await(const t of r)e.push(t);return e}class th{constructor(e,t,n,i,s,c,u){x(this,"noteHashes");x(this,"nullifiers");x(this,"l2ToL1Msgs");x(this,"privateLogs");x(this,"contractClassLogsHashes");x(this,"publicCallRequests");x(this,"privateCallStack");this.noteHashes=e,this.nullifiers=t,this.l2ToL1Msgs=n,this.privateLogs=i,this.contractClassLogsHashes=s,this.publicCallRequests=c,this.privateCallStack=u}toBuffer(){return ft(this.noteHashes,this.nullifiers,this.l2ToL1Msgs,this.privateLogs,this.contractClassLogsHashes,this.publicCallRequests,this.privateCallStack)}toString(){return qr(this.toBuffer())}static fromBuffer(e){const t=st.asReader(e);return new th(t.readArray(Bn,Vu),t.readArray(jn,Wu),t.readArray(vi,Ei),t.readArray(ta,Lo),t.readArray(qo,Aa),t.readArray(Gd,ao),t.readArray(Ex,$c))}static fromString(e){return th.fromBuffer(tn(e))}static empty(){return new th(zt(Bn,Vu.empty),zt(jn,Wu.empty),zt(vi,Ei.empty),zt(ta,Lo.empty),zt(qo,Aa.empty),zt(Gd,ao.empty),zt(Ex,$c.empty))}}class iR{constructor(e,t,n){x(this,"pre");x(this,"post");x(this,"blockOfChange");this.pre=e,this.post=t,this.blockOfChange=n}static empty(){return new this(void 0,void 0,0)}isEmpty(){return this.pre===void 0&&this.post===void 0&&this.blockOfChange===0}}class sR{constructor(e,t,n){x(this,"previous");x(this,"post");x(this,"blockOfChange");if(this.previous=e,this.post=t,this.blockOfChange=n,this.previous.length!==this.post.length)throw new Error("Previous and post must have the same length")}static empty(e){return new this(Array(e).fill(new H(0)),Array(e).fill(new H(0)),0)}isEmpty(){return this.previous.every(e=>e.isZero())&&this.post.every(e=>e.isZero())&&this.blockOfChange===0}getCurrentAt(e){return e<this.blockOfChange?this.previous:this.post}}const yF=2*Bw+1;class ph{constructor(e,t){x(this,"svc");x(this,"sdc");this.svc=e,this.sdc=t}static fromFields(e){const t=Ut.asReader(e),n=t.readField().toBigInt(),i=t.readFieldArray(Bw),s=t.readFieldArray(Bw),c=n&0xffffffffn,u=new sR(i,s,Number(c)),d=n>>32n&0xffffffffn,l=n>>64n&1n,m=n>>72n&0xffffffffn,y=n>>104n&1n,b=n>>112n&0xffffffffn,E=new iR(y?Number(b):void 0,l?Number(m):void 0,Number(d));return new this(u,E)}toFields(){let e=BigInt(this.svc.blockOfChange);return e|=BigInt(this.sdc.blockOfChange)<<32n,e|=(this.sdc.post===void 0?0n:1n)<<64n,e|=BigInt(this.sdc.post||0)<<72n,e|=(this.sdc.pre===void 0?0n:1n)<<104n,e|=BigInt(this.sdc.pre||0)<<112n,[new H(e),...this.svc.previous,...this.svc.post]}toBuffer(){return ft(this.toFields())}static fromBuffer(e,t){const n=st.asReader(e);return ph.fromFields(n.readArray(2*t+1,H))}static empty(e){return new this(sR.empty(e),iR.empty())}static async readFromTree(e,t){const n=[];for(let i=0;i<yF;i++)n.push(await t(e.add(new H(i))));return ph.fromFields(n)}isEmpty(){return this.svc.isEmpty()&&this.sdc.isEmpty()}async writeToTree(e,t){const n=this.toFields();for(let i=0;i<n.length;i++)await t(e.add(new H(i)),n[i])}async hash(){const e=this.toFields();return await sa(e)}}class _C{constructor(e,t){x(this,"x");x(this,"y");this.x=typeof e=="bigint"?new Js(e):e,this.y=typeof t=="bigint"?new Js(t):t}toBuffer(){return ft(this.x,this.y)}static fromBuffer(e){const t=st.asReader(e);return new _C(Js.fromBuffer(t),Js.fromBuffer(t))}}class Hw{constructor(e){x(this,"record");this.record=e}toBuffer(){const e=Object.entries(this.record);return ft(e.length,...e.flat())}static fromBuffer(e){const t=st.asReader(e);return new Hw(t.readMap(_C))}}const qV=0,VV=1,WV=3;class bi{constructor(e,t){x(this,"key");x(this,"hash");this.key=e,this.hash=t}get numPublicInputs(){return Number(this.key[VV])}get circuitSize(){return Number(this.key[qV])}get isRecursive(){return this.key[WV].equals(H.ONE)}static get schema(){return df(bi)}toJSON(){return this.toBuffer()}toBuffer(){return ft(...this.toFields())}toFields(){return[this.key.length,...this.key,this.hash]}static fromBuffer(e){const t=st.asReader(e);return new bi(t.readVector(H),t.readObject(H))}static makeFake(e,t=1){return new bi(zt(e,H.random,t),H.random())}static makeFakeHonk(e=1){return new bi(zt(L$,H.random,e),H.random())}static makeFakeRollupHonk(e=1){return new bi(zt(EN,t=>new H(t),e),new H(e+1))}static makeEmpty(e){return new bi(zt(e,H.zero),H.zero())}}class rh{constructor(e,t,n,i,s,c){x(this,"circuitType");x(this,"circuitSize");x(this,"numPublicInputs");x(this,"commitments");x(this,"containsRecursiveProof");x(this,"recursiveProofPublicInputIndices");this.circuitType=e,this.circuitSize=t,this.numPublicInputs=n,this.commitments=i,this.containsRecursiveProof=s,this.recursiveProofPublicInputIndices=c}toBuffer(){return ft(this.circuitType,this.circuitSize,this.numPublicInputs,new Hw(this.commitments),this.containsRecursiveProof,ft(this.recursiveProofPublicInputIndices.length,this.recursiveProofPublicInputIndices))}static fromBuffer(e){const t=st.asReader(e);return new rh(t.readNumber(),t.readNumber(),t.readNumber(),t.readObject(Hw).record,t.readBoolean(),t.readNumberVector())}static makeRollupFake(){return new rh(kI.ULTRA,2048,116,{},!1,J3(16,e=>e))}static makeFake(){return new rh(kI.ULTRA,2048,116,{},!1,J3(16,e=>e))}}class Po{constructor(e,t){x(this,"keyAsFields");x(this,"keyAsBytes");this.keyAsFields=e,this.keyAsBytes=t}get numPublicInputs(){return this.keyAsFields.numPublicInputs}get circuitSize(){return this.keyAsFields.circuitSize}get isRecursive(){return this.keyAsFields.isRecursive}static empty(){return new Po(bi.makeEmpty(0),$e.alloc(0))}static makeFakeHonk(){return new Po(bi.makeFakeHonk(),rh.makeFake().toBuffer())}static makeFakeRollupHonk(){return new Po(bi.makeFakeRollupHonk(),rh.makeRollupFake().toBuffer())}static makeFake(e=EN){return new Po(bi.makeFake(e),rh.makeFake().toBuffer())}toBuffer(){return ft(this.keyAsFields,this.keyAsBytes.length,this.keyAsBytes)}toString(){return qr(this.toBuffer())}static fromBuffer(e){const t=st.asReader(e),n=t.readObject(bi),i=t.readNumber(),s=t.readBytes(i);return new Po(n,s)}static fromString(e){return Po.fromBuffer(tn(e))}clone(){return Po.fromBuffer(this.toBuffer())}toJSON(){return this.toBuffer()}static get schema(){return df(Po)}}class Yl{constructor(e,t,n){x(this,"publicInputs");x(this,"vk");x(this,"verificationKeyHints");this.publicInputs=e,this.vk=t,this.verificationKeyHints=n}static getFields(e){return[e.publicInputs,e.vk,e.verificationKeyHints]}static from(e){return new Yl(...Yl.getFields(e))}toBuffer(){return ft(...Yl.getFields(this))}static fromBuffer(e){const t=st.asReader(e);return new Yl(t.readObject(wa),t.readObject(bi),t.readObject(Rd))}}class Rd{constructor(e,t,n,i,s,c,u,d){x(this,"contractClassArtifactHash");x(this,"contractClassPublicBytecodeCommitment");x(this,"publicKeys");x(this,"saltedInitializationHash");x(this,"functionLeafMembershipWitness");x(this,"protocolContractMembershipWitness");x(this,"protocolContractLeaf");x(this,"updatedClassIdHints");this.contractClassArtifactHash=e,this.contractClassPublicBytecodeCommitment=t,this.publicKeys=n,this.saltedInitializationHash=i,this.functionLeafMembershipWitness=s,this.protocolContractMembershipWitness=c,this.protocolContractLeaf=u,this.updatedClassIdHints=d}static getFields(e){return[e.contractClassArtifactHash,e.contractClassPublicBytecodeCommitment,e.publicKeys,e.saltedInitializationHash,e.functionLeafMembershipWitness,e.protocolContractMembershipWitness,e.protocolContractLeaf,e.updatedClassIdHints]}static from(e){return new Rd(...Rd.getFields(e))}toBuffer(){return ft(...Rd.getFields(this))}static fromBuffer(e){const t=st.asReader(e);return new Rd(t.readObject(H),t.readObject(H),t.readObject(ji),t.readObject(H),t.readObject(Ri.deserializer(Pw)),t.readObject(Ri.deserializer(_N)),t.readObject($l),t.readObject(Pd))}}class Pd{constructor(e,t,n){x(this,"updatedClassIdWitness");x(this,"updatedClassIdLeaf");x(this,"updatedClassIdValues");this.updatedClassIdWitness=e,this.updatedClassIdLeaf=t,this.updatedClassIdValues=n}static getFields(e){return[e.updatedClassIdWitness,e.updatedClassIdLeaf,e.updatedClassIdValues]}static from(e){return new Pd(...Pd.getFields(e))}toBuffer(){return ft(...Pd.getFields(this))}static fromBuffer(e){const t=st.asReader(e);return new Pd(t.readObject(Ri.deserializer(Kd)),t.readObject(to),t.readObject({fromBuffer(n){return ph.fromBuffer(n,Bw)}}))}}class Ql{constructor(e,t){x(this,"request");x(this,"contractAddress");this.request=e,this.contractAddress=t}toBuffer(){return ft(this.request,this.contractAddress)}static fromBuffer(e){const t=st.asReader(e);return new Ql(Vo.fromBuffer(t),tt.fromBuffer(t))}toFields(){const e=[...this.request.toFields(),this.contractAddress.toField()];if(e.length!==QT)throw new Error(`Invalid number of fields for ScopedKeyValidationRequestAndGenerator. Expected ${QT}, got ${e.length}`);return e}static fromFields(e){const t=Ut.asReader(e);return new Ql(Vo.fromFields(t),tt.fromFields(t))}isEmpty(){return this.request.isEmpty()&&this.contractAddress.isZero()}static empty(){return new Ql(Vo.empty(),tt.ZERO)}}class Nc{constructor(e,t){x(this,"isSome");x(this,"value");this.isSome=e,this.value=t}getSize(){return this.toBuffer().length}static getFields(e){return[e.isSome,e.value]}toBuffer(){return ft(...Nc.getFields(this))}static fromBuffer(e){const t=st.asReader(e);return new Nc(t.readBoolean(),t.readNumber())}toFields(){return Wr(...Nc.getFields(this))}static fromFields(e){const t=Ut.asReader(e);return new Nc(t.readBoolean(),t.readU32())}isEmpty(){return!this.isSome&&!this.value}static empty(){return new Nc(!1,0)}}class Xl{constructor(e,t,n,i,s){x(this,"forRollup");x(this,"noteHashReadRequests");x(this,"nullifierReadRequests");x(this,"scopedKeyValidationRequestsAndGenerators");x(this,"splitCounter");this.forRollup=e,this.noteHashReadRequests=t,this.nullifierReadRequests=n,this.scopedKeyValidationRequestsAndGenerators=i,this.splitCounter=s}getSize(){return this.forRollup.getSize()+fi(this.noteHashReadRequests)+fi(this.nullifierReadRequests)+fi(this.scopedKeyValidationRequestsAndGenerators)+this.splitCounter.getSize()}toBuffer(){return ft(this.forRollup,this.noteHashReadRequests,this.nullifierReadRequests,this.scopedKeyValidationRequestsAndGenerators,this.splitCounter)}toString(){return qr(this.toBuffer())}static fromFields(e){const t=Ut.asReader(e);return new Xl(t.readObject(zi),t.readArray(ks,va),t.readArray(Rs,va),t.readArray(Yd,Ql),t.readObject(Nc))}static fromBuffer(e){const t=st.asReader(e);return new Xl(t.readObject(zi),t.readArray(ks,va),t.readArray(Rs,va),t.readArray(Yd,Ql),t.readObject(Nc))}static fromString(e){return Xl.fromBuffer(tn(e))}static empty(){return new Xl(zi.empty(),zt(ks,va.empty),zt(Rs,va.empty),zt(Yd,Ql.empty),Nc.empty())}[St.inspect.custom](){return`PrivateValidationRequests {
  forRollup: ${St.inspect(this.forRollup)},
  noteHashReadRequests: [${this.noteHashReadRequests.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}],
  nullifierReadRequests: [${this.nullifierReadRequests.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}],
  scopedKeyValidationRequestsAndGenerators: [${this.scopedKeyValidationRequestsAndGenerators.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}],
  splitCounter: ${this.splitCounter}
  `}}class ef{constructor(e,t,n,i,s,c,u,d){x(this,"constants");x(this,"minRevertibleSideEffectCounter");x(this,"validationRequests");x(this,"end");x(this,"publicTeardownCallRequest");x(this,"feePayer");x(this,"isPrivateOnly");x(this,"claimedFirstNullifier");this.constants=e,this.minRevertibleSideEffectCounter=t,this.validationRequests=n,this.end=i,this.publicTeardownCallRequest=s,this.feePayer=c,this.isPrivateOnly=u,this.claimedFirstNullifier=d}static get schema(){return df(ef)}toJSON(){return this.toBuffer()}toBuffer(){return ft(this.constants,this.minRevertibleSideEffectCounter,this.validationRequests,this.end,this.publicTeardownCallRequest,this.feePayer,this.isPrivateOnly,this.claimedFirstNullifier)}static fromBuffer(e){const t=st.asReader(e);return new ef(t.readObject(ui),t.readObject(H),t.readObject(Xl),t.readObject(th),t.readObject(bn),t.readObject(tt),t.readBoolean(),t.readObject(H))}static empty(){return new ef(ui.empty(),H.zero(),Xl.empty(),th.empty(),bn.empty(),tt.ZERO,!1,H.zero())}}class mh{constructor(e,t,n,i){x(this,"publicInputs");x(this,"vk");x(this,"vkIndex");x(this,"vkPath");this.publicInputs=e,this.vk=t,this.vkIndex=n,this.vkPath=i}toBuffer(){return ft(this.publicInputs,this.vk,this.vkIndex,this.vkPath)}static fromBuffer(e){const t=st.asReader(e);return new this(t.readObject(ef),t.readObject(bi),t.readNumber(),t.readArray(oh,H))}static empty(){return new mh(ef.empty(),bi.makeFake(Ev),0,zt(oh,H.zero))}}class yC{constructor(e,t,n,i,s,c){x(this,"txRequest");x(this,"vkTreeRoot");x(this,"protocolContractTreeRoot");x(this,"privateCall");x(this,"isPrivateOnly");x(this,"firstNullifierHint");this.txRequest=e,this.vkTreeRoot=t,this.protocolContractTreeRoot=n,this.privateCall=i,this.isPrivateOnly=s,this.firstNullifierHint=c}toBuffer(){return ft(this.txRequest,this.vkTreeRoot,this.protocolContractTreeRoot,this.privateCall,this.firstNullifierHint)}static fromBuffer(e){const t=st.asReader(e);return new yC(t.readObject(Ou),H.fromBuffer(t),H.fromBuffer(t),t.readObject(Yl),t.readBoolean(),H.fromBuffer(t))}}class wC{constructor(e,t){x(this,"previousKernel");x(this,"privateCall");this.previousKernel=e,this.privateCall=t}toBuffer(){return ft(this.previousKernel,this.privateCall)}static fromBuffer(e){const t=st.asReader(e);return new wC(t.readObject(mh),t.readObject(Yl))}}class ZV{constructor(e,t){x(this,"previousKernel");x(this,"hints");this.previousKernel=e,this.hints=t}toBuffer(){return ft(this.previousKernel,this.hints)}}class KV{constructor(e,t,n){x(this,"previousKernel");x(this,"hints");x(this,"dimensions");this.previousKernel=e,this.hints=t,this.dimensions=n}toBuffer(){return ft(this.previousKernel,this.hints,this.dimensions)}trimToSizes(){const e=this.hints.trimToSizes(this.dimensions.NOTE_HASH_PENDING_AMOUNT,this.dimensions.NOTE_HASH_SETTLED_AMOUNT,this.dimensions.NULLIFIER_PENDING_AMOUNT,this.dimensions.NULLIFIER_SETTLED_AMOUNT,this.dimensions.NULLIFIER_KEYS,this.dimensions.TRANSIENT_DATA_AMOUNT);return new ZV(this.previousKernel,e)}}class zc{constructor(e,t,n,i,s,c,u,d,l){x(this,"NOTE_HASH_PENDING_AMOUNT");x(this,"NOTE_HASH_SETTLED_AMOUNT");x(this,"NULLIFIER_PENDING_AMOUNT");x(this,"NULLIFIER_SETTLED_AMOUNT");x(this,"NULLIFIER_KEYS");x(this,"TRANSIENT_DATA_AMOUNT");x(this,"NOTE_HASH_SILOING_AMOUNT");x(this,"NULLIFIER_SILOING_AMOUNT");x(this,"PRIVATE_LOG_SILOING_AMOUNT");this.NOTE_HASH_PENDING_AMOUNT=e,this.NOTE_HASH_SETTLED_AMOUNT=t,this.NULLIFIER_PENDING_AMOUNT=n,this.NULLIFIER_SETTLED_AMOUNT=i,this.NULLIFIER_KEYS=s,this.TRANSIENT_DATA_AMOUNT=c,this.NOTE_HASH_SILOING_AMOUNT=u,this.NULLIFIER_SILOING_AMOUNT=d,this.PRIVATE_LOG_SILOING_AMOUNT=l}toBuffer(){return ft(this.NOTE_HASH_PENDING_AMOUNT,this.NOTE_HASH_SETTLED_AMOUNT,this.NULLIFIER_PENDING_AMOUNT,this.NULLIFIER_SETTLED_AMOUNT,this.NULLIFIER_KEYS,this.TRANSIENT_DATA_AMOUNT,this.NOTE_HASH_SILOING_AMOUNT,this.NULLIFIER_SILOING_AMOUNT,this.PRIVATE_LOG_SILOING_AMOUNT)}static empty(){return new zc(0,0,0,0,0,0,0,0,0)}static from(e){const t=zc.empty();return oo.forEach(n=>t[n]=e[n]??0),t}static fromValues(e){if(e.length!==oo.length)throw new Error(`Not enough values for all dimensions. Required ${oo.length}. Got ${e.length}.`);const t=zc.empty();return oo.forEach((n,i)=>t[n]=e[i]),t}toValues(){return oo.map(e=>this[e])}}const oo=["NOTE_HASH_PENDING_AMOUNT","NOTE_HASH_SETTLED_AMOUNT","NULLIFIER_PENDING_AMOUNT","NULLIFIER_SETTLED_AMOUNT","NULLIFIER_KEYS","TRANSIENT_DATA_AMOUNT","NOTE_HASH_SILOING_AMOUNT","NULLIFIER_SILOING_AMOUNT","PRIVATE_LOG_SILOING_AMOUNT"];class vC{constructor(e){x(this,"previousKernel");this.previousKernel=e}isForPublic(){return oi(this.previousKernel.publicInputs.end.publicCallRequests)>0||!this.previousKernel.publicInputs.publicTeardownCallRequest.isEmpty()}toBuffer(){return ft(this.previousKernel)}static fromBuffer(e){const t=st.asReader(e);return new vC(t.readObject(mh))}}class Ll{constructor(e,t,n){x(this,"noteHashes");x(this,"nullifiers");x(this,"l2ToL1Msgs");this.noteHashes=e,this.nullifiers=t,this.l2ToL1Msgs=n}static get schema(){return M.object({noteHashes:wt.Fr.array().min(Bn).max(Bn),nullifiers:wt.Fr.array().min(jn).max(jn),l2ToL1Msgs:Ei.schema.array().min(vi).max(vi)}).transform(({noteHashes:e,nullifiers:t,l2ToL1Msgs:n})=>new Ll(Is(e,Bn),Is(t,jn),Is(n,vi)))}getSize(){return fi(this.noteHashes)+fi(this.nullifiers)+fi(this.l2ToL1Msgs)}static getFields(e){return[e.noteHashes,e.nullifiers,e.l2ToL1Msgs]}static fromFields(e){const t=Ut.asReader(e);return new this(t.readFieldArray(Bn),t.readFieldArray(jn),t.readArray(vi,Ei))}toFields(){const e=Wr(...Ll.getFields(this));if(e.length!==hI)throw new Error(`Invalid number of fields for PrivateToAvmAccumulatedData. Expected ${hI}, got ${e.length}`);return e}static from(e){return new Ll(...Ll.getFields(e))}static fromBuffer(e){const t=st.asReader(e);return new Ll(t.readArray(Bn,H),t.readArray(jn,H),t.readArray(vi,Ei))}toBuffer(){return ft(...Ll.getFields(this))}static empty(){return new Ll(zt(Bn,H.zero),zt(jn,H.zero),zt(vi,Ei.empty))}[St.inspect.custom](){return`PrivateToAvmAccumulatedData {
      noteHashes: [${this.noteHashes.filter(e=>!e.isZero()).map(e=>St.inspect(e)).join(", ")}],
      nullifiers: [${this.nullifiers.filter(e=>!e.isZero()).map(e=>St.inspect(e)).join(", ")}],
      l2ToL1Msgs: [${this.l2ToL1Msgs.filter(e=>!e.isEmpty()).map(e=>St.inspect(e)).join(", ")}],
    }`}}class hd{constructor(e,t,n){x(this,"noteHashes");x(this,"nullifiers");x(this,"l2ToL1Msgs");this.noteHashes=e,this.nullifiers=t,this.l2ToL1Msgs=n}static get schema(){return M.object({noteHashes:wt.UInt32,nullifiers:wt.UInt32,l2ToL1Msgs:wt.UInt32}).transform(({noteHashes:e,nullifiers:t,l2ToL1Msgs:n})=>new hd(e,t,n))}getSize(){return 4*3}static getFields(e){return[e.noteHashes,e.nullifiers,e.l2ToL1Msgs]}static fromFields(e){const t=Ut.asReader(e);return new this(t.readU32(),t.readU32(),t.readU32())}static from(e){return new hd(...hd.getFields(e))}static fromBuffer(e){const t=st.asReader(e);return new hd(t.readNumber(),t.readNumber(),t.readNumber())}toBuffer(){return ft(...hd.getFields(this))}static empty(){return new hd(0,0,0)}[St.inspect.custom](){return`PrivateToAvmAccumulatedDataArrayLengths {
      noteHashes: ${this.noteHashes},
      nullifiers: ${this.nullifiers},
      l2ToL1Msgs: ${this.l2ToL1Msgs},
    }`}}var Rn=function(r){return r[r.NADA=0]="NADA",r[r.PENDING=1]="PENDING",r[r.SETTLED=2]="SETTLED",r}({});class uo{constructor(e,t){x(this,"state");x(this,"hintIndex");this.state=e,this.hintIndex=t}static nada(){return new uo(0,0)}static pending(e){return new uo(1,e)}static settled(e){return new uo(2,e)}static fromBuffer(e){const t=st.asReader(e);return new uo(t.readNumber(),t.readNumber())}toBuffer(){return ft(this.state,this.hintIndex)}}class Wc{constructor(e,t){x(this,"readRequestIndex");x(this,"pendingValueIndex");this.readRequestIndex=e,this.pendingValueIndex=t}static nada(e){return new Wc(e,0)}static fromBuffer(e){const t=st.asReader(e);return new Wc(t.readNumber(),t.readNumber())}toBuffer(){return ft(this.readRequestIndex,this.pendingValueIndex)}}class lf{constructor(e,t,n){x(this,"readRequestIndex");x(this,"membershipWitness");x(this,"leafPreimage");this.readRequestIndex=e,this.membershipWitness=t,this.leafPreimage=n}static nada(e,t,n){return new lf(e,Ri.empty(t),n())}static fromBuffer(e,t,n){const i=st.asReader(e);return new lf(i.readNumber(),Ri.fromBuffer(i,t),i.readObject(n))}toBuffer(){return ft(this.readRequestIndex,this.membershipWitness,this.leafPreimage)}}class gh{constructor(e,t,n){x(this,"readRequestStatuses");x(this,"pendingReadHints");x(this,"settledReadHints");this.readRequestStatuses=e,this.pendingReadHints=t,this.settledReadHints=n}trimToSizes(e,t){return new gh(this.readRequestStatuses,this.pendingReadHints.slice(0,e),this.settledReadHints.slice(0,t))}static fromBuffer(e,t,n,i,s,c){const u=st.asReader(e);return new gh(u.readArray(t,uo),u.readArray(n,Wc),u.readArray(i,{fromBuffer:d=>lf.fromBuffer(d,s,c)}))}toBuffer(){return ft(this.readRequestStatuses,this.pendingReadHints,this.settledReadHints)}}class im{constructor(e,t){x(this,"states");x(this,"pendingReadHints");this.states=e,this.pendingReadHints=t}static empty(e){return new im(zt(e,()=>0),[])}}function GV(r,e,t){return gh.fromBuffer(r,ks,e,t,bv,H)}class bC{constructor(e,t){x(this,"maxPending");x(this,"maxSettled");x(this,"hints");x(this,"numPendingReadHints");x(this,"numSettledReadHints");this.maxPending=e,this.maxSettled=t,this.numPendingReadHints=0,this.numSettledReadHints=0,this.hints=new gh(zt(ks,uo.nada),zt(e,()=>Wc.nada(ks)),zt(t,()=>lf.nada(ks,bv,H.zero)))}static empty(e,t){return new bC(e,t).toHints()}addPendingReadRequest(e,t){if(this.numPendingReadHints===this.maxPending)throw new Error("Cannot add more pending read request.");this.hints.readRequestStatuses[e]=new uo(Rn.PENDING,this.numPendingReadHints),this.hints.pendingReadHints[this.numPendingReadHints]=new Wc(e,t),this.numPendingReadHints++}addSettledReadRequest(e,t,n){if(this.numSettledReadHints===this.maxSettled)throw new Error("Cannot add more settled read request.");this.hints.readRequestStatuses[e]=new uo(Rn.SETTLED,this.numSettledReadHints),this.hints.settledReadHints[this.numSettledReadHints]=new lf(e,t,n),this.numSettledReadHints++}toHints(){return this.hints}}class qw{constructor(e){x(this,"cache",new Map);e.forEach(t=>{const n=t.value.toBigInt(),i=this.cache.get(n)??[];i.push(t),this.cache.set(n,i)})}get(e){return this.cache.get(e.value.toBigInt())??[]}}function qx(r,e){return e.value.equals(r.value)&&e.contractAddress.equals(r.contractAddress)&&r.counter>e.counter}function YV(r,e,t){var u;const n=im.empty(ks),i=new Map;em(e).forEach((d,l)=>{const m=d.value.toBigInt(),y=i.get(m)??[];y.push({noteHash:d,index:l}),i.set(m,y)});const s=new qw(t),c=oi(r);for(let d=0;d<c;++d){const l=r[d],m=(u=i.get(l.value.toBigInt()))==null?void 0:u.find(y=>qx(l,y.noteHash));m!==void 0?(n.states[d]=Rn.PENDING,n.pendingReadHints.push(new Wc(d,m.index))):s.get(l).find(y=>qx(l,y))||(n.states[d]=Rn.SETTLED)}return n}async function XV(r,e,t,n,i,s=ks,c=ks){const u=new bC(s,c);n.pendingReadHints.forEach(l=>{u.addPendingReadRequest(l.readRequestIndex,l.pendingValueIndex)});for(let l=0;l<n.states.length;l++)if(n.states[l]===Rn.SETTLED){const m=e[l],y=i.get(m.value.toBigInt());if(y===void 0)throw new Error("Read request is reading an unknown note hash.");const b=await r.getNoteHashMembershipWitness(y);u.addSettledReadRequest(l,b,m.value)}const d=new Map;return em(t).forEach((l,m)=>{const y=l.value.toBigInt(),b=d.get(y)??[];b.push({noteHash:l,index:m}),d.set(y,b)}),u.toHints()}function JV(r,e,t){return gh.fromBuffer(r,Rs,e,t,ch,eo)}class EC{constructor(e,t){x(this,"maxPending");x(this,"maxSettled");x(this,"hints");x(this,"numPendingReadHints");x(this,"numSettledReadHints");this.maxPending=e,this.maxSettled=t,this.numPendingReadHints=0,this.numSettledReadHints=0,this.hints=new gh(zt(Rs,uo.nada),zt(e,()=>Wc.nada(Rs)),zt(t,()=>lf.nada(Rs,ch,eo.empty)))}static empty(e,t){return new EC(e,t).toHints()}addPendingReadRequest(e,t){if(this.numPendingReadHints===this.maxPending)throw new Error("Cannot add more pending read request.");this.hints.readRequestStatuses[e]=new uo(Rn.PENDING,this.numPendingReadHints),this.hints.pendingReadHints[this.numPendingReadHints]=new Wc(e,t),this.numPendingReadHints++}addSettledReadRequest(e,t,n){if(this.numSettledReadHints===this.maxSettled)throw new Error("Cannot add more settled read request.");this.hints.readRequestStatuses[e]=new uo(Rn.SETTLED,this.numSettledReadHints),this.hints.settledReadHints[this.numSettledReadHints]=new lf(e,t,n),this.numSettledReadHints++}toHints(){return this.hints}}function Vx(r,e){return r.value.equals(e.value)&&e.contractAddress.equals(r.contractAddress)&&r.counter>e.counter}function QV(r,e,t){var u;const n=im.empty(Rs),i=new Map;em(e).forEach((d,l)=>{const m=d.value.toBigInt(),y=i.get(m)??[];y.push({nullifier:d,index:l}),i.set(m,y)});const s=new qw(t),c=oi(r);for(let d=0;d<c;++d){const l=r[d],m=(u=i.get(l.value.toBigInt()))==null?void 0:u.find(({nullifier:y})=>Vx(l,y));m!==void 0?(n.states[d]=Rn.PENDING,n.pendingReadHints.push(new Wc(d,m.index))):s.get(l).some(y=>Vx(l,y))||(n.states[d]=Rn.SETTLED)}return n}async function eW(r,e,t,n=Rs,i=Rs,s=!1){const c=new EC(n,i);t.pendingReadHints.forEach(u=>{c.addPendingReadRequest(u.readRequestIndex,u.pendingValueIndex)});for(let u=0;u<t.states.length;u++)if(t.states[u]===Rn.SETTLED){const d=e[u],l=s?d.value:await uh(d.contractAddress,d.value),m=await r.getNullifierMembershipWitness(l);c.addSettledReadRequest(u,m.membershipWitness,m.leafPreimage)}return c.toHints()}class tf{constructor(e,t){x(this,"nullifierIndex");x(this,"noteHashIndex");this.nullifierIndex=e,this.noteHashIndex=t}toFields(){return[new H(this.nullifierIndex),new H(this.noteHashIndex)]}static fromFields(e){const t=Ut.asReader(e);return new tf(t.readU32(),t.readU32())}isEmpty(){return!this.nullifierIndex&&!this.noteHashIndex}static empty(){return new tf(0,0)}toBuffer(){return ft(this.nullifierIndex,this.noteHashIndex)}static fromBuffer(e){const t=st.asReader(e);return new tf(t.readNumber(),t.readNumber())}toString(){return`nullifierIndex=${this.nullifierIndex} noteHashIndex=${this.noteHashIndex}`}[St.inspect.custom](){return`TransientDataIndexHint { ${this.toString()} }`}}function tW(r,e,t,n,i,s,c=r.length,u=e.length){const d=new qw(t),l=new qw(n),m=new Map;e.forEach((E,I)=>m.set(E.counter,I));const y=[],b=oi(r);for(let E=0;E<b;E++){const I=r[E],S=i.get(I.counter);if(!S||d.get(I).find(k=>qx(k,I)))continue;const P=m.get(S);if(P===void 0)continue;const N=e[P];if(!(I.counter<s&&N.counter>=s)){if(N.counter<I.counter)throw new Error("Hinted nullifier has smaller counter than note hash.");if(!N.contractAddress.equals(I.contractAddress))throw new Error("Contract address of hinted note hash does not match.");N.nullifiedNoteHash.equals(I.value)&&(l.get(N).find(k=>Vx(k,N))||y.push(new tf(P,E)))}}return{numTransientData:y.length,hints:C_(y,new tf(u,c),u)}}function rW(r){return r!==void 0}function SC(r,e){return oo.reduce((t,n)=>t+r[n]*e.dimensions[n].cost,0)}function nW(r){return oo.reduce((e,t)=>e+r[t],0)}function xC(r,e){const t=zc.empty();let n=0;return oo.forEach(i=>{r[i]>e[i]&&(n++,t[i]=r[i]-e[i])}),n?t:void 0}function wF(r,e){return e.reduce((n,i)=>i>=r&&(n===void 0||i<n)?i:n,void 0)??Math.max(...e)}function iW(r){return r.reduce((e,t)=>t.cost<e.cost?t:e,r[0])}function sW(r){var t;const e=r.filter(n=>n.remainder).map(n=>({option:n,size:nW(n.remainder)}));return(t=e.reduce((n,i)=>i.size<n.size?i:n,e[0]))==null?void 0:t.option}function vF(r){const e=r.filter(n=>!n.remainder),t=r.filter(n=>n.remainder);return iW(e)||sW(t)}function aW(r,e,t){const n=zc.empty();if(oo.forEach(i=>{n[i]=wF(r[i],e.dimensions[i].variants)}),!!t(n))return{dimensions:n,cost:SC(n,e),remainder:xC(r,n)}}function oW(r,e,t){const n=oo.filter(u=>r[u]>0);if(n.length!==1)return;const i=n[0],s=wF(r[i],e.dimensions[i].standalone);if(!s)return;const c=zc.from({[i]:s});if(t(c))return{dimensions:c,cost:SC(c,e),remainder:xC(r,c)}}function cW(r,e,t){const i=e.specialCases.map(zc.fromValues).filter(t).map(s=>({dimensions:s,cost:SC(s,e),remainder:xC(r,s)}));return vF(i)}function uW(r,e,t=!1,n=!1){const i=r.toValues(),s=n?()=>!0:d=>d.toValues().every((l,m)=>l>=i[m]),c=t?d=>d.NOTE_HASH_SILOING_AMOUNT===0&&d.NULLIFIER_SILOING_AMOUNT===0&&d.PRIVATE_LOG_SILOING_AMOUNT===0&&s(d):s,u=[aW(r,e,c),oW(r,e,c),cW(r,e,c)].filter(rW);if(!u.length)throw new Error(`Cannot find an option for dimension: ${r.toValues()}`);return vF(u).dimensions}class sm{constructor(e,t){x(this,"skM");x(this,"requestIndex");this.skM=e,this.requestIndex=t}static fromBuffer(e){const t=st.asReader(e);return new sm(t.readObject(Zl),t.readNumber())}toBuffer(){return ft(this.skM,this.requestIndex)}static nada(e){return new sm(Zl.zero(),e)}}class Vw{constructor(e,t,n,i,s){x(this,"noteHashReadRequestHints");x(this,"nullifierReadRequestHints");x(this,"keyValidationHints");x(this,"transientDataIndexHints");x(this,"validationRequestsSplitCounter");this.noteHashReadRequestHints=e,this.nullifierReadRequestHints=t,this.keyValidationHints=n,this.transientDataIndexHints=i,this.validationRequestsSplitCounter=s}toBuffer(){return ft(this.noteHashReadRequestHints,this.nullifierReadRequestHints,this.keyValidationHints,this.transientDataIndexHints,this.validationRequestsSplitCounter)}trimToSizes(e,t,n,i,s,c){return new Vw(this.noteHashReadRequestHints.trimToSizes(e,t),this.nullifierReadRequestHints.trimToSizes(n,i),this.keyValidationHints.slice(0,s),this.transientDataIndexHints.slice(0,c),this.validationRequestsSplitCounter)}static fromBuffer(e,t,n,i,s,c,u){const d=st.asReader(e);return new Vw(d.readObject({fromBuffer:l=>GV(l,t,n)}),d.readObject({fromBuffer:l=>JV(l,i,s)}),d.readArray(c,sm),d.readArray(u,tf),d.readNumber())}}class AC{constructor(e,t,n,i){x(this,"callContext");x(this,"historicalHeader");x(this,"txContext");x(this,"startSideEffectCounter");this.callContext=e,this.historicalHeader=t,this.txContext=n,this.startSideEffectCounter=i}static empty(){return new AC(Pn.empty(),Kr.empty(),Gr.empty(),0)}toFields(){return Wr([this.callContext,this.historicalHeader,this.txContext,this.startSideEffectCounter])}}var mn;class bF{constructor(e){Nt(this,mn);Vt(this,mn,e.openMap("key_store"))}createAccount(){const e=H.random(),t=H.random();return this.addAccount(e,t)}async addAccount(e,t){const{masterNullifierSecretKey:n,masterIncomingViewingSecretKey:i,masterOutgoingViewingSecretKey:s,masterTaggingSecretKey:c,publicKeys:u}=await xv(e),d=await Zu.fromSecretKeyAndPartialAddress(e,t),{address:l}=d;await Ie(this,mn).set(`${l.toString()}-ivsk_m`,i.toBuffer()),await Ie(this,mn).set(`${l.toString()}-ovsk_m`,s.toBuffer()),await Ie(this,mn).set(`${l.toString()}-tsk_m`,c.toBuffer()),await Ie(this,mn).set(`${l.toString()}-nsk_m`,n.toBuffer()),await Ie(this,mn).set(`${l.toString()}-npk_m`,u.masterNullifierPublicKey.toBuffer()),await Ie(this,mn).set(`${l.toString()}-ivpk_m`,u.masterIncomingViewingPublicKey.toBuffer()),await Ie(this,mn).set(`${l.toString()}-ovpk_m`,u.masterOutgoingViewingPublicKey.toBuffer()),await Ie(this,mn).set(`${l.toString()}-tpk_m`,u.masterTaggingPublicKey.toBuffer());const m=await u.masterNullifierPublicKey.hash();await Ie(this,mn).set(`${l.toString()}-npk_m_hash`,m.toBuffer());const y=await u.masterIncomingViewingPublicKey.hash();await Ie(this,mn).set(`${l.toString()}-ivpk_m_hash`,y.toBuffer());const b=await u.masterOutgoingViewingPublicKey.hash();await Ie(this,mn).set(`${l.toString()}-ovpk_m_hash`,b.toBuffer());const E=await u.masterTaggingPublicKey.hash();return await Ie(this,mn).set(`${l.toString()}-tpk_m_hash`,E.toBuffer()),d}async getAccounts(){return(await cn(Ie(this,mn).keysAsync())).filter(n=>n.endsWith("-ivsk_m")).map(n=>n.split("-")[0]).map(n=>tt.fromString(n))}async getKeyValidationRequest(e,t){const[n,i]=await this.getKeyPrefixAndAccount(e),s=await Ie(this,mn).getAsync(`${i.toString()}-${n}pk_m`);if(!s)throw new Error(`Could not find ${n}pk_m for account ${i.toString()} whose address was successfully obtained with ${n}pk_m_hash ${e.toString()}.`);const c=gr.fromBuffer(s);if(!(await c.hash()).equals(e))throw new Error(`Could not find ${n}pkM for ${n}pk_m_hash ${e.toString()}.`);const d=await Ie(this,mn).getAsync(`${i.toString()}-${n}sk_m`);if(!d)throw new Error(`Could not find ${n}sk_m for account ${i.toString()} whose address was successfully obtained with ${n}pk_m_hash ${e.toString()}.`);const l=Zl.fromBuffer(d);if(!(await zu(l)).equals(c))throw new Error(`Could not derive ${n}pkM from ${n}skM.`);const y=await Q$(l,t,n);return new Lc(c,y)}async getMasterNullifierPublicKey(e){const t=await Ie(this,mn).getAsync(`${e.toString()}-npk_m`);if(!t)throw new Error(`Account ${e.toString()} does not exist. Registered accounts: ${await this.getAccounts()}.`);return gr.fromBuffer(t)}async getMasterIncomingViewingPublicKey(e){const t=await Ie(this,mn).getAsync(`${e.toString()}-ivpk_m`);if(!t)throw new Error(`Account ${e.toString()} does not exist. Registered accounts: ${await this.getAccounts()}.`);return gr.fromBuffer(t)}async getMasterOutgoingViewingPublicKey(e){const t=await Ie(this,mn).getAsync(`${e.toString()}-ovpk_m`);if(!t)throw new Error(`Account ${e.toString()} does not exist. Registered accounts: ${await this.getAccounts()}.`);return gr.fromBuffer(t)}async getMasterTaggingPublicKey(e){const t=await Ie(this,mn).getAsync(`${e.toString()}-tpk_m`);if(!t)throw new Error(`Account ${e.toString()} does not exist. Registered accounts: ${await this.getAccounts()}.`);return gr.fromBuffer(t)}async getMasterIncomingViewingSecretKey(e){const t=await Ie(this,mn).getAsync(`${e.toString()}-ivsk_m`);if(!t)throw new Error(`Account ${e.toString()} does not exist. Registered accounts: ${await this.getAccounts()}.`);return Zl.fromBuffer(t)}async getAppOutgoingViewingSecretKey(e,t){const n=await Ie(this,mn).getAsync(`${e.toString()}-ovsk_m`);if(!n)throw new Error(`Account ${e.toString()} does not exist. Registered accounts: ${await this.getAccounts()}.`);const i=Zl.fromBuffer(n);return Nn([i.hi,i.lo,t],Vr.OVSK_M)}async getMasterSecretKey(e){const[t,n]=await this.getKeyPrefixAndAccount(e),i=await Ie(this,mn).getAsync(`${n.toString()}-${t}sk_m`);if(!i)throw new Error(`Could not find ${t}sk_m for ${t}pk_m ${e.toString()}. This should not happen.`);const s=Zl.fromBuffer(i);if(!(await zu(s)).equals(e))throw new Error(`Could not find ${t}skM for ${t}pkM ${e.toString()} in secret keys buffer.`);return Promise.resolve(s)}async getKeyPrefixAndAccount(e){const t=ft(e);for await(const[n,i]of Ie(this,mn).entriesAsync())if($e.from(i).equals(t)){for(const s of nU)if(n.includes(`-${s}`)){const c=tt.fromString(n.split("-")[0]);return[s,c]}}throw new Error("Could not find key prefix.")}}mn=new WeakMap,x(bF,"SCHEMA_VERSION",1);class lW{constructor(e,t){x(this,"l2TipsStore");x(this,"l2BlockHashesStore");this.l2TipsStore=e.openMap([t,"l2_tips"].join("_")),this.l2BlockHashesStore=e.openMap([t,"l2_block_hashes"].join("_"))}getL2BlockHash(e){return this.l2BlockHashesStore.getAsync(e)}async getL2Tips(){return{latest:await this.getL2Tip("latest"),finalized:await this.getL2Tip("finalized"),proven:await this.getL2Tip("proven")}}async getL2Tip(e){const t=await this.l2TipsStore.getAsync(e);if(t===void 0||t===0)return{number:0,hash:void 0};const n=await this.l2BlockHashesStore.getAsync(t);if(!n)throw new Error(`Block hash not found for block number ${t}`);return{number:t,hash:n}}async handleBlockStreamEvent(e){switch(e.type){case"blocks-added":{const t=e.blocks.map(n=>n.block);for(const n of t)await this.l2BlockHashesStore.set(n.number,(await n.header.hash()).toString());await this.l2TipsStore.set("latest",t.at(-1).number);break}case"chain-pruned":await this.l2TipsStore.set("latest",e.blockNumber);break;case"chain-proven":await this.l2TipsStore.set("proven",e.blockNumber);break;case"chain-finalized":await this.l2TipsStore.set("finalized",e.blockNumber);for await(const t of this.l2BlockHashesStore.keysAsync({end:e.blockNumber}))await this.l2BlockHashesStore.delete(t);break}}}let An;const EF=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&EF.decode();let s_=null;function m_(){return(s_===null||s_.byteLength===0)&&(s_=new Uint8Array(An.memory.buffer)),s_}function Y0(r,e){return r=r>>>0,EF.decode(m_().subarray(r,r+e))}function SF(r){const e=An.__externref_table_alloc();return An.__wbindgen_export_3.set(e,r),e}function aR(r,e){try{return r.apply(this,e)}catch(t){const n=SF(t);An.__wbindgen_exn_store(n)}}let Ww=0;const fw=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},fW=typeof fw.encodeInto=="function"?function(r,e){return fw.encodeInto(r,e)}:function(r,e){const t=fw.encode(r);return e.set(t),{read:r.length,written:t.length}};function oR(r,e,t){if(t===void 0){const u=fw.encode(r),d=e(u.length,1)>>>0;return m_().subarray(d,d+u.length).set(u),Ww=u.length,d}let n=r.length,i=e(n,1)>>>0;const s=m_();let c=0;for(;c<n;c++){const u=r.charCodeAt(c);if(u>127)break;s[i+c]=u}if(c!==n){c!==0&&(r=r.slice(c)),i=t(i,n,n=c+r.length*3,1)>>>0;const u=m_().subarray(i+c,i+n),d=fW(r,u);c+=d.written,i=t(i,n,c,1)>>>0}return Ww=c,i}let pd=null;function _p(){return(pd===null||pd.buffer.detached===!0||pd.buffer.detached===void 0&&pd.buffer!==An.memory.buffer)&&(pd=new DataView(An.memory.buffer)),pd}function dw(r){return r==null}function _h(r){const e=An.__wbindgen_export_3.get(r);return An.__externref_table_dealloc(r),e}function by(r,e,t){const n=An.abiEncode(r,e,dw(t)?0:SF(t));if(n[2])throw _h(n[1]);return _h(n[0])}function Ey(r,e){const t=An.abiDecode(r,e);if(t[2])throw _h(t[1]);return _h(t[0])}function dW(r,e){return r=r>>>0,m_().subarray(r/1,r/1+e)}function hW(r){const e=An.serializeWitness(r);if(e[3])throw _h(e[2]);var t=dW(e[0],e[1]).slice();return An.__wbindgen_free(e[0],e[1]*1,1),t}function xF(r,e){const t=An.abiDecodeError(r,e);if(t[2])throw _h(t[1]);return _h(t[0])}function pW(r,e,t,n){An.closure155_externref_shim(r,e,t,n)}async function mW(r,e){if(typeof Response=="function"&&r instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(r,e)}catch(n){if(r.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const t=await r.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(r,e);return t instanceof WebAssembly.Instance?{instance:t,module:r}:t}}function gW(){const r={};return r.wbg={},r.wbg.__wbg_constructor_bc5e3569b1bc20f1=function(e){return new Error(e)},r.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,t){let n,i;try{n=e,i=t,console.error(Y0(e,t))}finally{An.__wbindgen_free(n,i,1)}},r.wbg.__wbg_forEach_e1cf6f7c8ecb7dae=function(e,t,n){try{var i={a:t,b:n},s=(c,u)=>{const d=i.a;i.a=0;try{return pW(d,i.b,c,u)}finally{i.a=d}};e.forEach(s)}finally{i.a=i.b=0}},r.wbg.__wbg_new_0b7dab710d4e469e=function(){return new Map},r.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},r.wbg.__wbg_parse_def2e24ef1252aff=function(){return aR(function(e,t){return JSON.parse(Y0(e,t))},arguments)},r.wbg.__wbg_set_8fc6bf8a5b1071d1=function(e,t,n){return e.set(t,n)},r.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,t){const n=t.stack,i=oR(n,An.__wbindgen_malloc,An.__wbindgen_realloc),s=Ww;_p().setInt32(e+4*1,s,!0),_p().setInt32(e+4*0,i,!0)},r.wbg.__wbg_stringify_f7ed6987935b4a24=function(){return aR(function(e){return JSON.stringify(e)},arguments)},r.wbg.__wbindgen_init_externref_table=function(){const e=An.__wbindgen_export_3,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},r.wbg.__wbindgen_is_undefined=function(e){return e===void 0},r.wbg.__wbindgen_number_get=function(e,t){const n=t,i=typeof n=="number"?n:void 0;_p().setFloat64(e+8*1,dw(i)?0:i,!0),_p().setInt32(e+4*0,!dw(i),!0)},r.wbg.__wbindgen_number_new=function(e){return e},r.wbg.__wbindgen_string_get=function(e,t){const n=t,i=typeof n=="string"?n:void 0;var s=dw(i)?0:oR(i,An.__wbindgen_malloc,An.__wbindgen_realloc),c=Ww;_p().setInt32(e+4*1,c,!0),_p().setInt32(e+4*0,s,!0)},r.wbg.__wbindgen_string_new=function(e,t){return Y0(e,t)},r.wbg.__wbindgen_throw=function(e,t){throw new Error(Y0(e,t))},r}function _W(r,e){return An=r.exports,Wx.__wbindgen_wasm_module=e,pd=null,s_=null,An.__wbindgen_start(),An}async function Wx(r){if(An!==void 0)return An;typeof r<"u"&&(Object.getPrototypeOf(r)===Object.prototype?{module_or_path:r}=r:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof r>"u"&&(r=new URL("/assets/noirc_abi_wasm_bg-IjO8Ky63.wasm",import.meta.url));const e=gW();(typeof r=="string"||typeof Request=="function"&&r instanceof Request||typeof URL=="function"&&r instanceof URL)&&(r=fetch(r));const{instance:t,module:n}=await mW(await r,e);return _W(t,n)}class CC extends Error{constructor(t,n,i,s){super(t,s);x(this,"failingFunction");x(this,"noirCallStack");this.failingFunction=n,this.noirCallStack=i}}function AF(r,e){let t=r;for(;t;)e(t),t.cause&&t.cause instanceof Error?t=t.cause:t=void 0}function cR(r,e){let t=r,n;const i=[];return AF(r,s=>{t=s,s instanceof CC&&(i.push(s.failingFunction),s.noirCallStack&&(n=s.noirCallStack))}),new Dc(t.message,i,e,n,{cause:t})}function yW(r){const e=r.split(".");if(e.length===2)return e[1]}function wW(r,e,t){const{debugSymbols:n,files:i}=e;let s=n.locations[r]||[];if(s.length===0){const c=yW(r);t!==void 0&&c!==void 0&&(s=n.brillig_locations[t][c]||[])}return s.map(c=>{const{file:u,span:d}=c,{path:l,source:m}=i[u],y=m.substring(d.start,d.end),E=m.substring(0,d.start).split(`
`),I=E.length,S=E[E.length-1].length+1;return{filePath:l,line:I,column:S,fileSource:m,locationText:y}})}function CF(r,e,t){return r.flatMap(n=>wW(n,e,t))}function TF(r,e){const t=xF({parameters:[],error_types:e.errorTypes,return_type:null},r);return typeof t=="string"?t:V_(t)}function vW(r,e){if(r.length==0)return;const[t,...n]=r;return TF({selector:t.toBigInt().toString(),data:n.map(i=>i.toString())},e)}function IF(r,e){return typeof r=="object"&&r!==null&&"rawAssertionPayload"in r&&r.rawAssertionPayload?`Assertion failed: ${TF(r.rawAssertionPayload,e)}`:r.message}var ey,Zx;class bW{constructor(e){Nt(this,ey);x(this,"txRequestHash");x(this,"notes");x(this,"noteMap");x(this,"nullifierMap");x(this,"allNullifiers");x(this,"minRevertibleSideEffectCounter");x(this,"inRevertiblePhase");x(this,"usedTxRequestHashForNonces");this.txRequestHash=e,this.notes=[],this.noteMap=new Map,this.nullifierMap=new Map,this.allNullifiers=new Set,this.minRevertibleSideEffectCounter=0,this.inRevertiblePhase=!1,this.usedTxRequestHashForNonces=!0}async setMinRevertibleSideEffectCounter(e){if(this.inRevertiblePhase)throw new Error(`Cannot enter the revertible phase twice. Current counter: ${e}. Previous enter counter: ${this.minRevertibleSideEffectCounter}`);this.inRevertiblePhase=!0,this.minRevertibleSideEffectCounter=e;let t=this.txRequestHash;const n=this.getAllNullifiers();n.length>0&&(t=new H(n[0]),this.usedTxRequestHashForNonces=!1);const i=await Promise.all(this.notes.map(async({note:s,counter:c},u)=>{const d=await iU(t,u),l=await nC(d,await rC(s.contractAddress,s.noteHash));return{counter:c,note:{...s,nonce:d},noteHashForConsumption:l}}));this.notes=[],this.noteMap=new Map,i.forEach(s=>Lt(this,ey,Zx).call(this,s))}finish(){return this.inRevertiblePhase||(this.usedTxRequestHashForNonces=this.getAllNullifiers().length===0),{usedTxRequestHashForNonces:this.usedTxRequestHashForNonces}}addNewNote(e,t){const n=this.notes[this.notes.length-1];if(n&&n.counter>=t)throw new Error(`Note hash counters must be strictly increasing. Current counter: ${t}. Previous counter: ${n.counter}.`);Lt(this,ey,Zx).call(this,{note:e,counter:t,noteHashForConsumption:e.noteHash})}async nullifyNote(e,t,n){const i=await uh(e,t);let s;if(n.isEmpty())this.recordNullifier(e,i);else{const c=this.noteMap.get(e.toBigInt())??[],u=c.findIndex(l=>l.noteHashForConsumption.equals(n));if(u===-1)throw new Error("Attempt to remove a pending note that does not exist.");const d=c.splice(u,1)[0];s=d.counter,this.noteMap.set(e.toBigInt(),c),this.notes=this.notes.filter(l=>l.counter!==d.counter),this.inRevertiblePhase&&d.counter<this.minRevertibleSideEffectCounter&&this.recordNullifier(e,i)}return s}async nullifierCreated(e,t){const n=await uh(e,t);this.recordNullifier(e,n)}getNotes(e,t){return(this.noteMap.get(e.toBigInt())??[]).filter(i=>i.note.storageSlot.equals(t)).map(i=>i.note)}checkNoteExists(e,t){return(this.noteMap.get(e.toBigInt())??[]).some(i=>i.note.noteHash.equals(t))}getNullifiers(e){return this.nullifierMap.get(e.toBigInt())??new Set}getAllNotes(){return this.notes}getAllNullifiers(){return[...this.allNullifiers].map(e=>new H(e))}recordNullifier(e,t){const n=this.getNullifiers(e);n.add(t.toBigInt()),this.nullifierMap.set(e.toBigInt(),n),this.allNullifiers.add(t.toBigInt())}}ey=new WeakSet,Zx=function(e){this.notes.push(e);const t=this.noteMap.get(e.note.contractAddress.toBigInt())??[];t.push(e),this.noteMap.set(e.note.contractAddress.toBigInt(),t)};class TC{constructor(e=[]){x(this,"cache");this.cache=new Map;for(const t of e)this.cache.set(t.hash.toBigInt(),t.values)}static create(e=[]){return new TC(e)}getPreimage(e){if(e.equals(H.ZERO))return[];const t=this.cache.get(e.toBigInt());if(!t)throw new Error(`Preimage for hash ${e.toString()} not found in cache`);return t}async store(e){if(e.length===0)return H.ZERO;const t=await Qs.fromValues(e);return this.cache.set(t.hash.toBigInt(),t.values),t.hash}}class kF{constructor(e,t){x(this,"smv");this.smv=new ph(e,t)}async toFields(){return[...this.smv.toFields(),await this.smv.hash()]}async writeToTree(e,t){const n=await this.toFields();for(let i=0;i<n.length;i++)await t(e.add(new H(i)),n[i])}static async getContractUpdateSlots(e){const t=await oU(new H(T$),e),n=t.add(new H(yF));return{sharedMutableSlot:t,sharedMutableHashSlot:n}}}function Ct(r){return H.fromBuffer($e.from(r.slice(2),"hex"))}function Ks(r){return Number(r.value)}function A2(r){return r.toBigInt()===BigInt(1)}function EW(r,e){return r.slice(0,Ks(Ct(e))).map(Ct)}function SW(r,e,t){const n=r.slice(0,Ks(Ct(e)));return $e.concat(n.map(i=>tn(i).subarray(-1)))}function RF(r){return[...r.keys()].sort((t,n)=>t-n).map(t=>r.get(t)).map(Ct)}function uR(r,e){return $e.concat(r.map(t=>tn(t).slice(-1)))}let un;function a_(r){const e=un.__externref_table_alloc();return un.__wbindgen_export_2.set(e,r),e}function yp(r,e){try{return r.apply(this,e)}catch(t){const n=a_(t);un.__wbindgen_exn_store(n)}}const PF=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&PF.decode();let o_=null;function g_(){return(o_===null||o_.byteLength===0)&&(o_=new Uint8Array(un.memory.buffer)),o_}function wp(r,e){return r=r>>>0,PF.decode(g_().subarray(r,r+e))}let rf=0;const hw=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},xW=typeof hw.encodeInto=="function"?function(r,e){return hw.encodeInto(r,e)}:function(r,e){const t=hw.encode(r);return e.set(t),{read:r.length,written:t.length}};function C2(r,e,t){if(t===void 0){const u=hw.encode(r),d=e(u.length,1)>>>0;return g_().subarray(d,d+u.length).set(u),rf=u.length,d}let n=r.length,i=e(n,1)>>>0;const s=g_();let c=0;for(;c<n;c++){const u=r.charCodeAt(c);if(u>127)break;s[i+c]=u}if(c!==n){c!==0&&(r=r.slice(c)),i=t(i,n,n=c+r.length*3,1)>>>0;const u=g_().subarray(i+c,i+n),d=xW(r,u);c+=d.written,i=t(i,n,c,1)>>>0}return rf=c,i}let md=null;function Fl(){return(md===null||md.buffer.detached===!0||md.buffer.detached===void 0&&md.buffer!==un.memory.buffer)&&(md=new DataView(un.memory.buffer)),md}function sd(r){return r==null}const lR=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>{un.__wbindgen_export_6.get(r.dtor)(r.a,r.b)});function AW(r,e,t,n){const i={a:r,b:e,cnt:1,dtor:t},s=(...c)=>{i.cnt++;const u=i.a;i.a=0;try{return n(u,i.b,...c)}finally{--i.cnt===0?(un.__wbindgen_export_6.get(i.dtor)(u,i.b),lR.unregister(i)):i.a=u}};return s.original=i,lR.register(s,i,i),s}function Kx(r){const e=typeof r;if(e=="number"||e=="boolean"||r==null)return`${r}`;if(e=="string")return`"${r}"`;if(e=="symbol"){const i=r.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=r.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(r)){const i=r.length;let s="[";i>0&&(s+=Kx(r[0]));for(let c=1;c<i;c++)s+=", "+Kx(r[c]);return s+="]",s}const t=/\[object ([^\]]+)\]/.exec(toString.call(r));let n;if(t&&t.length>1)n=t[1];else return toString.call(r);if(n=="Object")try{return"Object("+JSON.stringify(r)+")"}catch{return"Object"}return r instanceof Error?`${r.name}: ${r.message}
${r.stack}`:n}function BF(r,e){const t=e(r.length*1,1)>>>0;return g_().set(r,t/1),rf=r.length,t}function CW(r,e,t){const n=BF(r,un.__wbindgen_malloc),i=rf;return un.executeCircuit(n,i,e,t)}function TW(r,e,t){const n=BF(r,un.__wbindgen_malloc),i=rf;return un.executeCircuitWithReturnWitness(n,i,e,t)}function IW(r,e,t){un.closure249_externref_shim(r,e,t)}function kW(r,e,t,n,i){un.closure810_externref_shim(r,e,t,n,i)}function fR(r,e,t,n){un.closure814_externref_shim(r,e,t,n)}async function RW(r,e){if(typeof Response=="function"&&r instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(r,e)}catch(n){if(r.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const t=await r.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(r,e);return t instanceof WebAssembly.Instance?{instance:t,module:r}:t}}function PW(){const r={};return r.wbg={},r.wbg.__wbg_call_672a4d21634d4a24=function(){return yp(function(e,t){return e.call(t)},arguments)},r.wbg.__wbg_call_7cccdd69e0791ae2=function(){return yp(function(e,t,n){return e.call(t,n)},arguments)},r.wbg.__wbg_call_833bed5770ea2041=function(){return yp(function(e,t,n,i){return e.call(t,n,i)},arguments)},r.wbg.__wbg_constructor_003f4a4118e07291=function(e){return new Error(e)},r.wbg.__wbg_constructor_c456dcccc52847dd=function(e){return new Error(e)},r.wbg.__wbg_debug_3cb59063b29f58c1=function(e){console.debug(e)},r.wbg.__wbg_debug_e17b51583ca6a632=function(e,t,n,i){console.debug(e,t,n,i)},r.wbg.__wbg_error_524f506f44df1645=function(e){console.error(e)},r.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,t){let n,i;try{n=e,i=t,console.error(wp(e,t))}finally{un.__wbindgen_free(n,i,1)}},r.wbg.__wbg_error_80de38b3f7cc3c3c=function(e,t,n,i){console.error(e,t,n,i)},r.wbg.__wbg_forEach_d6a05ca96422eff9=function(e,t,n){try{var i={a:t,b:n},s=(c,u,d)=>{const l=i.a;i.a=0;try{return kW(l,i.b,c,u,d)}finally{i.a=l}};e.forEach(s)}finally{i.a=i.b=0}},r.wbg.__wbg_forEach_e1cf6f7c8ecb7dae=function(e,t,n){try{var i={a:t,b:n},s=(c,u)=>{const d=i.a;i.a=0;try{return fR(d,i.b,c,u)}finally{i.a=d}};e.forEach(s)}finally{i.a=i.b=0}},r.wbg.__wbg_fromEntries_524679eecb0bdc2e=function(){return yp(function(e){return Object.fromEntries(e)},arguments)},r.wbg.__wbg_from_2a5d3e218e67aa85=function(e){return Array.from(e)},r.wbg.__wbg_get_b9b93047fe3cf45b=function(e,t){return e[t>>>0]},r.wbg.__wbg_info_033d8b8a0838f1d3=function(e,t,n,i){console.info(e,t,n,i)},r.wbg.__wbg_info_3daf2e093e091b66=function(e){console.info(e)},r.wbg.__wbg_length_e2d2a49132c1b256=function(e){return e.length},r.wbg.__wbg_new_23a2665fac83c611=function(e,t){try{var n={a:e,b:t},i=(c,u)=>{const d=n.a;n.a=0;try{return fR(d,n.b,c,u)}finally{n.a=d}};return new Promise(i)}finally{n.a=n.b=0}},r.wbg.__wbg_new_3f4c5c451d69e970=function(){return new Map},r.wbg.__wbg_new_5e0be73521bc8c17=function(){return new Map},r.wbg.__wbg_new_78feb108b6472713=function(){return new Array},r.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},r.wbg.__wbg_new_a324c5957dd8b845=function(){return new Array},r.wbg.__wbg_new_c68d7209be747379=function(e,t){return new Error(wp(e,t))},r.wbg.__wbg_newnoargs_105ed471475aaf50=function(e,t){return new Function(wp(e,t))},r.wbg.__wbg_parse_def2e24ef1252aff=function(){return yp(function(e,t){return JSON.parse(wp(e,t))},arguments)},r.wbg.__wbg_push_737cfc8c1432c2c6=function(e,t){return e.push(t)},r.wbg.__wbg_queueMicrotask_97d92b4fcc8a61c5=function(e){queueMicrotask(e)},r.wbg.__wbg_queueMicrotask_d3219def82552485=function(e){return e.queueMicrotask},r.wbg.__wbg_resolve_4851785c9c5f573d=function(e){return Promise.resolve(e)},r.wbg.__wbg_reverse_71c11f9686a5c11b=function(e){return e.reverse()},r.wbg.__wbg_set_8fc6bf8a5b1071d1=function(e,t,n){return e.set(t,n)},r.wbg.__wbg_set_bb8cecf6a62b9f46=function(){return yp(function(e,t,n){return Reflect.set(e,t,n)},arguments)},r.wbg.__wbg_setcause_180f5110152d3ce3=function(e,t){e.cause=t},r.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,t){const n=t.stack,i=C2(n,un.__wbindgen_malloc,un.__wbindgen_realloc),s=rf;Fl().setInt32(e+4*1,s,!0),Fl().setInt32(e+4*0,i,!0)},r.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const e=typeof Pp>"u"?null:Pp;return sd(e)?0:a_(e)},r.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const e=typeof globalThis>"u"?null:globalThis;return sd(e)?0:a_(e)},r.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const e=typeof self>"u"?null:self;return sd(e)?0:a_(e)},r.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const e=typeof window>"u"?null:window;return sd(e)?0:a_(e)},r.wbg.__wbg_then_44b73946d2fb3e7d=function(e,t){return e.then(t)},r.wbg.__wbg_then_48b406749878a531=function(e,t,n){return e.then(t,n)},r.wbg.__wbg_values_fcb8ba8c0aad8b58=function(e){return Object.values(e)},r.wbg.__wbg_warn_4ca3906c248c47c4=function(e){console.warn(e)},r.wbg.__wbg_warn_aaf1f4664a035bd6=function(e,t,n,i){console.warn(e,t,n,i)},r.wbg.__wbindgen_cb_drop=function(e){const t=e.original;return t.cnt--==1?(t.a=0,!0):!1},r.wbg.__wbindgen_closure_wrapper725=function(e,t,n){return AW(e,t,250,IW)},r.wbg.__wbindgen_debug_string=function(e,t){const n=Kx(t),i=C2(n,un.__wbindgen_malloc,un.__wbindgen_realloc),s=rf;Fl().setInt32(e+4*1,s,!0),Fl().setInt32(e+4*0,i,!0)},r.wbg.__wbindgen_init_externref_table=function(){const e=un.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},r.wbg.__wbindgen_is_array=function(e){return Array.isArray(e)},r.wbg.__wbindgen_is_function=function(e){return typeof e=="function"},r.wbg.__wbindgen_is_string=function(e){return typeof e=="string"},r.wbg.__wbindgen_is_undefined=function(e){return e===void 0},r.wbg.__wbindgen_number_get=function(e,t){const n=t,i=typeof n=="number"?n:void 0;Fl().setFloat64(e+8*1,sd(i)?0:i,!0),Fl().setInt32(e+4*0,!sd(i),!0)},r.wbg.__wbindgen_number_new=function(e){return e},r.wbg.__wbindgen_string_get=function(e,t){const n=t,i=typeof n=="string"?n:void 0;var s=sd(i)?0:C2(i,un.__wbindgen_malloc,un.__wbindgen_realloc),c=rf;Fl().setInt32(e+4*1,c,!0),Fl().setInt32(e+4*0,s,!0)},r.wbg.__wbindgen_string_new=function(e,t){return wp(e,t)},r.wbg.__wbindgen_throw=function(e,t){throw new Error(wp(e,t))},r}function BW(r,e){return un=r.exports,NF.__wbindgen_wasm_module=e,md=null,o_=null,un.__wbindgen_start(),un}async function NF(r){if(un!==void 0)return un;typeof r<"u"&&(Object.getPrototypeOf(r)===Object.prototype?{module_or_path:r}=r:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof r>"u"&&(r=new URL("/assets/acvm_js_bg-RjzcwgfP.wasm",import.meta.url));const e=PW();(typeof r=="string"||typeof Request=="function"&&r instanceof Request||typeof URL=="function"&&r instanceof URL)&&(r=fetch(r));const{instance:t,module:n}=await RW(await r,e);return BW(t,n)}async function NW(r,e,t){const n=Pr("simulator:acvm"),i=await TW(r,e,async(s,c)=>{try{n.debug(`Oracle callback ${s}`);const u=t[s];if(!u)throw new Error(`Oracle callback ${s} not found`);const d=await u.call(t,...c);return typeof d>"u"?[]:d instanceof Array&&!d.every(l=>typeof l=="string")?d:[d]}catch(u){let d;throw u instanceof Error?d=u:d=new Error(`Error in oracle callback ${u}`),n.error(`Error in oracle callback ${s}: ${d.message}`),d}}).catch(s=>{const c=new Error().stack;throw AF(s,u=>{u.stack&&(u.stack+=c)}),s});return{partialWitness:i.solvedWitness,returnWitness:i.returnWitness}}function IC(r,e){if(!("callStack"in r)||!r.callStack)return;const{callStack:t,brilligFunctionId:n}=r;if(!e)return t;try{return CF(t,e,n)}catch{return t}}function OW(r){const e=$e.alloc(H.SIZE_IN_BYTES);if(r.length>e.length)throw new Error("Buffer does not fit in field");return r.copy(e,e.length-r.length),e}function or(r){let e;return $e.isBuffer(r)?e=r:typeof r=="boolean"||typeof r=="number"||typeof r=="bigint"?e=new H(r).toBuffer():typeof r=="string"?e=H.fromHexString(r).toBuffer():e=r.toBuffer(),`0x${OW(e).toString("hex")}`}function dR(r){return Array.isArray(r)?r.map(or):or(r)}function OF(r,e){return e.reduce((t,n,i)=>(t.set(i+r,or(n)),t),new Map)}function FW(r){return Array.from(r).map(e=>or(BigInt(e)))}function LW(r,e){const t=FW(r);return DW(t,e)}function DW(r,e){if(r.length>e)throw new Error(`Array of length ${r.length} larger than maxLen ${e}`);const t=e-r.length,n=Array(t).fill(or(BigInt(0))),i=r.concat(n),s=or(BigInt(r.length));return[i,s]}class FF{constructor(e){x(this,"typedOracle");this.typedOracle=e}getRandomField(){const e=this.typedOracle.getRandomField();return or(e)}async storeInExecutionCache(e,t){const n=await this.typedOracle.storeInExecutionCache(t.map(Ct));return or(n)}async loadFromExecutionCache([e]){return(await this.typedOracle.loadFromExecutionCache(Ct(e))).map(or)}async getBlockNumber(){return or(await this.typedOracle.getBlockNumber())}async getContractAddress(){return or(await this.typedOracle.getContractAddress())}async getVersion(){return or(await this.typedOracle.getVersion())}async getChainId(){return or(await this.typedOracle.getChainId())}async getKeyValidationRequest([e]){const{pkM:t,skApp:n}=await this.typedOracle.getKeyValidationRequest(Ct(e));return[or(t.x),or(t.y),or(t.isInfinite),or(n)]}async getContractInstance([e]){const t=await this.typedOracle.getContractInstance(tt.fromField(Ct(e)));return[t.salt,t.deployer,t.currentContractClassId,t.initializationHash,...t.publicKeys.toFields()].map(or)}async getMembershipWitness([e],[t],[n]){const i=Ks(Ct(e)),s=Ks(Ct(t)),c=Ct(n),u=await this.typedOracle.getMembershipWitness(i,s,c);if(!u)throw new Error(`Leaf ${n} not found in the tree ${ki[s]} at block ${i}.`);return u.map(or)}async getNullifierMembershipWitness([e],[t]){const n=Ks(Ct(e)),i=Ct(t),s=await this.typedOracle.getNullifierMembershipWitness(n,i);if(!s)throw new Error(`Nullifier witness not found for nullifier ${i} at block ${n}.`);return s.toFields().map(or)}async getLowNullifierMembershipWitness([e],[t]){const n=Ks(Ct(e)),i=Ct(t),s=await this.typedOracle.getLowNullifierMembershipWitness(n,i);if(!s)throw new Error(`Low nullifier witness not found for nullifier ${i} at block ${n}.`);return s.toFields().map(or)}async getPublicDataTreeWitness([e],[t]){const n=Ks(Ct(e)),i=Ct(t),s=await this.typedOracle.getPublicDataTreeWitness(n,i);if(!s)throw new Error(`Public data witness not found for slot ${i} at block ${n}.`);return s.toFields().map(or)}async getBlockHeader([e]){const t=Ks(Ct(e)),n=await this.typedOracle.getBlockHeader(t);if(!n)throw new Error(`Block header not found for block ${t}.`);return n.toFields().map(or)}async getAuthWitness([e]){const t=Ct(e),n=await this.typedOracle.getAuthWitness(t);if(!n)throw new Error(`Unknown auth witness for message hash ${t}`);return n.map(or)}async getPublicKeysAndPartialAddress([e]){const t=tt.fromField(Ct(e)),{publicKeys:n,partialAddress:i}=await this.typedOracle.getCompleteAddress(t);return[...n.toFields(),i].map(or)}async getNotes([e],[t],n,i,s,c,u,d,l,m,y,[b],[E],[I],[S]){var oe,de;const P=await this.typedOracle.getNotes(Ct(e),+t,n.map(Ee=>+Ee),i.map(Ee=>+Ee),s.map(Ee=>+Ee),c.map(Ct),u.map(Ee=>+Ee),d.map(Ee=>+Ee),l.map(Ee=>+Ee),m.map(Ee=>+Ee),y.map(Ee=>+Ee),+b,+E,+I),N=((oe=P==null?void 0:P[0])==null?void 0:oe.note.items.length)??0;if(!P.every(({note:Ee})=>N===Ee.items.length))throw new Error("Notes should all be the same length.");const k=((de=P[0])==null?void 0:de.contractAddress)??H.ZERO,R={isSettled:new H(0),isTransient:new H(1)},L=P.flatMap(({nonce:Ee,note:Fe,index:j})=>[Ee,j===void 0?R.isTransient:R.isSettled,...Fe.items]),U=+S,te=[P.length,k,...L].map(Ee=>or(Ee));if(te.length>U)throw new Error(`Return data size too big. Maximum ${U} fields. Got ${L.length}.`);const V=Array(U-te.length).fill(or(0));return te.concat(V)}notifyCreatedNote([e],[t],n,[i],[s]){return this.typedOracle.notifyCreatedNote(Ct(e),no.fromField(Ct(t)),n.map(Ct),Ct(i),+s),or(0)}async notifyNullifiedNote([e],[t],[n]){return await this.typedOracle.notifyNullifiedNote(Ct(e),Ct(t),+n),or(0)}async notifyCreatedNullifier([e]){return await this.typedOracle.notifyCreatedNullifier(Ct(e)),or(0)}async checkNullifierExists([e]){const t=await this.typedOracle.checkNullifierExists(Ct(e));return or(t)}async getL1ToL2MembershipWitness([e],[t],[n]){return(await this.typedOracle.getL1ToL2MembershipWitness(tt.fromString(e),Ct(t),Ct(n))).toFields().map(or)}async storageRead([e],[t],[n],[i]){return(await this.typedOracle.storageRead(new tt(Ct(e)),Ct(t),+n,+i)).map(or)}async storageWrite([e],t){return(await this.typedOracle.storageWrite(Ct(e),t.map(Ct))).map(or)}notifyCreatedContractClassLog([e],t,[n]){const i=t.map(Ct),s=new hs(new tt(Ct(e)),i);this.typedOracle.notifyCreatedContractClassLog(s,+n)}debugLog(e,t,n){const i=e.map(c=>String.fromCharCode(Ct(c).toNumber())).join(""),s=n.map(Ct);this.typedOracle.debugLog(i,s)}async callPrivateFunction([e],[t],[n],[i],[s]){const{endSideEffectCounter:c,returnsHash:u}=await this.typedOracle.callPrivateFunction(tt.fromField(Ct(e)),$t.fromField(Ct(t)),Ct(n),Ks(Ct(i)),A2(Ct(s)));return[c,u].map(or)}async enqueuePublicFunctionCall([e],[t],[n],[i],[s]){const c=await this.typedOracle.enqueuePublicFunctionCall(tt.fromString(e),$t.fromField(Ct(t)),Ct(n),Ks(Ct(i)),A2(Ct(s)));return or(c)}async setPublicTeardownFunctionCall([e],[t],[n],[i],[s]){const c=await this.typedOracle.setPublicTeardownFunctionCall(tt.fromString(e),$t.fromField(Ct(t)),Ct(n),Ks(Ct(i)),A2(Ct(s)));return or(c)}notifySetMinRevertibleSideEffectCounter([e]){this.typedOracle.notifySetMinRevertibleSideEffectCounter(Ks(Ct(e)))}async getIndexedTaggingSecretAsSender([e],[t]){return(await this.typedOracle.getIndexedTaggingSecretAsSender(tt.fromString(e),tt.fromString(t))).toFields().map(or)}async incrementAppTaggingSecretIndexAsSender([e],[t]){await this.typedOracle.incrementAppTaggingSecretIndexAsSender(tt.fromString(e),tt.fromString(t))}async syncNotes(){await this.typedOracle.syncNotes()}async deliverNote([e],[t],[n],i,[s],[c],[u],[d],[l]){return await this.typedOracle.deliverNote(tt.fromString(e),Ct(t),Ct(n),EW(i,s),Ct(c),Ct(u),Ct(d),tt.fromString(l)),or(!0)}async getLogByTag([e]){const t=await this.typedOracle.getLogByTag(Ct(e));return t==null?[or(0),...Iv.noirSerializationOfEmpty().map(dR)]:[or(1),...t.toNoirSerialization().map(dR)]}async storeCapsule([e],[t],n){await this.typedOracle.storeCapsule(tt.fromField(Ct(e)),Ct(t),n.map(Ct))}async loadCapsule([e],[t],[n]){const i=await this.typedOracle.loadCapsule(tt.fromField(Ct(e)),Ct(t));return i===null?[or(0),Array(Ks(Ct(n))).fill(or(0))]:[or(1),i.map(or)]}async deleteCapsule([e],[t]){await this.typedOracle.deleteCapsule(tt.fromField(Ct(e)),Ct(t))}async copyCapsule([e],[t],[n],[i]){await this.typedOracle.copyCapsule(tt.fromField(Ct(e)),Ct(t),Ct(n),Ks(Ct(i)))}async aes128Decrypt(e,[t],n,i){const s=SW(e,t),c=uR(n),u=uR(i),d=await this.typedOracle.aes128Decrypt(s,c,u);return LW(d,e.length)}async getSharedSecret([e],[t],[n],[i]){return(await this.typedOracle.getSharedSecret(tt.fromField(Ct(e)),gr.fromFields([t,n,i].map(Ct)))).toFields().map(or)}}class mr extends Error{constructor(e){super(`Oracle method ${e} is not available.`)}}class MW{getRandomField(){return H.random()}storeInExecutionCache(e){return Promise.reject(new mr("storeInExecutionCache"))}loadFromExecutionCache(e){return Promise.reject(new mr("loadFromExecutionCache"))}getBlockNumber(){return Promise.reject(new mr("getBlockNumber"))}getContractAddress(){return Promise.reject(new mr("getContractAddress"))}getChainId(){return Promise.reject(new mr("getChainId"))}getVersion(){return Promise.reject(new mr("getVersion"))}getKeyValidationRequest(e){return Promise.reject(new mr("getKeyValidationRequest"))}getContractInstance(e){return Promise.reject(new mr("getContractInstance"))}getMembershipWitness(e,t,n){return Promise.reject(new mr("getMembershipWitness"))}getNullifierMembershipWitness(e,t){return Promise.reject(new mr("getNullifierMembershipWitness"))}getPublicDataTreeWitness(e,t){return Promise.reject(new mr("getPublicDataTreeWitness"))}getLowNullifierMembershipWitness(e,t){return Promise.reject(new mr("getLowNullifierMembershipWitness"))}getBlockHeader(e){return Promise.reject(new mr("getBlockHeader"))}getCompleteAddress(e){return Promise.reject(new mr("getCompleteAddress"))}getAuthWitness(e){return Promise.reject(new mr("getAuthWitness"))}getNotes(e,t,n,i,s,c,u,d,l,m,y,b,E,I){return Promise.reject(new mr("getNotes"))}notifyCreatedNote(e,t,n,i,s){throw new mr("notifyCreatedNote")}notifyNullifiedNote(e,t,n){return Promise.reject(new mr("notifyNullifiedNote"))}notifyCreatedNullifier(e){return Promise.reject(new mr("notifyCreatedNullifier"))}checkNullifierExists(e){return Promise.reject(new mr("checkNullifierExists"))}getL1ToL2MembershipWitness(e,t,n){return Promise.reject(new mr("getL1ToL2MembershipWitness"))}storageRead(e,t,n,i){return Promise.reject(new mr("storageRead"))}storageWrite(e,t){return Promise.reject(new mr("storageWrite"))}notifyCreatedContractClassLog(e,t){throw new mr("notifyCreatedContractClassLog")}callPrivateFunction(e,t,n,i,s){return Promise.reject(new mr("callPrivateFunction"))}enqueuePublicFunctionCall(e,t,n,i,s){return Promise.reject(new mr("enqueuePublicFunctionCall"))}setPublicTeardownFunctionCall(e,t,n,i,s){return Promise.reject(new mr("setPublicTeardownFunctionCall"))}notifySetMinRevertibleSideEffectCounter(e){throw new mr("notifySetMinRevertibleSideEffectCounter")}debugLog(e,t){throw new mr("debugLog")}getIndexedTaggingSecretAsSender(e,t){return Promise.reject(new mr("getIndexedTaggingSecretAsSender"))}incrementAppTaggingSecretIndexAsSender(e,t){return Promise.reject(new mr("incrementAppTaggingSecretIndexAsSender"))}syncNotes(){return Promise.reject(new mr("syncNotes"))}deliverNote(e,t,n,i,s,c,u,d){return Promise.reject(new mr("deliverNote"))}getLogByTag(e){throw new mr("getLogByTag")}storeCapsule(e,t,n){return Promise.reject(new mr("storeCapsule"))}loadCapsule(e,t){return Promise.reject(new mr("loadCapsule"))}deleteCapsule(e,t){return Promise.reject(new mr("deleteCapsule"))}copyCapsule(e,t,n,i){return Promise.reject(new mr("copyCapsule"))}aes128Decrypt(e,t,n){return Promise.reject(new mr("aes128Decrypt"))}getSharedSecret(e,t){return Promise.reject(new mr("getSharedSecret"))}}async function LF(r,e,t,n,i,s=Pr("simulator:private_execution")){const c=await e.getDebugFunctionName();s.verbose(`Executing private function ${c}`,{contract:n});const u=t.bytecode,d=e.getInitialWitness(t),l=new FF(e),m=new fh,y=await r.executeUserCircuit(u,d,l).catch(oe=>{throw oe.message=IF(oe,t),new CC(oe.message,{contractAddress:n,functionSelector:i},IC(oe,t.debug),{cause:oe})}),b=m.ms(),E=y.partialWitness,I=jW(t,E),S=RF(d).length*H.SIZE_IN_BYTES;s.debug(`Ran external function ${n.toString()}:${i}`,{circuitName:"app-circuit",duration:b,eventName:"circuit-witness-generation",inputSize:S,outputSize:I.toBuffer().length,appCircuitName:c});const P=e.getContractClassLogs(),N=await e.loadFromExecutionCache(I.returnsHash),k=e.getNoteHashLeafIndexMap(),R=e.getNewNotes(),L=e.getNoteHashNullifierCounterMap(),U=e.getNestedExecutions(),te=e.getEnqueuedPublicFunctionCalls(),V=e.getPublicTeardownFunctionCall();return s.debug(`Returning from call to ${n.toString()}:${i}`),new ju(u,$e.from(t.verificationKey,"base64"),E,I,k,R,L,N,U,te,V,P)}function jW(r,e){const t=XN(r)+bN,n=xx,i=[];for(let s=t;s<t+n;s++){const c=e.get(s);if(c===void 0)throw new Error(`Missing return value for index ${s}`);i.push(Ct(c))}return wa.fromFields(i)}async function DF(r,e,t,n){const{sharedMutableSlot:i}=await kF.getContractUpdateSlots(r);let c=(await ph.readFromTree(i,u=>t.getPublicStorageAt(n,Hi.ContractInstanceDeployer,u))).svc.getCurrentAt(n)[0];return c.isZero()&&(c=e.originalContractClassId),c}async function Gx(r,e,t){const n=await e.getContractInstance(r);t=t??await e.getBlockNumber();const i=await DF(r,n,e,t);if(!n.currentContractClassId.equals(i))throw new Error(`Contract ${r} is outdated, current class id is ${i}, local class id is ${n.currentContractClassId}`)}const Yx=(r,e)=>{const n=r[e.index].toBuffer().subarray(e.offset,e.offset+e.length);return H.fromBuffer(n)},$W=(r,e)=>r.filter(t=>e.every(({selector:n,value:i,comparator:s})=>{const c=Yx(t.note.items,n);return{[gp.EQ]:()=>c.equals(i),[gp.NEQ]:()=>!c.equals(i),[gp.LT]:()=>c.lt(i),[gp.LTE]:()=>c.lt(i)||c.equals(i),[gp.GT]:()=>!c.lt(i)&&!c.equals(i),[gp.GTE]:()=>!c.lt(i)}[s]()})),MF=(r,e,t,n=0)=>{if(t[n]===void 0)return 0;const{selector:i,order:s}=t[n];if(s===0)return 0;const c=Yx(r,i),u=Yx(e,i),d=s===1?[-1,1]:[1,-1];return c.toBigInt()===u.toBigInt()?MF(r,e,t,n+1):c.toBigInt()>u.toBigInt()?d[0]:d[1]};function jF(r,{selects:e=[],sorts:t=[],limit:n=0,offset:i=0}){return $W(r,e).sort((s,c)=>MF(s.note.items,c.note.items,t)).slice(i,n?i+n:void 0)}class $F extends MW{constructor(t,n,i,s,c=Pr("simulator:client_view_context"),u){super();x(this,"contractAddress");x(this,"authWitnesses");x(this,"capsules");x(this,"executionDataProvider");x(this,"log");x(this,"scopes");this.contractAddress=t,this.authWitnesses=n,this.capsules=i,this.executionDataProvider=s,this.log=c,this.scopes=u}getBlockNumber(){return this.executionDataProvider.getBlockNumber()}getContractAddress(){return Promise.resolve(this.contractAddress)}getChainId(){return Promise.resolve(this.executionDataProvider.getChainId().then(t=>new H(t)))}getVersion(){return Promise.resolve(this.executionDataProvider.getVersion().then(t=>new H(t)))}getKeyValidationRequest(t){return this.executionDataProvider.getKeyValidationRequest(t,this.contractAddress)}getMembershipWitness(t,n,i){return this.executionDataProvider.getMembershipWitness(t,n,i)}async getNullifierMembershipWitness(t,n){return await this.executionDataProvider.getNullifierMembershipWitness(t,n)}async getLowNullifierMembershipWitness(t,n){return await this.executionDataProvider.getLowNullifierMembershipWitness(t,n)}async getPublicDataTreeWitness(t,n){return await this.executionDataProvider.getPublicDataTreeWitness(t,n)}async getBlockHeader(t){const n=await this.executionDataProvider.getBlock(t);if(n)return n.header}getCompleteAddress(t){return this.executionDataProvider.getCompleteAddress(t)}getContractInstance(t){return this.executionDataProvider.getContractInstance(t)}getAuthWitness(t){var n;return Promise.resolve(((n=this.authWitnesses.find(i=>i.requestHash.equals(t)))==null?void 0:n.witness)??this.executionDataProvider.getAuthWitness(t))}async getNotes(t,n,i,s,c,u,d,l,m,y,b,E,I,S){const P=await this.executionDataProvider.getNotes(this.contractAddress,t,S,this.scopes);return jF(P,{selects:i.slice(0,n).map((N,k)=>({selector:{index:N,offset:s[k],length:c[k]},value:u[k],comparator:d[k]})),sorts:l.map((N,k)=>({selector:{index:N,offset:m[k],length:y[k]},order:b[k]})),limit:E,offset:I})}async checkNullifierExists(t){const n=await uh(this.contractAddress,t);return await this.executionDataProvider.getNullifierIndex(n)!==void 0}async getL1ToL2MembershipWitness(t,n,i){return await this.executionDataProvider.getL1ToL2MembershipWitness(t,n,i)}async storageRead(t,n,i,s){const c=[];for(let u=0n;u<s;u++){const d=new H(n.value+u),l=await this.executionDataProvider.getPublicStorageAt(i,t,d);this.log.debug(`Oracle storage read: slot=${d.toString()} address-${t.toString()} value=${l}`),c.push(l)}return c}debugLog(t,n){t.startsWith("Context.note_hashes, after pushing new note hash:")||this.log.verbose(`${AN(t,n)}`,{module:`${this.log.module}:debug_log`})}async getIndexedTaggingSecretAsSender(t,n){return await this.executionDataProvider.getIndexedTaggingSecretAsSender(this.contractAddress,t,n)}async syncNotes(){const t=await this.executionDataProvider.syncTaggedLogs(this.contractAddress,await this.executionDataProvider.getBlockNumber(),this.scopes);for(const[n,i]of t.entries())await this.executionDataProvider.processTaggedLogs(this.contractAddress,i,tt.fromString(n));await this.executionDataProvider.removeNullifiedNotes(this.contractAddress)}async deliverNote(t,n,i,s,c,u,d,l){if(!this.contractAddress.equals(t))throw new Error(`Got a note delivery request from ${t}, expected ${this.contractAddress}`);await this.executionDataProvider.deliverNote(t,n,i,s,c,u,d,l)}getLogByTag(t){return this.executionDataProvider.getLogByTag(t)}storeCapsule(t,n,i){if(!t.equals(this.contractAddress))throw new Error(`Contract ${t} is not allowed to access ${this.contractAddress}'s PXE DB`);return this.executionDataProvider.storeCapsule(this.contractAddress,n,i)}async loadCapsule(t,n){var i;if(!t.equals(this.contractAddress))throw new Error(`Contract ${t} is not allowed to access ${this.contractAddress}'s PXE DB`);return((i=this.capsules.find(s=>s.contractAddress.equals(t)&&s.storageSlot.equals(n)))==null?void 0:i.data)??await this.executionDataProvider.loadCapsule(this.contractAddress,n)}deleteCapsule(t,n){if(!t.equals(this.contractAddress))throw new Error(`Contract ${t} is not allowed to access ${this.contractAddress}'s PXE DB`);return this.executionDataProvider.deleteCapsule(this.contractAddress,n)}copyCapsule(t,n,i,s){if(!t.equals(this.contractAddress))throw new Error(`Contract ${t} is not allowed to access ${this.contractAddress}'s PXE DB`);return this.executionDataProvider.copyCapsule(this.contractAddress,n,i,s)}aes128Decrypt(t,n,i){return new GA().decryptBufferCBC(t,n,i)}getSharedSecret(t,n){return this.executionDataProvider.getSharedSecret(t,n)}}var rv,UF;const YC=class YC extends $F{constructor(t,n,i,s,c,u,d,l,m,y,b,E=0,I=Pr("simulator:client_execution_context"),S){super(i.contractAddress,c,u,m,I,S);Nt(this,rv);x(this,"argsHash");x(this,"txContext");x(this,"callContext");x(this,"historicalHeader");x(this,"executionCache");x(this,"noteCache");x(this,"provider");x(this,"totalPublicArgsCount");x(this,"sideEffectCounter");x(this,"newNotes");x(this,"noteHashLeafIndexMap");x(this,"noteHashNullifierCounterMap");x(this,"contractClassLogs");x(this,"nestedExecutions");x(this,"enqueuedPublicFunctionCalls");x(this,"publicTeardownFunctionCall");this.argsHash=t,this.txContext=n,this.callContext=i,this.historicalHeader=s,this.executionCache=d,this.noteCache=l,this.provider=y,this.totalPublicArgsCount=b,this.sideEffectCounter=E,this.newNotes=[],this.noteHashLeafIndexMap=new Map,this.noteHashNullifierCounterMap=new Map,this.contractClassLogs=[],this.nestedExecutions=[],this.enqueuedPublicFunctionCalls=[],this.publicTeardownFunctionCall=Mn.empty()}getInitialWitness(t){const n=XN(t),i=this.executionCache.getPreimage(this.argsHash);if(i.length!==n)throw new Error(`Invalid arguments size: expected ${n}, got ${i.length}`);const c=new AC(this.callContext,this.historicalHeader,this.txContext,this.sideEffectCounter).toFields();if(c.length!==bN)throw new Error("Invalid private context inputs size");const u=[...c,...i];return OF(0,u)}getNoteHashLeafIndexMap(){return this.noteHashLeafIndexMap}getNewNotes(){return this.newNotes}getNoteHashNullifierCounterMap(){return this.noteHashNullifierCounterMap}getContractClassLogs(){return this.contractClassLogs}getNestedExecutions(){return this.nestedExecutions}getEnqueuedPublicFunctionCalls(){return this.enqueuedPublicFunctionCalls}getPublicTeardownFunctionCall(){return this.publicTeardownFunctionCall}storeInExecutionCache(t){return this.executionCache.store(t)}loadFromExecutionCache(t){return Promise.resolve(this.executionCache.getPreimage(t))}async getNotes(t,n,i,s,c,u,d,l,m,y,b,E,I,S){const P=this.noteCache.getNotes(this.callContext.contractAddress,t),N=this.noteCache.getNullifiers(this.callContext.contractAddress),R=(await this.executionDataProvider.getNotes(this.callContext.contractAddress,t,S,this.scopes)).filter(te=>!N.has(te.siloedNullifier.value)),L=jF([...R,...P],{selects:i.slice(0,n).map((te,V)=>({selector:{index:te,offset:s[V],length:c[V]},value:u[V],comparator:d[V]})),sorts:l.map((te,V)=>({selector:{index:te,offset:m[V],length:y[V]},order:b[V]})),limit:E,offset:I});return this.log.debug(`Returning ${L.length} notes for ${this.callContext.contractAddress} at ${t}: ${L.map(te=>`${te.nonce.toString()}:[${te.note.items.map(V=>V.toString()).join(",")}]`).join(", ")}`),(await Promise.all(L.map(async te=>{if(te.index!==void 0){const V=await rC(te.contractAddress,te.noteHash);return{hash:await nC(te.nonce,V),index:te.index}}}))).filter(te=>te!==void 0).forEach(te=>{this.noteHashLeafIndexMap.set(te.hash.toBigInt(),te.index)}),L}notifyCreatedNote(t,n,i,s,c){this.log.debug(`Notified of new note with inner hash ${s}`,{contractAddress:this.callContext.contractAddress,storageSlot:t,noteTypeId:n,counter:c});const u=new Bs(i);this.noteCache.addNewNote({contractAddress:this.callContext.contractAddress,storageSlot:t,nonce:H.ZERO,note:u,siloedNullifier:void 0,noteHash:s},c),this.newNotes.push(new Xd(u,t,n))}async notifyNullifiedNote(t,n,i){const s=await this.noteCache.nullifyNote(this.callContext.contractAddress,t,n);s!==void 0&&this.noteHashNullifierCounterMap.set(s,i)}notifyCreatedNullifier(t){return this.noteCache.nullifierCreated(this.callContext.contractAddress,t)}notifyCreatedContractClassLog(t,n){this.contractClassLogs.push(new tm(t,n));const i=t.toBuffer().toString("hex");this.log.verbose(`Emitted log from ContractClassRegisterer: "${i.length>100?i.slice(0,100)+"...":i}"`)}async callPrivateFunction(t,n,i,s,c){this.log.debug(`Calling private function ${t}:${n} from ${this.callContext.contractAddress}`),c=c||this.callContext.isStaticCall,await Gx(t,this.executionDataProvider,this.historicalHeader.globalVariables.blockNumber.toNumber());const u=await this.executionDataProvider.getFunctionArtifact(t,n),d=this.txContext.clone(),l=await this.deriveCallContext(t,u,c),m=new YC(i,d,l,this.historicalHeader,this.authWitnesses,this.capsules,this.executionCache,this.noteCache,this.executionDataProvider,this.provider,this.totalPublicArgsCount,s,this.log,this.scopes),y=await LF(this.provider,m,u,t,n);c&&Lt(this,rv,UF).call(this,y),this.nestedExecutions.push(y);const b=y.publicInputs;return{endSideEffectCounter:b.endSideEffectCounter,returnsHash:b.returnsHash}}async createPublicExecutionRequest(t,n,i,s,c,u){const d=await this.executionDataProvider.getFunctionArtifact(n,i),l=await this.deriveCallContext(n,d,u),m=this.executionCache.getPreimage(s);this.log.verbose(`Created ${t} public execution request to ${d.name}@${n}`,{sideEffectCounter:c,isStaticCall:u,functionSelector:i,targetContractAddress:n,callType:t});const y=Mn.from({args:m,callContext:l});t==="enqueued"?this.enqueuedPublicFunctionCalls.push(new Jd(y,c)):this.publicTeardownFunctionCall=y}async enqueuePublicFunctionCall(t,n,i,s,c){const u=[n.toField(),...this.executionCache.getPreimage(i)],d=await this.executionCache.store(u);if(await this.createPublicExecutionRequest("enqueued",t,$t.fromField(new H(z_)),d,s,c),this.totalPublicArgsCount+=u.length,this.totalPublicArgsCount>$T)throw new Error(`Too many total args to all enqueued public calls! (> ${$T})`);return d}async setPublicTeardownFunctionCall(t,n,i,s,c){const u=await this.executionCache.store([n.toField(),...this.executionCache.getPreimage(i)]);return await this.createPublicExecutionRequest("teardown",t,$t.fromField(new H(z_)),u,s,c),u}notifySetMinRevertibleSideEffectCounter(t){return this.noteCache.setMinRevertibleSideEffectCounter(t)}async deriveCallContext(t,n,i=!1){return new Pn(this.contractAddress,t,await $t.fromNameAndParameters(n.name,n.parameters),i)}getDebugFunctionName(){return this.executionDataProvider.getDebugFunctionName(this.contractAddress,this.callContext.functionSelector)}async incrementAppTaggingSecretIndexAsSender(t,n){await this.executionDataProvider.incrementAppTaggingSecretIndexAsSender(this.contractAddress,t,n)}async syncNotes(){const t=await this.executionDataProvider.syncTaggedLogs(this.contractAddress,this.historicalHeader.globalVariables.blockNumber.toNumber(),this.scopes);for(const[n,i]of t.entries())await this.executionDataProvider.processTaggedLogs(this.contractAddress,i,tt.fromString(n));await this.executionDataProvider.removeNullifiedNotes(this.contractAddress)}};rv=new WeakSet,UF=function(t){if(t.publicInputs.noteHashes.some(n=>!n.isEmpty())||t.publicInputs.nullifiers.some(n=>!n.isEmpty())||t.publicInputs.l2ToL1Msgs.some(n=>!n.isEmpty())||t.publicInputs.privateLogs.some(n=>!n.isEmpty())||t.publicInputs.contractClassLogsHashes.some(n=>!n.isEmpty()))throw new Error("Static call cannot update the state, emit L2->L1 messages or generate logs")};let Xx=YC;async function UW(r,e,t,n,i,s,c=Pr("simulator:unconstrained_execution")){c.verbose(`Executing unconstrained function ${t.name}`,{contract:n,selector:i});const u=t.bytecode,d=OF(0,s),l=await r.executeUserCircuit(u,d,new FF(e)).catch(y=>{throw y.message=IF(y,t),new CC(y.message,{contractAddress:n,functionSelector:i},IC(y,t.debug),{cause:y})}),m=RF(l.returnWitness);return H_(t.returnTypes,m)}class zF{constructor(e,t){x(this,"executionDataProvider");x(this,"simulationProvider");x(this,"log");this.executionDataProvider=e,this.simulationProvider=t,this.log=Pr("simulator")}async run(e,t,n,i=tt.fromField(H.MAX_FIELD_VALUE),s){const c=await this.executionDataProvider.getBlockHeader();await Gx(t,this.executionDataProvider);const u=await this.executionDataProvider.getFunctionArtifact(t,n);if(u.functionType!==Qr.PRIVATE)throw new Error(`Cannot run ${u.functionType} function as private`);e.origin!==t&&this.log.warn(`Request origin does not match contract address in simulation. Request origin: ${e.origin}, contract address: ${t}`);const d=1,l=new Pn(i,t,await $t.fromNameAndParameters(u.name,u.parameters),u.isStatic),m=await e.toTxRequest().hash(),y=new bW(m),b=new Xx(e.firstCallArgsHash,e.txContext,l,c,e.authWitnesses,e.capsules,TC.create(e.argsOfCalls),y,this.executionDataProvider,this.simulationProvider,0,d,void 0,s);try{const E=await LF(this.simulationProvider,b,u,t,e.functionSelector),{usedTxRequestHashForNonces:I}=y.finish(),S=I?H.ZERO:y.getAllNullifiers()[0];return new Uc(E,S)}catch(E){throw cR(E instanceof Error?E:new Error("Unknown error during private execution"))}}async runUnconstrained(e,t,n,i){await Gx(t,this.executionDataProvider);const s=await this.executionDataProvider.getFunctionArtifact(t,n);if(s.functionType!==Qr.UNCONSTRAINED)throw new Error(`Cannot run ${s.functionType} function as unconstrained`);const c=new $F(t,[],[],this.executionDataProvider,void 0,i);try{return await UW(this.simulationProvider,c,s,t,e.selector,e.args)}catch(u){throw cR(u instanceof Error?u:new Error("Unknown error during private execution"))}}}class zW extends Error{constructor(e){super(`DB has no contract with address ${e}`)}}class HW extends Error{constructor(e){super(`DB has no contract class with id ${e}`)}}var qW={};const T2={};function VW(){return["1","true"].includes(qW.AZTEC_GENERATE_TEST_DATA??"")&&typeof expect<"u"}function nf(r,e){if(!VW()||typeof expect>"u")return;const n=`${expect.getState().currentTestName} ${r}`;T2[n]||(T2[n]=[]),T2[n].push(e)}function Pt(r){return r.toString()}function _r(r){return H.fromHexString(r)}function WW(r){return{inner:Pt(r)}}function Ns(r){return Number(H.fromHexString(r).toBigInt())}function En(r){return new H(BigInt(r)).toString()}function c_(r){return{x:Pt(r.x),y:Pt(r.y),is_infinite:r.isInfinite}}function ZW(r){return new gr(_r(r.x),_r(r.y),r.is_infinite)}function KW(r){return{hi:Pt(r.hi),lo:Pt(r.lo)}}function aa(r){return{inner:Pt(r.toField())}}function Os(r){return tt.fromField(_r(r.inner))}function HF(r){return{inner:Pt(r.toField())}}function qF(r){return ea.fromField(_r(r.inner))}function Zw(r){return wr.from({daGas:Ns(r.da_gas),l2Gas:Ns(r.l2_gas)})}function hR(r){return{da_gas:En(r.daGas),l2_gas:En(r.l2Gas)}}function GW(r){return new Li(Zw(r.gas_limits),Zw(r.teardown_gas_limits),Qx(r.max_fees_per_gas),Qx(r.max_priority_fees_per_gas))}function YW(r){return{gas_limits:hR(r.gasLimits),teardown_gas_limits:hR(r.teardownGasLimits),max_fees_per_gas:Jx(r.maxFeesPerGas),max_priority_fees_per_gas:Jx(r.maxPriorityFeesPerGas)}}function Jx(r){return{fee_per_da_gas:Pt(r.feePerDaGas),fee_per_l2_gas:Pt(r.feePerL2Gas)}}function Qx(r){return new Jr(_r(r.fee_per_da_gas),_r(r.fee_per_l2_gas))}function XW(r){return{fields:gn(r.fields,Pt)}}function kC(r){return new Zn(Wn(r.fields,r.fields.length,_r))}function Wn(r,e,t){if(r.length!=e)throw new Error(`Expected ${e} items, got ${r.length}`);return Array.from({length:e},(n,i)=>t(r[i]))}function __(r){return new qt(_r(r.root),Ns(r.next_available_leaf_index))}function y_(r){return{root:Pt(r.root),next_available_leaf_index:Pt(new H(r.nextAvailableLeafIndex))}}function JW(r){return{num_txs:Pt(r.numTxs),blobs_hash:k2(r.blobsHash),in_hash:k2(r.inHash),out_hash:k2(r.outHash)}}function QW(r){return new so(_r(r.num_txs),I2(r.blobs_hash),I2(r.in_hash),I2(r.out_hash))}function VF(r){return{last_archive:y_(r.lastArchive),content_commitment:JW(r.contentCommitment),state:cZ(r.state),global_variables:aZ(r.globalVariables),total_fees:Pt(r.totalFees),total_mana_used:Pt(r.totalManaUsed)}}function eZ(r){return new Kr(__(r.last_archive),QW(r.content_commitment),uZ(r.state),oZ(r.global_variables),_r(r.total_fees),_r(r.total_mana_used))}function I2(r){return Si(_r(r).toBigInt(),wi)}function k2(r){return Pt(V9(r))}function tZ(r){return{_is_some:r.isSome,_value:En(r.value)}}function rZ(r){return new Nc(r._is_some,Ns(r._value))}function WF(r){return{_opt:{_is_some:r.isSome,_value:Pt(r.value)}}}function nZ(r){return new Cs(r._opt._is_some,_r(r._opt._value))}function ZF(r){return{recipient:HF(r.recipient),content:Pt(r.content),counter:En(r.counter)}}function iZ(r){return new Ea(qF(r.recipient),_r(r.content),Ns(r.counter))}function RC(r){return new Ei(iZ(r.message),Os(r.contract_address))}function PC(r){return{inner:Pt(r.toField())}}function KF(r){return $t.fromField(_r(r.inner))}function $v(r){return new bn(Os(r.msg_sender),Os(r.contract_address),KF(r.function_selector),r.is_static_call,_r(r.args_hash))}function BC(r){return{msg_sender:aa(r.msgSender),contract_address:aa(r.contractAddress),function_selector:PC(r.functionSelector),is_static_call:r.isStaticCall,args_hash:Pt(r.argsHash)}}function sZ(r){return{message:ZF(r.message),contract_address:aa(r.contractAddress)}}function GF(r,e){if(r.key.length!==e)throw new Error(`Expected ${e} fields, got ${r.key.length}`);return{key:r.key.map(Pt),hash:Pt(r.hash)}}function aZ(r){return{chain_id:Pt(r.chainId),version:Pt(r.version),block_number:Pt(r.blockNumber),slot_number:Pt(r.slotNumber),timestamp:Pt(r.timestamp),coinbase:HF(r.coinbase),fee_recipient:aa(r.feeRecipient),gas_fees:Jx(r.gasFees)}}function oZ(r){return new ci(_r(r.chain_id),_r(r.version),_r(r.block_number),_r(r.slot_number),_r(r.timestamp),qF(r.coinbase),Os(r.fee_recipient),Qx(r.gas_fees))}function cZ(r){return{l1_to_l2_message_tree:y_(r.l1ToL2MessageTree),partial:lZ(r.partial)}}function uZ(r){return new Uo(__(r.l1_to_l2_message_tree),fZ(r.partial))}function lZ(r){return{note_hash_tree:y_(r.noteHashTree),nullifier_tree:y_(r.nullifierTree),public_data_tree:y_(r.publicDataTree)}}function fZ(r){return new $o(__(r.note_hash_tree),__(r.nullifier_tree),__(r.public_data_tree))}function dZ(r){return{nullifier:Pt(r.nullifier),next_nullifier:Pt(r.nextNullifier),next_index:En(Number(r.nextIndex))}}function hZ(r){return{slot:Pt(r.slot),value:Pt(r.value),next_slot:Pt(r.nextSlot),next_index:En(Number(r.nextIndex))}}function pZ(r){return{address:Pt(r.address),next_address:Pt(r.nextAddress)}}function w_(r){const e=gn(r.siblingPath,Pt);return{leaf_index:r.leafIndex.toString(),sibling_path:e}}function YF(r){return{value:Pt(r.value),counter:En(r.counter),length:En(r.length)}}function mZ(r){return new Wo(_r(r.value),Ns(r.counter),Ns(r.length))}function gZ(r){return{log_hash:YF(r.logHash),contract_address:aa(r.contractAddress)}}function NC(r){return new Aa(mZ(r.log_hash),Os(r.contract_address))}function _Z(r){return new As(Wn(r.note_hashes,Bn,_r),Wn(r.nullifiers,jn,_r),Wn(r.l2_to_l1_msgs,vi,RC),Wn(r.private_logs,ta,kC),Wn(r.contract_class_logs_hashes,qo,NC))}function OC(r){return{chain_id:Pt(r.chainId),version:Pt(r.version),gas_settings:YW(r.gasSettings)}}function yZ(r){return new Gr(_r(r.chain_id),_r(r.version),GW(r.gas_settings))}function wZ(r){return{selector:PC(r.selector),is_private:r.isPrivate}}function vZ(r){return{origin:aa(r.origin),args_hash:Pt(r.argsHash),tx_context:OC(r.txContext),function_data:wZ(r.functionData)}}function XF(r){return{value:Pt(r.value),counter:En(r.counter)}}function bZ(r){return new Zo(_r(r.value),Ns(r.counter))}function EZ(r){return{note_hash:XF(r.noteHash),contract_address:aa(r.contractAddress)}}function SZ(r){return new Vu(bZ(r.note_hash),Os(r.contract_address))}function JF(r){return{value:Pt(r.value),counter:En(r.counter),note_hash:Pt(r.noteHash)}}function xZ(r){return new Ko(_r(r.value),Ns(r.counter),_r(r.note_hash))}function AZ(r){return{nullifier:JF(r.nullifier),contract_address:aa(r.contractAddress)}}function CZ(r){return new Wu(xZ(r.nullifier),Os(r.contract_address))}function QF(r){return{log:XW(r.log),note_hash_counter:En(r.noteHashCounter),counter:En(r.counter)}}function TZ(r){return new Ts(kC(r.log),Ns(r.note_hash_counter),Ns(r.counter))}function IZ(r){return{inner:QF(r.inner),contract_address:aa(r.contractAddress)}}function kZ(r){return new Lo(TZ(r.inner),Os(r.contract_address))}function RZ(r){return new Ys(_r(r.value),Ns(r.counter))}function pR(r){return{read_request:eA(r.readRequest),contract_address:aa(r.contractAddress)}}function mR(r){return new va(RZ(r.read_request),Os(r.contract_address))}function PZ(r){return{pk_m:c_(r.pkM),sk_app:Pt(r.skApp)}}function e5(r){return{request:PZ(r.request),sk_app_generator:Pt(r.skAppGenerator)}}function BZ(r){return new Lc(ZW(r.pk_m),_r(r.sk_app))}function NZ(r){return new Vo(BZ(r.request),_r(r.sk_app_generator))}function OZ(r){return{request:e5(r.request),contract_address:aa(r.contractAddress)}}function FZ(r){return new Ql(NZ(r.request),Os(r.contract_address))}function LZ(r){return new Pn(Os(r.msg_sender),Os(r.contract_address),KF(r.function_selector),r.is_static_call)}function t5(r){return{msg_sender:aa(r.msgSender),contract_address:aa(r.contractAddress),function_selector:PC(r.functionSelector),is_static_call:r.isStaticCall}}function DZ(r){return new $c(LZ(r.call_context),_r(r.args_hash),_r(r.returns_hash),Ns(r.start_side_effect_counter),Ns(r.end_side_effect_counter))}function r5(r){return{call_context:t5(r.callContext),args_hash:Pt(r.argsHash),returns_hash:Pt(r.returnsHash),start_side_effect_counter:En(r.startSideEffectCounter),end_side_effect_counter:En(r.endSideEffectCounter)}}function MZ(r){return new ao($v(r.inner),Ns(r.counter))}function n5(r){return{inner:BC(r.inner),counter:En(r.counter)}}function eA(r){return{value:Pt(r.value),counter:En(r.counter)}}function jZ(r){return{max_block_number:WF(r.maxBlockNumber)}}function FC(r){return new zi(nZ(r.max_block_number))}function $Z(r){return{for_rollup:jZ(r.forRollup),note_hash_read_requests:gn(r.noteHashReadRequests,pR),nullifier_read_requests:gn(r.nullifierReadRequests,pR),scoped_key_validation_requests_and_generators:gn(r.scopedKeyValidationRequestsAndGenerators,OZ),split_counter:tZ(r.splitCounter)}}function UZ(r){return new Xl(FC(r.for_rollup),Wn(r.note_hash_read_requests,ks,mR),Wn(r.nullifier_read_requests,Rs,mR),Wn(r.scoped_key_validation_requests_and_generators,Yd,FZ),rZ(r.split_counter))}function zZ(r){return new th(Wn(r.note_hashes,Bn,SZ),Wn(r.nullifiers,jn,CZ),Wn(r.l2_to_l1_msgs,vi,RC),Wn(r.private_logs,ta,kZ),Wn(r.contract_class_logs_hashes,qo,NC),Wn(r.public_call_requests,Gd,MZ),Wn(r.private_call_stack,Ex,DZ))}function HZ(r){return{note_hashes:gn(r.noteHashes,EZ),nullifiers:gn(r.nullifiers,AZ),l2_to_l1_msgs:gn(r.l2ToL1Msgs,sZ),private_logs:gn(r.privateLogs,IZ),contract_class_logs_hashes:gn(r.contractClassLogsHashes,gZ),public_call_requests:gn(r.publicCallRequests,n5),private_call_stack:gn(r.privateCallStack,r5)}}function i5(r){return{max_block_number:WF(r.maxBlockNumber),call_context:t5(r.callContext),args_hash:Pt(r.argsHash),returns_hash:Pt(r.returnsHash),note_hash_read_requests:gn(r.noteHashReadRequests,eA),nullifier_read_requests:gn(r.nullifierReadRequests,eA),key_validation_requests_and_generators:gn(r.keyValidationRequestsAndGenerators,e5),note_hashes:gn(r.noteHashes,XF),nullifiers:gn(r.nullifiers,JF),private_call_requests:gn(r.privateCallRequests,r5),public_call_requests:gn(r.publicCallRequests,n5),public_teardown_call_request:BC(r.publicTeardownCallRequest),l2_to_l1_msgs:gn(r.l2ToL1Msgs,ZF),private_logs:gn(r.privateLogs,QF),contract_class_logs_hashes:gn(r.contractClassLogsHashes,YF),start_side_effect_counter:Pt(r.startSideEffectCounter),end_side_effect_counter:Pt(r.endSideEffectCounter),historical_header:VF(r.historicalHeader),tx_context:OC(r.txContext),min_revertible_side_effect_counter:Pt(r.minRevertibleSideEffectCounter),is_fee_payer:r.isFeePayer}}function qZ(r){return{npk_m:{inner:c_(r.masterNullifierPublicKey)},ivpk_m:{inner:c_(r.masterIncomingViewingPublicKey)},ovpk_m:{inner:c_(r.masterOutgoingViewingPublicKey)},tpk_m:{inner:c_(r.masterTaggingPublicKey)}}}function VZ(r){const e=Is(r.updatedClassIdHints.updatedClassIdValues.toFields(),M$);return{function_leaf_membership_witness:w_(r.functionLeafMembershipWitness),contract_class_artifact_hash:Pt(r.contractClassArtifactHash),contract_class_public_bytecode_commitment:Pt(r.contractClassPublicBytecodeCommitment),public_keys:qZ(r.publicKeys),salted_initialization_hash:WW(r.saltedInitializationHash),protocol_contract_membership_witness:w_(r.protocolContractMembershipWitness),protocol_contract_leaf:pZ(r.protocolContractLeaf),updated_class_id_witness:w_(r.updatedClassIdHints.updatedClassIdWitness),updated_class_id_leaf:hZ(r.updatedClassIdHints.updatedClassIdLeaf),updated_class_id_shared_mutable_values:gn(e,Pt)}}function s5(r){return{vk:GF(r.vk,Ev),verification_key_hints:VZ(r.verificationKeyHints)}}function LC(r){return new ui(eZ(r.historical_header),yZ(r.tx_context),_r(r.vk_tree_root),_r(r.protocol_contract_tree_root))}function WZ(r){return{historical_header:VF(r.historicalHeader),tx_context:OC(r.txContext),vk_tree_root:Pt(r.vkTreeRoot),protocol_contract_tree_root:Pt(r.protocolContractTreeRoot)}}function DC(r){return new ef(LC(r.constants),_r(r.min_revertible_side_effect_counter),UZ(r.validation_requests),zZ(r.end),$v(r.public_teardown_call_request),Os(r.fee_payer),r.is_private_only,_r(r.claimed_first_nullifier))}function Sy(r){return{constants:WZ(r.constants),validation_requests:$Z(r.validationRequests),end:HZ(r.end),min_revertible_side_effect_counter:Pt(r.minRevertibleSideEffectCounter),public_teardown_call_request:BC(r.publicTeardownCallRequest),fee_payer:aa(r.feePayer),is_private_only:r.isPrivateOnly,claimed_first_nullifier:Pt(r.claimedFirstNullifier)}}function xy(r){return{vk:GF(r.vk,Ev),vk_index:Pt(new H(r.vkIndex)),vk_path:gn(r.vkPath,Pt)}}function ZZ(r){const e=new Qd(_Z(r.end));return new Ps(LC(r.constants),FC(r.rollup_validation_requests),Zw(r.gas_used),Os(r.fee_payer),void 0,e)}function gR(r){return new fs(Wn(r.note_hashes,Bn,_r),Wn(r.nullifiers,jn,_r),Wn(r.l2_to_l1_msgs,vi,RC),Wn(r.private_logs,ta,kC),Wn(r.contract_class_logs_hashes,qo,NC),Wn(r.public_call_requests,Gd,$v))}function KZ(r){const e=new G_(gR(r.non_revertible_accumulated_data),gR(r.revertible_accumulated_data),$v(r.public_teardown_call_request));return new Ps(LC(r.constants),FC(r.rollup_validation_requests),Zw(r.gas_used),Os(r.fee_payer),e)}function GZ(r){return{nullifier_index:En(r.nullifierIndex),note_hash_index:En(r.noteHashIndex)}}function a5(r){return{state:En(r.state),hint_index:En(r.hintIndex)}}function o5(r){return{read_request_index:En(r.readRequestIndex),pending_value_index:En(r.pendingValueIndex)}}function YZ(r){return{value:Pt(r)}}function XZ(r){return{read_request_index:En(r.readRequestIndex),membership_witness:w_(r.membershipWitness),leaf_preimage:YZ(r.leafPreimage)}}function JZ(r){return{read_request_index:En(r.readRequestIndex),membership_witness:w_(r.membershipWitness),leaf_preimage:dZ(r.leafPreimage)}}function QZ(r){return{read_request_statuses:gn(r.readRequestStatuses,a5),pending_read_hints:r.pendingReadHints.map(o5),settled_read_hints:r.settledReadHints.map(XZ)}}function eK(r){return{read_request_statuses:gn(r.readRequestStatuses,a5),pending_read_hints:r.pendingReadHints.map(o5),settled_read_hints:r.settledReadHints.map(e=>JZ(e))}}function tK(r){return{sk_m:KW(r.skM),request_index:En(r.requestIndex)}}function c5(r){return{note_hash_read_request_hints:QZ(r.noteHashReadRequestHints),nullifier_read_request_hints:eK(r.nullifierReadRequestHints),key_validation_hints:r.keyValidationHints.map(tK),transient_data_index_hints:r.transientDataIndexHints.map(GZ),validation_requests_split_counter:En(r.validationRequestsSplitCounter)}}function _R(r,e){const t={tx_request:vZ(r.txRequest),vk_tree_root:Pt(r.vkTreeRoot),protocol_contract_tree_root:Pt(r.protocolContractTreeRoot),private_call:s5(r.privateCall),is_private_only:r.isPrivateOnly,first_nullifier_hint:Pt(r.firstNullifierHint),app_public_inputs:i5(r.privateCall.publicInputs)};return nf("private-kernel-init",t),by(e,t)}function yR(r,e){const t={previous_kernel:xy(r.previousKernel),previous_kernel_public_inputs:Sy(r.previousKernel.publicInputs),private_call:s5(r.privateCall),app_public_inputs:i5(r.privateCall.publicInputs)};return nf("private-kernel-inner",t),by(e,t)}function wR(r,e){const t={previous_kernel:xy(r.previousKernel),previous_kernel_public_inputs:Sy(r.previousKernel.publicInputs),hints:c5(r.hints)};return by(e,t)}function vR(r,e){const t={previous_kernel:xy(r.previousKernel),previous_kernel_public_inputs:Sy(r.previousKernel.publicInputs)};return nf("private-kernel-tail",t),by(e,t)}function bR(r,e){const t={previous_kernel:xy(r.previousKernel),previous_kernel_public_inputs:Sy(r.previousKernel.publicInputs)};return nf("private-kernel-tail-to-public",t),by(e,t)}function ER(r,e){const n=Ey(e,r).return_value;return DC(n)}function SR(r,e){const n=Ey(e,r).return_value;return DC(n)}function xR(r,e){const n=Ey(e,r).return_value;return DC(n)}function AR(r,e){const n=Ey(e,r).return_value;return ZZ(n)}function CR(r,e){const n=Ey(e,r).return_value;return KZ(n)}const rK={PrivateKernelResetArtifact_32_4_32_4_4_4_4_4_4:"private_kernel_reset_32_4_32_4_4_4_4_4_4",PrivateKernelResetArtifact_32_4_32_4_4_4_4_4_32:"private_kernel_reset_32_4_32_4_4_4_4_4_32",PrivateKernelResetArtifact_32_4_32_4_4_4_4_64_4:"private_kernel_reset_32_4_32_4_4_4_4_64_4",PrivateKernelResetArtifact_32_4_32_4_4_4_4_64_32:"private_kernel_reset_32_4_32_4_4_4_4_64_32",PrivateKernelResetArtifact_32_4_32_4_4_4_64_4_4:"private_kernel_reset_32_4_32_4_4_4_64_4_4",PrivateKernelResetArtifact_32_4_32_4_4_4_64_4_32:"private_kernel_reset_32_4_32_4_4_4_64_4_32",PrivateKernelResetArtifact_32_4_32_4_4_4_64_64_4:"private_kernel_reset_32_4_32_4_4_4_64_64_4",PrivateKernelResetArtifact_32_4_32_4_4_4_64_64_32:"private_kernel_reset_32_4_32_4_4_4_64_64_32",PrivateKernelResetArtifact_32_4_32_16_4_4_4_4_4:"private_kernel_reset_32_4_32_16_4_4_4_4_4",PrivateKernelResetArtifact_32_4_32_16_4_4_4_4_32:"private_kernel_reset_32_4_32_16_4_4_4_4_32",PrivateKernelResetArtifact_32_4_32_16_4_4_4_64_4:"private_kernel_reset_32_4_32_16_4_4_4_64_4",PrivateKernelResetArtifact_32_4_32_16_4_4_4_64_32:"private_kernel_reset_32_4_32_16_4_4_4_64_32",PrivateKernelResetArtifact_32_4_32_16_4_4_64_4_4:"private_kernel_reset_32_4_32_16_4_4_64_4_4",PrivateKernelResetArtifact_32_4_32_16_4_4_64_4_32:"private_kernel_reset_32_4_32_16_4_4_64_4_32",PrivateKernelResetArtifact_32_4_32_16_4_4_64_64_4:"private_kernel_reset_32_4_32_16_4_4_64_64_4",PrivateKernelResetArtifact_32_4_32_16_4_4_64_64_32:"private_kernel_reset_32_4_32_16_4_4_64_64_32",PrivateKernelResetArtifact_32_16_32_4_4_4_4_4_4:"private_kernel_reset_32_16_32_4_4_4_4_4_4",PrivateKernelResetArtifact_32_16_32_4_4_4_4_4_32:"private_kernel_reset_32_16_32_4_4_4_4_4_32",PrivateKernelResetArtifact_32_16_32_4_4_4_4_64_4:"private_kernel_reset_32_16_32_4_4_4_4_64_4",PrivateKernelResetArtifact_32_16_32_4_4_4_4_64_32:"private_kernel_reset_32_16_32_4_4_4_4_64_32",PrivateKernelResetArtifact_32_16_32_4_4_4_64_4_4:"private_kernel_reset_32_16_32_4_4_4_64_4_4",PrivateKernelResetArtifact_32_16_32_4_4_4_64_4_32:"private_kernel_reset_32_16_32_4_4_4_64_4_32",PrivateKernelResetArtifact_32_16_32_4_4_4_64_64_4:"private_kernel_reset_32_16_32_4_4_4_64_64_4",PrivateKernelResetArtifact_32_16_32_4_4_4_64_64_32:"private_kernel_reset_32_16_32_4_4_4_64_64_32",PrivateKernelResetArtifact_32_16_32_16_4_4_4_4_4:"private_kernel_reset_32_16_32_16_4_4_4_4_4",PrivateKernelResetArtifact_32_16_32_16_4_4_4_4_32:"private_kernel_reset_32_16_32_16_4_4_4_4_32",PrivateKernelResetArtifact_32_16_32_16_4_4_4_64_4:"private_kernel_reset_32_16_32_16_4_4_4_64_4",PrivateKernelResetArtifact_32_16_32_16_4_4_4_64_32:"private_kernel_reset_32_16_32_16_4_4_4_64_32",PrivateKernelResetArtifact_32_16_32_16_4_4_64_4_4:"private_kernel_reset_32_16_32_16_4_4_64_4_4",PrivateKernelResetArtifact_32_16_32_16_4_4_64_4_32:"private_kernel_reset_32_16_32_16_4_4_64_4_32",PrivateKernelResetArtifact_32_16_32_16_4_4_64_64_4:"private_kernel_reset_32_16_32_16_4_4_64_64_4",PrivateKernelResetArtifact_32_16_32_16_4_4_64_64_32:"private_kernel_reset_32_16_32_16_4_4_64_64_32",PrivateKernelResetArtifact_64_0_0_0_0_0_0_0_0:"private_kernel_reset_64_0_0_0_0_0_0_0_0",PrivateKernelResetArtifact_0_64_0_0_0_0_0_0_0:"private_kernel_reset_0_64_0_0_0_0_0_0_0",PrivateKernelResetArtifact_0_0_64_0_0_0_0_0_0:"private_kernel_reset_0_0_64_0_0_0_0_0_0",PrivateKernelResetArtifact_0_0_0_64_0_0_0_0_0:"private_kernel_reset_0_0_0_64_0_0_0_0_0",PrivateKernelResetArtifact_0_0_0_0_64_0_0_0_0:"private_kernel_reset_0_0_0_0_64_0_0_0_0",PrivateKernelResetArtifact_0_0_0_0_0_64_0_0_0:"private_kernel_reset_0_0_0_0_0_64_0_0_0",PrivateKernelResetArtifact_4_4_4_4_4_4_4_4_4:"private_kernel_reset_4_4_4_4_4_4_4_4_4",PrivateKernelResetArtifact_16_16_16_16_16_16_16_16_16:"private_kernel_reset_16_16_16_16_16_16_16_16_16",PrivateKernelResetArtifact_32_32_32_32_32_32_32_32_32:"private_kernel_reset_32_32_32_32_32_32_32_32_32",PrivateKernelResetArtifact_64_64_64_64_64_64_64_64_32:"private_kernel_reset"},nK={dimensions:{NOTE_HASH_PENDING_AMOUNT:{variants:[32],standalone:[64],cost:100},NOTE_HASH_SETTLED_AMOUNT:{variants:[4,16],standalone:[64],cost:3e3},NULLIFIER_PENDING_AMOUNT:{variants:[32],standalone:[64],cost:100},NULLIFIER_SETTLED_AMOUNT:{variants:[4,16],standalone:[64],cost:3e3},NULLIFIER_KEYS:{variants:[4],standalone:[64],cost:2500},TRANSIENT_DATA_AMOUNT:{variants:[4],standalone:[64],cost:100},NOTE_HASH_SILOING_AMOUNT:{variants:[4,64],standalone:[],cost:250},NULLIFIER_SILOING_AMOUNT:{variants:[4,64],standalone:[],cost:150},PRIVATE_LOG_SILOING_AMOUNT:{variants:[4,32],standalone:[],cost:150}},specialCases:[[4,4,4,4,4,4,4,4,4],[16,16,16,16,16,16,16,16,16],[32,32,32,32,32,32,32,32,32],[64,64,64,64,64,64,64,64,32]]};zc.fromValues([64,64,64,64,64,64,64,64,32]);function iK(r){return oo.map(e=>r[e]).join("_")}function TR(r){const t=`PrivateKernelResetArtifact_${iK(r)}`;if(!rK[t])throw new Error(`Unknown private reset artifact: ${t}`);return t}function sK(r){const e={previous_kernel:xy(r.previousKernel),previous_kernel_public_inputs:Sy(r.previousKernel.publicInputs),hints:c5(r.hints)};nf("private-kernel-reset",e)}function IR(r){return H.fromBuffer($e.from(r.slice(2),"hex"))}function aK(r,e){const t=Pr("noir-protocol-circuits:oracle");if(r==="debugLog"){AO.strict(e.length===3,"expected 3 arguments for debugLog: msg, fields_length, fields");const[n,i,s]=e,c=n.map(d=>String.fromCharCode(IR(d).toNumber())).join(""),u=s.map(d=>IR(d));t.verbose("debug_log "+AN(c,u))}else if(r!=="noOp")throw Error(`unexpected oracle during execution: ${r}`);return Promise.resolve([])}function oK(r,e){const t=e.rawAssertionPayload;if(!t)return e;const n=e;try{const i=xF(r.abi,t);typeof i=="string"?n.message=`Circuit execution failed: ${i}`:n.decodedAssertionPayload=i}catch{}try{const i=IC(e,{debugSymbols:KN(r.debug_symbols)[0],files:r.file_map});n.noirCallStack=i==null?void 0:i.map(s=>typeof s=="string"?`at opcode ${s}`:`at ${s.locationText} (${s.filePath}:${s.line}:${s.column})`)}catch{}return n}class cK{constructor(e=Pr("wasm-simulator")){x(this,"log");this.log=e}async init(){typeof Wx=="function"&&await Promise.all([Wx(),NF()])}async executeProtocolCircuit(e,t){this.log.debug("init",{hash:t.hash}),await this.init();const n=$e.from(t.bytecode,"base64");try{const i=await CW(n,e,aK);return this.log.debug("execution successful",{hash:t.hash}),i}catch(i){if(typeof i=="object"&&i!==null&&"rawAssertionPayload"in i){const s=oK(t,i);throw this.log.debug("execution failed",{hash:t.hash,error:s,message:s.message}),s}throw this.log.debug("execution failed",{hash:t.hash,error:i}),new Error(`Circuit execution failed: ${i}`)}}async executeUserCircuit(e,t,n){return await this.init(),NW(e,t,n)}}class uK{constructor(e,t){x(this,"index");x(this,"siblingPath");this.index=e,this.siblingPath=t}toFields(){return[new H(this.index),...this.siblingPath.toFields()]}}function lK(){return{version:"0.1.0",name:"@aztec/pxe"}}const MC=new YA(6,["137a00ee7a5afd8d5b152229915e9eaa637d2fd4506dc3e7e53a9d03ca4b2b09","073b05d42749e5139b2f65c61a2976694d14031888c5d3676bf55ca44e5da22f","2fdaaff874d50f188c234fcec96e7127dc9da296da5567c824128f105b072b41","02556256029c4375d62118b14f087761ea82c6004234d8b8fe09517ae3d6eb98","27dbd017f63a5339a96cbc9ab86dc2b137d7c0ed488f2ea3e33424d7a44562c3","0000000000000000000000000000000000000000000000000000000000000000","0799796ebe3c57a193bf0f06b842f780be2da07d9ab0661a834378d827002f94","199e1e52bf1f919c170d92e1b8cf33f03e65a94b0b9f524e0213d947cb89c658","015d361b0657f8e9eaf35811c78c8bdac635ed95832ae359ffa27172034dba8d","08c52cad978cc84dac586ea601baae6feda9f740db62f22c76eef29ddb6c212a","0e8095c437a66450fab2b7d45cc2dcdf4c233b610a511881b4d5a923d95bfb61","2f189b057ebe596b83402de107e3a3595275783ad0f640814ab4851a1c41e9d7","11aeea5c9c5474ff3213da5fef3887bc319973760ad50465cf4a1237239baa35","2bc6ccf76c4ab8701268363edef70a60ef7ca3fdbc86f8116e66744cab6fd677","26af213ff80555dd08663a6cc85b85347fd1efff7f34eaa688c9875032906d70","0a25b50c78cd80d379e1f7183f6c29cf61cd91c2e40285e5af26e3adf7a3039c","0000000000000000000000000000000000000000000000000000000000000000","0000000000000000000000000000000000000000000000000000000000000000","0000000000000000000000000000000000000000000000000000000000000000","0000000000000000000000000000000000000000000000000000000000000000","0d4e7f9ecc3e71f4bd359918689f678a07dbdbeedd1a69f0a7be5c1ed68a01bb","05c32a64f0bda7ae954358bdfd7a1f314d85ebc0bb896e9a3f3e2133c6592eb1","0a7797f77234d2438dfa78a372e254737bf802cdb8d7ec734fd1acd9ea829377","1ee7a0900db6ec57872bba4732424561ebeacaa9189a3071b68cc8235477b0f1","07cfa114ac0d2f8075fc660331d78bcf69f76e6953c92a056689bfe90fbd6d17","2d5f464f116c0b09579a1155bc0f0a39a22ab93c0ea0218ee8c9034c7168c4cb","036182843b12fc64e677d69a8f6f9d379e9d813481775660a1542fe73a827e2a","0dac76d4006e8a5315c34defb2094eaad7ab82d082b13e9760b7b4090f4c48c2","16cf859a1aea411191015b7199a2ccd8835c3cd8ce9ca2ffa586f4efe5383992","074602094db45b6081e2269b9467593fae03e6cdbd255efb570fb559dafd83f0","1280a5f8321210176b56c403e51d5aff9cf064b2cf6a7ee091855db7c81372ac","0404885de941a72f53efa41572232365c8c29fbec5d7cbc02b76c506fc1ab7fa","18f5f240f9817e168adb7c359538ff9d61e3efb457686fe75e01d999310283ae","17e953fd695819f4f3f7ec717119e4e41ecc5b829e9e96d2668cb8dc6cdd29f3","18e81cdc79b5d5c406682e6d34f03781745501493934a9f5049f1e0324ec2351","1a030fa8f7c7850920fee110a3ac42417aed3939f1d1c297698f38dc609ddf02","0dede8804b3c9fa8d21b3e18712101c3498b948d2453657aa077b75ebc725835","21c7b02539330e65a76e609270dc848e9b50c56f83c8e0ebdbe7b387e327e307","1dfa34ccb41b7c8995ea2220cc2772bd697a1ea3552c18426ee8c7c7de48daa2","0c03d4c5f2d30e77df37052b198f929955ede293fe78c03cb611c68c125cbc9b","01d63b5507ce8ea0c07438a0e99a86351cb91d2543c6405585bc3e20919ea73f","1be68ee7761d85d4268a89c70928ee7028874e823f59457e3d8b248e72cb4289","278d3e9f65b6429acebbb24e2d16eb64d47a732486535838c19b34271d64d59d","07384ad391115e318dd797f92c6f16349d7919180e7ab2430fc3a2898c651ae4","2e83121ca8e6e7212aed71a458549aaa1fc2f8739854c5b61a79299ab9de8ed3","07ef02b71c20dad2d6485202bec409292a86802b7e26a1c4a585a50c54c0798d","10f36f927a88a7d2a1d46acbb627548a3c5c396a1e7d23cd7f1808b9544e0101","26677a551c876a8a75cf34af325dbb792bf0dbf1a11cc7ffb772a48274c087a9","06d342877e3f53087669be1a0e40463b1c82af11763d1d880fbe62704854042a","035f370c1e817230bcbc5255cf0f23ff42ebffb7ffc342232945fa9500b82b22","1b966df03494c3616ebbdfdef11a21434c8e73353cbccdf2edc3241f350ec857","0f53833026ae4982f711d46d5d9f2df82723efa30aa69c50f53387a24bc8958d","25e671e5644fba7d2ead9b8d7d0f868ac1ea224e4f8dfe034627f8b55902320b","2ba00ed4ab63ee964022b39efcbb5397928e977f87bd0157cb9b1b722c4be2bb","060a9d5a7b515b8af3b9941ba220b70187a958cd386ed1629712bbdfef5e2dcc","18194bc88a5e1403eac19110d3a4e889115a64584e3d551c216cf559b51af004","14ce0b6c25c66a301d6fd371bf79fd7994797b4fc8bd6f64ed1dd118263ad9e7","2e2f9ca64c6ba099dfde1511c3eeb75e1ac218b63c270efaa223e1f14bd4078d","044dde1fc190b37d725b2a428ed8cfe56833fc4597cd2da17d1c16898b9b9822","2431bc0c56b959dd60cf44f36c84d5e23f9724b0ba1be70257e3cdf31f9f15a2","22a13c88a88c3a1b339e0c423219729bd29c365bf75eada9ef6fa01e6cd25162","233a76fed75c1b8ac03841dc7b79ae4386b63af652b2dd02a08d5ac96755fd3a","0000000000000000000000000000000000000000000000000000000000000000","0000000000000000000000000000000000000000000000000000000000000000","1959bb346a165ffbec1e3cf7b226125e1da6a7edda9549eb3bf69ab5818ce2aa","1256922dce0357211f4c95021febcfae267f4eefb7a5aa146b59f6d4ef9905fa","1a8ceec79a52f0cadbada4e0362dfd6ef1f2af334809c9bc837825b657cec6a1","2ad44dcd7a04b8309d15ca37feaee260f70c73f4d69ae794619afde01cddf242","060a472e932b00b2f901a9d7ff239cc372fb49b95a34d154eb80f34da26bcf28","1b3a5da62bc909825fec6ea56525ba9d68fb30c4821bc131c1ad722ef8d4381f","078979a5451639870274985aecc1ee5f84378005c0bad765844b636e6907e26f","1d17b779c29f000df8ee4ce241b078aa37ada49c3266787bd9669ccf131a00b5","0b63a53787021a4a962a452c2921b3663aff1ffd8d5510540f8e659e782956f1","0b63a53787021a4a962a452c2921b3663aff1ffd8d5510540f8e659e782956f1","166d55afc90f7aaca84d825ffa9d7f2e0b7e0006f54abdc13296a106fe331c36","2d7be67b514fd1b3b265f73bf359c5255b7b32f0ea5df33fff0d69cb0568c2ac","15d207ed263796d193a6a65ee83ebe85eba72c2c813dcfaa00ed023704694ca3","110f657559af614e16f256516dd97e56da06679064115a313bff235621e7094b","025a0c5dc710246228be652c4fe65681415cb457fad0e6e45cd1f7e2f9b2847c","1c396874effcca8104e77fe8ddd653cf161310514a25df5c9db443cf54ddacc2","27bf3960b13b1c87079149a9277287951e1817fe903644cfeec25380406a37f6","2b42f3ee86334136d21c54df591293b1f76e9b0ef015ec7735cf11d56c647edd","28c1acaf106168a5e4091722d9cbda6b1f0e6106a00d44d27ede152a37909fa5","288567b5d274a56fde6da25902247ecbed2a62acffe881bf273f4d31c2fbc425","2ee695067e1e158886fc62f88824ac04712f6d4f394422ebdf977a6b1193de20","0a1e9b1a48d22a2bc6efbb0f73e32aa65a8c939b141758713e87ca914599b880","06341746dded493f0447bda6c79089b05fdd834d41423391d5eedd530d74c5d0","22a9ddff0c0d86c9833c01adeb7321c1ebf2286f2b0a734258fb3f3fa8033a1a","273317966fb2e74e91df268cd3626f8365fbebeab0082bf1b530522b284cb75e","164b2448e0c548596ed4f08685f3fb4236ecef6edc18c1d2f0f179fc015d08f4","005ebdf0631650176d6c59c4e9728596c3cfd349eec44080ee83bf4d8a3275c8","28481218abb804af925267f4464bfd35a6a85cac8a6701589d53e0fc5df74f25","2448c92496f748b709b42cf251b12e3e37622eadba0d4a358a06be7a5a82435b","06007a56872bb66def84b7ee23a491f8377d32273693e9ea15dc9e98e1869588","0a245884110775596f3504daec7718bda12dd5dea20cfd4f0c108e25d9cecad2","0b63a53787021a4a962a452c2921b3663aff1ffd8d5510540f8e659e782956f1","1baa9432f4c5252095bae6e5d5716cd1684e399d4c9a184a98dec516c0eff632","25f1704847dbbc86a0ee0b671fc0db4697708baac93c0bbfe2446dc7d0a082b0","0f2571523574df209bcac66427afa84e7cecd15c669a2b27faadebce5ee48737","23484475a70ea92e5b657aca4dfcc06a8e3cb5541351f98f6bc8eb97c6c002ad","0e34ac2c09f45a503d2908bcb12f1cbae5fa4065759c88d501c097506a8b2290","1611c40ffff93a42aab863161b3ba89ba42120d0f69ef0476b53ec2a42207c56","0a12555e9684974ef50d49746417c53f59264b148d4f809562cce9fa4ae78def","05f3437d7bf028952d10196c609f04c921196c077052a4956bad506ded1d4de4","212a4a305eb392e87198bd0de6680fbf3d57bdfc32f4678ad79dcc08776302cd","0abbc117df7ddb363d3623000fe71d82ffde08c222ec3277885b81aa94339b09","1b55c12877523ad2d289226de70a5e5d09779bed6d440002e764b1c6756902bc","1ee7252703aea12f3cebc5eefcab441e7452f681742aad6355a63def33a49363","2a3d1d0ab15a1b29c7f7488392f0633b6bbb26b4b2f55ba10cd8d13ff857ead0","1d153aa03007c414079a73381a89de7f250ec21ee6dd901db671a990356d7072","1f14dbd1cf444ddb8356feca2d48b02518586f96585c8e0a369317c1a91110b0","00c9fa5ceb959225c5d9b72ec91d2a6d78915c85f2dfbe7ae9d4228520ccce32","2496f9eca36d003824dcb450d6eff615d91d342d7a4fd8973c3bb6cb3b37f786","14cff4707c6e3ff595c1e9927f3df7f2c7668b9867ec8b75a46519d68dd227eb","0336e8d486e7ac4a0eaa5d7b250e0c614e170d6947454ad63140c98c1bec360f","1942a5cb6c30b5d8d663121c510f871f227232a44009551bbbb8851ebcdba4a7","154d3d25406a5e9694a4a05dcc0c86ecc9925458b884d22eda32ae31022c9d4d","28906a7fc692812b0496099735d5a671444c796dd2d73a057f5f4f6c5262e128","18ca00f8315d98a9b1fc2034e4c9d865a14b62d93a12a5d35a26889f18e95944","18a1518d4343c9305f4349b3c50a273bdd63b54943d614d92c4c77b3e3b626d5","277019333a670168914547b852422b85089c1eeaf5031177fb10749695b0ae03","14904cc76d3d93297195d652d4fe750556434584af5e7a86fdce710dbb7c3ca3","27e28bc9c957fa3e495c4e49238703629f879c6e1b4d2a910f8515a2d29ca1ba","0dc4cd3049331a972c75834d52857d99022f1d6363bc4ddafb338f6ffbf0c908","0328ca75986b5891f8c7cd1d0b1cf06347bff60b6336f6aedca7183d31438105","163a84b1c659b3072b7e3f912447226f26074adcf64062d743dde19123a34c68","268a57e4f223903788ec315f4328fc9a40d3a42b4c1dd657d4618ce20ea62a84"].map(r=>$e.from(r,"hex")));function fK(){return H.fromBuffer(MC.root)}function dK(r){let e;r instanceof Po?e=r.keyAsFields.hash:r instanceof bi?e=r.hash:e=r;const t=MC.getIndex(e.toBuffer());if(t<0)throw new Error(`VK index for ${e.toString()} not found in VK tree`);return t}function hK(r){return Is(MC.getSiblingPath(r).map(e=>new H(e)),oh)}class pK{constructor(e,t,n,i="latest",s=Pr("pxe:kernel_oracle")){x(this,"contractDataProvider");x(this,"keyStore");x(this,"node");x(this,"blockNumber");x(this,"log");this.contractDataProvider=e,this.keyStore=t,this.node=n,this.blockNumber=i,this.log=s}async getContractAddressPreimage(e){const t=await this.contractDataProvider.getContractInstance(e);return{saltedInitializationHash:await _O(t),...t}}async getContractClassIdPreimage(e){const t=await this.contractDataProvider.getContractClass(e);return pH(t)}async getFunctionMembershipWitness(e,t){return await this.contractDataProvider.getFunctionMembershipWitness(e,t)}getVkMembershipWitness(e){const t=dK(e);return Promise.resolve(new Ri(oh,BigInt(t),hK(t)))}async getNoteHashMembershipWitness(e){const t=await this.node.getNoteHashSiblingPath(this.blockNumber,e);return new Ri(t.pathSize,e,t.toFields())}getNullifierMembershipWitness(e){return this.node.getNullifierMembershipWitness(this.blockNumber,e)}async getNoteHashTreeRoot(){const e=await this.node.getBlockHeader(this.blockNumber);if(!e)throw new Error(`No block header found for block number ${this.blockNumber}`);return e.state.partial.noteHashTree.root}getMasterSecretKey(e){return this.keyStore.getMasterSecretKey(e)}getDebugFunctionName(e,t){return this.contractDataProvider.getDebugFunctionName(e,t)}async getUpdatedClassIdHints(e){const{sharedMutableSlot:t,sharedMutableHashSlot:n}=await kF.getContractUpdateSlots(e),i=await sU(Hi.ContractInstanceDeployer,n),s=await this.node.getPublicDataTreeWitness(this.blockNumber,i);if(!s)throw new Error(`No public data tree witness found for ${i}`);const c=d=>this.node.getPublicStorageAt(this.blockNumber,Hi.ContractInstanceDeployer,d),u=await ph.readFromTree(t,c);return new Pd(new Ri(Kd,s.index,s.siblingPath.toTuple()),s.leafPreimage,u)}}function kR(r,e){return Dw(r,t=>em(e(t)).map(i=>new va(i,t.publicInputs.callContext.contractAddress)))}function mK(r){return async e=>{const t=await r.getNullifierMembershipWitness(e);if(!t)throw new Error(`Cannot find the leaf for nullifier ${e}.`);const{index:n,siblingPath:i,leafPreimage:s}=t;return{membershipWitness:new Ri(ch,n,i.toTuple()),leafPreimage:s}}}async function gK(r,e){const t=[];for(let n=0;n<r.length;++n){const i=r[n].request;if(i.isEmpty())break;const s=await e.getMasterSecretKey(i.request.pkM);t.push(new sm(s,n))}return C_(t,sm.nada(Yd),Yd)}class X0{constructor(e,t,n,i){x(this,"previousKernelOutput");x(this,"executionStack");x(this,"noteHashNullifierCounterMap");x(this,"validationRequestsSplitCounter");x(this,"previousKernel");x(this,"nextIteration");x(this,"noteHashResetStates");x(this,"nullifierResetStates");x(this,"numTransientData");x(this,"transientDataIndexHints");x(this,"requestedDimensions");var s;this.previousKernelOutput=e,this.executionStack=t,this.noteHashNullifierCounterMap=n,this.validationRequestsSplitCounter=i,this.previousKernel=e.publicInputs,this.requestedDimensions=zc.empty(),this.noteHashResetStates=im.empty(ks),this.nullifierResetStates=im.empty(Rs),this.transientDataIndexHints=zt(jn,()=>new tf(jn,Bn)),this.nextIteration=(s=t[this.executionStack.length-1])==null?void 0:s.publicInputs}needsReset(){const e=[()=>this.needsResetNoteHashReadRequests(),()=>this.needsResetNullifierReadRequests(),()=>this.needsResetNullifierKeys(),()=>this.needsResetTransientData()];return this.nextIteration?e.some(t=>t()):(e.push(()=>this.needsSiloNoteHashes(),()=>this.needsSiloNullifiers(),()=>this.needsSiloPrivateLogs()),e.map(n=>n()).some(n=>n))}async build(e,t){if(oo.every(d=>!this.requestedDimensions[d]))throw new Error("Reset is not required.");const n=!!this.nextIteration,i=n,s=uW(this.requestedDimensions,nK,n,i),c=await e.getVkMembershipWitness(this.previousKernelOutput.verificationKey),u=new mh(this.previousKernelOutput.publicInputs,this.previousKernelOutput.verificationKey,Number(c.leafIndex),Is(c.siblingPath,oh));return this.reduceReadRequestStates(this.noteHashResetStates,s.NOTE_HASH_PENDING_AMOUNT,s.NOTE_HASH_SETTLED_AMOUNT),this.reduceReadRequestStates(this.nullifierResetStates,s.NULLIFIER_PENDING_AMOUNT,s.NULLIFIER_SETTLED_AMOUNT),new KV(u,new Vw(await XV(e,this.previousKernel.validationRequests.noteHashReadRequests,this.previousKernel.end.noteHashes,this.noteHashResetStates,t),await eW({getNullifierMembershipWitness:mK(e)},this.previousKernel.validationRequests.nullifierReadRequests,this.nullifierResetStates),await gK(this.previousKernel.validationRequests.scopedKeyValidationRequestsAndGenerators,e),this.transientDataIndexHints,this.validationRequestsSplitCounter),s)}reduceReadRequestStates(e,t,n){let i=0,s=0;for(let c=0;c<e.states.length;c++){const u=e.states[c];u===Rn.PENDING?i<t?i++:e.states[c]=Rn.NADA:u===Rn.SETTLED&&(s<n?s++:e.states[c]=Rn.NADA)}e.pendingReadHints=e.pendingReadHints.slice(0,t)}needsResetNoteHashReadRequests(e=!1){const t=oi(this.previousKernel.validationRequests.noteHashReadRequests),n=this.nextIteration?oi(this.nextIteration.noteHashReadRequests):0,i=!this.nextIteration||e?0:ks;if(t+n<=i)return!1;const s=Dw(this.executionStack,l=>em(l.publicInputs.noteHashes).map(y=>new Vu(y,l.publicInputs.callContext.contractAddress))),c=YV(this.previousKernel.validationRequests.noteHashReadRequests,this.previousKernel.end.noteHashes,s),u=c.pendingReadHints.length,d=c.states.reduce((l,m)=>l+(m===Rn.SETTLED?1:0),0);return this.nextIteration?u>d?(this.requestedDimensions.NOTE_HASH_PENDING_AMOUNT=u,this.noteHashResetStates.states=Is(c.states.map(l=>l===Rn.PENDING?l:Rn.NADA),ks),this.noteHashResetStates.pendingReadHints=c.pendingReadHints):(this.requestedDimensions.NOTE_HASH_SETTLED_AMOUNT=d,this.noteHashResetStates.states=Is(c.states.map(l=>l===Rn.SETTLED?l:Rn.NADA),ks)):(this.noteHashResetStates=c,this.requestedDimensions.NOTE_HASH_PENDING_AMOUNT=u,this.requestedDimensions.NOTE_HASH_SETTLED_AMOUNT=d),!0}needsResetNullifierReadRequests(e=!1){const t=oi(this.previousKernel.validationRequests.nullifierReadRequests),n=this.nextIteration?oi(this.nextIteration.nullifierReadRequests):0,i=!this.nextIteration||e?0:Rs;if(t+n<=i)return!1;const s=Dw(this.executionStack,l=>em(l.publicInputs.nullifiers).map(y=>new Wu(y,l.publicInputs.callContext.contractAddress))),c=QV(this.previousKernel.validationRequests.nullifierReadRequests,this.previousKernel.end.nullifiers,s),u=c.pendingReadHints.length,d=c.states.reduce((l,m)=>l+(m===Rn.SETTLED?1:0),0);return this.nextIteration?u>d?(this.requestedDimensions.NULLIFIER_PENDING_AMOUNT=u,this.nullifierResetStates.states=Is(c.states.map(l=>l===Rn.PENDING?l:Rn.NADA),Rs),this.nullifierResetStates.pendingReadHints=c.pendingReadHints):(this.requestedDimensions.NULLIFIER_SETTLED_AMOUNT=d,this.nullifierResetStates.states=Is(c.states.map(l=>l===Rn.SETTLED?l:Rn.NADA),Rs)):(this.nullifierResetStates=c,this.requestedDimensions.NULLIFIER_PENDING_AMOUNT=u,this.requestedDimensions.NULLIFIER_SETTLED_AMOUNT=d),!0}needsResetNullifierKeys(){const e=oi(this.previousKernel.validationRequests.scopedKeyValidationRequestsAndGenerators),t=this.nextIteration?oi(this.nextIteration.keyValidationRequestsAndGenerators):0,n=this.nextIteration?Yd:0;return e+t<=n?!1:(this.requestedDimensions.NULLIFIER_KEYS=e,!0)}needsResetTransientData(){var y,b,E;this.numTransientData=0;const t=oi(this.previousKernel.end.noteHashes)+oi(((y=this.nextIteration)==null?void 0:y.noteHashes)??[])>Bn,i=oi(this.previousKernel.end.nullifiers)+oi(((b=this.nextIteration)==null?void 0:b.nullifiers)??[])>jn,c=oi(this.previousKernel.end.privateLogs)+oi(((E=this.nextIteration)==null?void 0:E.privateLogs)??[])>ta;if(this.nextIteration&&!t&&!i&&!c)return!1;const u=kR(this.executionStack,I=>I.publicInputs.noteHashReadRequests),d=kR(this.executionStack,I=>I.publicInputs.nullifierReadRequests);this.nextIteration&&(u.push(...this.previousKernel.validationRequests.noteHashReadRequests.filter(I=>!I.isEmpty())),d.push(...this.previousKernel.validationRequests.nullifierReadRequests.filter(I=>!I.isEmpty())));const{numTransientData:l,hints:m}=tW(this.previousKernel.end.noteHashes,this.previousKernel.end.nullifiers,u,d,this.noteHashNullifierCounterMap,this.validationRequestsSplitCounter,Bn,jn);if(this.nextIteration&&!l){if(!(t&&this.needsResetNoteHashReadRequests(!0)||i&&this.needsResetNullifierReadRequests(!0)||c&&this.needsResetNoteHashReadRequests(!0))){const P=t?"note hashes":i?"nullifiers":"private logs";throw new Error(`Number of ${P} exceeds the limit.`)}return!0}return this.numTransientData=l,this.transientDataIndexHints=m,this.requestedDimensions.TRANSIENT_DATA_AMOUNT=l,l>0}needsSiloNoteHashes(){if(this.numTransientData===void 0)throw new Error("`needsResetTransientData` must be run before `needsSiloNoteHashes`.");const e=this.previousKernel.end.noteHashes.filter(n=>!n.contractAddress.isZero()).length,t=Math.max(0,e-this.numTransientData);return this.requestedDimensions.NOTE_HASH_SILOING_AMOUNT=t,t>0}needsSiloNullifiers(){if(this.numTransientData===void 0)throw new Error("`needsResetTransientData` must be run before `needsSiloNullifiers`.");const e=this.previousKernel.end.nullifiers.filter(i=>!i.contractAddress.isZero()).length,t=Math.max(0,e-this.numTransientData),n=t?t+1:0;return this.requestedDimensions.NULLIFIER_SILOING_AMOUNT=n,t>0}needsSiloPrivateLogs(){if(this.numTransientData===void 0)throw new Error("`needsResetTransientData` must be run before `needsSiloPrivateLogs`.");const e=this.previousKernel.end.privateLogs,t=e.filter(u=>!u.contractAddress.isZero()).length,n=this.previousKernel.end.noteHashes,i=this.transientDataIndexHints.filter(u=>u.noteHashIndex<n.length).map(u=>n[u.noteHashIndex].counter),s=e.filter(u=>i.includes(u.inner.noteHashCounter)).length,c=t-s;return this.requestedDimensions.PRIVATE_LOG_SILOING_AMOUNT=c,c>0}}const _K={publicInputs:ef.empty(),verificationKey:bi.makeEmpty(Ev),outputWitness:new Map,bytecode:$e.from([])};class yK{constructor(e,t,n=!1){x(this,"oracle");x(this,"proofCreator");x(this,"fakeProofs");x(this,"log");this.oracle=e,this.proofCreator=t,this.fakeProofs=n,this.log=Pr("pxe:kernel-prover")}async prove(e,t,{simulate:n,skipFeeEnforcement:i,profile:s}={simulate:!1,skipFeeEnforcement:!1,profile:!1}){const c=this.fakeProofs||n,u=!c||s,d=new fh,l=this.isPrivateOnly(t),m=[t.entrypoint];let y=!0,b=_K;const E=[],I=async(Fe,j)=>{const fe=await this.proofCreator.computeGateCountForCircuit(j,Fe);E.push({circuitName:Fe,gateCount:fe}),this.log.debug(`Gate count for ${Fe} - ${fe}`)},S=Qz(t),P=e7(t),R=sC(t).length>0||!aC(t).isEmpty()?t7(t):0,L=[],U=[];for(;m.length;){if(!y){let z=new X0(b,m,P,R);for(;z.needsReset();){const Q=await z.build(this.oracle,S);b=u?await this.proofCreator.generateResetOutput(Q):await this.proofCreator.simulateReset(Q),L.push(b.bytecode),U.push(b.outputWitness),s&&await I("private_kernel_reset",b.bytecode),z=new X0(b,m,P,R)}}const Fe=m.pop();m.push(...[...Fe.nestedExecutions].reverse());const j=await this.oracle.getDebugFunctionName(Fe.publicInputs.callContext.contractAddress,Fe.publicInputs.callContext.functionSelector);L.push(Fe.acir),U.push(Fe.partialWitness),s&&await I(j,Fe.acir);const fe=await this.createPrivateCallData(Fe);if(y){const z=new yC(e,fK(),qH,fe,l,t.firstNullifier);this.log.debug(`Calling private kernel init with isPrivateOnly ${l} and firstNullifierHint ${z.firstNullifierHint}`),nf("private-kernel-inputs-init",z),b=u?await this.proofCreator.generateInitOutput(z):await this.proofCreator.simulateInit(z),L.push(b.bytecode),U.push(b.outputWitness),s&&await I("private_kernel_init",b.bytecode)}else{const z=await this.oracle.getVkMembershipWitness(b.verificationKey),Q=new mh(b.publicInputs,b.verificationKey,Number(z.leafIndex),Is(z.siblingPath,oh)),me=new wC(Q,fe);nf("private-kernel-inputs-inner",me),b=u?await this.proofCreator.generateInnerOutput(me):await this.proofCreator.simulateInner(me),L.push(b.bytecode),U.push(b.outputWitness),s&&await I("private_kernel_inner",b.bytecode)}y=!1}let te=new X0(b,[],P,R);for(;te.needsReset();){const Fe=await te.build(this.oracle,S);b=u?await this.proofCreator.generateResetOutput(Fe):await this.proofCreator.simulateReset(Fe),L.push(b.bytecode),U.push(b.outputWitness),s&&await I("private_kernel_reset",b.bytecode),te=new X0(b,[],P,R)}if(b.publicInputs.feePayer.isZero()&&i){if(!c)throw new Error("Fee payment must be enforced when creating real proof.");b.publicInputs.feePayer=new tt(H.MAX_FIELD_VALUE)}const V=await this.oracle.getVkMembershipWitness(b.verificationKey),oe=new mh(b.publicInputs,b.verificationKey,Number(V.leafIndex),Is(V.siblingPath,oh));this.log.debug(`Calling private kernel tail with hwm ${oe.publicInputs.minRevertibleSideEffectCounter}`);const de=new vC(oe);nf("private-kernel-inputs-ordering",de);const Ee=u?await this.proofCreator.generateTailOutput(de):await this.proofCreator.simulateTail(de);if(L.push(Ee.bytecode),U.push(Ee.outputWitness),s&&(await I("private_kernel_tail",Ee.bytecode),Ee.profileResult={gateCounts:E}),u&&this.log.info(`Private kernel witness generation took ${d.ms()}ms`),c)Ee.clientIvcProof=$i.random();else{const Fe=await this.proofCreator.createClientIvcProof(L,U);Ee.clientIvcProof=Fe}return Ee}async createPrivateCallData({publicInputs:e,vk:t}){const{contractAddress:n,functionSelector:i}=e.callContext,s=await pN(t),c=new bi(s,await CN(s)),{currentContractClassId:u,publicKeys:d,saltedInitializationHash:l}=await this.oracle.getContractAddressPreimage(n),m=await this.oracle.getFunctionMembershipWitness(u,i),{artifactHash:y,publicBytecodeCommitment:b}=await this.oracle.getContractClassIdPreimage(u),E=await uC({originalContractClassId:u,saltedInitializationHash:l,publicKeys:d}),{lowLeaf:I,witness:S}=await KH(n,E),P=await this.oracle.getUpdatedClassIdHints(n);return Yl.from({publicInputs:e,vk:c,verificationKeyHints:Rd.from({publicKeys:d,contractClassArtifactHash:y,contractClassPublicBytecodeCommitment:b,saltedInitializationHash:l,functionLeafMembershipWitness:m,protocolContractMembershipWitness:S,protocolContractLeaf:I,updatedClassIdHints:P})})}isPrivateOnly(e){const t=n=>!(n.enqueuedPublicFunctionCalls.some(s=>!s.isEmpty())||!n.publicTeardownFunctionCall.isEmpty())&&n.nestedExecutions.every(s=>t(s));return t(e.entrypoint)}}class qu{constructor(e,t,n,i,s,c,u,d,l,m,y){x(this,"note");x(this,"contractAddress");x(this,"storageSlot");x(this,"nonce");x(this,"noteHash");x(this,"siloedNullifier");x(this,"txHash");x(this,"l2BlockNumber");x(this,"l2BlockHash");x(this,"index");x(this,"recipient");this.note=e,this.contractAddress=t,this.storageSlot=n,this.nonce=i,this.noteHash=s,this.siloedNullifier=c,this.txHash=u,this.l2BlockNumber=d,this.l2BlockHash=l,this.index=m,this.recipient=y}toBuffer(){return ft([this.note,this.contractAddress,this.storageSlot,this.nonce,this.noteHash,this.siloedNullifier,this.txHash,this.l2BlockNumber,H.fromHexString(this.l2BlockHash),this.index,this.recipient])}static fromBuffer(e){const t=st.asReader(e),n=Bs.fromBuffer(t),i=tt.fromBuffer(t),s=H.fromBuffer(t),c=H.fromBuffer(t),u=H.fromBuffer(t),d=H.fromBuffer(t),l=t.readObject(br),m=t.readNumber(),y=H.fromBuffer(t).toString(),b=Pi(t.readBytes(32)),E=tt.fromBuffer(t);return new qu(n,i,s,c,u,d,l,m,y,b,E)}toString(){return"0x"+this.toBuffer().toString("hex")}static fromString(e){const t=e.replace(/^0x/,"");return qu.fromBuffer($e.from(t,"hex"))}getSize(){const e=Math.ceil(Math.log2(Number(this.index)));return 4+this.note.items.length*H.SIZE_IN_BYTES+tt.SIZE_IN_BYTES+H.SIZE_IN_BYTES*4+br.SIZE+gr.SIZE_IN_BYTES+e}static async random({note:e=Bs.random(),contractAddress:t=void 0,storageSlot:n=H.random(),nonce:i=H.random(),noteHash:s=H.random(),siloedNullifier:c=H.random(),txHash:u=br.random(),l2BlockNumber:d=Math.floor(Math.random()*1e3),l2BlockHash:l=H.random().toString(),index:m=H.random().toBigInt(),recipient:y=void 0}={}){return new qu(e,t??await tt.random(),n,i,s,c,u,d,l,m,y??await tt.random())}}const R2=10;function wK(r){const e=[];for(const t of r)for(let n=t.leftMostIndex;n<=t.rightMostIndex;n++)e.push(new dd(t.appTaggingSecret,n));return e}function vK(r){const e={};for(const t of r)e[t.appTaggingSecret.toString()]=t.index;return e}var na,pw,u5,mw,l5;class bK{constructor(e,t,n,i,s,c,u,d,l,m,y=Pr("pxe:pxe_data_manager")){Nt(this,na);x(this,"aztecNode");x(this,"keyStore");x(this,"simulationProvider");x(this,"contractDataProvider");x(this,"noteDataProvider");x(this,"capsuleDataProvider");x(this,"syncDataProvider");x(this,"taggingDataProvider");x(this,"addressDataProvider");x(this,"authWitnessDataProvider");x(this,"log");this.aztecNode=e,this.keyStore=t,this.simulationProvider=n,this.contractDataProvider=i,this.noteDataProvider=s,this.capsuleDataProvider=c,this.syncDataProvider=u,this.taggingDataProvider=d,this.addressDataProvider=l,this.authWitnessDataProvider=m,this.log=y}getKeyValidationRequest(e,t){return this.keyStore.getKeyValidationRequest(e,t)}async getCompleteAddress(e){const t=await this.addressDataProvider.getCompleteAddress(e);if(!t)throw new Error(`No public key registered for address ${e}.
        Register it by calling pxe.registerAccount(...).
See docs for context: https://docs.aztec.network/developers/reference/debugging/aztecnr-errors#simulation-error-no-public-key-registered-for-address-0x0-register-it-by-calling-pxeregisterrecipient-or-pxeregisteraccount`);return t}async getContractInstance(e){const t=await this.contractDataProvider.getContractInstance(e);if(!t)throw new Error(`No contract instance found for address ${e.toString()}`);return t}async getAuthWitness(e){return await this.authWitnessDataProvider.getAuthWitness(e)}async getNotes(e,t,n,i){return(await this.noteDataProvider.getNotes({contractAddress:e,storageSlot:t,status:n,scopes:i})).map(({contractAddress:c,storageSlot:u,nonce:d,note:l,noteHash:m,siloedNullifier:y,index:b})=>({contractAddress:c,storageSlot:u,nonce:d,note:l,noteHash:m,siloedNullifier:y,index:b}))}async getFunctionArtifact(e,t){const n=await this.contractDataProvider.getFunctionArtifact(e,t),i=await this.contractDataProvider.getFunctionDebugMetadata(e,t);return{...n,debug:i}}async getFunctionArtifactByName(e,t){const n=await this.contractDataProvider.getContractInstance(e),i=await this.contractDataProvider.getContractArtifact(n.currentContractClassId);return i&&Bz(i,t)}async getL1ToL2MembershipWitness(e,t,n){const[i,s]=await pO(this.aztecNode,e,t,n);return new uK(i,s)}getL1ToL2LeafValue(e){throw new Error("Unimplemented in private!")}async getCommitmentIndex(e){return await Lt(this,na,pw).call(this,"latest",ki.NOTE_HASH_TREE,e)}getCommitmentValue(e){throw new Error("Unimplemented in private!")}async getNullifierIndex(e){return await Lt(this,na,pw).call(this,"latest",ki.NULLIFIER_TREE,e)}async getMembershipWitness(e,t,n){const i=await Lt(this,na,pw).call(this,e,t,n);if(!i)throw new Error(`Leaf value: ${n} not found in ${ki[t]}`);const s=await Lt(this,na,u5).call(this,e,t,i);return[new H(i),...s]}async getNullifierMembershipWitnessAtLatestBlock(e){return this.getNullifierMembershipWitness(await this.getBlockNumber(),e)}getNullifierMembershipWitness(e,t){return this.aztecNode.getNullifierMembershipWitness(e,t)}getLowNullifierMembershipWitness(e,t){return this.aztecNode.getLowNullifierMembershipWitness(e,t)}async getBlock(e){return await this.aztecNode.getBlock(e)}async getPublicDataTreeWitness(e,t){return await this.aztecNode.getPublicDataTreeWitness(e,t)}async getPublicStorageAt(e,t,n){return await this.aztecNode.getPublicStorageAt(e,t,n)}getBlockHeader(){return this.syncDataProvider.getBlockHeader()}async getBlockNumber(){return await this.aztecNode.getBlockNumber()}async getChainId(){return await this.aztecNode.getChainId()}async getVersion(){return await this.aztecNode.getVersion()}getDebugFunctionName(e,t){return this.contractDataProvider.getDebugFunctionName(e,t)}getSenders(){return this.taggingDataProvider.getSenderAddresses()}async getIndexedTaggingSecretAsSender(e,t,n){await this.syncTaggedLogsAsSender(e,t,n);const i=await Lt(this,na,mw).call(this,e,t,n),[s]=await this.taggingDataProvider.getTaggingSecretsIndexesAsSender([i]);return new dd(i,s)}async incrementAppTaggingSecretIndexAsSender(e,t,n){const i=await Lt(this,na,mw).call(this,e,t,n),s=await this.contractDataProvider.getDebugContractName(e);this.log.debug(`Incrementing app tagging secret at ${s}(${e})`,{secret:i,sender:t,recipient:n,contractName:s,contractAddress:e});const[c]=await this.taggingDataProvider.getTaggingSecretsIndexesAsSender([i]);await this.taggingDataProvider.setTaggingSecretsIndexesAsSender([new dd(i,c+1)])}async syncTaggedLogsAsSender(e,t,n){const i=await Lt(this,na,mw).call(this,e,t,n),[s]=await this.taggingDataProvider.getTaggingSecretsIndexesAsSender([i]),c=10,u=c*2;let[d,l]=[0,s];do{const y=await UA(u,I=>new dd(i,l+I).computeSiloedTag(n,e)),E=(await this.aztecNode.getLogsByTags(y)).findLastIndex(I=>I.length!==0);if(E===-1)break;l+=E+1,d=u-E-1}while(d<c);const m=await this.contractDataProvider.getDebugContractName(e);l!==s?(await this.taggingDataProvider.setTaggingSecretsIndexesAsSender([new dd(i,l)]),this.log.debug(`Syncing logs for sender ${t} at contract ${m}(${e})`,{sender:t,secret:i,index:l,contractName:m,contractAddress:e})):this.log.debug(`No new logs found for sender ${t} at contract ${m}(${e})`)}async syncTaggedLogs(e,t,n){this.log.verbose("Searching for tagged logs",{contract:e});const i=n||await this.keyStore.getAccounts(),s=new Map,c=await this.contractDataProvider.getDebugContractName(e);for(const u of i){const d=[],l=await Lt(this,na,l5).call(this,e,u);let m=l.map(E=>({appTaggingSecret:E.appTaggingSecret,leftMostIndex:Math.max(0,E.index-R2),rightMostIndex:E.index+R2}));const y={},b=vK(l);for(;m.length>0;){const E=wK(m),I=await Promise.all(E.map(k=>k.computeSiloedTag(u,e))),S={};(await this.aztecNode.getLogsByTags(I)).forEach((k,R)=>{if(k.length>0){const L=k.filter(V=>!V.isFromPublic);L.length<k.length&&this.log.warn(`Discarded ${k.filter(V=>V.isFromPublic).length} public logs with matching tags`),d.push(...L);const U=E[R],te=b[U.appTaggingSecret.toString()];this.log.debug(`Found ${L.length} logs as recipient ${u}`,{recipient:u,secret:U.appTaggingSecret,contractName:c,contractAddress:e}),U.index>=te&&(S[U.appTaggingSecret.toString()]===void 0||U.index>=S[U.appTaggingSecret.toString()])&&(S[U.appTaggingSecret.toString()]=U.index+1,this.log.debug(`Incrementing index to ${U.index+1} at contract ${c}(${e})`))}});const N=[];for(const[k,R]of Object.entries(S)){const L=l.find(U=>U.appTaggingSecret.toString()===k);if(L)N.push({appTaggingSecret:L.appTaggingSecret,leftMostIndex:R,rightMostIndex:R+R2}),y[k]=R;else throw new Error(`Secret not found for appTaggingSecret ${k}. This is a bug as it should never happen!`)}m=N}s.set(u.toString(),d.filter(E=>E.blockNumber<=t)),await this.taggingDataProvider.setTaggingSecretsIndexesAsRecipient(Object.entries(y).map(([E,I])=>new dd(H.fromHexString(E),I)))}return s}async processTaggedLogs(e,t,n,i){for(const s of t){if(s.isFromPublic)throw new Error("Attempted to decrypt public log");const c=await this.aztecNode.getTxEffect(s.txHash);if(!c)throw new Error(`Could not find tx effect for tx hash ${s.txHash}`);await this.callProcessLog(e,s.log.toFields(),s.txHash,c.data.noteHashes,c.data.nullifiers[0],n,i)}}async deliverNote(e,t,n,i,s,c,u,d){const l=await this.syncDataProvider.getBlockNumber();if(l===void 0)throw new Error("Attempted to deliver a note with an unsynchronized PXE - this should never happen");const m=await nC(n,await rC(e,s)),y=await uh(e,c),[b]=await this.aztecNode.findLeavesIndexes(l,ki.NOTE_HASH_TREE,[m]);if(b===void 0)throw new Error(`Note hash ${s} (uniqued as ${m}) is not present on the tree at block ${l} (from tx ${u})`);const E=await this.aztecNode.getTxReceipt(new br(u));if(E===void 0)throw new Error(`Failed to fetch tx receipt for tx hash ${u} when searching for note hashes`);const I=new qu(new Bs(i),e,t,n,s,y,new br(u),E.blockNumber,E.blockHash.toString(),b,d);await this.noteDataProvider.addNotes([I],d),this.log.verbose("Added note",{contract:I.contractAddress,slot:I.storageSlot,noteHash:I.noteHash,nullifier:I.siloedNullifier.toString()});const[S]=await this.aztecNode.findNullifiersIndexesWithBlock(l,[y]);if(S!==void 0){const{data:P,...N}=S;await this.noteDataProvider.removeNullifiedNotes([{data:y,...N}],d),this.log.verbose("Removed just-added note",{contract:e,slot:t,noteHash:s,nullifier:y.toString()})}}async getLogByTag(e){const n=(await this.aztecNode.getLogsByTags([e]))[0];if(this.log.debug(`Got ${n.length} logs for tag ${e}`),n.length==0)return null;if(n.length>1)throw new Error(`Got ${n.length} logs for tag ${e}. getLogByTag currently only supports a single log per tag`);const i=n[0],s=await this.aztecNode.getTxEffect(i.txHash);if(s==null)throw new Error(`Unexpected: failed to retrieve tx effects for tx ${i.txHash} which is known to exist`);const c=i.log.toFields().filter(u=>!u.isZero());return new Iv(c,i.txHash.hash,s.data.noteHashes,s.data.nullifiers[0])}async removeNullifiedNotes(e){this.log.verbose("Searching for nullifiers of known notes",{contract:e});for(const t of await this.keyStore.getAccounts()){const i=(await this.noteDataProvider.getNotes({contractAddress:e,recipient:t})).map(d=>d.siloedNullifier),s=await this.aztecNode.findNullifiersIndexesWithBlock("latest",i),c=i.map((d,l)=>{if(s[l]!==void 0)return{...s[l],data:d}}).filter(d=>d!==void 0);(await this.noteDataProvider.removeNullifiedNotes(c,t)).forEach(d=>{this.log.verbose(`Removed note for contract ${d.contractAddress} at slot ${d.storageSlot}`,{contract:d.contractAddress,slot:d.storageSlot,nullifier:d.siloedNullifier.toString()})})}}async callProcessLog(e,t,n,i,s,c,u){const d=await this.contractDataProvider.getFunctionArtifactByName(e,"process_log");if(!d)throw new Error(`Mandatory implementation of "process_log" missing in noir contract ${e.toString()}.`);const l=await $t.fromNameAndParameters(d),m={name:d.name,to:e,selector:l,type:Qr.UNCONSTRAINED,isStatic:d.isStatic,args:dm(d,[RR(t,Do),n.toString(),RR(i,Bn),s,c]),returnTypes:d.returnTypes};await(u??new zF(this,this.simulationProvider)).runUnconstrained(m,e,l,[])}storeCapsule(e,t,n){return this.capsuleDataProvider.storeCapsule(e,t,n)}loadCapsule(e,t){return this.capsuleDataProvider.loadCapsule(e,t)}deleteCapsule(e,t){return this.capsuleDataProvider.deleteCapsule(e,t)}copyCapsule(e,t,n,i){return this.capsuleDataProvider.copyCapsule(e,t,n,i)}async getSharedSecret(e,t){const n=await this.getCompleteAddress(e),i=await this.keyStore.getMasterSecretKey(n.publicKeys.masterIncomingViewingPublicKey),s=await Sv(await n.getPreaddress(),i);return oC(s,t)}}na=new WeakSet,pw=async function(e,t,n){const[i]=await this.aztecNode.findLeavesIndexes(e,t,[n]);return i},u5=async function(e,t,n){switch(t){case ki.NULLIFIER_TREE:return(await this.aztecNode.getNullifierSiblingPath(e,n)).toFields();case ki.NOTE_HASH_TREE:return(await this.aztecNode.getNoteHashSiblingPath(e,n)).toFields();case ki.PUBLIC_DATA_TREE:return(await this.aztecNode.getPublicDataSiblingPath(e,n)).toFields();case ki.ARCHIVE:return(await this.aztecNode.getArchiveSiblingPath(e,n)).toFields();default:throw new Error("Not implemented")}},mw=async function(e,t,n){const i=await this.getCompleteAddress(t),s=await this.keyStore.getMasterIncomingViewingSecretKey(t),c=await II(i,s,n);return sa([c.x,c.y,e])},l5=async function(e,t){const n=await this.getCompleteAddress(t),i=await this.keyStore.getMasterIncomingViewingSecretKey(t),s=[...await this.taggingDataProvider.getSenderAddresses(),...await this.keyStore.getAccounts()].filter((d,l,m)=>l===m.findIndex(y=>y.equals(d))),c=await Promise.all(s.map(async d=>{const l=await II(n,i,d);return sa([l.x,l.y,e])})),u=await this.taggingDataProvider.getTaggingSecretsIndexesAsRecipient(c);return c.map((d,l)=>new dd(d,u[l]))};function RR(r,e){return{storage:r.concat(Array(e-r.length).fill(new H(0))),len:r.length}}var Bd,Ac,Nd,nv,f5;class EK{constructor(e){Nt(this,nv);Nt(this,Bd);Nt(this,Ac);Nt(this,Nd);Vt(this,Bd,e),Vt(this,Ac,Ie(this,Bd).openArray("complete_addresses")),Vt(this,Nd,Ie(this,Bd).openMap("complete_address_index"))}addCompleteAddress(e){return Ie(this,Bd).transactionAsync(async()=>{const t=e.address.toString(),n=e.toBuffer(),i=await Ie(this,Nd).getAsync(t);if(i===void 0){const s=await Ie(this,Ac).lengthAsync();return await Ie(this,Ac).push(n),await Ie(this,Nd).set(t,s),!0}else{const s=await Ie(this,Ac).atAsync(i);if(s&&$e.from(s).equals(n))return!1;throw new Error(`Complete address with aztec address ${t} but different public key or partial key already exists in memory database`)}})}getCompleteAddress(e){return Lt(this,nv,f5).call(this,e)}async getCompleteAddresses(){return await Promise.all((await cn(Ie(this,Ac).valuesAsync())).map(e=>Zu.fromBuffer(e)))}async getSize(){return await Ie(this,Ac).lengthAsync()*Zu.SIZE_IN_BYTES}}Bd=new WeakMap,Ac=new WeakMap,Nd=new WeakMap,nv=new WeakSet,f5=async function(e){const t=await Ie(this,Nd).getAsync(e.toString());if(t===void 0)return;const n=await Ie(this,Ac).atAsync(t);return n?await Zu.fromBuffer(n):void 0};var ty,Od;class SK{constructor(e){Nt(this,ty);Nt(this,Od);Vt(this,ty,e),Vt(this,Od,Ie(this,ty).openMap("auth_witnesses"))}async addAuthWitness(e,t){await Ie(this,Od).set(e.toString(),t.map(n=>n.toBuffer()))}async getAuthWitness(e){const t=await Ie(this,Od).getAsync(e.toString());return t==null?void 0:t.map(n=>H.fromBuffer(n))}async getSize(){return(await cn(Ie(this,Od).valuesAsync())).reduce((e,t)=>e+t.length*H.SIZE_IN_BYTES,0)}}ty=new WeakMap,Od=new WeakMap;var ry,Cc;class xK{constructor(e){Nt(this,ry);Nt(this,Cc);x(this,"debug");Vt(this,ry,e),Vt(this,Cc,Ie(this,ry).openMap("capsules")),this.debug=X$("pxe:capsule-data-provider")}async storeCapsule(e,t,n){await Ie(this,Cc).set(Ig(e,t),$e.concat(n.map(i=>i.toBuffer())))}async loadCapsule(e,t){const n=await Ie(this,Cc).getAsync(Ig(e,t));if(!n)return this.debug(`Data not found for contract ${e.toString()} and slot ${t.toString()}`),null;const i=[];for(let s=0;s<n.length;s+=H.SIZE_IN_BYTES)i.push(H.fromBuffer(n.subarray(s,s+H.SIZE_IN_BYTES)));return i}async deleteCapsule(e,t){await Ie(this,Cc).delete(Ig(e,t))}async copyCapsule(e,t,n,i){const s=Array.from(Array(i).keys());t.lt(n)&&s.reverse();for(const c of s){const u=Ig(e,t.add(new H(c))),d=Ig(e,n.add(new H(c))),l=await Ie(this,Cc).getAsync(u);if(!l)throw new Error(`Attempted to copy empty slot ${u} for contract ${e.toString()}`);await Ie(this,Cc).set(d,l)}}async getSize(){return(await cn(Ie(this,Cc).valuesAsync())).reduce((e,t)=>e+t.length*H.SIZE_IN_BYTES,0)}}ry=new WeakMap,Cc=new WeakMap;function Ig(r,e){return`${r.toString()}:${e.toString()}`}class jC{constructor(e,t){x(this,"artifact");x(this,"contractClass");x(this,"tree");this.artifact=e,this.contractClass=t}static async create(e){const t=await Mc(e);return new jC(e,t)}async getFunctionArtifact(e){var i;const n=(i=(await Promise.all(this.artifact.functions.map(async s=>({f:s,selector:await $t.fromNameAndParameters(s.name,s.parameters)})))).find(s=>e.equals(s.selector)))==null?void 0:i.f;if(!n)throw new Error(`Unknown function. Selector ${e.toString()} not found in the artifact ${this.artifact.name} with class ${this.getContractClassId().toString()}.`);return n}async getBytecode(e){return(await this.getFunctionArtifact(e)).bytecode}getFunctionTreeRoot(){return this.getTree()}getContractClass(){return this.contractClass}getArtifact(){return this.artifact}getContractClassId(){return this.getContractClass().id}async getFunctionMembershipWitness(e){const t=this.getContractClass().privateFunctions.find(u=>u.selector.equals(e));if(!t)throw new Error(`Private function with selector ${e.toString()} not found in contract class.`);const n=await IO(t),i=await this.getTree(),s=i.getIndex(n),c=i.getSiblingPath(s);return new Ri(Pw,BigInt(s),Is(c.map(H.fromBuffer),Pw))}async getTree(){if(!this.tree){const e=this.getContractClass().privateFunctions;this.tree=await dH(e)}return this.tree}}var Fd,Ul,om,d5,h5;class AK{constructor(e){Nt(this,om);x(this,"contractClassesCache",new Map);Nt(this,Fd);Nt(this,Ul);Vt(this,Fd,e.openMap("contract_artifacts")),Vt(this,Ul,e.openMap("contracts_instances"))}async addContractArtifact(e,t){const n=t.functions.filter(s=>s.functionType===Qr.PRIVATE),i=await Promise.all(n.map(async s=>(await $t.fromNameAndParameters(s.name,s.parameters)).toString()));if(i.length!==new Set(i).size)throw new Error("Repeated function selectors of private functions");await Ie(this,Fd).set(e.toString(),zz(t))}async addContractInstance(e){await Ie(this,Ul).set(e.address.toString(),new $p(e).toBuffer())}async getTreeForClassId(e){if(!this.contractClassesCache.has(e.toString())){const t=await Lt(this,om,h5).call(this,e);if(!t)throw new HW(e.toString());const n=await jC.create(t);this.contractClassesCache.set(e.toString(),n)}return this.contractClassesCache.get(e.toString())}async getTreeForAddress(e){const t=await this.getContractInstance(e);return this.getTreeForClassId(t.currentContractClassId)}async getContractsAddresses(){return(await cn(Ie(this,Ul).keysAsync())).map(tt.fromString)}async getContractInstance(e){const t=await Lt(this,om,d5).call(this,e);if(!t)throw new zW(e.toString());return t}async getContractArtifact(e){return(await this.getTreeForClassId(e)).getArtifact()}async getContractClass(e){return(await this.getTreeForClassId(e)).getContractClass()}async getContract(e){const t=await this.getContractInstance(e),n=t&&await this.getContractArtifact(t==null?void 0:t.currentContractClassId);if(!(!t||!n))return{...t,...n}}async getFunctionArtifact(e,t){return(await this.getTreeForAddress(e)).getFunctionArtifact(t)}async getFunctionArtifactByName(e,t){return(await this.getTreeForAddress(e)).getArtifact().functions.find(i=>i.name===t)}async getFunctionDebugMetadata(e,t){const n=await this.getTreeForAddress(e),i=await n.getFunctionArtifact(t);return iC(n.getArtifact(),i)}async getBytecode(e,t){return(await this.getTreeForAddress(e)).getBytecode(t)}async getFunctionMembershipWitness(e,t){return(await this.getTreeForClassId(e)).getFunctionMembershipWitness(t)}async getDebugContractName(e){return(await this.getTreeForAddress(e)).getArtifact().name}async getDebugFunctionName(e,t){const n=await this.getTreeForAddress(e),{name:i}=n.getArtifact(),{name:s}=await n.getFunctionArtifact(t);return`${i}:${s}`}async getSize(){return(await cn(Ie(this,Ul).valuesAsync())).concat(await cn(Ie(this,Fd).valuesAsync())).reduce((e,t)=>e+t.length,0)}}Fd=new WeakMap,Ul=new WeakMap,om=new WeakSet,d5=async function(e){const t=await Ie(this,Ul).getAsync(e.toString());return t&&$p.fromBuffer(t).withAddress(e)},h5=async function(e){const t=await Ie(this,Fd).getAsync(e.toString());return t&&Hz($e.from(t))};var Ga,Bo,Fu,Lu,Ld,Dd,Md,jd,$d,Ud,zd,Ya,Du,No,Oo,Fo,Xa;const XC=class XC{constructor(e){Nt(this,Ga);Nt(this,Bo);Nt(this,Fu);Nt(this,Lu);Nt(this,Ld);Nt(this,Dd);Nt(this,Md);Nt(this,jd);Nt(this,$d);Nt(this,Ud);Nt(this,zd);Nt(this,Ya);Nt(this,Du);Nt(this,No);Nt(this,Oo);Nt(this,Fo);Nt(this,Xa);Vt(this,Ga,e),Vt(this,Bo,e.openMap("notes")),Vt(this,Fu,e.openMap("nullified_notes")),Vt(this,Lu,e.openMap("nullifier_to_note")),Vt(this,Ld,e.openMultiMap("nullifier_to_block_number")),Vt(this,Dd,e.openMultiMap("nullified_notes_to_scope")),Vt(this,Md,e.openMultiMap("nullified_notes_by_contract")),Vt(this,jd,e.openMultiMap("nullified_notes_by_storage_slot")),Vt(this,$d,e.openMultiMap("nullified_notes_by_tx_hash")),Vt(this,Ud,e.openMultiMap("nullified_notes_by_recipient")),Vt(this,zd,e.openMap("nullified_notes_by_nullifier")),Vt(this,Ya,e.openMap("scopes")),Vt(this,Du,e.openMultiMap("notes_to_scope")),Vt(this,No,new Map),Vt(this,Oo,new Map),Vt(this,Fo,new Map),Vt(this,Xa,new Map)}static async create(e){const t=new XC(e);for await(const n of Ie(t,Ya).keysAsync())Ie(t,No).set(n,e.openMultiMap(`${n}:notes_by_contract`)),Ie(t,Oo).set(n,e.openMultiMap(`${n}:notes_by_storage_slot`)),Ie(t,Fo).set(n,e.openMultiMap(`${n}:notes_by_tx_hash`)),Ie(t,Xa).set(n,e.openMultiMap(`${n}:notes_by_recipient`));return t}async addScope(e){const t=e.toString();return await Ie(this,Ya).hasAsync(t)?!1:(await Ie(this,Ya).set(t,!0),Ie(this,No).set(t,Ie(this,Ga).openMultiMap(`${t}:notes_by_contract`)),Ie(this,Oo).set(t,Ie(this,Ga).openMultiMap(`${t}:notes_by_storage_slot`)),Ie(this,Fo).set(t,Ie(this,Ga).openMultiMap(`${t}:notes_by_tx_hash`)),Ie(this,Xa).set(t,Ie(this,Ga).openMultiMap(`${t}:notes_by_recipient`)),!0)}async addNotes(e,t=tt.ZERO){return await Ie(this,Ya).hasAsync(t.toString())||await this.addScope(t),Ie(this,Ga).transactionAsync(async()=>{for(const n of e){const i=Si(n.index,32).toString("hex");await Ie(this,Bo).set(i,n.toBuffer()),await Ie(this,Du).set(i,t.toString()),await Ie(this,Lu).set(n.siloedNullifier.toString(),i),await Ie(this,No).get(t.toString()).set(n.contractAddress.toString(),i),await Ie(this,Oo).get(t.toString()).set(n.storageSlot.toString(),i),await Ie(this,Fo).get(t.toString()).set(n.txHash.toString(),i),await Ie(this,Xa).get(t.toString()).set(n.recipient.toString(),i)}})}removeNotesAfter(e){return Ie(this,Ga).transactionAsync(async()=>{const t=await cn(Ie(this,Bo).valuesAsync());for(const n of t){const i=qu.fromBuffer(n);if(i.l2BlockNumber>e){const s=Si(i.index,32).toString("hex");await Ie(this,Bo).delete(s),await Ie(this,Du).delete(s),await Ie(this,Lu).delete(i.siloedNullifier.toString());const c=await cn(Ie(this,Ya).keysAsync());for(const u of c)await Ie(this,Xa).get(u).deleteValue(i.recipient.toString(),s),await Ie(this,Fo).get(u).deleteValue(i.txHash.toString(),s),await Ie(this,No).get(u).deleteValue(i.contractAddress.toString(),s),await Ie(this,Oo).get(u).deleteValue(i.storageSlot.toString(),s)}}})}async unnullifyNotesAfter(e,t){const n=[],i=e+1,s=t??i;for(let m=i;m<=s;m++)n.push(...await cn(Ie(this,Ld).getValuesAsync(m)));const u=(await Promise.all(n.map(m=>Ie(this,zd).getAsync(m)))).filter(m=>m!=null),l=(await Promise.all(u.map(m=>Ie(this,Fu).getAsync(m)))).filter(m=>m!=null).map(m=>qu.fromBuffer(m));await Ie(this,Ga).transactionAsync(async()=>{for(const m of l){const y=Si(m.index,32).toString("hex");await Ie(this,Bo).set(y,m.toBuffer()),await Ie(this,Lu).set(m.siloedNullifier.toString(),y);let b=await cn(Ie(this,Dd).getValuesAsync(y))??[];b.length===0&&(b=[m.recipient.toString()]);for(const E of b)await Ie(this,No).get(E.toString()).set(m.contractAddress.toString(),y),await Ie(this,Oo).get(E.toString()).set(m.storageSlot.toString(),y),await Ie(this,Fo).get(E.toString()).set(m.txHash.toString(),y),await Ie(this,Xa).get(E.toString()).set(m.recipient.toString(),y),await Ie(this,Du).set(y,E);await Ie(this,Fu).delete(y),await Ie(this,Dd).delete(y),await Ie(this,Ld).deleteValue(m.l2BlockNumber,m.siloedNullifier.toString()),await Ie(this,Md).deleteValue(m.contractAddress.toString(),y),await Ie(this,jd).deleteValue(m.storageSlot.toString(),y),await Ie(this,$d).deleteValue(m.txHash.toString(),y),await Ie(this,Ud).deleteValue(m.recipient.toString(),y),await Ie(this,zd).delete(m.siloedNullifier.toString())}})}async getNotes(e){e.status=e.status??Lx.ACTIVE;const t=[];e.scopes??(e.scopes=(await cn(Ie(this,Ya).keysAsync())).map(s=>tt.fromString(s)));const n=[];for(const s of new Set(e.scopes)){const c=s.toString();if(!await Ie(this,Ya).hasAsync(c))throw new Error("Trying to get incoming notes of an scope that is not in the PXE database");n.push(e.recipient?await cn(Ie(this,Xa).get(c).getValuesAsync(e.recipient.toString())):e.txHash?await cn(Ie(this,Fo).get(c).getValuesAsync(e.txHash.toString())):e.contractAddress?await cn(Ie(this,No).get(c).getValuesAsync(e.contractAddress.toString())):e.storageSlot?await cn(Ie(this,Oo).get(c).getValuesAsync(e.storageSlot.toString())):await cn(Ie(this,Xa).get(c).valuesAsync()))}t.push({ids:new Set(n.flat()),notes:Ie(this,Bo)}),e.status==Lx.ACTIVE_OR_NULLIFIED&&t.push({ids:e.recipient?await cn(Ie(this,Ud).getValuesAsync(e.recipient.toString())):e.txHash?await cn(Ie(this,$d).getValuesAsync(e.txHash.toString())):e.contractAddress?await cn(Ie(this,Md).getValuesAsync(e.contractAddress.toString())):e.storageSlot?await cn(Ie(this,jd).getValuesAsync(e.storageSlot.toString())):await cn(Ie(this,Fu).keysAsync()),notes:Ie(this,Fu)});const i=[];for(const{ids:s,notes:c}of t)for(const u of s){const d=await c.getAsync(u);if(!d)continue;const l=qu.fromBuffer(d);e.contractAddress&&!l.contractAddress.equals(e.contractAddress)||e.txHash&&!l.txHash.equals(e.txHash)||e.storageSlot&&!l.storageSlot.equals(e.storageSlot)||e.recipient&&!l.recipient.equals(e.recipient)||e.siloedNullifier&&!l.siloedNullifier.equals(e.siloedNullifier)||i.push(l)}return i}removeNullifiedNotes(e,t){return e.length===0?Promise.resolve([]):Ie(this,Ga).transactionAsync(async()=>{const n=[];for(const i of e){const{data:s,l2BlockNumber:c}=i,u=await Ie(this,Lu).getAsync(s.toString());if(!u)continue;const d=u?await Ie(this,Bo).getAsync(u):void 0;if(!d)continue;const l=await cn(Ie(this,Du).getValuesAsync(u))??[],m=qu.fromBuffer(d);if(!m.recipient.equals(t))continue;n.push(m),await Ie(this,Bo).delete(u),await Ie(this,Du).delete(u);const y=await cn(Ie(this,Ya).keysAsync());for(const b of y)await Ie(this,Xa).get(b).deleteValue(m.recipient.toString(),u),await Ie(this,Fo).get(b).deleteValue(m.txHash.toString(),u),await Ie(this,No).get(b).deleteValue(m.contractAddress.toString(),u),await Ie(this,Oo).get(b).deleteValue(m.storageSlot.toString(),u);if(l!==void 0)for(const b of l)await Ie(this,Dd).set(u,b);await Ie(this,Fu).set(u,m.toBuffer()),await Ie(this,Ld).set(c,s.toString()),await Ie(this,Md).set(m.contractAddress.toString(),u),await Ie(this,jd).set(m.storageSlot.toString(),u),await Ie(this,$d).set(m.txHash.toString(),u),await Ie(this,Ud).set(m.recipient.toString(),u),await Ie(this,zd).set(s.toString(),u),await Ie(this,Lu).delete(s.toString())}return n})}async getSize(){return(await this.getNotes({})).reduce((e,t)=>e+t.getSize(),0)}};Ga=new WeakMap,Bo=new WeakMap,Fu=new WeakMap,Lu=new WeakMap,Ld=new WeakMap,Dd=new WeakMap,Md=new WeakMap,jd=new WeakMap,$d=new WeakMap,Ud=new WeakMap,zd=new WeakMap,Ya=new WeakMap,Du=new WeakMap,No=new WeakMap,Oo=new WeakMap,Fo=new WeakMap,Xa=new WeakMap;let tA=XC;var ny,zl;class CK{constructor(e){Nt(this,ny);Nt(this,zl);Vt(this,ny,e),Vt(this,zl,Ie(this,ny).openSingleton("header"))}async setHeader(e){await Ie(this,zl).set(e.toBuffer())}async getBlockNumber(){const e=await Ie(this,zl).getAsync();if(e)return Number(Kr.fromBuffer(e).globalVariables.blockNumber.toBigInt())}async getBlockHeader(){const e=await Ie(this,zl).getAsync();if(!e)throw new Error("Header not set");return Kr.fromBuffer(e)}async getSize(){var e;return((e=await Ie(this,zl).getAsync())==null?void 0:e.length)??0}}ny=new WeakMap,zl=new WeakMap;var Hl,Tc,ql,Vl,ff,rA,nA;class TK{constructor(e){Nt(this,ff);Nt(this,Hl);Nt(this,Tc);Nt(this,ql);Nt(this,Vl);Vt(this,Hl,e),Vt(this,Tc,Ie(this,Hl).openMap("address_book")),Vt(this,ql,Ie(this,Hl).openMap("tagging_secret_indexes_for_senders")),Vt(this,Vl,Ie(this,Hl).openMap("tagging_secret_indexes_for_recipients"))}async setTaggingSecretsIndexesAsSender(e){await Lt(this,ff,rA).call(this,e,Ie(this,ql))}async setTaggingSecretsIndexesAsRecipient(e){await Lt(this,ff,rA).call(this,e,Ie(this,Vl))}async getTaggingSecretsIndexesAsRecipient(e){return await Lt(this,ff,nA).call(this,e,Ie(this,Vl))}async getTaggingSecretsIndexesAsSender(e){return await Lt(this,ff,nA).call(this,e,Ie(this,ql))}resetNoteSyncData(){return Ie(this,Hl).transactionAsync(async()=>{const e=await cn(Ie(this,Vl).keysAsync());await Promise.all(e.map(n=>Ie(this,Vl).delete(n)));const t=await cn(Ie(this,ql).keysAsync());await Promise.all(t.map(n=>Ie(this,ql).delete(n)))})}async addSenderAddress(e){return await Ie(this,Tc).hasAsync(e.toString())?!1:(await Ie(this,Tc).set(e.toString(),!0),!0)}async getSenderAddresses(){return(await cn(Ie(this,Tc).keysAsync())).map(tt.fromString)}async removeSenderAddress(e){return await Ie(this,Tc).hasAsync(e.toString())?(await Ie(this,Tc).delete(e.toString()),!0):!1}async getSize(){return 3*(await cn(Ie(this,Tc).keysAsync())).length*tt.SIZE_IN_BYTES}}Hl=new WeakMap,Tc=new WeakMap,ql=new WeakMap,Vl=new WeakMap,ff=new WeakSet,rA=async function(e,t){await Promise.all(e.map(n=>t.set(n.appTaggingSecret.toString(),n.index)))},nA=function(e,t){return Promise.all(e.map(async n=>await t.getAsync(`${n.toString()}`)??0))};class IK{constructor(e,t,n,i,s,c={},u){x(this,"node");x(this,"syncDataProvider");x(this,"noteDataProvider");x(this,"taggingDataProvider");x(this,"l2TipsStore");x(this,"initialSyncBlockNumber");x(this,"log");x(this,"isSyncing");x(this,"blockStream");this.node=e,this.syncDataProvider=t,this.noteDataProvider=n,this.taggingDataProvider=i,this.l2TipsStore=s,this.initialSyncBlockNumber=QA-1,this.log=!u||typeof u=="string"?Pr(u?`pxe:synchronizer:${u}`:"pxe:synchronizer"):u,this.blockStream=this.createBlockStream(c)}createBlockStream(e){return new B7(this.node,this.l2TipsStore,this,Pr("pxe:block_stream"),{startingBlock:e.l2StartingBlock})}async handleBlockStreamEvent(e){switch(await this.l2TipsStore.handleBlockStreamEvent(e),e.type){case"blocks-added":{const t=e.blocks.at(-1).block;this.log.verbose(`Updated pxe last block to ${t.number}`,{blockHash:t.hash(),archive:t.archive.root.toString(),header:t.header.toInspect()}),await this.syncDataProvider.setHeader(t.header);break}case"chain-pruned":{this.log.warn(`Pruning data after block ${e.blockNumber} due to reorg`);const t=await this.syncDataProvider.getBlockNumber();await this.noteDataProvider.unnullifyNotesAfter(e.blockNumber,t),await this.noteDataProvider.removeNotesAfter(e.blockNumber),await this.taggingDataProvider.resetNoteSyncData();const n=await this.node.getBlockHeader(e.blockNumber);n?await this.syncDataProvider.setHeader(n):this.log.error(`Block header not found for block number ${e.blockNumber} during chain prune`);break}}}async sync(){if(this.isSyncing!==void 0){this.log.debug("Waiting for the ongoing sync to finish"),await this.isSyncing;return}this.log.debug("Syncing PXE with the node");const e=this.doSync();this.isSyncing=e;try{await e}finally{this.isSyncing=void 0}}async doSync(){let e;try{e=await this.syncDataProvider.getBlockHeader()}catch{this.log.debug("Header is not set, requesting from the node")}e||await this.syncDataProvider.setHeader(await this.node.getBlockHeader(0)),await this.blockStream.sync()}async getSynchedBlockNumber(){return await this.syncDataProvider.getBlockNumber()??this.initialSyncBlockNumber}}async function iA(r,e,t){const n=new Map;r.getCallStack().forEach(({contractAddress:i,functionName:s})=>{n.has(i.toString())||n.set(i.toString(),new Set),n.get(i.toString()).add((s==null?void 0:s.toString())??"")}),await Promise.all([...n.entries()].map(async([i,s])=>{const c=tt.fromString(i),u=await e.getContract(c);if(u){r.enrichWithContractName(c,u.name);for(const d of s){const l=u.functions.find(m=>d===m.name);l?r.enrichWithFunctionName(c,await $t.fromNameAndParameters(l),l.name):t.warn(`Could not find function artifact in contract ${u.name} for function '${d}' when enriching error callstack`)}}else t.warn(`Could not find contract in database for address: ${c} when enriching error callstack`)}))}async function kK(r,e,t){var l;const n=r.getCallStack(),i=n[n.length-1],s=await e.getFunctionArtifact(i.contractAddress,$t.fromField(new H(z_))),c=vW(r.revertData,s);c&&r.setOriginalMessage(r.getOriginalMessage()+`${c}`);const u=await e.getFunctionDebugMetadata(i.contractAddress,$t.fromField(new H(z_))),d=r.getNoirCallStack();if(u){if(oO(d))try{const m=CF(d,u,0);r.setNoirCallStack(m)}catch(m){t.warn(`Could not resolve noir call stack for ${i.contractAddress.toString()}:${((l=i.functionName)==null?void 0:l.toString())??""}: ${m}`)}await iA(r,e,t)}}var en,u_,p5,m5,aA,g5,_5,y5,oA,w5,v5,b5;const JC=class JC{constructor(e,t,n,i,s,c,u,d,l,m,y,b,E,I,S,P,N){Nt(this,en);x(this,"node");x(this,"synchronizer");x(this,"keyStore");x(this,"contractDataProvider");x(this,"noteDataProvider");x(this,"capsuleDataProvider");x(this,"syncDataProvider");x(this,"taggingDataProvider");x(this,"addressDataProvider");x(this,"authWitnessDataProvider");x(this,"simulator");x(this,"packageVersion");x(this,"proverEnabled");x(this,"proofCreator");x(this,"protocolContractsProvider");x(this,"log");x(this,"jobQueue");this.node=e,this.synchronizer=t,this.keyStore=n,this.contractDataProvider=i,this.noteDataProvider=s,this.capsuleDataProvider=c,this.syncDataProvider=u,this.taggingDataProvider=d,this.addressDataProvider=l,this.authWitnessDataProvider=m,this.simulator=y,this.packageVersion=b,this.proverEnabled=E,this.proofCreator=I,this.protocolContractsProvider=S,this.log=P,this.jobQueue=N}static async create(e,t,n,i,s,c,u){var Ee;const d=!u||typeof u=="string"?Pr(u?`pxe:service:${u}`:"pxe:service"):u,l=lK().version,m=!!c.proverEnabled,y=new EK(t),b=new SK(t),E=new AK(t),I=await tA.create(t),S=new CK(t),P=new TK(t),N=new xK(t),k=new bF(t),R=new lW(t,"pxe"),L=new IK(e,S,I,P,R,c,u),U=new bK(e,k,i,E,I,N,S,P,y,b,d),te=new zF(U,i),V=new C7,oe=new JC(e,L,k,E,I,N,S,P,y,b,te,l,m,n,s,d,V);oe.jobQueue.start(),await Lt(Ee=oe,en,m5).call(Ee);const de=await oe.getNodeInfo();return d.info(`Started PXE connected to chain ${de.l1ChainId} version ${de.protocolVersion}`),oe}isL1ToL2MessageSynced(e){return this.node.isL1ToL2MessageSynced(e)}async estimateDbSize(){const e=Object.keys(ki).length*H.SIZE_IN_BYTES;return[...await Promise.all([this.addressDataProvider.getSize(),this.authWitnessDataProvider.getSize(),this.capsuleDataProvider.getSize(),this.contractDataProvider.getSize(),this.noteDataProvider.getSize(),this.syncDataProvider.getSize(),this.taggingDataProvider.getSize()]),e].reduce((n,i)=>n+i,0)}addAuthWitness(e){return this.authWitnessDataProvider.addAuthWitness(e.requestHash,e.witness)}getAuthWitness(e){return this.authWitnessDataProvider.getAuthWitness(e)}storeCapsule(e,t,n){return this.capsuleDataProvider.storeCapsule(e,t,n)}getContractInstance(e){return this.contractDataProvider.getContractInstance(e)}async getContractClassMetadata(e,t=!1){let n;try{n=await this.contractDataProvider.getContractArtifact(e)}catch{this.log.warn(`No artifact found for contract class ${e.toString()} when looking for its metadata`)}return{contractClass:n&&await Mc(n),isContractClassPubliclyRegistered:await Lt(this,en,w5).call(this,e),artifact:t?n:void 0}}async getContractMetadata(e){let t;try{t=await this.contractDataProvider.getContractInstance(e)}catch{this.log.warn(`No instance found for contract ${e.toString()} when looking for its metadata`)}return{contractInstance:t,isContractInitialized:await Lt(this,en,b5).call(this,e),isContractPubliclyDeployed:await Lt(this,en,v5).call(this,e)}}async registerAccount(e,t){const n=await this.keyStore.getAccounts(),i=await this.keyStore.addAccount(e,t);return n.includes(i.address)?(this.log.info(`Account:
 "${i.address.toString()}"
 already registered.`),i):(this.log.info(`Registered account ${i.address.toString()}`),this.log.debug(`Registered account
 ${i.toReadableString()}`),await this.addressDataProvider.addCompleteAddress(i),await this.noteDataProvider.addScope(i.address),i)}async registerSender(e){return(await this.keyStore.getAccounts()).includes(e)?(this.log.info(`Sender:
 "${e.toString()}"
 already registered.`),e):(await this.taggingDataProvider.addSenderAddress(e)?this.log.info(`Added sender:
 ${e.toString()}`):this.log.info(`Sender:
 "${e.toString()}"
 already registered.`),e)}getSenders(){const e=this.taggingDataProvider.getSenderAddresses();return Promise.resolve(e)}async removeSender(e){return await this.taggingDataProvider.removeSenderAddress(e)?this.log.info(`Removed sender:
 ${e.toString()}`):this.log.info(`Sender:
 "${e.toString()}"
 not in address book.`),Promise.resolve()}async getRegisteredAccounts(){const e=await this.addressDataProvider.getCompleteAddresses(),t=await this.keyStore.getAccounts();return e.filter(n=>t.find(i=>i.equals(n.address)))}async registerContractClass(e){const{id:t}=await Mc(e);await this.contractDataProvider.addContractArtifact(t,e),this.log.info(`Added contract class ${e.name} with id ${t}`)}async registerContract(e){const{instance:t}=e;let{artifact:n}=e;if(n){const i=await Mc(n),s=i.id;if(!s.equals(t.currentContractClassId))throw new Error(`Artifact does not match expected class id (computed ${s} but instance refers to ${t.currentContractClassId})`);if(!(await uC(t)).equals(t.address))throw new Error("Added a contract in which the address does not match the contract instance.");await this.contractDataProvider.addContractArtifact(i.id,n);const u=n.functions.filter(d=>d.functionType===Qr.PUBLIC).map(d=>Ax(d.name,d.parameters));await this.node.registerContractFunctionSignatures(t.address,u),await this.node.addContractClass({...i,privateFunctions:[],unconstrainedFunctions:[]})}else n=await this.contractDataProvider.getContractArtifact(t.currentContractClassId);await this.contractDataProvider.addContractInstance(t),this.log.info(`Added contract ${n.name} at ${t.address.toString()} with class ${t.currentContractClassId}`)}updateContract(e,t){return Lt(this,en,u_).call(this,async()=>{const n=await this.contractDataProvider.getContractInstance(e),i=await Mc(t);await this.synchronizer.sync();const s=await this.syncDataProvider.getBlockHeader(),c=await DF(e,n,this.node,s.globalVariables.blockNumber.toNumber());if(!i.id.equals(c))throw new Error("Could not update contract to a class different from the current one.");await this.contractDataProvider.addContractArtifact(i.id,t);const u=t.functions.filter(d=>d.functionType===Qr.PUBLIC).map(d=>Ax(d.name,d.parameters));await this.node.registerContractFunctionSignatures(e,u),await this.node.addContractClass({...i,privateFunctions:[],unconstrainedFunctions:[]}),n.currentContractClassId=i.id,await this.contractDataProvider.addContractInstance(n),this.log.info(`Updated contract ${t.name} at ${e.toString()} to class ${i.id}`)})}getContracts(){return this.contractDataProvider.getContractsAddresses()}async getPublicStorageAt(e,t){return await this.node.getPublicStorageAt("latest",e,t)}async getNotes(e){const n=(await this.noteDataProvider.getNotes(e)).map(async i=>{let s=e.recipient;if(s===void 0){const c=await this.addressDataProvider.getCompleteAddresses(),u=c.findIndex(l=>l.address.equals(i.recipient)),d=c[u];if(d===void 0)throw new Error(`Cannot find complete address for recipient ${i.recipient.toString()}`);s=d.address}return new jp(i.note,s,i.contractAddress,i.storageSlot,i.txHash,i.nonce)});return Promise.all(n)}async getL1ToL2MembershipWitness(e,t,n){return await pO(this.node,e,t,n)}getL2ToL1MembershipWitness(e,t){return this.node.getL2ToL1MessageMembershipWitness(e,t)}async getBlock(e){return e<0&&(e=await this.node.getBlockNumber()),await this.node.getBlock(e)}async getCurrentBaseFees(){return await this.node.getCurrentBaseFees()}proveTx(e,t){return Lt(this,en,u_).call(this,async()=>{try{const{publicInputs:n,clientIvcProof:i}=await Lt(this,en,oA).call(this,e,this.proofCreator,t,{simulate:!1,skipFeeEnforcement:!1,profile:!1});return new Dp(t,n,i)}catch(n){throw this.contextualizeError(n,St.inspect(e),St.inspect(t))}})}simulateTx(e,t,n=void 0,i=!1,s=!1,c=!1,u){return Lt(this,en,u_).call(this,async()=>{try{const d={origin:e.origin,functionSelector:e.functionSelector,simulatePublic:t,msgSender:n,chainId:e.txContext.chainId,version:e.txContext.version,authWitnesses:e.authWitnesses.map(N=>N.requestHash)};this.log.info(`Simulating transaction execution request to ${e.functionSelector} at ${e.origin}`,d);const l=new fh;await this.synchronizer.sync();const m=await Lt(this,en,g5).call(this,e,n,u),{publicInputs:y,profileResult:b}=await Lt(this,en,oA).call(this,e,this.proofCreator,m,{simulate:!c,skipFeeEnforcement:s,profile:c}),E=new cO(m,y),I=E.toSimulatedTx();let S;if(t&&y.forPublic&&(S=await Lt(this,en,y5).call(this,I,s)),!i&&(await this.node.isValidTx(I,{isSimulation:!0,skipFeeEnforcement:s})).result==="invalid")throw new Error("The simulated transaction is unable to be added to state and is invalid.");const P=await I.getTxHash();return this.log.info(`Simulation completed for ${P.toString()} in ${l.ms()}ms`,{txHash:P,...d,...b?{gateCounts:b.gateCounts}:{},...S?{gasUsed:S.gasUsed,revertCode:S.txEffect.revertCode.getCode(),revertReason:S.revertReason}:{}}),Id.fromPrivateSimulationResultAndPublicOutput(E,S,b)}catch(d){throw this.contextualizeError(d,St.inspect(e),`simulatePublic=${t}`,`msgSender=${(n==null?void 0:n.toString())??"undefined"}`,`skipTxValidation=${i}`,`profile=${c}`,`scopes=${(u==null?void 0:u.map(l=>l.toString()).join(", "))??"undefined"}`)}})}async sendTx(e){const t=await e.getTxHash();if(await this.node.getTxEffect(t))throw new Error(`A settled tx with equal hash ${t.toString()} exists.`);return this.log.debug(`Sending transaction ${t}`),await this.node.sendTx(e).catch(n=>{throw this.contextualizeError(n,St.inspect(e))}),this.log.info(`Sent transaction ${t}`),t}simulateUnconstrained(e,t,n,i,s){return Lt(this,en,u_).call(this,async()=>{try{await this.synchronizer.sync();const c=await Lt(this,en,p5).call(this,e,t,n);return await Lt(this,en,_5).call(this,c,s)}catch(c){const u=t.map(d=>d.toString()).join(", ");throw this.contextualizeError(c,`simulateUnconstrained ${n}:${e}(${u})`,`scopes=${(s==null?void 0:s.map(d=>d.toString()).join(", "))??"undefined"}`)}})}getTxReceipt(e){return this.node.getTxReceipt(e)}getTxEffect(e){return this.node.getTxEffect(e)}async getBlockNumber(){return await this.node.getBlockNumber()}async getProvenBlockNumber(){return await this.node.getProvenBlockNumber()}getPublicLogs(e){return this.node.getPublicLogs(e)}getContractClassLogs(e){return this.node.getContractClassLogs(e)}async getNodeInfo(){const[e,t,n,i,s,c]=await Promise.all([this.node.getNodeVersion(),this.node.getVersion(),this.node.getChainId(),this.node.getEncodedEnr(),this.node.getL1ContractAddresses(),this.node.getProtocolContractAddresses()]);return{nodeVersion:e,l1ChainId:n,protocolVersion:t,enr:i,l1ContractAddresses:s,protocolContractAddresses:c}}getPXEInfo(){return Promise.resolve({pxeVersion:this.packageVersion,protocolContractAddresses:{classRegisterer:Hi.ContractClassRegisterer,feeJuice:Hi.FeeJuice,instanceDeployer:Hi.ContractInstanceDeployer,multiCallEntrypoint:Hi.MultiCallEntrypoint}})}async getPrivateEvents(e,t,n,i){const s=new Y_(e);if(i.length===0)throw new Error("Tried to get encrypted events without supplying any viewing public keys");const d=(await this.node.getBlocks(t,n)).flatMap(b=>b.body.txEffects).flatMap(b=>b.privateLogs),l=await Promise.all(i.map(async b=>{const[E,I]=await this.keyStore.getKeyPrefixAndAccount(b);let S=await this.keyStore.getMasterSecretKey(b);if(E==="iv"){const P=(await this.getRegisteredAccounts()).find(k=>k.address.equals(I));if(!P)throw new Error("No registered account");const N=await P.getPreaddress();S=await Sv(N,S)}return S}));return(await Promise.all(d.map(async b=>{for(const E of l){const I=await jw.decryptAsIncoming(b,E);if(I!==void 0)return[I]}return[]}))).flat().map(b=>{if(b!==void 0&&b.eventTypeId.equals(s.eventSelector))return s.decode(b)}).filter(b=>b!==void 0)}async getPublicEvents(e,t,n){const i=new Y_(e),{logs:s}=await this.node.getPublicLogs({fromBlock:t,toBlock:t+n});return s.map(u=>{const d=i.fieldNames.length+1,l=u.log.log.slice(0,d);if(ro.fromField(l[l.length-1]).equals(i.eventSelector)){if(u.log.log.slice(d+1).find(m=>!m.isZero()))throw new Error("Something is weird here, we have matching EventSelectors, but the actual payload has mismatched length");return i.decode(u.log)}}).filter(u=>u!==void 0)}async resetNoteSyncData(){return await this.taggingDataProvider.resetNoteSyncData()}contextualizeError(e,...t){let n="";return t.length>0&&(n=`
Context:
${t.join(`
`)}`),e instanceof Dc?e.setAztecContext(n):(this.log.error(e.name,e),this.log.debug(n)),e}};en=new WeakSet,u_=function(e){return this.jobQueue.length()!=0&&this.log.warn(`PXE is already processing ${this.jobQueue.length()} jobs, concurrent execution is not supported. Will run once those are complete.`),this.jobQueue.put(e)},p5=async function(e,t,n){const i=await this.contractDataProvider.getContract(n);if(!i)throw new Error(`Unknown contract ${n}: add it to PXE Service by calling server.addContracts(...).
See docs for context: https://docs.aztec.network/developers/reference/debugging/aztecnr-errors#unknown-contract-0x0-add-it-to-pxe-by-calling-serveraddcontracts`);const s=i.functions.find(c=>c.name===e);if(!s)throw new Error(`Unknown function ${e} in contract ${i.name}.`);return{name:s.name,args:dm(s,t),selector:await $t.fromNameAndParameters(s.name,s.parameters),type:s.functionType,to:n,isStatic:s.isStatic,returnTypes:s.returnTypes}},m5=async function(){const e={};for(const t of jO){const{address:n,contractClass:i,instance:s,artifact:c}=await this.protocolContractsProvider.getProtocolContractArtifact(t);await this.contractDataProvider.addContractArtifact(i.id,c),await this.contractDataProvider.addContractInstance(s),e[t]=n.toString()}this.log.verbose("Registered protocol contracts in pxe",e)},aA=function(e){const t=e.to??e.origin,n=e.selector??e.functionSelector;return{contractAddress:t,functionSelector:n}},g5=async function(e,t,n){const{contractAddress:i,functionSelector:s}=Lt(this,en,aA).call(this,e);try{const c=await this.simulator.run(e,i,s,t,n);return this.log.debug(`Private simulation completed for ${i.toString()}:${s}`),c}catch(c){throw c instanceof Dc&&await iA(c,this.contractDataProvider,this.log),c}},_5=async function(e,t){const{contractAddress:n,functionSelector:i}=Lt(this,en,aA).call(this,e);this.log.debug("Executing unconstrained simulator...");try{const s=await this.simulator.runUnconstrained(e,n,i,t);return this.log.verbose(`Unconstrained simulation for ${n}.${i} completed`),s}catch(s){throw s instanceof Dc&&await iA(s,this.contractDataProvider,this.log),s}},y5=async function(e,t){try{const n=await this.node.simulatePublicCalls(e,t);if(n.revertReason)throw n.revertReason;return n}catch(n){if(n instanceof Dc)try{await kK(n,this.contractDataProvider,this.log)}catch(i){this.log.error(`Failed to enrich public simulation error: ${i}`)}throw n}},oA=async function(e,t,n,{simulate:i,skipFeeEnforcement:s,profile:c}){const u=n.entrypoint.publicInputs.historicalHeader.globalVariables.blockNumber.toNumber(),d=new pK(this.contractDataProvider,this.keyStore,this.node,u),l=new yK(d,t,!this.proverEnabled);return this.log.debug(`Executing kernel prover (simulate: ${i}, profile: ${c})...`),await l.prove(e.toTxRequest(),n,{simulate:i,skipFeeEnforcement:s,profile:c})},w5=async function(e){return!!await this.node.getContractClass(e)},v5=async function(e){return!!await this.node.getContract(e)},b5=async function(e){const t=await uh(e,e.toField());return!!await this.node.getNullifierMembershipWitness("latest",t)};let sA=JC;const RK={dataDirectory:{env:"DATA_DIRECTORY",description:"Optional dir to store data. If omitted will store in memory."},dataStoreMapSizeKB:{env:"DATA_STORE_MAP_SIZE_KB",description:"DB mapping size to be applied to all key/value stores",...zA(128*1024*1024)},l1Contracts:{description:"The deployed L1 contract addresses",nested:OO}};ea.ZERO;const PK={l1ChainId:{env:"L1_CHAIN_ID",parseEnv:r=>+r,defaultValue:31337,description:"The chain ID of the ethereum host."},version:{env:"VERSION",description:"The version of the rollup.",...zA(1)},l1Contracts:{description:"The deployed L1 contract addresses",nested:OO}},E5={...RK,...PK,l2StartingBlock:{env:"PXE_L2_STARTING_BLOCK",...zA(QA),description:"L2 block to start scanning from for new accounts"},bbBinaryPath:{env:"BB_BINARY_PATH",description:"Path to the BB binary"},bbWorkingDirectory:{env:"BB_WORKING_DIRECTORY",description:"Working directory for the BB binary"},bbSkipCleanup:{env:"BB_SKIP_CLEANUP",description:"True to skip cleanup of temporary files for debugging purposes",...eT()},proverEnabled:{env:"PXE_PROVER_ENABLED",description:"Enable real proofs",...eT()}};function BK(){return LB(E5)}({...E5});function ar(r){const{keyAsBytes:e,keyAsFields:t,vkHash:n}=r;return new Po(new bi(t.map(i=>H.fromHexString(i)),H.fromHexString(n)),$e.from(e,"hex"))}const P2={PrivateKernelInitArtifact:"private_kernel_init",PrivateKernelInnerArtifact:"private_kernel_inner",PrivateKernelTailArtifact:"private_kernel_tail",PrivateKernelTailToPublicArtifact:"private_kernel_tail_to_public",PrivateKernelResetArtifact_32_4_32_4_4_4_4_4_4:"private_kernel_reset_32_4_32_4_4_4_4_4_4",PrivateKernelResetArtifact_32_4_32_4_4_4_4_4_32:"private_kernel_reset_32_4_32_4_4_4_4_4_32",PrivateKernelResetArtifact_32_4_32_4_4_4_4_64_4:"private_kernel_reset_32_4_32_4_4_4_4_64_4",PrivateKernelResetArtifact_32_4_32_4_4_4_4_64_32:"private_kernel_reset_32_4_32_4_4_4_4_64_32",PrivateKernelResetArtifact_32_4_32_4_4_4_64_4_4:"private_kernel_reset_32_4_32_4_4_4_64_4_4",PrivateKernelResetArtifact_32_4_32_4_4_4_64_4_32:"private_kernel_reset_32_4_32_4_4_4_64_4_32",PrivateKernelResetArtifact_32_4_32_4_4_4_64_64_4:"private_kernel_reset_32_4_32_4_4_4_64_64_4",PrivateKernelResetArtifact_32_4_32_4_4_4_64_64_32:"private_kernel_reset_32_4_32_4_4_4_64_64_32",PrivateKernelResetArtifact_32_4_32_16_4_4_4_4_4:"private_kernel_reset_32_4_32_16_4_4_4_4_4",PrivateKernelResetArtifact_32_4_32_16_4_4_4_4_32:"private_kernel_reset_32_4_32_16_4_4_4_4_32",PrivateKernelResetArtifact_32_4_32_16_4_4_4_64_4:"private_kernel_reset_32_4_32_16_4_4_4_64_4",PrivateKernelResetArtifact_32_4_32_16_4_4_4_64_32:"private_kernel_reset_32_4_32_16_4_4_4_64_32",PrivateKernelResetArtifact_32_4_32_16_4_4_64_4_4:"private_kernel_reset_32_4_32_16_4_4_64_4_4",PrivateKernelResetArtifact_32_4_32_16_4_4_64_4_32:"private_kernel_reset_32_4_32_16_4_4_64_4_32",PrivateKernelResetArtifact_32_4_32_16_4_4_64_64_4:"private_kernel_reset_32_4_32_16_4_4_64_64_4",PrivateKernelResetArtifact_32_4_32_16_4_4_64_64_32:"private_kernel_reset_32_4_32_16_4_4_64_64_32",PrivateKernelResetArtifact_32_16_32_4_4_4_4_4_4:"private_kernel_reset_32_16_32_4_4_4_4_4_4",PrivateKernelResetArtifact_32_16_32_4_4_4_4_4_32:"private_kernel_reset_32_16_32_4_4_4_4_4_32",PrivateKernelResetArtifact_32_16_32_4_4_4_4_64_4:"private_kernel_reset_32_16_32_4_4_4_4_64_4",PrivateKernelResetArtifact_32_16_32_4_4_4_4_64_32:"private_kernel_reset_32_16_32_4_4_4_4_64_32",PrivateKernelResetArtifact_32_16_32_4_4_4_64_4_4:"private_kernel_reset_32_16_32_4_4_4_64_4_4",PrivateKernelResetArtifact_32_16_32_4_4_4_64_4_32:"private_kernel_reset_32_16_32_4_4_4_64_4_32",PrivateKernelResetArtifact_32_16_32_4_4_4_64_64_4:"private_kernel_reset_32_16_32_4_4_4_64_64_4",PrivateKernelResetArtifact_32_16_32_4_4_4_64_64_32:"private_kernel_reset_32_16_32_4_4_4_64_64_32",PrivateKernelResetArtifact_32_16_32_16_4_4_4_4_4:"private_kernel_reset_32_16_32_16_4_4_4_4_4",PrivateKernelResetArtifact_32_16_32_16_4_4_4_4_32:"private_kernel_reset_32_16_32_16_4_4_4_4_32",PrivateKernelResetArtifact_32_16_32_16_4_4_4_64_4:"private_kernel_reset_32_16_32_16_4_4_4_64_4",PrivateKernelResetArtifact_32_16_32_16_4_4_4_64_32:"private_kernel_reset_32_16_32_16_4_4_4_64_32",PrivateKernelResetArtifact_32_16_32_16_4_4_64_4_4:"private_kernel_reset_32_16_32_16_4_4_64_4_4",PrivateKernelResetArtifact_32_16_32_16_4_4_64_4_32:"private_kernel_reset_32_16_32_16_4_4_64_4_32",PrivateKernelResetArtifact_32_16_32_16_4_4_64_64_4:"private_kernel_reset_32_16_32_16_4_4_64_64_4",PrivateKernelResetArtifact_32_16_32_16_4_4_64_64_32:"private_kernel_reset_32_16_32_16_4_4_64_64_32",PrivateKernelResetArtifact_64_0_0_0_0_0_0_0_0:"private_kernel_reset_64_0_0_0_0_0_0_0_0",PrivateKernelResetArtifact_0_64_0_0_0_0_0_0_0:"private_kernel_reset_0_64_0_0_0_0_0_0_0",PrivateKernelResetArtifact_0_0_64_0_0_0_0_0_0:"private_kernel_reset_0_0_64_0_0_0_0_0_0",PrivateKernelResetArtifact_0_0_0_64_0_0_0_0_0:"private_kernel_reset_0_0_0_64_0_0_0_0_0",PrivateKernelResetArtifact_0_0_0_0_64_0_0_0_0:"private_kernel_reset_0_0_0_0_64_0_0_0_0",PrivateKernelResetArtifact_0_0_0_0_0_64_0_0_0:"private_kernel_reset_0_0_0_0_0_64_0_0_0",PrivateKernelResetArtifact_4_4_4_4_4_4_4_4_4:"private_kernel_reset_4_4_4_4_4_4_4_4_4",PrivateKernelResetArtifact_16_16_16_16_16_16_16_16_16:"private_kernel_reset_16_16_16_16_16_16_16_16_16",PrivateKernelResetArtifact_32_32_32_32_32_32_32_32_32:"private_kernel_reset_32_32_32_32_32_32_32_32_32",PrivateKernelResetArtifact_64_64_64_64_64_64_64_64_32:"private_kernel_reset"};async function PR(r,e){switch(r.includes("private_kernel_reset")?`${e?r.replace("private_kernel_reset","private_kernel_reset_simulated"):r}`:`${r}${e?"_simulated":""}`){case"private_kernel_init":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_init-Coh7O71r.js");return{default:s}},[]);return i}case"private_kernel_init_simulated":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_init_simulated-n2LrfYKw.js");return{default:s}},[]);return i}case"private_kernel_inner":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_inner-CBzwC8U2.js");return{default:s}},[]);return i}case"private_kernel_inner_simulated":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_inner_simulated-Cs8lBOVQ.js");return{default:s}},[]);return i}case"private_kernel_tail":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_tail-D51kLqtO.js");return{default:s}},[]);return i}case"private_kernel_tail_simulated":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_tail_simulated-DoToMcmr.js");return{default:s}},[]);return i}case"private_kernel_tail_to_public":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_tail_to_public-DMeCeoCZ.js");return{default:s}},[]);return i}case"private_kernel_tail_to_public_simulated":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_tail_to_public_simulated-DUOcl6oV.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_4_4_4_4_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_4_4_4_4_4_4-D9pKbsAr.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_4_4_4_4_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_4_4_4_4_4_4-C8wmFL7R.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_4_4_4_4_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_4_4_4_4_4_32-BbubT4u2.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_4_4_4_4_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_4_4_4_4_4_32-ztgNta7E.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_4_4_4_4_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_4_4_4_4_64_4-CKo-Fh-G.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_4_4_4_4_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_4_4_4_4_64_4-Bofyhv-H.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_4_4_4_4_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_4_4_4_4_64_32-BfONvbg8.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_4_4_4_4_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_4_4_4_4_64_32-CRe74ehd.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_4_4_4_64_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_4_4_4_64_4_4-BbifIVu5.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_4_4_4_64_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_4_4_4_64_4_4-BTiyEV9B.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_4_4_4_64_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_4_4_4_64_4_32-CdwfptRK.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_4_4_4_64_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_4_4_4_64_4_32-BWqACVBI.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_4_4_4_64_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_4_4_4_64_64_4-DHPTFNOr.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_4_4_4_64_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_4_4_4_64_64_4-f_ICjP6L.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_4_4_4_64_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_4_4_4_64_64_32-goa726qP.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_4_4_4_64_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_4_4_4_64_64_32-CTHvje59.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_16_4_4_4_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_16_4_4_4_4_4-DQhuLvKD.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_16_4_4_4_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_16_4_4_4_4_4-BGX6pMic.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_16_4_4_4_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_16_4_4_4_4_32-Dkn5jE1t.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_16_4_4_4_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_16_4_4_4_4_32-D2osTunW.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_16_4_4_4_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_16_4_4_4_64_4-BhdAcFrc.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_16_4_4_4_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_16_4_4_4_64_4-DKROuHAX.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_16_4_4_4_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_16_4_4_4_64_32-IDGQGG_C.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_16_4_4_4_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_16_4_4_4_64_32-ZT82u0Jp.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_16_4_4_64_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_16_4_4_64_4_4-DfsgMLYs.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_16_4_4_64_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_16_4_4_64_4_4-CXipEAck.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_16_4_4_64_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_16_4_4_64_4_32-BziOgnVA.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_16_4_4_64_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_16_4_4_64_4_32-UX7t0ZWY.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_16_4_4_64_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_16_4_4_64_64_4-1CrrSQdI.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_16_4_4_64_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_16_4_4_64_64_4-Dmfy1R3M.js");return{default:s}},[]);return i}case"private_kernel_reset_32_4_32_16_4_4_64_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_4_32_16_4_4_64_64_32-4ONZpWqq.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_4_32_16_4_4_64_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_4_32_16_4_4_64_64_32-Bz1GciAs.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_4_4_4_4_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_4_4_4_4_4_4-BvS5FroV.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_4_4_4_4_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_4_4_4_4_4_4-DrNH8MNb.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_4_4_4_4_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_4_4_4_4_4_32-DJDlzyXS.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_4_4_4_4_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_4_4_4_4_4_32-aytTdPqY.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_4_4_4_4_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_4_4_4_4_64_4-DqirFcK_.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_4_4_4_4_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_4_4_4_4_64_4-CdrM2Qu0.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_4_4_4_4_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_4_4_4_4_64_32-0aRJzb-O.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_4_4_4_4_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_4_4_4_4_64_32-B-nL7daD.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_4_4_4_64_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_4_4_4_64_4_4-Dnvy_cFG.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_4_4_4_64_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_4_4_4_64_4_4-Dl5LlKmX.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_4_4_4_64_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_4_4_4_64_4_32-rQkWT7Cv.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_4_4_4_64_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_4_4_4_64_4_32-B3zKFZlG.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_4_4_4_64_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_4_4_4_64_64_4--ap-eVfG.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_4_4_4_64_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_4_4_4_64_64_4-BRrAKxCR.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_4_4_4_64_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_4_4_4_64_64_32-DXc5QAQt.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_4_4_4_64_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_4_4_4_64_64_32-D1hFN596.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_16_4_4_4_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_16_4_4_4_4_4-OyeJy6ko.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_16_4_4_4_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_16_4_4_4_4_4-5GTHVVAG.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_16_4_4_4_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_16_4_4_4_4_32-Bnt1vvMo.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_16_4_4_4_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_16_4_4_4_4_32-Dvh90x05.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_16_4_4_4_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_16_4_4_4_64_4-Be8cNjqW.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_16_4_4_4_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_16_4_4_4_64_4-Pc-iFz6q.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_16_4_4_4_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_16_4_4_4_64_32-EoTgkMOM.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_16_4_4_4_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_16_4_4_4_64_32-BpJyK4M2.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_16_4_4_64_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_16_4_4_64_4_4-CgK1rSDV.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_16_4_4_64_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_16_4_4_64_4_4-Con4V4MU.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_16_4_4_64_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_16_4_4_64_4_32-Bkch813B.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_16_4_4_64_4_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_16_4_4_64_4_32-C0XME1qi.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_16_4_4_64_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_16_4_4_64_64_4-Gk6TOjNb.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_16_4_4_64_64_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_16_4_4_64_64_4-DLQ97NK0.js");return{default:s}},[]);return i}case"private_kernel_reset_32_16_32_16_4_4_64_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_16_32_16_4_4_64_64_32-D9Cwy_Zz.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_16_32_16_4_4_64_64_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_16_32_16_4_4_64_64_32-CvKj58kz.js");return{default:s}},[]);return i}case"private_kernel_reset_64_0_0_0_0_0_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_64_0_0_0_0_0_0_0_0-Ch05bbq8.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_64_0_0_0_0_0_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_64_0_0_0_0_0_0_0_0-DgjYqpCP.js");return{default:s}},[]);return i}case"private_kernel_reset_0_64_0_0_0_0_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_0_64_0_0_0_0_0_0_0-N6UaM783.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_0_64_0_0_0_0_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_0_64_0_0_0_0_0_0_0-Df5z1x4W.js");return{default:s}},[]);return i}case"private_kernel_reset_0_0_64_0_0_0_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_0_0_64_0_0_0_0_0_0-BIdMVuX0.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_0_0_64_0_0_0_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_0_0_64_0_0_0_0_0_0-DpxaISDr.js");return{default:s}},[]);return i}case"private_kernel_reset_0_0_0_64_0_0_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_0_0_0_64_0_0_0_0_0-CX4Lv_Tx.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_0_0_0_64_0_0_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_0_0_0_64_0_0_0_0_0-BMLTEX6P.js");return{default:s}},[]);return i}case"private_kernel_reset_0_0_0_0_64_0_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_0_0_0_0_64_0_0_0_0-Cc7YVM6Q.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_0_0_0_0_64_0_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_0_0_0_0_64_0_0_0_0-CHdErQfq.js");return{default:s}},[]);return i}case"private_kernel_reset_0_0_0_0_0_64_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_0_0_0_0_0_64_0_0_0-CiXNEOU0.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_0_0_0_0_0_64_0_0_0":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_0_0_0_0_0_64_0_0_0-CUCKLWD9.js");return{default:s}},[]);return i}case"private_kernel_reset_4_4_4_4_4_4_4_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_4_4_4_4_4_4_4_4_4-DXWe6vF4.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_4_4_4_4_4_4_4_4_4":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_4_4_4_4_4_4_4_4_4-C233nm2i.js");return{default:s}},[]);return i}case"private_kernel_reset_16_16_16_16_16_16_16_16_16":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_16_16_16_16_16_16_16_16_16-B4N0teD_.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_16_16_16_16_16_16_16_16_16":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_16_16_16_16_16_16_16_16_16-DYfT8D85.js");return{default:s}},[]);return i}case"private_kernel_reset_32_32_32_32_32_32_32_32_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_32_32_32_32_32_32_32_32_32-AbIe6Xd1.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated_32_32_32_32_32_32_32_32_32":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated_32_32_32_32_32_32_32_32_32-C_TzPGHB.js");return{default:s}},[]);return i}case"private_kernel_reset":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset-q6_d2k6v.js");return{default:s}},[]);return i}case"private_kernel_reset_simulated":{const{default:i}=await Xe(async()=>{const{default:s}=await import("./private_kernel_reset_simulated-CZaWMSwI.js");return{default:s}},[]);return i}default:throw new Error(`Unknown artifact: ${r}`)}}async function NK(r){switch(r){case"private_kernel_init":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_init.vk.data-CY6L3zMJ.js");return{default:t}},[]);return ar(e)}case"private_kernel_inner":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_inner.vk.data-CVpxPfyx.js");return{default:t}},[]);return ar(e)}case"private_kernel_tail":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_tail.vk.data-CqcX2EB9.js");return{default:t}},[]);return ar(e)}case"private_kernel_tail_to_public":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_tail_to_public.vk.data-BkiEBQch.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_4_4_4_4_4_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_4_4_4_4_4_4.vk.data-Chy5Qb6T.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_4_4_4_4_4_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_4_4_4_4_4_32.vk.data-yeGmYlSe.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_4_4_4_4_64_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_4_4_4_4_64_4.vk.data-BATEETvQ.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_4_4_4_4_64_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_4_4_4_4_64_32.vk.data-Bao2Tc_L.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_4_4_4_64_4_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_4_4_4_64_4_4.vk.data-3SBD4P3v.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_4_4_4_64_4_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_4_4_4_64_4_32.vk.data-DJaUhVCa.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_4_4_4_64_64_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_4_4_4_64_64_4.vk.data-Bq6Qw9Fl.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_4_4_4_64_64_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_4_4_4_64_64_32.vk.data-CNy6UYO9.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_16_4_4_4_4_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_16_4_4_4_4_4.vk.data-Nq7yBOnw.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_16_4_4_4_4_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_16_4_4_4_4_32.vk.data-BYKJq-E1.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_16_4_4_4_64_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_16_4_4_4_64_4.vk.data-9fA3R0R5.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_16_4_4_4_64_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_16_4_4_4_64_32.vk.data-DmmWiBVN.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_16_4_4_64_4_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_16_4_4_64_4_4.vk.data-Qyh-ODsR.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_16_4_4_64_4_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_16_4_4_64_4_32.vk.data-BKmD29QN.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_16_4_4_64_64_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_16_4_4_64_64_4.vk.data-Dl9vs6Bl.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_4_32_16_4_4_64_64_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_4_32_16_4_4_64_64_32.vk.data-D44nEugI.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_4_4_4_4_4_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_4_4_4_4_4_4.vk.data-sbaVPPHW.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_4_4_4_4_4_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_4_4_4_4_4_32.vk.data-KBpuGKnP.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_4_4_4_4_64_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_4_4_4_4_64_4.vk.data-DzdJ2nZz.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_4_4_4_4_64_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_4_4_4_4_64_32.vk.data-CvNP00ER.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_4_4_4_64_4_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_4_4_4_64_4_4.vk.data-LnsCygbH.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_4_4_4_64_4_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_4_4_4_64_4_32.vk.data-BcamkfOD.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_4_4_4_64_64_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_4_4_4_64_64_4.vk.data-DTCWQhvH.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_4_4_4_64_64_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_4_4_4_64_64_32.vk.data-BOokw08M.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_16_4_4_4_4_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_16_4_4_4_4_4.vk.data-Ip-Md2ZQ.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_16_4_4_4_4_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_16_4_4_4_4_32.vk.data-qTLQ_JyX.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_16_4_4_4_64_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_16_4_4_4_64_4.vk.data-D_kL9xwT.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_16_4_4_4_64_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_16_4_4_4_64_32.vk.data-B921rf43.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_16_4_4_64_4_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_16_4_4_64_4_4.vk.data-BdPw_RHZ.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_16_4_4_64_4_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_16_4_4_64_4_32.vk.data-BWo_atKi.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_16_4_4_64_64_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_16_4_4_64_64_4.vk.data-uVjrEYE5.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_16_32_16_4_4_64_64_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_16_32_16_4_4_64_64_32.vk.data-B2twza6e.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_64_0_0_0_0_0_0_0_0":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_64_0_0_0_0_0_0_0_0.vk.data-CUeGIOhT.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_0_64_0_0_0_0_0_0_0":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_0_64_0_0_0_0_0_0_0.vk.data-DCahwhyX.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_0_0_64_0_0_0_0_0_0":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_0_0_64_0_0_0_0_0_0.vk.data-CNzuP3v1.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_0_0_0_64_0_0_0_0_0":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_0_0_0_64_0_0_0_0_0.vk.data-DUQWDbRh.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_0_0_0_0_64_0_0_0_0":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_0_0_0_0_64_0_0_0_0.vk.data-7Y4Qu6x8.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_0_0_0_0_0_64_0_0_0":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_0_0_0_0_0_64_0_0_0.vk.data-DORp9MAR.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_4_4_4_4_4_4_4_4_4":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_4_4_4_4_4_4_4_4_4.vk.data-Co9c2v_V.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_16_16_16_16_16_16_16_16_16":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_16_16_16_16_16_16_16_16_16.vk.data-CUMS21Yb.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset_32_32_32_32_32_32_32_32_32":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset_32_32_32_32_32_32_32_32_32.vk.data-DuaKYwYO.js");return{default:t}},[]);return ar(e)}case"private_kernel_reset":{const{default:e}=await Xe(async()=>{const{default:t}=await import("./private_kernel_reset.vk.data-R42DvmYY.js");return{default:t}},[]);return ar(e)}default:throw new Error(`Unknown artifact: ${r}`)}}class OK{getClientCircuitArtifactByName(e){return PR(P2[e],!1)}getSimulatedClientCircuitArtifactByName(e){return PR(P2[e],!0)}getCircuitVkByName(e){return NK(P2[e])}}function B2(r){switch(r){case"BaseParityArtifact":return"base-parity";case"RootParityArtifact":return"root-parity";case"PrivateBaseRollupArtifact":return"private-base-rollup";case"PublicBaseRollupArtifact":return"public-base-rollup";case"MergeRollupArtifact":return"merge-rollup";case"BlockRootRollupArtifact":return"block-root-rollup";case"SingleTxBlockRootRollupArtifact":return"single-tx-block-root-rollup";case"EmptyBlockRootRollupArtifact":return"empty-block-root-rollup";case"BlockMergeRollupArtifact":return"block-merge-rollup";case"RootRollupArtifact":return"root-rollup";case"PrivateKernelInitArtifact":return"private-kernel-init";case"PrivateKernelInnerArtifact":return"private-kernel-inner";case"PrivateKernelTailArtifact":return"private-kernel-tail";case"PrivateKernelTailToPublicArtifact":return"private-kernel-tail-to-public";default:{if(r.startsWith("PrivateKernelReset"))return"private-kernel-reset";throw new Error(`Unknown circuit type: ${r}`)}}}class FK{constructor(e,t,n=Pr("bb-prover")){x(this,"artifactProvider");x(this,"simulationProvider");x(this,"log");this.artifactProvider=e,this.simulationProvider=t,this.log=n}async generateInitOutput(e){return await this.generateCircuitOutput(e,"PrivateKernelInitArtifact",_R,ER)}async simulateInit(e){return await this.simulateCircuitOutput(e,"PrivateKernelInitArtifact",_R,ER)}async generateInnerOutput(e){return await this.generateCircuitOutput(e,"PrivateKernelInnerArtifact",yR,SR)}async simulateInner(e){return await this.simulateCircuitOutput(e,"PrivateKernelInnerArtifact",yR,SR)}async generateResetOutput(e){const t=e.trimToSizes(),n=TR(e.dimensions);return await this.generateCircuitOutput(t,n,wR,xR)}async simulateReset(e){sK(e);const t=e.trimToSizes(),n=TR(e.dimensions);return await this.simulateCircuitOutput(t,n,wR,xR)}async generateTailOutput(e){return e.isForPublic()?await this.generateCircuitOutput(e,"PrivateKernelTailToPublicArtifact",bR,CR):await this.generateCircuitOutput(e,"PrivateKernelTailArtifact",vR,AR)}async simulateTail(e){return e.isForPublic()?await this.simulateCircuitOutput(e,"PrivateKernelTailToPublicArtifact",bR,CR):await this.simulateCircuitOutput(e,"PrivateKernelTailArtifact",vR,AR)}async simulateCircuitOutput(e,t,n,i){const s=await this.artifactProvider.getSimulatedClientCircuitArtifactByName(t),c=n(e,s.abi),u=new fh,d=await this.simulationProvider.executeProtocolCircuit(c,s).catch(m=>{throw this.log.debug(`Failed to simulate ${t}`,{circuitName:B2(t),error:m}),m}),l=i(d,s.abi);return this.log.debug(`Simulated ${t}`,{eventName:"circuit-simulation",circuitName:B2(t),duration:u.ms(),inputSize:e.toBuffer().length,outputSize:l.toBuffer().length}),this.makeEmptyKernelSimulateOutput(l,t)}async generateCircuitOutput(e,t,n,i){this.log.debug(`Generating witness for ${t}`);const s=await this.artifactProvider.getClientCircuitArtifactByName(t),c=n(e,s.abi),u=new fh,d=await this.simulationProvider.executeProtocolCircuit(c,s),l=i(d,s.abi);this.log.debug(`Generated witness for ${t}`,{eventName:"circuit-witness-generation",circuitName:B2(t),duration:u.ms(),inputSize:e.toBuffer().length,outputSize:l.toBuffer().length});const m=(await this.artifactProvider.getCircuitVkByName(t)).keyAsFields,y=$e.from(s.bytecode,"base64");return{publicInputs:l,verificationKey:m,outputWitness:d,bytecode:y}}async makeEmptyKernelSimulateOutput(e,t){return{publicInputs:e,verificationKey:(await this.artifactProvider.getCircuitVkByName(t)).keyAsFields,outputWitness:new Map,bytecode:$e.from([])}}createClientIvcProof(e,t){throw new Error("Not implemented")}computeGateCountForCircuit(e,t){throw new Error("Not implemented")}}var BR={};class LK extends FK{constructor(t,n,i=1,s=Pr("bb-prover:wasm")){super(t,n,s);x(this,"artifactProvider");x(this,"simulationProvider");x(this,"threads");x(this,"log");this.artifactProvider=t,this.simulationProvider=n,this.threads=i,this.log=s}async createClientIvcProof(t,n){const i=new fh;this.log.info("Generating ClientIVC proof...");const s=new Z4(t.map(d=>GE(d)),{threads:this.threads,logger:this.log.verbose,wasmPath:BR.BB_WASM_PATH}),[c,u]=await s.prove(n.map(d=>GE(hW(d))));return await s.destroy(),this.log.info("Generated ClientIVC proof",{eventName:"client-ivc-proof-generation",duration:i.ms(),proofSize:c.length,vkSize:u.length}),new $i($e.from(c),$e.from(u))}async computeGateCountForCircuit(t,n){const i=new Z4([GE(t)],{threads:this.threads,logger:this.log.verbose,wasmPath:BR.BB_WASM_PATH}),s=await i.gates();return await i.destroy(),s[0]}}class DK extends LK{constructor(e,t=1,n=Pr("bb-prover:wasm:lazy")){super(new OK,e,t,n)}}function MK(r){return r.syncGetters===!0}async function jK(r,e,t){if(!e)throw new Error("Rollup address is required");const n=r.openSingleton("rollupAddress"),i=e.toString(),s=MK(r)?n.get():await n.getAsync();return typeof s<"u"&&s!==i&&(t==null||t.warn("Rollup address mismatch. Clearing entire database...",{expected:i,found:s}),await r.clear()),await n.set(i),r}const cA=(r,e)=>e.some(t=>r instanceof t);let NR,OR;function $K(){return NR||(NR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UK(){return OR||(OR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uA=new WeakMap,N2=new WeakMap,Uv=new WeakMap;function zK(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",c)},s=()=>{t(sf(r.result)),i()},c=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",c)});return Uv.set(e,r),e}function HK(r){if(uA.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",c),r.removeEventListener("abort",c)},s=()=>{t(),i()},c=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",c),r.addEventListener("abort",c)});uA.set(r,e)}let lA={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return uA.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sf(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function S5(r){lA=r(lA)}function qK(r){return UK().includes(r)?function(...e){return r.apply(fA(this),e),sf(this.request)}:function(...e){return sf(r.apply(fA(this),e))}}function VK(r){return typeof r=="function"?qK(r):(r instanceof IDBTransaction&&HK(r),cA(r,$K())?new Proxy(r,lA):r)}function sf(r){if(r instanceof IDBRequest)return zK(r);if(N2.has(r))return N2.get(r);const e=VK(r);return e!==r&&(N2.set(r,e),Uv.set(e,r)),e}const fA=r=>Uv.get(r);function WK(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const c=indexedDB.open(r,e),u=sf(c);return n&&c.addEventListener("upgradeneeded",d=>{n(sf(c.result),d.oldVersion,d.newVersion,sf(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),u}function ZK(r,{blocked:e}={}){const t=indexedDB.deleteDatabase(r);return e&&t.addEventListener("blocked",n=>e(n.oldVersion,n)),sf(t).then(()=>{})}const KK=["get","getKey","getAll","getAllKeys","count"],GK=["put","add","delete","clear"],O2=new Map;function FR(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(O2.get(e))return O2.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=GK.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||KK.includes(t)))return;const s=async function(c,...u){const d=this.transaction(c,i?"readwrite":"readonly");let l=d.store;return n&&(l=l.index(u.shift())),(await Promise.all([l[t](...u),i&&d.done]))[0]};return O2.set(e,s),s}S5(r=>({...r,get:(e,t,n)=>FR(e,t)||r.get(e,t,n),has:(e,t)=>!!FR(e,t)||r.has(e,t)}));const YK=["continue","continuePrimaryKey","advance"],LR={},dA=new WeakMap,x5=new WeakMap,XK={get(r,e){if(!YK.includes(e))return r[e];let t=LR[e];return t||(t=LR[e]=function(...n){dA.set(this,x5.get(this)[e](...n))}),t}};async function*JK(...r){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...r)),!e)return;e=e;const t=new Proxy(e,XK);for(x5.set(t,e),Uv.set(t,fA(e));e;)yield t,e=await(dA.get(t)||e.continue()),dA.delete(t)}function DR(r,e){return e===Symbol.asyncIterator&&cA(r,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&cA(r,[IDBIndex,IDBObjectStore])}S5(r=>({...r,get(e,t,n){return DR(e,t)?JK:r.get(e,t,n)},has(e,t){return DR(e,t)||r.has(e,t)}}));var qp,iy,Ic,Ja,Hd,l_;class QK{constructor(e,t){Nt(this,Hd);Nt(this,qp);Nt(this,iy);Nt(this,Ic);Nt(this,Ja);Vt(this,iy,e),Vt(this,Ja,t),Vt(this,Ic,`array:${Ie(this,Ja)}`)}set db(e){Vt(this,qp,e)}get db(){return Ie(this,qp)?Ie(this,qp):Ie(this,iy).transaction("data","readwrite").store}async lengthAsync(){return await this.db.index("key").count(IDBKeyRange.bound([Ie(this,Ic),Ie(this,Ja)],[Ie(this,Ic),Ie(this,Ja)]))??0}async push(...e){let t=await this.lengthAsync();for(const n of e)await this.db.put({value:n,container:Ie(this,Ic),key:Ie(this,Ja),keyCount:t+1,slot:Lt(this,Hd,l_).call(this,t)}),t+=1;return t}async pop(){const e=await this.lengthAsync();if(e===0)return;const t=Lt(this,Hd,l_).call(this,e-1),n=await this.db.get(t);return await this.db.delete(t),n==null?void 0:n.value}async atAsync(e){const t=await this.lengthAsync();e<0&&(e=t+e);const n=await this.db.get(Lt(this,Hd,l_).call(this,e));return n==null?void 0:n.value}async setAt(e,t){const n=await this.lengthAsync();return e<0&&(e=n+e),e<0||e>=n?Promise.resolve(!1):(await this.db.put({value:t,container:Ie(this,Ic),key:Ie(this,Ja),keyCount:e+1,slot:Lt(this,Hd,l_).call(this,e)}),!0)}async*entriesAsync(){const e=this.db.index("key"),t=IDBKeyRange.bound([Ie(this,Ic),Ie(this,Ja)],[Ie(this,Ic),Ie(this,Ja)]);for await(const n of e.iterate(t))yield[n.value.keyCount-1,n.value.value]}async*valuesAsync(){for await(const[e,t]of this.entriesAsync())yield t}[Symbol.asyncIterator](){return this.valuesAsync()}}qp=new WeakMap,iy=new WeakMap,Ic=new WeakMap,Ja=new WeakMap,Hd=new WeakSet,l_=function(e){return`array:${Ie(this,Ja)}:slot:${e}`};var ya,Vp,sy,Di,A5,Tu,gw;class hA{constructor(e,t){Nt(this,Di);x(this,"name");Nt(this,ya);Nt(this,Vp);Nt(this,sy);this.name=t,Vt(this,ya,`map:${t}`),Vt(this,sy,e)}set db(e){Vt(this,Vp,e)}get db(){return Ie(this,Vp)?Ie(this,Vp):Ie(this,sy).transaction("data","readwrite").store}async getAsync(e){const t=await this.db.get(Lt(this,Di,gw).call(this,e));return t==null?void 0:t.value}async*getValuesAsync(e){const t=this.db.index("keyCount"),n=IDBKeyRange.bound([Ie(this,ya),Lt(this,Di,Tu).call(this,e),0],[Ie(this,ya),Lt(this,Di,Tu).call(this,e),Number.MAX_SAFE_INTEGER],!1,!1);for await(const i of t.iterate(n))yield i.value.value}async hasAsync(e){return await this.getAsync(e)!==void 0}async set(e,t){const n=await this.db.index("key").count(IDBKeyRange.bound([Ie(this,ya),Lt(this,Di,Tu).call(this,e)],[Ie(this,ya),Lt(this,Di,Tu).call(this,e)]));await this.db.put({value:t,container:Ie(this,ya),key:Lt(this,Di,Tu).call(this,e),keyCount:n+1,slot:Lt(this,Di,gw).call(this,e,n)})}swap(e,t){throw new Error("Not implemented")}async setIfNotExists(e,t){return await this.hasAsync(e)?!1:(await this.set(e,t),!0)}async delete(e){await this.db.delete(Lt(this,Di,gw).call(this,e))}async deleteValue(e,t){const n=this.db.index("keyCount"),i=IDBKeyRange.bound([Ie(this,ya),Lt(this,Di,Tu).call(this,e),0],[Ie(this,ya),Lt(this,Di,Tu).call(this,e),Number.MAX_SAFE_INTEGER],!1,!1);for await(const s of n.iterate(i))if(JSON.stringify(s.value.value)===JSON.stringify(t)){await s.delete();return}}async*entriesAsync(e={}){const t=this.db.index("key"),n=IDBKeyRange.bound([Ie(this,ya),e.start??""],[Ie(this,ya),e.end??""],!!e.reverse,!e.reverse);let i=0;for await(const s of t.iterate(n,e.reverse?"prev":"next")){if(e.limit&&i>=e.limit)return;yield[s.value.key,s.value.value],i++}}async*valuesAsync(e={}){for await(const[t,n]of this.entriesAsync(e))yield n}async*keysAsync(e={}){for await(const[t,n]of this.entriesAsync(e))yield Lt(this,Di,A5).call(this,t)}}ya=new WeakMap,Vp=new WeakMap,sy=new WeakMap,Di=new WeakSet,A5=function(e){const t=e.split(",").map(n=>isNaN(parseInt(n))?n:parseInt(n));return t.length>1?t:e},Tu=function(e){return(Array.isArray(e)?e:[e]).join(",")},gw=function(e,t=0){return`map:${this.name}:slot:${Lt(this,Di,Tu).call(this,e)}:${t}`};class eG{constructor(e,t){x(this,"map");this.map=new hA(e,t)}set db(e){this.map.db=e}hasAsync(e){return this.map.hasAsync(e)}add(e){return this.map.set(e,!0)}delete(e){return this.map.delete(e)}async*entriesAsync(e={}){yield*this.map.keysAsync(e)}}var Wp,ay,oy,Wl;class tG{constructor(e,t){Nt(this,Wp);Nt(this,ay);Nt(this,oy);Nt(this,Wl);Vt(this,ay,e),Vt(this,oy,`singleton:${t}`),Vt(this,Wl,`singleton:${t}:value`)}set db(e){Vt(this,Wp,e)}get db(){return Ie(this,Wp)?Ie(this,Wp):Ie(this,ay).transaction("data","readwrite").store}async getAsync(){const e=await this.db.get(Ie(this,Wl));return e==null?void 0:e.value}async set(e){return await this.db.put({container:Ie(this,oy),slot:Ie(this,Wl),key:Ie(this,Wl),keyCount:1,value:e})!==void 0}async delete(){return await this.db.delete(Ie(this,Wl)),!0}}Wp=new WeakMap,ay=new WeakMap,oy=new WeakMap,Wl=new WeakMap;var qd,Gs,Vd,Qa;const iv=class iv{constructor(e,t,n,i){x(this,"isEphemeral");Nt(this,qd);Nt(this,Gs);Nt(this,Vd);Nt(this,Qa);this.isEphemeral=t,Vt(this,Qa,new Set),Vt(this,Gs,e),Vt(this,qd,n),Vt(this,Vd,i)}static async open(e,t,n=!1){t=t&&!n?t:self.crypto.getRandomValues(new Uint8Array(16)).join(""),e.debug(`Opening IndexedDB ${n?"temp ":""}database with name ${t}`);const i=await WK(t,1,{upgrade(c){const u=c.createObjectStore("data",{keyPath:"slot"});u.createIndex("key",["container","key"],{unique:!1}),u.createIndex("keyCount",["container","key","keyCount"],{unique:!1})}});return new iv(i,n,e,t)}async fork(){const e=await iv.open(Ie(this,qd),void 0,!0);Ie(this,qd).verbose(`Forking store to ${Ie(e,Vd)}`);const t=Ie(this,Gs).transaction("data").store,n=[];for await(const s of t.iterate())n.push(s.value);const i=Ie(e,Gs).transaction("data","readwrite").store;for(const s of n)await i.add(s);return Ie(this,qd).debug(`Forked store at ${Ie(e,Vd)} opened successfully`),e}openMap(e){const t=new hA(Ie(this,Gs),e);return Ie(this,Qa).add(t),t}openSet(e){const t=new eG(Ie(this,Gs),e);return Ie(this,Qa).add(t),t}openMultiMap(e){const t=new hA(Ie(this,Gs),e);return Ie(this,Qa).add(t),t}openCounter(e){throw new Error("Method not implemented.")}openArray(e){const t=new QK(Ie(this,Gs),e);return Ie(this,Qa).add(t),t}openSingleton(e){const t=new tG(Ie(this,Gs),e);return Ie(this,Qa).add(t),t}async transactionAsync(e){const t=Ie(this,Gs).transaction("data","readwrite");for(const i of Ie(this,Qa))i.db=t.store;const n=e();await t.done;for(const i of Ie(this,Qa))i.db=void 0;return await n}async clear(){await Ie(this,Gs).transaction("data","readwrite").store.clear()}delete(){return Ie(this,Qa).clear(),Ie(this,Gs).close(),ZK(Ie(this,Vd))}estimateSize(){return Promise.resolve({mappingSize:0,actualSize:0,numItems:0})}close(){return Promise.resolve()}};qd=new WeakMap,Gs=new WeakMap,Vd=new WeakMap,Qa=new WeakMap;let pA=iv;async function C5(r,e,t=Pr("kv-store")){var s;let{dataDirectory:n}=e;typeof n<"u"&&(n=`${n}/${r}`),t.info(n?`Creating ${r} data store at directory ${n} with map size ${e.dataStoreMapSizeKB} KB`:`Creating ${r} ephemeral data store with map size ${e.dataStoreMapSizeKB} KB`);const i=await pA.open(Pr("kv-store:indexeddb"),n??"",!1);return(s=e.l1Contracts)!=null&&s.rollupAddress?jK(i,e.l1Contracts.rollupAddress,t):i}async function mm(r,e){const t=Hi[r],n=zH[r],i=await Mc(e);return{instance:{...await Pv(e,{salt:n}),address:t},contractClass:i,artifact:e,address:t}}let F2,L2;async function rG(){if(!L2){const{default:r}=await Xe(async()=>{const{default:e}=await import("./AuthRegistry-kqDcdsXO.js");return{default:e}},[]);L2=vh(r)}return L2}async function nG(){if(!F2){const r=await rG();F2=await mm("AuthRegistry",r)}return F2}let D2,M2;async function iG(){if(!M2){const{default:r}=await Xe(async()=>{const{default:e}=await import("./ContractClassRegisterer-DbjMP4SX.js");return{default:e}},[]);M2=vh(r)}return M2}async function sG(){if(!D2){const r=await iG();D2=await mm("ContractClassRegisterer",r)}return D2}let j2,$2;async function aG(){if(!$2){const{default:r}=await Xe(async()=>{const{default:e}=await import("./FeeJuice-DT_Z4hRR.js");return{default:e}},[]);$2=vh(r)}return $2}async function oG(){if(!j2){const r=await aG();j2=await mm("FeeJuice",r)}return j2}let U2,z2;async function cG(){if(!z2){const{default:r}=await Xe(async()=>{const{default:e}=await import("./ContractInstanceDeployer-D23P4uIj.js");return{default:e}},[]);z2=vh(r)}return z2}async function uG(){if(!U2){const r=await cG();U2=await mm("ContractInstanceDeployer",r)}return U2}let H2,q2;async function lG(){if(!q2){const{default:r}=await Xe(async()=>{const{default:e}=await import("./MultiCallEntrypoint-BVg5RMEK.js");return{default:e}},[]);q2=vh(r)}return q2}async function fG(){if(!H2){const r=await lG();H2=await mm("MultiCallEntrypoint",r)}return H2}let V2,W2;async function dG(){if(!W2){const{default:r}=await Xe(async()=>{const{default:e}=await import("./Router-Cakg1hab.js");return{default:e}},[]);W2=vh(r)}return W2}async function hG(){if(!V2){const r=await dG();V2=await mm("Router",r)}return V2}class pG{getProtocolContractArtifact(e){switch(e){case"AuthRegistry":return nG();case"ContractInstanceDeployer":return uG();case"ContractClassRegisterer":return sG();case"MultiCallEntrypoint":return fG();case"FeeJuice":return oG();case"Router":return hG();default:throw new Error(`Unknown protocol contract name: ${e}`)}}}async function mG(r,e,t={loggers:{}}){const n=await r.getL1ContractAddresses(),i={...e,l1Contracts:n},s=await C5("pxe_data",i,t.loggers.store??Pr("pxe:data:indexeddb")),c=new cK,u=t.prover??new DK(c,16,t.loggers.prover??Pr("bb:wasm:lazy")),d=new pG;return await sA.create(r,s,u,c,d,e,t.loggers.pxe??Pr("pxe:service"))}var Wd;const Ed=class Ed{constructor(){Nt(this,Wd)}static getInstance(){return Ed.instance||(Ed.instance=new Ed),Ed.instance}init(e){Vt(this,Wd,e.openMap("networks"))}async storeNetwork(e,t){await Ie(this,Wd).set(e,$e.from(t))}async retrieveNetwork(e){const t=await Ie(this,Wd).getAsync(e);if(!t)throw new Error(`Could not find network with alias ${e}`);return t.toString()}async listNetworks(){const e=[];for await(const[t,n]of Ie(this,Wd).entriesAsync())e.push({key:t,value:n.toString()});return e}};Wd=new WeakMap,x(Ed,"instance");let mA=Ed;const gG=["silent","fatal","error","warn","info","verbose","debug","trace"],Sd=class Sd{constructor(e){x(this,"logs",[]);this.setLogs=e}static create(e){Sd.instance=new Sd(e)}static getInstance(){return Sd.instance}createLogger(e){return new Proxy(Pr(e),{get:(t,n)=>gG.includes(n)?function(){const i=[n,e,...arguments];Sd.getInstance().handleLog(...i),t[n].apply(this,arguments)}:t[n]})}handleLog(e,t,n,i){this.logs.unshift({type:e,prefix:t,message:n,data:i,timestamp:Date.now()}),this.setLogs([...this.logs])}};x(Sd,"instance");let Tp=Sd;const _G=at.createContext({pxe:null,nodeURL:"",node:null,wallet:null,isPXEInitialized:!1,walletDB:null,currentContract:null,currentContractAddress:null,currentTx:null,logs:[],logsOpen:!1,drawerOpen:!1,setDrawerOpen:()=>{},setLogsOpen:()=>{},setLogs:()=>{},setWalletDB:()=>{},setPXEInitialized:()=>{},setWallet:()=>{},setNodeURL:()=>{},setPXE:()=>{},setAztecNode:()=>{},setCurrentTx:()=>{},setCurrentContract:()=>{},setCurrentContractAddress:()=>{}}),E_=class E_{static async initNetworkStore(){if(!E_.isNetworkStoreInitialized){E_.isNetworkStoreInitialized=!0;const e=await C5("network_data",{dataDirectory:"network",dataStoreMapSizeKB:1e6});mA.getInstance().init(e)}}static async connectToNode(e){return await UH(e)}static async initPXE(e,t){Tp.create(t);const n=BK();n.dataDirectory="pxe",n.proverEnabled=!0;const i=await e.getL1ContractAddresses(),s={...n,l1Contracts:i};return await mG(e,s,{loggers:{store:Tp.getInstance().createLogger("pxe:data:indexeddb"),pxe:Tp.getInstance().createLogger("pxe:service"),prover:Tp.getInstance().createLogger("bb:wasm:lazy")}})}};x(E_,"isNetworkStoreInitialized",!1);let v_=E_;const yG=31337,wG=1;class vG{constructor(e,t,n=yG,i=wG){x(this,"address");x(this,"auth");x(this,"chainId");x(this,"version");this.address=e,this.auth=t,this.chainId=n,this.version=i}async createTxExecutionRequest(e){const{calls:t,fee:n,nonce:i,cancellable:s,authWitnesses:c=[],capsules:u=[]}=e,d=await dh.fromAppExecution(t,i),l=await dh.fromFeeOptions(this.address,n),m=this.getEntrypointAbi(),y=await Qs.fromValues(dm(m,[d,l,!!s])),b=await this.auth.createAuthWit(await qO(d,l));return io.from({firstCallArgsHash:y.hash,origin:this.address,functionSelector:await $t.fromNameAndParameters(m.name,m.parameters),txContext:new Gr(this.chainId,this.version,n.gasSettings),argsOfCalls:[...d.hashedArguments,...l.hashedArguments,y],authWitnesses:[...c,b],capsules:u})}getEntrypointAbi(){return{name:"entrypoint",isInitializer:!1,functionType:"private",isInternal:!1,isStatic:!1,parameters:[{name:"app_payload",type:{kind:"struct",path:"authwit::entrypoint::app::AppPayload",fields:[{name:"function_calls",type:{kind:"array",length:4,type:{kind:"struct",path:"authwit::entrypoint::function_call::FunctionCall",fields:[{name:"args_hash",type:{kind:"field"}},{name:"function_selector",type:{kind:"struct",path:"authwit::aztec::protocol_types::abis::function_selector::FunctionSelector",fields:[{name:"inner",type:{kind:"integer",sign:"unsigned",width:32}}]}},{name:"target_address",type:{kind:"struct",path:"authwit::aztec::protocol_types::address::AztecAddress",fields:[{name:"inner",type:{kind:"field"}}]}},{name:"is_public",type:{kind:"boolean"}},{name:"is_static",type:{kind:"boolean"}}]}}},{name:"nonce",type:{kind:"field"}}]},visibility:"public"},{name:"fee_payload",type:{kind:"struct",path:"authwit::entrypoint::fee::FeePayload",fields:[{name:"function_calls",type:{kind:"array",length:2,type:{kind:"struct",path:"authwit::entrypoint::function_call::FunctionCall",fields:[{name:"args_hash",type:{kind:"field"}},{name:"function_selector",type:{kind:"struct",path:"authwit::aztec::protocol_types::abis::function_selector::FunctionSelector",fields:[{name:"inner",type:{kind:"integer",sign:"unsigned",width:32}}]}},{name:"target_address",type:{kind:"struct",path:"authwit::aztec::protocol_types::address::AztecAddress",fields:[{name:"inner",type:{kind:"field"}}]}},{name:"is_public",type:{kind:"boolean"}},{name:"is_static",type:{kind:"boolean"}}]}}},{name:"nonce",type:{kind:"field"}},{name:"is_fee_payer",type:{kind:"boolean"}}]},visibility:"public"},{name:"cancellable",type:{kind:"boolean"}}],returnTypes:[],errorTypes:{}}}}class bG{constructor(e,t,n){x(this,"authWitnessProvider");x(this,"address");x(this,"entrypoint");x(this,"chainId");x(this,"version");this.authWitnessProvider=e,this.address=t,this.entrypoint=new vG(t.address,e,n.l1ChainId,n.protocolVersion),this.chainId=new H(n.l1ChainId),this.version=new H(n.protocolVersion)}createTxExecutionRequest(e){return this.entrypoint.createTxExecutionRequest(e)}createAuthWit(e){return this.authWitnessProvider.createAuthWit(e)}getCompleteAddress(){return this.address}getAddress(){return this.address.address}getChainId(){return this.chainId}getVersion(){return this.version}}class EG{constructor(){}getInterface(e,t){return new bG(this.getAuthWitnessProvider(e),e,t)}}class SG extends EG{constructor(t){super();x(this,"signingPrivateKey");this.signingPrivateKey=t}async getDeploymentFunctionAndArgs(){const t=await new mN().computePublicKey(this.signingPrivateKey);return{constructorName:"constructor",constructorArgs:[t.x,t.y]}}getAuthWitnessProvider(t){return new xG(this.signingPrivateKey)}}class xG{constructor(e){x(this,"signingPrivateKey");this.signingPrivateKey=e}async createAuthWit(e){const n=await new mN().constructSignature(e.toBuffer(),this.signingPrivateKey);return new Fc(e,[...n.toBuffer()])}}async function AG(){const{default:r}=await Xe(async()=>{const{default:e}=await import("./SchnorrAccount-CO3xFYg-.js");return{default:e}},[]);return vh(r)}class T5 extends SG{constructor(e){super(e)}getContractArtifact(){return AG()}}function CG(r,e,t,n){return hC.create(r,e,new T5(t),n)}async function TG(r,e,t){const n=t??rU(r),i=new T5(n);return await YH(i,r,e)}const I5=[H.fromHexString("2153536ff6628eee01cf4024889ff977a18d9fa61d0e414422f7681cf085c281"),H.fromHexString("aebd1b4be76efa44f5ee655c20bf9ea60f7ae44b9a7fd1fd9f189c7a0b0cdae"),H.fromHexString("0f6addf0da06c33293df974a565b03d1ab096090d907d98055a8b7f4954e120c")],k5=I5.map(r=>eC(r)),IG=k5,MR=[H.ZERO,H.ZERO,H.ZERO];function kG(){return Promise.all(I5.map(async(r,e)=>({secret:r,signingKey:k5[e],salt:MR[e],address:await TG(r,MR[e],IG[e])})))}function J0(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Z2={exports:{}},jR;function RG(){return jR||(jR=1,function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,s){function c(l,m){if(!i[l]){if(!n[l]){var y=typeof J0=="function"&&J0;if(!m&&y)return y(l,!0);if(u)return u(l,!0);var b=new Error("Cannot find module '"+l+"'");throw b.code="MODULE_NOT_FOUND",b}var E=i[l]={exports:{}};n[l][0].call(E.exports,function(I){var S=n[l][1][I];return c(S||I)},E,E.exports,t,n,i,s)}return i[l].exports}for(var u=typeof J0=="function"&&J0,d=0;d<s.length;d++)c(s[d]);return c}({1:[function(t,n,i){var s=t("./utils"),c=t("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var l,m,y,b,E,I,S,P=[],N=0,k=d.length,R=k,L=s.getTypeOf(d)!=="string";N<d.length;)R=k-N,y=L?(l=d[N++],m=N<k?d[N++]:0,N<k?d[N++]:0):(l=d.charCodeAt(N++),m=N<k?d.charCodeAt(N++):0,N<k?d.charCodeAt(N++):0),b=l>>2,E=(3&l)<<4|m>>4,I=1<R?(15&m)<<2|y>>6:64,S=2<R?63&y:64,P.push(u.charAt(b)+u.charAt(E)+u.charAt(I)+u.charAt(S));return P.join("")},i.decode=function(d){var l,m,y,b,E,I,S=0,P=0,N="data:";if(d.substr(0,N.length)===N)throw new Error("Invalid base64 input, it looks like a data url.");var k,R=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&R--,d.charAt(d.length-2)===u.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=c.uint8array?new Uint8Array(0|R):new Array(0|R);S<d.length;)l=u.indexOf(d.charAt(S++))<<2|(b=u.indexOf(d.charAt(S++)))>>4,m=(15&b)<<4|(E=u.indexOf(d.charAt(S++)))>>2,y=(3&E)<<6|(I=u.indexOf(d.charAt(S++))),k[P++]=l,E!==64&&(k[P++]=m),I!==64&&(k[P++]=y);return k}},{"./support":30,"./utils":32}],2:[function(t,n,i){var s=t("./external"),c=t("./stream/DataWorker"),u=t("./stream/Crc32Probe"),d=t("./stream/DataLengthProbe");function l(m,y,b,E,I){this.compressedSize=m,this.uncompressedSize=y,this.crc32=b,this.compression=E,this.compressedContent=I}l.prototype={getContentWorker:function(){var m=new c(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),y=this;return m.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new c(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(m,y,b){return m.pipe(new u).pipe(new d("uncompressedSize")).pipe(y.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",y)},n.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var s=t("./utils"),c=function(){for(var u,d=[],l=0;l<256;l++){u=l;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;d[l]=u}return d}();n.exports=function(u,d){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?function(l,m,y,b){var E=c,I=b+y;l^=-1;for(var S=b;S<I;S++)l=l>>>8^E[255&(l^m[S])];return-1^l}(0|d,u,u.length,0):function(l,m,y,b){var E=c,I=b+y;l^=-1;for(var S=b;S<I;S++)l=l>>>8^E[255&(l^m.charCodeAt(S))];return-1^l}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=t("pako"),u=t("./utils"),d=t("./stream/GenericWorker"),l=s?"uint8array":"array";function m(y,b){d.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=b,this.meta={}}i.magic="\b\0",u.inherits(m,d),m.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(l,y.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(b){y.push({data:b,meta:y.meta})}},i.compressWorker=function(y){return new m("Deflate",y)},i.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function s(E,I){var S,P="";for(S=0;S<I;S++)P+=String.fromCharCode(255&E),E>>>=8;return P}function c(E,I,S,P,N,k){var R,L,U=E.file,te=E.compression,V=k!==l.utf8encode,oe=u.transformTo("string",k(U.name)),de=u.transformTo("string",l.utf8encode(U.name)),Ee=U.comment,Fe=u.transformTo("string",k(Ee)),j=u.transformTo("string",l.utf8encode(Ee)),fe=de.length!==U.name.length,z=j.length!==Ee.length,Q="",me="",pe="",xe=U.dir,ce=U.date,ve={crc32:0,compressedSize:0,uncompressedSize:0};I&&!S||(ve.crc32=E.crc32,ve.compressedSize=E.compressedSize,ve.uncompressedSize=E.uncompressedSize);var ee=0;I&&(ee|=8),V||!fe&&!z||(ee|=2048);var re=0,se=0;xe&&(re|=16),N==="UNIX"?(se=798,re|=function(J,Se){var Me=J;return J||(Me=Se?16893:33204),(65535&Me)<<16}(U.unixPermissions,xe)):(se=20,re|=function(J){return 63&(J||0)}(U.dosPermissions)),R=ce.getUTCHours(),R<<=6,R|=ce.getUTCMinutes(),R<<=5,R|=ce.getUTCSeconds()/2,L=ce.getUTCFullYear()-1980,L<<=4,L|=ce.getUTCMonth()+1,L<<=5,L|=ce.getUTCDate(),fe&&(me=s(1,1)+s(m(oe),4)+de,Q+="up"+s(me.length,2)+me),z&&(pe=s(1,1)+s(m(Fe),4)+j,Q+="uc"+s(pe.length,2)+pe);var Y="";return Y+=`
\0`,Y+=s(ee,2),Y+=te.magic,Y+=s(R,2),Y+=s(L,2),Y+=s(ve.crc32,4),Y+=s(ve.compressedSize,4),Y+=s(ve.uncompressedSize,4),Y+=s(oe.length,2),Y+=s(Q.length,2),{fileRecord:y.LOCAL_FILE_HEADER+Y+oe+Q,dirRecord:y.CENTRAL_FILE_HEADER+s(se,2)+Y+s(Fe.length,2)+"\0\0\0\0"+s(re,4)+s(P,4)+oe+Q+Fe}}var u=t("../utils"),d=t("../stream/GenericWorker"),l=t("../utf8"),m=t("../crc32"),y=t("../signature");function b(E,I,S,P){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=I,this.zipPlatform=S,this.encodeFileName=P,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,d),b.prototype.push=function(E){var I=E.meta.percent||0,S=this.entriesCount,P=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,d.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:S?(I+100*(S-P-1))/S:100}}))},b.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var I=this.streamFiles&&!E.file.dir;if(I){var S=c(E,I,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(E){this.accumulate=!1;var I=this.streamFiles&&!E.file.dir,S=c(E,I,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),I)this.push({data:function(P){return y.DATA_DESCRIPTOR+s(P.crc32,4)+s(P.compressedSize,4)+s(P.uncompressedSize,4)}(E),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var E=this.bytesWritten,I=0;I<this.dirRecords.length;I++)this.push({data:this.dirRecords[I],meta:{percent:100}});var S=this.bytesWritten-E,P=function(N,k,R,L,U){var te=u.transformTo("string",U(L));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(N,2)+s(N,2)+s(k,4)+s(R,4)+s(te.length,2)+te}(this.dirRecords.length,S,E,this.zipComment,this.encodeFileName);this.push({data:P,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(E){this._sources.push(E);var I=this;return E.on("data",function(S){I.processChunk(S)}),E.on("end",function(){I.closedSource(I.previous.streamInfo),I._sources.length?I.prepareNextSource():I.end()}),E.on("error",function(S){I.error(S)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(E){var I=this._sources;if(!d.prototype.error.call(this,E))return!1;for(var S=0;S<I.length;S++)try{I[S].error(E)}catch{}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var E=this._sources,I=0;I<E.length;I++)E[I].lock()},n.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var s=t("../compressions"),c=t("./ZipFileWorker");i.generateWorker=function(u,d,l){var m=new c(d.streamFiles,l,d.platform,d.encodeFileName),y=0;try{u.forEach(function(b,E){y++;var I=function(k,R){var L=k||R,U=s[L];if(!U)throw new Error(L+" is not a valid compression method !");return U}(E.options.compression,d.compression),S=E.options.compressionOptions||d.compressionOptions||{},P=E.dir,N=E.date;E._compressWorker(I,S).withStreamInfo("file",{name:b,dir:P,date:N,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(m)}),m.entriesCount=y}catch(b){m.error(b)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new s;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(c,u){return new s().loadAsync(c,u)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var s=t("./utils"),c=t("./external"),u=t("./utf8"),d=t("./zipEntries"),l=t("./stream/Crc32Probe"),m=t("./nodejsUtils");function y(b){return new c.Promise(function(E,I){var S=b.decompressed.getContentWorker().pipe(new l);S.on("error",function(P){I(P)}).on("end",function(){S.streamInfo.crc32!==b.decompressed.crc32?I(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}n.exports=function(b,E){var I=this;return E=s.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),m.isNode&&m.isStream(b)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,E.optimizedBinaryString,E.base64).then(function(S){var P=new d(E);return P.load(S),P}).then(function(S){var P=[c.Promise.resolve(S)],N=S.files;if(E.checkCRC32)for(var k=0;k<N.length;k++)P.push(y(N[k]));return c.Promise.all(P)}).then(function(S){for(var P=S.shift(),N=P.files,k=0;k<N.length;k++){var R=N[k],L=R.fileNameStr,U=s.resolve(R.fileNameStr);I.file(U,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:E.createFolders}),R.dir||(I.file(U).unsafeOriginalName=L)}return P.zipComment.length&&(I.comment=P.zipComment),I})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var s=t("../utils"),c=t("../stream/GenericWorker");function u(d,l){c.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(l)}s.inherits(u,c),u.prototype._bindStream=function(d){var l=this;(this._stream=d).pause(),d.on("data",function(m){l.push({data:m,meta:{percent:0}})}).on("error",function(m){l.isPaused?this.generatedError=m:l.error(m)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var s=t("readable-stream").Readable;function c(u,d,l){s.call(this,d),this._helper=u;var m=this;u.on("data",function(y,b){m.push(y)||m._helper.pause(),l&&l(b)}).on("error",function(y){m.emit("error",y)}).on("end",function(){m.push(null)})}t("../utils").inherits(c,s),c.prototype._read=function(){this._helper.resume()},n.exports=c},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof $e<"u",newBufferFrom:function(s,c){if($e.from&&$e.from!==Uint8Array.from)return $e.from(s,c);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new $e(s,c)},allocBuffer:function(s){if($e.alloc)return $e.alloc(s);var c=new $e(s);return c.fill(0),c},isBuffer:function(s){return $e.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,i){function s(U,te,V){var oe,de=u.getTypeOf(te),Ee=u.extend(V||{},m);Ee.date=Ee.date||new Date,Ee.compression!==null&&(Ee.compression=Ee.compression.toUpperCase()),typeof Ee.unixPermissions=="string"&&(Ee.unixPermissions=parseInt(Ee.unixPermissions,8)),Ee.unixPermissions&&16384&Ee.unixPermissions&&(Ee.dir=!0),Ee.dosPermissions&&16&Ee.dosPermissions&&(Ee.dir=!0),Ee.dir&&(U=N(U)),Ee.createFolders&&(oe=P(U))&&k.call(this,oe,!0);var Fe=de==="string"&&Ee.binary===!1&&Ee.base64===!1;V&&V.binary!==void 0||(Ee.binary=!Fe),(te instanceof y&&te.uncompressedSize===0||Ee.dir||!te||te.length===0)&&(Ee.base64=!1,Ee.binary=!0,te="",Ee.compression="STORE",de="string");var j=null;j=te instanceof y||te instanceof d?te:I.isNode&&I.isStream(te)?new S(U,te):u.prepareContent(U,te,Ee.binary,Ee.optimizedBinaryString,Ee.base64);var fe=new b(U,j,Ee);this.files[U]=fe}var c=t("./utf8"),u=t("./utils"),d=t("./stream/GenericWorker"),l=t("./stream/StreamHelper"),m=t("./defaults"),y=t("./compressedObject"),b=t("./zipObject"),E=t("./generate"),I=t("./nodejsUtils"),S=t("./nodejs/NodejsStreamInputAdapter"),P=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var te=U.lastIndexOf("/");return 0<te?U.substring(0,te):""},N=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},k=function(U,te){return te=te!==void 0?te:m.createFolders,U=N(U),this.files[U]||s.call(this,U,null,{dir:!0,createFolders:te}),this.files[U]};function R(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var L={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var te,V,oe;for(te in this.files)oe=this.files[te],(V=te.slice(this.root.length,te.length))&&te.slice(0,this.root.length)===this.root&&U(V,oe)},filter:function(U){var te=[];return this.forEach(function(V,oe){U(V,oe)&&te.push(oe)}),te},file:function(U,te,V){if(arguments.length!==1)return U=this.root+U,s.call(this,U,te,V),this;if(R(U)){var oe=U;return this.filter(function(Ee,Fe){return!Fe.dir&&oe.test(Ee)})}var de=this.files[this.root+U];return de&&!de.dir?de:null},folder:function(U){if(!U)return this;if(R(U))return this.filter(function(de,Ee){return Ee.dir&&U.test(de)});var te=this.root+U,V=k.call(this,te),oe=this.clone();return oe.root=V.name,oe},remove:function(U){U=this.root+U;var te=this.files[U];if(te||(U.slice(-1)!=="/"&&(U+="/"),te=this.files[U]),te&&!te.dir)delete this.files[U];else for(var V=this.filter(function(de,Ee){return Ee.name.slice(0,U.length)===U}),oe=0;oe<V.length;oe++)delete this.files[V[oe].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var te,V={};try{if((V=u.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");u.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var oe=V.comment||this.comment||"";te=E.generateWorker(this,V,oe)}catch(de){(te=new d("error")).error(de)}return new l(te,V.type||"string",V.mimeType)},generateAsync:function(U,te){return this.generateInternalStream(U).accumulate(te)},generateNodeStream:function(U,te){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(te)}};n.exports=L},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var s=t("./DataReader");function c(u){s.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}t("../utils").inherits(c,s),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),l=u.charCodeAt(1),m=u.charCodeAt(2),y=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===l&&this.data[b+2]===m&&this.data[b+3]===y)return b-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),l=u.charCodeAt(1),m=u.charCodeAt(2),y=u.charCodeAt(3),b=this.readData(4);return d===b[0]&&l===b[1]&&m===b[2]&&y===b[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},n.exports=c},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var s=t("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,l=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)l=(l<<8)+this.byteAt(d);return this.index+=u,l},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},n.exports=c},{"../utils":32}],19:[function(t,n,i){var s=t("./Uint8ArrayReader");function c(u){s.call(this,u)}t("../utils").inherits(c,s),c.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},n.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var s=t("./DataReader");function c(u){s.call(this,u)}t("../utils").inherits(c,s),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},n.exports=c},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var s=t("./ArrayReader");function c(u){s.call(this,u)}t("../utils").inherits(c,s),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},n.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var s=t("../utils"),c=t("../support"),u=t("./ArrayReader"),d=t("./StringReader"),l=t("./NodeBufferReader"),m=t("./Uint8ArrayReader");n.exports=function(y){var b=s.getTypeOf(y);return s.checkSupport(b),b!=="string"||c.uint8array?b==="nodebuffer"?new l(y):c.uint8array?new m(s.transformTo("uint8array",y)):new u(s.transformTo("array",y)):new d(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var s=t("./GenericWorker"),c=t("../utils");function u(d){s.call(this,"ConvertWorker to "+d),this.destType=d}c.inherits(u,s),u.prototype.processChunk=function(d){this.push({data:c.transformTo(this.destType,d.data),meta:d.meta})},n.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var s=t("./GenericWorker"),c=t("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(u,s),u.prototype.processChunk=function(d){this.streamInfo.crc32=c(d.data,this.streamInfo.crc32||0),this.push(d)},n.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var s=t("../utils"),c=t("./GenericWorker");function u(d){c.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}s.inherits(u,c),u.prototype.processChunk=function(d){if(d){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+d.data.length}c.prototype.processChunk.call(this,d)},n.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var s=t("../utils"),c=t("./GenericWorker");function u(d){c.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){l.dataIsReady=!0,l.data=m,l.max=m&&m.length||0,l.type=s.getTypeOf(m),l.isPaused||l._tickAndRepeat()},function(m){l.error(m)})}s.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,l);break;case"uint8array":d=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":d=this.data.slice(this.index,l)}return this.index=l,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function s(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var d=0;d<this._listeners[c].length;d++)this._listeners[c][d].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(d){u.processChunk(d)}),c.on("end",function(){u.end()}),c.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},n.exports=s},{}],29:[function(t,n,i){var s=t("../utils"),c=t("./ConvertWorker"),u=t("./GenericWorker"),d=t("../base64"),l=t("../support"),m=t("../external"),y=null;if(l.nodestream)try{y=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(I,S){return new m.Promise(function(P,N){var k=[],R=I._internalType,L=I._outputType,U=I._mimeType;I.on("data",function(te,V){k.push(te),S&&S(V)}).on("error",function(te){k=[],N(te)}).on("end",function(){try{var te=function(V,oe,de){switch(V){case"blob":return s.newBlob(s.transformTo("arraybuffer",oe),de);case"base64":return d.encode(oe);default:return s.transformTo(V,oe)}}(L,function(V,oe){var de,Ee=0,Fe=null,j=0;for(de=0;de<oe.length;de++)j+=oe[de].length;switch(V){case"string":return oe.join("");case"array":return Array.prototype.concat.apply([],oe);case"uint8array":for(Fe=new Uint8Array(j),de=0;de<oe.length;de++)Fe.set(oe[de],Ee),Ee+=oe[de].length;return Fe;case"nodebuffer":return $e.concat(oe);default:throw new Error("concat : unsupported type '"+V+"'")}}(R,k),U);P(te)}catch(V){N(V)}k=[]}).resume()})}function E(I,S,P){var N=S;switch(S){case"blob":case"arraybuffer":N="uint8array";break;case"base64":N="string"}try{this._internalType=N,this._outputType=S,this._mimeType=P,s.checkSupport(N),this._worker=I.pipe(new c(N)),I.lock()}catch(k){this._worker=new u("error"),this._worker.error(k)}}E.prototype={accumulate:function(I){return b(this,I)},on:function(I,S){var P=this;return I==="data"?this._worker.on(I,function(N){S.call(P,N.data,N.meta)}):this._worker.on(I,function(){s.delay(S,arguments,P)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(I){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},I)}},n.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof $e<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(s),i.blob=c.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var s=t("./utils"),c=t("./support"),u=t("./nodejsUtils"),d=t("./stream/GenericWorker"),l=new Array(256),m=0;m<256;m++)l[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;l[254]=l[254]=1;function y(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}i.utf8encode=function(E){return c.nodebuffer?u.newBufferFrom(E,"utf-8"):function(I){var S,P,N,k,R,L=I.length,U=0;for(k=0;k<L;k++)(64512&(P=I.charCodeAt(k)))==55296&&k+1<L&&(64512&(N=I.charCodeAt(k+1)))==56320&&(P=65536+(P-55296<<10)+(N-56320),k++),U+=P<128?1:P<2048?2:P<65536?3:4;for(S=c.uint8array?new Uint8Array(U):new Array(U),k=R=0;R<U;k++)(64512&(P=I.charCodeAt(k)))==55296&&k+1<L&&(64512&(N=I.charCodeAt(k+1)))==56320&&(P=65536+(P-55296<<10)+(N-56320),k++),P<128?S[R++]=P:(P<2048?S[R++]=192|P>>>6:(P<65536?S[R++]=224|P>>>12:(S[R++]=240|P>>>18,S[R++]=128|P>>>12&63),S[R++]=128|P>>>6&63),S[R++]=128|63&P);return S}(E)},i.utf8decode=function(E){return c.nodebuffer?s.transformTo("nodebuffer",E).toString("utf-8"):function(I){var S,P,N,k,R=I.length,L=new Array(2*R);for(S=P=0;S<R;)if((N=I[S++])<128)L[P++]=N;else if(4<(k=l[N]))L[P++]=65533,S+=k-1;else{for(N&=k===2?31:k===3?15:7;1<k&&S<R;)N=N<<6|63&I[S++],k--;1<k?L[P++]=65533:N<65536?L[P++]=N:(N-=65536,L[P++]=55296|N>>10&1023,L[P++]=56320|1023&N)}return L.length!==P&&(L.subarray?L=L.subarray(0,P):L.length=P),s.applyFromCharCode(L)}(E=s.transformTo(c.uint8array?"uint8array":"array",E))},s.inherits(y,d),y.prototype.processChunk=function(E){var I=s.transformTo(c.uint8array?"uint8array":"array",E.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var S=I;(I=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),I.set(S,this.leftOver.length)}else I=this.leftOver.concat(I);this.leftOver=null}var P=function(k,R){var L;for((R=R||k.length)>k.length&&(R=k.length),L=R-1;0<=L&&(192&k[L])==128;)L--;return L<0||L===0?R:L+l[k[L]]>R?L:R}(I),N=I;P!==I.length&&(c.uint8array?(N=I.subarray(0,P),this.leftOver=I.subarray(P,I.length)):(N=I.slice(0,P),this.leftOver=I.slice(P,I.length))),this.push({data:i.utf8decode(N),meta:E.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=y,s.inherits(b,d),b.prototype.processChunk=function(E){this.push({data:i.utf8encode(E.data),meta:E.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var s=t("./support"),c=t("./base64"),u=t("./nodejsUtils"),d=t("./external");function l(S){return S}function m(S,P){for(var N=0;N<S.length;++N)P[N]=255&S.charCodeAt(N);return P}t("setimmediate"),i.newBlob=function(S,P){i.checkSupport("blob");try{return new Blob([S],{type:P})}catch{try{var N=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return N.append(S),N.getBlob(P)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(S,P,N){var k=[],R=0,L=S.length;if(L<=N)return String.fromCharCode.apply(null,S);for(;R<L;)P==="array"||P==="nodebuffer"?k.push(String.fromCharCode.apply(null,S.slice(R,Math.min(R+N,L)))):k.push(String.fromCharCode.apply(null,S.subarray(R,Math.min(R+N,L)))),R+=N;return k.join("")},stringifyByChar:function(S){for(var P="",N=0;N<S.length;N++)P+=String.fromCharCode(S[N]);return P},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function b(S){var P=65536,N=i.getTypeOf(S),k=!0;if(N==="uint8array"?k=y.applyCanBeUsed.uint8array:N==="nodebuffer"&&(k=y.applyCanBeUsed.nodebuffer),k)for(;1<P;)try{return y.stringifyByChunk(S,N,P)}catch{P=Math.floor(P/2)}return y.stringifyByChar(S)}function E(S,P){for(var N=0;N<S.length;N++)P[N]=S[N];return P}i.applyFromCharCode=b;var I={};I.string={string:l,array:function(S){return m(S,new Array(S.length))},arraybuffer:function(S){return I.string.uint8array(S).buffer},uint8array:function(S){return m(S,new Uint8Array(S.length))},nodebuffer:function(S){return m(S,u.allocBuffer(S.length))}},I.array={string:b,array:l,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(S)}},I.arraybuffer={string:function(S){return b(new Uint8Array(S))},array:function(S){return E(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:l,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(new Uint8Array(S))}},I.uint8array={string:b,array:function(S){return E(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:l,nodebuffer:function(S){return u.newBufferFrom(S)}},I.nodebuffer={string:b,array:function(S){return E(S,new Array(S.length))},arraybuffer:function(S){return I.nodebuffer.uint8array(S).buffer},uint8array:function(S){return E(S,new Uint8Array(S.length))},nodebuffer:l},i.transformTo=function(S,P){if(P=P||"",!S)return P;i.checkSupport(S);var N=i.getTypeOf(P);return I[N][S](P)},i.resolve=function(S){for(var P=S.split("/"),N=[],k=0;k<P.length;k++){var R=P[k];R==="."||R===""&&k!==0&&k!==P.length-1||(R===".."?N.pop():N.push(R))}return N.join("/")},i.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(S)?"nodebuffer":s.uint8array&&S instanceof Uint8Array?"uint8array":s.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(S){if(!s[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(S){var P,N,k="";for(N=0;N<(S||"").length;N++)k+="\\x"+((P=S.charCodeAt(N))<16?"0":"")+P.toString(16).toUpperCase();return k},i.delay=function(S,P,N){setImmediate(function(){S.apply(N||null,P||[])})},i.inherits=function(S,P){function N(){}N.prototype=P.prototype,S.prototype=new N},i.extend=function(){var S,P,N={};for(S=0;S<arguments.length;S++)for(P in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],P)&&N[P]===void 0&&(N[P]=arguments[S][P]);return N},i.prepareContent=function(S,P,N,k,R){return d.Promise.resolve(P).then(function(L){return s.blob&&(L instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(L))!==-1)&&typeof FileReader<"u"?new d.Promise(function(U,te){var V=new FileReader;V.onload=function(oe){U(oe.target.result)},V.onerror=function(oe){te(oe.target.error)},V.readAsArrayBuffer(L)}):L}).then(function(L){var U=i.getTypeOf(L);return U?(U==="arraybuffer"?L=i.transformTo("uint8array",L):U==="string"&&(R?L=c.decode(L):N&&k!==!0&&(L=function(te){return m(te,s.uint8array?new Uint8Array(te.length):new Array(te.length))}(L))),L):d.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var s=t("./reader/readerFor"),c=t("./utils"),u=t("./signature"),d=t("./zipEntry"),l=t("./support");function m(y){this.files=[],this.loadOptions=y}m.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(b)+", expected "+c.pretty(y)+")")}},isSignature:function(y,b){var E=this.reader.index;this.reader.setIndex(y);var I=this.reader.readString(4)===b;return this.reader.setIndex(E),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),b=l.uint8array?"uint8array":"array",E=c.transformTo(b,y);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,b,E,I=this.zip64EndOfCentralSize-44;0<I;)y=this.reader.readInt(2),b=this.reader.readInt(4),E=this.reader.readData(b),this.zip64ExtensibleData[y]={id:y,length:b,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,b;for(y=0;y<this.files.length;y++)b=this.files[y],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(y=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var b=y;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var I=b-E;if(0<I)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(y){this.reader=s(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var s=t("./reader/readerFor"),c=t("./utils"),u=t("./compressedObject"),d=t("./crc32"),l=t("./utf8"),m=t("./compressions"),y=t("./support");function b(E,I){this.options=E,this.loadOptions=I}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(E){var I,S;if(E.skip(22),this.fileNameLength=E.readInt(2),S=E.readInt(2),this.fileName=E.readData(this.fileNameLength),E.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((I=function(P){for(var N in m)if(Object.prototype.hasOwnProperty.call(m,N)&&m[N].magic===P)return m[N];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,I,E.readData(this.compressedSize))},readCentralPart:function(E){this.versionMadeBy=E.readInt(2),E.skip(2),this.bitFlag=E.readInt(2),this.compressionMethod=E.readString(2),this.date=E.readDate(),this.crc32=E.readInt(4),this.compressedSize=E.readInt(4),this.uncompressedSize=E.readInt(4);var I=E.readInt(2);if(this.extraFieldsLength=E.readInt(2),this.fileCommentLength=E.readInt(2),this.diskNumberStart=E.readInt(2),this.internalFileAttributes=E.readInt(2),this.externalFileAttributes=E.readInt(4),this.localHeaderOffset=E.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");E.skip(I),this.readExtraFields(E),this.parseZIP64ExtraField(E),this.fileComment=E.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var E=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),E==0&&(this.dosPermissions=63&this.externalFileAttributes),E==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var E=s(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=E.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=E.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=E.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=E.readInt(4))}},readExtraFields:function(E){var I,S,P,N=E.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});E.index+4<N;)I=E.readInt(2),S=E.readInt(2),P=E.readData(S),this.extraFields[I]={id:I,length:S,value:P};E.setIndex(N)},handleUTF8:function(){var E=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var I=this.findExtraFieldUnicodePath();if(I!==null)this.fileNameStr=I;else{var S=c.transformTo(E,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var P=this.findExtraFieldUnicodeComment();if(P!==null)this.fileCommentStr=P;else{var N=c.transformTo(E,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var E=this.extraFields[28789];if(E){var I=s(E.value);return I.readInt(1)!==1||d(this.fileName)!==I.readInt(4)?null:l.utf8decode(I.readData(E.length-5))}return null},findExtraFieldUnicodeComment:function(){var E=this.extraFields[25461];if(E){var I=s(E.value);return I.readInt(1)!==1||d(this.fileComment)!==I.readInt(4)?null:l.utf8decode(I.readData(E.length-5))}return null}},n.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function s(I,S,P){this.name=I,this.dir=P.dir,this.date=P.date,this.comment=P.comment,this.unixPermissions=P.unixPermissions,this.dosPermissions=P.dosPermissions,this._data=S,this._dataBinary=P.binary,this.options={compression:P.compression,compressionOptions:P.compressionOptions}}var c=t("./stream/StreamHelper"),u=t("./stream/DataWorker"),d=t("./utf8"),l=t("./compressedObject"),m=t("./stream/GenericWorker");s.prototype={internalStream:function(I){var S=null,P="string";try{if(!I)throw new Error("No output type specified.");var N=(P=I.toLowerCase())==="string"||P==="text";P!=="binarystring"&&P!=="text"||(P="string"),S=this._decompressWorker();var k=!this._dataBinary;k&&!N&&(S=S.pipe(new d.Utf8EncodeWorker)),!k&&N&&(S=S.pipe(new d.Utf8DecodeWorker))}catch(R){(S=new m("error")).error(R)}return new c(S,P,"")},async:function(I,S){return this.internalStream(I).accumulate(S)},nodeStream:function(I,S){return this.internalStream(I||"nodebuffer").toNodejsStream(S)},_compressWorker:function(I,S){if(this._data instanceof l&&this._data.compression.magic===I.magic)return this._data.getCompressedWorker();var P=this._decompressWorker();return this._dataBinary||(P=P.pipe(new d.Utf8EncodeWorker)),l.createWorkerFrom(P,I,S)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof m?this._data:new u(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},E=0;E<y.length;E++)s.prototype[y[E]]=b;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(s){var c,u,d=s.MutationObserver||s.WebKitMutationObserver;if(d){var l=0,m=new d(I),y=s.document.createTextNode("");m.observe(y,{characterData:!0}),c=function(){y.data=l=++l%2}}else if(s.setImmediate||s.MessageChannel===void 0)c="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var S=s.document.createElement("script");S.onreadystatechange=function(){I(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},s.document.documentElement.appendChild(S)}:function(){setTimeout(I,0)};else{var b=new s.MessageChannel;b.port1.onmessage=I,c=function(){b.port2.postMessage(0)}}var E=[];function I(){var S,P;u=!0;for(var N=E.length;N;){for(P=E,E=[],S=-1;++S<N;)P[S]();N=E.length}u=!1}n.exports=function(S){E.push(S)!==1||u||c()}}).call(this,typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var s=t("immediate");function c(){}var u={},d=["REJECTED"],l=["FULFILLED"],m=["PENDING"];function y(N){if(typeof N!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,N!==c&&S(this,N)}function b(N,k,R){this.promise=N,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function E(N,k,R){s(function(){var L;try{L=k(R)}catch(U){return u.reject(N,U)}L===N?u.reject(N,new TypeError("Cannot resolve promise with itself")):u.resolve(N,L)})}function I(N){var k=N&&N.then;if(N&&(typeof N=="object"||typeof N=="function")&&typeof k=="function")return function(){k.apply(N,arguments)}}function S(N,k){var R=!1;function L(V){R||(R=!0,u.reject(N,V))}function U(V){R||(R=!0,u.resolve(N,V))}var te=P(function(){k(U,L)});te.status==="error"&&L(te.value)}function P(N,k){var R={};try{R.value=N(k),R.status="success"}catch(L){R.status="error",R.value=L}return R}(n.exports=y).prototype.finally=function(N){if(typeof N!="function")return this;var k=this.constructor;return this.then(function(R){return k.resolve(N()).then(function(){return R})},function(R){return k.resolve(N()).then(function(){throw R})})},y.prototype.catch=function(N){return this.then(null,N)},y.prototype.then=function(N,k){if(typeof N!="function"&&this.state===l||typeof k!="function"&&this.state===d)return this;var R=new this.constructor(c);return this.state!==m?E(R,this.state===l?N:k,this.outcome):this.queue.push(new b(R,N,k)),R},b.prototype.callFulfilled=function(N){u.resolve(this.promise,N)},b.prototype.otherCallFulfilled=function(N){E(this.promise,this.onFulfilled,N)},b.prototype.callRejected=function(N){u.reject(this.promise,N)},b.prototype.otherCallRejected=function(N){E(this.promise,this.onRejected,N)},u.resolve=function(N,k){var R=P(I,k);if(R.status==="error")return u.reject(N,R.value);var L=R.value;if(L)S(N,L);else{N.state=l,N.outcome=k;for(var U=-1,te=N.queue.length;++U<te;)N.queue[U].callFulfilled(k)}return N},u.reject=function(N,k){N.state=d,N.outcome=k;for(var R=-1,L=N.queue.length;++R<L;)N.queue[R].callRejected(k);return N},y.resolve=function(N){return N instanceof this?N:u.resolve(new this(c),N)},y.reject=function(N){var k=new this(c);return u.reject(k,N)},y.all=function(N){var k=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=N.length,L=!1;if(!R)return this.resolve([]);for(var U=new Array(R),te=0,V=-1,oe=new this(c);++V<R;)de(N[V],V);return oe;function de(Ee,Fe){k.resolve(Ee).then(function(j){U[Fe]=j,++te!==R||L||(L=!0,u.resolve(oe,U))},function(j){L||(L=!0,u.reject(oe,j))})}},y.race=function(N){var k=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=N.length,L=!1;if(!R)return this.resolve([]);for(var U=-1,te=new this(c);++U<R;)V=N[U],k.resolve(V).then(function(oe){L||(L=!0,u.resolve(te,oe))},function(oe){L||(L=!0,u.reject(te,oe))});var V;return te}},{immediate:36}],38:[function(t,n,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var s=t("./zlib/deflate"),c=t("./utils/common"),u=t("./utils/strings"),d=t("./zlib/messages"),l=t("./zlib/zstream"),m=Object.prototype.toString,y=0,b=-1,E=0,I=8;function S(N){if(!(this instanceof S))return new S(N);this.options=c.assign({level:b,method:I,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},N||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var R=s.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(R!==y)throw new Error(d[R]);if(k.header&&s.deflateSetHeader(this.strm,k.header),k.dictionary){var L;if(L=typeof k.dictionary=="string"?u.string2buf(k.dictionary):m.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(R=s.deflateSetDictionary(this.strm,L))!==y)throw new Error(d[R]);this._dict_set=!0}}function P(N,k){var R=new S(k);if(R.push(N,!0),R.err)throw R.msg||d[R.err];return R.result}S.prototype.push=function(N,k){var R,L,U=this.strm,te=this.options.chunkSize;if(this.ended)return!1;L=k===~~k?k:k===!0?4:0,typeof N=="string"?U.input=u.string2buf(N):m.call(N)==="[object ArrayBuffer]"?U.input=new Uint8Array(N):U.input=N,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new c.Buf8(te),U.next_out=0,U.avail_out=te),(R=s.deflate(U,L))!==1&&R!==y)return this.onEnd(R),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||L!==4&&L!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(U.output,U.next_out))):this.onData(c.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&R!==1);return L===4?(R=s.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===y):L!==2||(this.onEnd(y),!(U.avail_out=0))},S.prototype.onData=function(N){this.chunks.push(N)},S.prototype.onEnd=function(N){N===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},i.Deflate=S,i.deflate=P,i.deflateRaw=function(N,k){return(k=k||{}).raw=!0,P(N,k)},i.gzip=function(N,k){return(k=k||{}).gzip=!0,P(N,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var s=t("./zlib/inflate"),c=t("./utils/common"),u=t("./utils/strings"),d=t("./zlib/constants"),l=t("./zlib/messages"),m=t("./zlib/zstream"),y=t("./zlib/gzheader"),b=Object.prototype.toString;function E(S){if(!(this instanceof E))return new E(S);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},S||{});var P=this.options;P.raw&&0<=P.windowBits&&P.windowBits<16&&(P.windowBits=-P.windowBits,P.windowBits===0&&(P.windowBits=-15)),!(0<=P.windowBits&&P.windowBits<16)||S&&S.windowBits||(P.windowBits+=32),15<P.windowBits&&P.windowBits<48&&(15&P.windowBits)==0&&(P.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var N=s.inflateInit2(this.strm,P.windowBits);if(N!==d.Z_OK)throw new Error(l[N]);this.header=new y,s.inflateGetHeader(this.strm,this.header)}function I(S,P){var N=new E(P);if(N.push(S,!0),N.err)throw N.msg||l[N.err];return N.result}E.prototype.push=function(S,P){var N,k,R,L,U,te,V=this.strm,oe=this.options.chunkSize,de=this.options.dictionary,Ee=!1;if(this.ended)return!1;k=P===~~P?P:P===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof S=="string"?V.input=u.binstring2buf(S):b.call(S)==="[object ArrayBuffer]"?V.input=new Uint8Array(S):V.input=S,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new c.Buf8(oe),V.next_out=0,V.avail_out=oe),(N=s.inflate(V,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&de&&(te=typeof de=="string"?u.string2buf(de):b.call(de)==="[object ArrayBuffer]"?new Uint8Array(de):de,N=s.inflateSetDictionary(this.strm,te)),N===d.Z_BUF_ERROR&&Ee===!0&&(N=d.Z_OK,Ee=!1),N!==d.Z_STREAM_END&&N!==d.Z_OK)return this.onEnd(N),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&N!==d.Z_STREAM_END&&(V.avail_in!==0||k!==d.Z_FINISH&&k!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=u.utf8border(V.output,V.next_out),L=V.next_out-R,U=u.buf2string(V.output,R),V.next_out=L,V.avail_out=oe-L,L&&c.arraySet(V.output,V.output,R,L,0),this.onData(U)):this.onData(c.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(Ee=!0)}while((0<V.avail_in||V.avail_out===0)&&N!==d.Z_STREAM_END);return N===d.Z_STREAM_END&&(k=d.Z_FINISH),k===d.Z_FINISH?(N=s.inflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===d.Z_OK):k!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(V.avail_out=0))},E.prototype.onData=function(S){this.chunks.push(S)},E.prototype.onEnd=function(S){S===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Inflate=E,i.inflate=I,i.inflateRaw=function(S,P){return(P=P||{}).raw=!0,I(S,P)},i.ungzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var m=l.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var y in m)m.hasOwnProperty(y)&&(d[y]=m[y])}}return d},i.shrinkBuf=function(d,l){return d.length===l?d:d.subarray?d.subarray(0,l):(d.length=l,d)};var c={arraySet:function(d,l,m,y,b){if(l.subarray&&d.subarray)d.set(l.subarray(m,m+y),b);else for(var E=0;E<y;E++)d[b+E]=l[m+E]},flattenChunks:function(d){var l,m,y,b,E,I;for(l=y=0,m=d.length;l<m;l++)y+=d[l].length;for(I=new Uint8Array(y),l=b=0,m=d.length;l<m;l++)E=d[l],I.set(E,b),b+=E.length;return I}},u={arraySet:function(d,l,m,y,b){for(var E=0;E<y;E++)d[b+E]=l[m+E]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,c)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(s)},{}],42:[function(t,n,i){var s=t("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new s.Buf8(256),l=0;l<256;l++)d[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function m(y,b){if(b<65537&&(y.subarray&&u||!y.subarray&&c))return String.fromCharCode.apply(null,s.shrinkBuf(y,b));for(var E="",I=0;I<b;I++)E+=String.fromCharCode(y[I]);return E}d[254]=d[254]=1,i.string2buf=function(y){var b,E,I,S,P,N=y.length,k=0;for(S=0;S<N;S++)(64512&(E=y.charCodeAt(S)))==55296&&S+1<N&&(64512&(I=y.charCodeAt(S+1)))==56320&&(E=65536+(E-55296<<10)+(I-56320),S++),k+=E<128?1:E<2048?2:E<65536?3:4;for(b=new s.Buf8(k),S=P=0;P<k;S++)(64512&(E=y.charCodeAt(S)))==55296&&S+1<N&&(64512&(I=y.charCodeAt(S+1)))==56320&&(E=65536+(E-55296<<10)+(I-56320),S++),E<128?b[P++]=E:(E<2048?b[P++]=192|E>>>6:(E<65536?b[P++]=224|E>>>12:(b[P++]=240|E>>>18,b[P++]=128|E>>>12&63),b[P++]=128|E>>>6&63),b[P++]=128|63&E);return b},i.buf2binstring=function(y){return m(y,y.length)},i.binstring2buf=function(y){for(var b=new s.Buf8(y.length),E=0,I=b.length;E<I;E++)b[E]=y.charCodeAt(E);return b},i.buf2string=function(y,b){var E,I,S,P,N=b||y.length,k=new Array(2*N);for(E=I=0;E<N;)if((S=y[E++])<128)k[I++]=S;else if(4<(P=d[S]))k[I++]=65533,E+=P-1;else{for(S&=P===2?31:P===3?15:7;1<P&&E<N;)S=S<<6|63&y[E++],P--;1<P?k[I++]=65533:S<65536?k[I++]=S:(S-=65536,k[I++]=55296|S>>10&1023,k[I++]=56320|1023&S)}return m(k,I)},i.utf8border=function(y,b){var E;for((b=b||y.length)>y.length&&(b=y.length),E=b-1;0<=E&&(192&y[E])==128;)E--;return E<0||E===0?b:E+d[y[E]]>b?E:b}},{"./common":41}],43:[function(t,n,i){n.exports=function(s,c,u,d){for(var l=65535&s|0,m=s>>>16&65535|0,y=0;u!==0;){for(u-=y=2e3<u?2e3:u;m=m+(l=l+c[d++]|0)|0,--y;);l%=65521,m%=65521}return l|m<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var s=function(){for(var c,u=[],d=0;d<256;d++){c=d;for(var l=0;l<8;l++)c=1&c?3988292384^c>>>1:c>>>1;u[d]=c}return u}();n.exports=function(c,u,d,l){var m=s,y=l+d;c^=-1;for(var b=l;b<y;b++)c=c>>>8^m[255&(c^u[b])];return-1^c}},{}],46:[function(t,n,i){var s,c=t("../utils/common"),u=t("./trees"),d=t("./adler32"),l=t("./crc32"),m=t("./messages"),y=0,b=4,E=0,I=-2,S=-1,P=4,N=2,k=8,R=9,L=286,U=30,te=19,V=2*L+1,oe=15,de=3,Ee=258,Fe=Ee+de+1,j=42,fe=113,z=1,Q=2,me=3,pe=4;function xe(W,He){return W.msg=m[He],He}function ce(W){return(W<<1)-(4<W?9:0)}function ve(W){for(var He=W.length;0<=--He;)W[He]=0}function ee(W){var He=W.state,_e=He.pending;_e>W.avail_out&&(_e=W.avail_out),_e!==0&&(c.arraySet(W.output,He.pending_buf,He.pending_out,_e,W.next_out),W.next_out+=_e,He.pending_out+=_e,W.total_out+=_e,W.avail_out-=_e,He.pending-=_e,He.pending===0&&(He.pending_out=0))}function re(W,He){u._tr_flush_block(W,0<=W.block_start?W.block_start:-1,W.strstart-W.block_start,He),W.block_start=W.strstart,ee(W.strm)}function se(W,He){W.pending_buf[W.pending++]=He}function Y(W,He){W.pending_buf[W.pending++]=He>>>8&255,W.pending_buf[W.pending++]=255&He}function J(W,He){var _e,ge,ue=W.max_chain_length,he=W.strstart,Ke=W.prev_length,Ve=W.nice_match,Oe=W.strstart>W.w_size-Fe?W.strstart-(W.w_size-Fe):0,et=W.window,be=W.w_mask,Ae=W.prev,Ze=W.strstart+Ee,ut=et[he+Ke-1],X=et[he+Ke];W.prev_length>=W.good_match&&(ue>>=2),Ve>W.lookahead&&(Ve=W.lookahead);do if(et[(_e=He)+Ke]===X&&et[_e+Ke-1]===ut&&et[_e]===et[he]&&et[++_e]===et[he+1]){he+=2,_e++;do;while(et[++he]===et[++_e]&&et[++he]===et[++_e]&&et[++he]===et[++_e]&&et[++he]===et[++_e]&&et[++he]===et[++_e]&&et[++he]===et[++_e]&&et[++he]===et[++_e]&&et[++he]===et[++_e]&&he<Ze);if(ge=Ee-(Ze-he),he=Ze-Ee,Ke<ge){if(W.match_start=He,Ve<=(Ke=ge))break;ut=et[he+Ke-1],X=et[he+Ke]}}while((He=Ae[He&be])>Oe&&--ue!=0);return Ke<=W.lookahead?Ke:W.lookahead}function Se(W){var He,_e,ge,ue,he,Ke,Ve,Oe,et,be,Ae=W.w_size;do{if(ue=W.window_size-W.lookahead-W.strstart,W.strstart>=Ae+(Ae-Fe)){for(c.arraySet(W.window,W.window,Ae,Ae,0),W.match_start-=Ae,W.strstart-=Ae,W.block_start-=Ae,He=_e=W.hash_size;ge=W.head[--He],W.head[He]=Ae<=ge?ge-Ae:0,--_e;);for(He=_e=Ae;ge=W.prev[--He],W.prev[He]=Ae<=ge?ge-Ae:0,--_e;);ue+=Ae}if(W.strm.avail_in===0)break;if(Ke=W.strm,Ve=W.window,Oe=W.strstart+W.lookahead,et=ue,be=void 0,be=Ke.avail_in,et<be&&(be=et),_e=be===0?0:(Ke.avail_in-=be,c.arraySet(Ve,Ke.input,Ke.next_in,be,Oe),Ke.state.wrap===1?Ke.adler=d(Ke.adler,Ve,be,Oe):Ke.state.wrap===2&&(Ke.adler=l(Ke.adler,Ve,be,Oe)),Ke.next_in+=be,Ke.total_in+=be,be),W.lookahead+=_e,W.lookahead+W.insert>=de)for(he=W.strstart-W.insert,W.ins_h=W.window[he],W.ins_h=(W.ins_h<<W.hash_shift^W.window[he+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[he+de-1])&W.hash_mask,W.prev[he&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=he,he++,W.insert--,!(W.lookahead+W.insert<de)););}while(W.lookahead<Fe&&W.strm.avail_in!==0)}function Me(W,He){for(var _e,ge;;){if(W.lookahead<Fe){if(Se(W),W.lookahead<Fe&&He===y)return z;if(W.lookahead===0)break}if(_e=0,W.lookahead>=de&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+de-1])&W.hash_mask,_e=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),_e!==0&&W.strstart-_e<=W.w_size-Fe&&(W.match_length=J(W,_e)),W.match_length>=de)if(ge=u._tr_tally(W,W.strstart-W.match_start,W.match_length-de),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=de){for(W.match_length--;W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+de-1])&W.hash_mask,_e=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart,--W.match_length!=0;);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else ge=u._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(ge&&(re(W,!1),W.strm.avail_out===0))return z}return W.insert=W.strstart<de-1?W.strstart:de-1,He===b?(re(W,!0),W.strm.avail_out===0?me:pe):W.last_lit&&(re(W,!1),W.strm.avail_out===0)?z:Q}function Ce(W,He){for(var _e,ge,ue;;){if(W.lookahead<Fe){if(Se(W),W.lookahead<Fe&&He===y)return z;if(W.lookahead===0)break}if(_e=0,W.lookahead>=de&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+de-1])&W.hash_mask,_e=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=de-1,_e!==0&&W.prev_length<W.max_lazy_match&&W.strstart-_e<=W.w_size-Fe&&(W.match_length=J(W,_e),W.match_length<=5&&(W.strategy===1||W.match_length===de&&4096<W.strstart-W.match_start)&&(W.match_length=de-1)),W.prev_length>=de&&W.match_length<=W.prev_length){for(ue=W.strstart+W.lookahead-de,ge=u._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-de),W.lookahead-=W.prev_length-1,W.prev_length-=2;++W.strstart<=ue&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+de-1])&W.hash_mask,_e=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),--W.prev_length!=0;);if(W.match_available=0,W.match_length=de-1,W.strstart++,ge&&(re(W,!1),W.strm.avail_out===0))return z}else if(W.match_available){if((ge=u._tr_tally(W,0,W.window[W.strstart-1]))&&re(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return z}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(ge=u._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<de-1?W.strstart:de-1,He===b?(re(W,!0),W.strm.avail_out===0?me:pe):W.last_lit&&(re(W,!1),W.strm.avail_out===0)?z:Q}function Re(W,He,_e,ge,ue){this.good_length=W,this.max_lazy=He,this.nice_length=_e,this.max_chain=ge,this.func=ue}function je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*V),this.dyn_dtree=new c.Buf16(2*(2*U+1)),this.bl_tree=new c.Buf16(2*(2*te+1)),ve(this.dyn_ltree),ve(this.dyn_dtree),ve(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(oe+1),this.heap=new c.Buf16(2*L+1),ve(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*L+1),ve(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ge(W){var He;return W&&W.state?(W.total_in=W.total_out=0,W.data_type=N,(He=W.state).pending=0,He.pending_out=0,He.wrap<0&&(He.wrap=-He.wrap),He.status=He.wrap?j:fe,W.adler=He.wrap===2?0:1,He.last_flush=y,u._tr_init(He),E):xe(W,I)}function ct(W){var He=Ge(W);return He===E&&function(_e){_e.window_size=2*_e.w_size,ve(_e.head),_e.max_lazy_match=s[_e.level].max_lazy,_e.good_match=s[_e.level].good_length,_e.nice_match=s[_e.level].nice_length,_e.max_chain_length=s[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=de-1,_e.match_available=0,_e.ins_h=0}(W.state),He}function pt(W,He,_e,ge,ue,he){if(!W)return I;var Ke=1;if(He===S&&(He=6),ge<0?(Ke=0,ge=-ge):15<ge&&(Ke=2,ge-=16),ue<1||R<ue||_e!==k||ge<8||15<ge||He<0||9<He||he<0||P<he)return xe(W,I);ge===8&&(ge=9);var Ve=new je;return(W.state=Ve).strm=W,Ve.wrap=Ke,Ve.gzhead=null,Ve.w_bits=ge,Ve.w_size=1<<Ve.w_bits,Ve.w_mask=Ve.w_size-1,Ve.hash_bits=ue+7,Ve.hash_size=1<<Ve.hash_bits,Ve.hash_mask=Ve.hash_size-1,Ve.hash_shift=~~((Ve.hash_bits+de-1)/de),Ve.window=new c.Buf8(2*Ve.w_size),Ve.head=new c.Buf16(Ve.hash_size),Ve.prev=new c.Buf16(Ve.w_size),Ve.lit_bufsize=1<<ue+6,Ve.pending_buf_size=4*Ve.lit_bufsize,Ve.pending_buf=new c.Buf8(Ve.pending_buf_size),Ve.d_buf=1*Ve.lit_bufsize,Ve.l_buf=3*Ve.lit_bufsize,Ve.level=He,Ve.strategy=he,Ve.method=_e,ct(W)}s=[new Re(0,0,0,0,function(W,He){var _e=65535;for(_e>W.pending_buf_size-5&&(_e=W.pending_buf_size-5);;){if(W.lookahead<=1){if(Se(W),W.lookahead===0&&He===y)return z;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var ge=W.block_start+_e;if((W.strstart===0||W.strstart>=ge)&&(W.lookahead=W.strstart-ge,W.strstart=ge,re(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-Fe&&(re(W,!1),W.strm.avail_out===0))return z}return W.insert=0,He===b?(re(W,!0),W.strm.avail_out===0?me:pe):(W.strstart>W.block_start&&(re(W,!1),W.strm.avail_out),z)}),new Re(4,4,8,4,Me),new Re(4,5,16,8,Me),new Re(4,6,32,32,Me),new Re(4,4,16,16,Ce),new Re(8,16,32,32,Ce),new Re(8,16,128,128,Ce),new Re(8,32,128,256,Ce),new Re(32,128,258,1024,Ce),new Re(32,258,258,4096,Ce)],i.deflateInit=function(W,He){return pt(W,He,k,15,8,0)},i.deflateInit2=pt,i.deflateReset=ct,i.deflateResetKeep=Ge,i.deflateSetHeader=function(W,He){return W&&W.state?W.state.wrap!==2?I:(W.state.gzhead=He,E):I},i.deflate=function(W,He){var _e,ge,ue,he;if(!W||!W.state||5<He||He<0)return W?xe(W,I):I;if(ge=W.state,!W.output||!W.input&&W.avail_in!==0||ge.status===666&&He!==b)return xe(W,W.avail_out===0?-5:I);if(ge.strm=W,_e=ge.last_flush,ge.last_flush=He,ge.status===j)if(ge.wrap===2)W.adler=0,se(ge,31),se(ge,139),se(ge,8),ge.gzhead?(se(ge,(ge.gzhead.text?1:0)+(ge.gzhead.hcrc?2:0)+(ge.gzhead.extra?4:0)+(ge.gzhead.name?8:0)+(ge.gzhead.comment?16:0)),se(ge,255&ge.gzhead.time),se(ge,ge.gzhead.time>>8&255),se(ge,ge.gzhead.time>>16&255),se(ge,ge.gzhead.time>>24&255),se(ge,ge.level===9?2:2<=ge.strategy||ge.level<2?4:0),se(ge,255&ge.gzhead.os),ge.gzhead.extra&&ge.gzhead.extra.length&&(se(ge,255&ge.gzhead.extra.length),se(ge,ge.gzhead.extra.length>>8&255)),ge.gzhead.hcrc&&(W.adler=l(W.adler,ge.pending_buf,ge.pending,0)),ge.gzindex=0,ge.status=69):(se(ge,0),se(ge,0),se(ge,0),se(ge,0),se(ge,0),se(ge,ge.level===9?2:2<=ge.strategy||ge.level<2?4:0),se(ge,3),ge.status=fe);else{var Ke=k+(ge.w_bits-8<<4)<<8;Ke|=(2<=ge.strategy||ge.level<2?0:ge.level<6?1:ge.level===6?2:3)<<6,ge.strstart!==0&&(Ke|=32),Ke+=31-Ke%31,ge.status=fe,Y(ge,Ke),ge.strstart!==0&&(Y(ge,W.adler>>>16),Y(ge,65535&W.adler)),W.adler=1}if(ge.status===69)if(ge.gzhead.extra){for(ue=ge.pending;ge.gzindex<(65535&ge.gzhead.extra.length)&&(ge.pending!==ge.pending_buf_size||(ge.gzhead.hcrc&&ge.pending>ue&&(W.adler=l(W.adler,ge.pending_buf,ge.pending-ue,ue)),ee(W),ue=ge.pending,ge.pending!==ge.pending_buf_size));)se(ge,255&ge.gzhead.extra[ge.gzindex]),ge.gzindex++;ge.gzhead.hcrc&&ge.pending>ue&&(W.adler=l(W.adler,ge.pending_buf,ge.pending-ue,ue)),ge.gzindex===ge.gzhead.extra.length&&(ge.gzindex=0,ge.status=73)}else ge.status=73;if(ge.status===73)if(ge.gzhead.name){ue=ge.pending;do{if(ge.pending===ge.pending_buf_size&&(ge.gzhead.hcrc&&ge.pending>ue&&(W.adler=l(W.adler,ge.pending_buf,ge.pending-ue,ue)),ee(W),ue=ge.pending,ge.pending===ge.pending_buf_size)){he=1;break}he=ge.gzindex<ge.gzhead.name.length?255&ge.gzhead.name.charCodeAt(ge.gzindex++):0,se(ge,he)}while(he!==0);ge.gzhead.hcrc&&ge.pending>ue&&(W.adler=l(W.adler,ge.pending_buf,ge.pending-ue,ue)),he===0&&(ge.gzindex=0,ge.status=91)}else ge.status=91;if(ge.status===91)if(ge.gzhead.comment){ue=ge.pending;do{if(ge.pending===ge.pending_buf_size&&(ge.gzhead.hcrc&&ge.pending>ue&&(W.adler=l(W.adler,ge.pending_buf,ge.pending-ue,ue)),ee(W),ue=ge.pending,ge.pending===ge.pending_buf_size)){he=1;break}he=ge.gzindex<ge.gzhead.comment.length?255&ge.gzhead.comment.charCodeAt(ge.gzindex++):0,se(ge,he)}while(he!==0);ge.gzhead.hcrc&&ge.pending>ue&&(W.adler=l(W.adler,ge.pending_buf,ge.pending-ue,ue)),he===0&&(ge.status=103)}else ge.status=103;if(ge.status===103&&(ge.gzhead.hcrc?(ge.pending+2>ge.pending_buf_size&&ee(W),ge.pending+2<=ge.pending_buf_size&&(se(ge,255&W.adler),se(ge,W.adler>>8&255),W.adler=0,ge.status=fe)):ge.status=fe),ge.pending!==0){if(ee(W),W.avail_out===0)return ge.last_flush=-1,E}else if(W.avail_in===0&&ce(He)<=ce(_e)&&He!==b)return xe(W,-5);if(ge.status===666&&W.avail_in!==0)return xe(W,-5);if(W.avail_in!==0||ge.lookahead!==0||He!==y&&ge.status!==666){var Ve=ge.strategy===2?function(Oe,et){for(var be;;){if(Oe.lookahead===0&&(Se(Oe),Oe.lookahead===0)){if(et===y)return z;break}if(Oe.match_length=0,be=u._tr_tally(Oe,0,Oe.window[Oe.strstart]),Oe.lookahead--,Oe.strstart++,be&&(re(Oe,!1),Oe.strm.avail_out===0))return z}return Oe.insert=0,et===b?(re(Oe,!0),Oe.strm.avail_out===0?me:pe):Oe.last_lit&&(re(Oe,!1),Oe.strm.avail_out===0)?z:Q}(ge,He):ge.strategy===3?function(Oe,et){for(var be,Ae,Ze,ut,X=Oe.window;;){if(Oe.lookahead<=Ee){if(Se(Oe),Oe.lookahead<=Ee&&et===y)return z;if(Oe.lookahead===0)break}if(Oe.match_length=0,Oe.lookahead>=de&&0<Oe.strstart&&(Ae=X[Ze=Oe.strstart-1])===X[++Ze]&&Ae===X[++Ze]&&Ae===X[++Ze]){ut=Oe.strstart+Ee;do;while(Ae===X[++Ze]&&Ae===X[++Ze]&&Ae===X[++Ze]&&Ae===X[++Ze]&&Ae===X[++Ze]&&Ae===X[++Ze]&&Ae===X[++Ze]&&Ae===X[++Ze]&&Ze<ut);Oe.match_length=Ee-(ut-Ze),Oe.match_length>Oe.lookahead&&(Oe.match_length=Oe.lookahead)}if(Oe.match_length>=de?(be=u._tr_tally(Oe,1,Oe.match_length-de),Oe.lookahead-=Oe.match_length,Oe.strstart+=Oe.match_length,Oe.match_length=0):(be=u._tr_tally(Oe,0,Oe.window[Oe.strstart]),Oe.lookahead--,Oe.strstart++),be&&(re(Oe,!1),Oe.strm.avail_out===0))return z}return Oe.insert=0,et===b?(re(Oe,!0),Oe.strm.avail_out===0?me:pe):Oe.last_lit&&(re(Oe,!1),Oe.strm.avail_out===0)?z:Q}(ge,He):s[ge.level].func(ge,He);if(Ve!==me&&Ve!==pe||(ge.status=666),Ve===z||Ve===me)return W.avail_out===0&&(ge.last_flush=-1),E;if(Ve===Q&&(He===1?u._tr_align(ge):He!==5&&(u._tr_stored_block(ge,0,0,!1),He===3&&(ve(ge.head),ge.lookahead===0&&(ge.strstart=0,ge.block_start=0,ge.insert=0))),ee(W),W.avail_out===0))return ge.last_flush=-1,E}return He!==b?E:ge.wrap<=0?1:(ge.wrap===2?(se(ge,255&W.adler),se(ge,W.adler>>8&255),se(ge,W.adler>>16&255),se(ge,W.adler>>24&255),se(ge,255&W.total_in),se(ge,W.total_in>>8&255),se(ge,W.total_in>>16&255),se(ge,W.total_in>>24&255)):(Y(ge,W.adler>>>16),Y(ge,65535&W.adler)),ee(W),0<ge.wrap&&(ge.wrap=-ge.wrap),ge.pending!==0?E:1)},i.deflateEnd=function(W){var He;return W&&W.state?(He=W.state.status)!==j&&He!==69&&He!==73&&He!==91&&He!==103&&He!==fe&&He!==666?xe(W,I):(W.state=null,He===fe?xe(W,-3):E):I},i.deflateSetDictionary=function(W,He){var _e,ge,ue,he,Ke,Ve,Oe,et,be=He.length;if(!W||!W.state||(he=(_e=W.state).wrap)===2||he===1&&_e.status!==j||_e.lookahead)return I;for(he===1&&(W.adler=d(W.adler,He,be,0)),_e.wrap=0,be>=_e.w_size&&(he===0&&(ve(_e.head),_e.strstart=0,_e.block_start=0,_e.insert=0),et=new c.Buf8(_e.w_size),c.arraySet(et,He,be-_e.w_size,_e.w_size,0),He=et,be=_e.w_size),Ke=W.avail_in,Ve=W.next_in,Oe=W.input,W.avail_in=be,W.next_in=0,W.input=He,Se(_e);_e.lookahead>=de;){for(ge=_e.strstart,ue=_e.lookahead-(de-1);_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[ge+de-1])&_e.hash_mask,_e.prev[ge&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=ge,ge++,--ue;);_e.strstart=ge,_e.lookahead=de-1,Se(_e)}return _e.strstart+=_e.lookahead,_e.block_start=_e.strstart,_e.insert=_e.lookahead,_e.lookahead=0,_e.match_length=_e.prev_length=de-1,_e.match_available=0,W.next_in=Ve,W.input=Oe,W.avail_in=Ke,_e.wrap=he,E},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(s,c){var u,d,l,m,y,b,E,I,S,P,N,k,R,L,U,te,V,oe,de,Ee,Fe,j,fe,z,Q;u=s.state,d=s.next_in,z=s.input,l=d+(s.avail_in-5),m=s.next_out,Q=s.output,y=m-(c-s.avail_out),b=m+(s.avail_out-257),E=u.dmax,I=u.wsize,S=u.whave,P=u.wnext,N=u.window,k=u.hold,R=u.bits,L=u.lencode,U=u.distcode,te=(1<<u.lenbits)-1,V=(1<<u.distbits)-1;e:do{R<15&&(k+=z[d++]<<R,R+=8,k+=z[d++]<<R,R+=8),oe=L[k&te];t:for(;;){if(k>>>=de=oe>>>24,R-=de,(de=oe>>>16&255)===0)Q[m++]=65535&oe;else{if(!(16&de)){if((64&de)==0){oe=L[(65535&oe)+(k&(1<<de)-1)];continue t}if(32&de){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}Ee=65535&oe,(de&=15)&&(R<de&&(k+=z[d++]<<R,R+=8),Ee+=k&(1<<de)-1,k>>>=de,R-=de),R<15&&(k+=z[d++]<<R,R+=8,k+=z[d++]<<R,R+=8),oe=U[k&V];r:for(;;){if(k>>>=de=oe>>>24,R-=de,!(16&(de=oe>>>16&255))){if((64&de)==0){oe=U[(65535&oe)+(k&(1<<de)-1)];continue r}s.msg="invalid distance code",u.mode=30;break e}if(Fe=65535&oe,R<(de&=15)&&(k+=z[d++]<<R,(R+=8)<de&&(k+=z[d++]<<R,R+=8)),E<(Fe+=k&(1<<de)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(k>>>=de,R-=de,(de=m-y)<Fe){if(S<(de=Fe-de)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(fe=N,(j=0)===P){if(j+=I-de,de<Ee){for(Ee-=de;Q[m++]=N[j++],--de;);j=m-Fe,fe=Q}}else if(P<de){if(j+=I+P-de,(de-=P)<Ee){for(Ee-=de;Q[m++]=N[j++],--de;);if(j=0,P<Ee){for(Ee-=de=P;Q[m++]=N[j++],--de;);j=m-Fe,fe=Q}}}else if(j+=P-de,de<Ee){for(Ee-=de;Q[m++]=N[j++],--de;);j=m-Fe,fe=Q}for(;2<Ee;)Q[m++]=fe[j++],Q[m++]=fe[j++],Q[m++]=fe[j++],Ee-=3;Ee&&(Q[m++]=fe[j++],1<Ee&&(Q[m++]=fe[j++]))}else{for(j=m-Fe;Q[m++]=Q[j++],Q[m++]=Q[j++],Q[m++]=Q[j++],2<(Ee-=3););Ee&&(Q[m++]=Q[j++],1<Ee&&(Q[m++]=Q[j++]))}break}}break}}while(d<l&&m<b);d-=Ee=R>>3,k&=(1<<(R-=Ee<<3))-1,s.next_in=d,s.next_out=m,s.avail_in=d<l?l-d+5:5-(d-l),s.avail_out=m<b?b-m+257:257-(m-b),u.hold=k,u.bits=R}},{}],49:[function(t,n,i){var s=t("../utils/common"),c=t("./adler32"),u=t("./crc32"),d=t("./inffast"),l=t("./inftrees"),m=1,y=2,b=0,E=-2,I=1,S=852,P=592;function N(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(j){var fe;return j&&j.state?(fe=j.state,j.total_in=j.total_out=fe.total=0,j.msg="",fe.wrap&&(j.adler=1&fe.wrap),fe.mode=I,fe.last=0,fe.havedict=0,fe.dmax=32768,fe.head=null,fe.hold=0,fe.bits=0,fe.lencode=fe.lendyn=new s.Buf32(S),fe.distcode=fe.distdyn=new s.Buf32(P),fe.sane=1,fe.back=-1,b):E}function L(j){var fe;return j&&j.state?((fe=j.state).wsize=0,fe.whave=0,fe.wnext=0,R(j)):E}function U(j,fe){var z,Q;return j&&j.state?(Q=j.state,fe<0?(z=0,fe=-fe):(z=1+(fe>>4),fe<48&&(fe&=15)),fe&&(fe<8||15<fe)?E:(Q.window!==null&&Q.wbits!==fe&&(Q.window=null),Q.wrap=z,Q.wbits=fe,L(j))):E}function te(j,fe){var z,Q;return j?(Q=new k,(j.state=Q).window=null,(z=U(j,fe))!==b&&(j.state=null),z):E}var V,oe,de=!0;function Ee(j){if(de){var fe;for(V=new s.Buf32(512),oe=new s.Buf32(32),fe=0;fe<144;)j.lens[fe++]=8;for(;fe<256;)j.lens[fe++]=9;for(;fe<280;)j.lens[fe++]=7;for(;fe<288;)j.lens[fe++]=8;for(l(m,j.lens,0,288,V,0,j.work,{bits:9}),fe=0;fe<32;)j.lens[fe++]=5;l(y,j.lens,0,32,oe,0,j.work,{bits:5}),de=!1}j.lencode=V,j.lenbits=9,j.distcode=oe,j.distbits=5}function Fe(j,fe,z,Q){var me,pe=j.state;return pe.window===null&&(pe.wsize=1<<pe.wbits,pe.wnext=0,pe.whave=0,pe.window=new s.Buf8(pe.wsize)),Q>=pe.wsize?(s.arraySet(pe.window,fe,z-pe.wsize,pe.wsize,0),pe.wnext=0,pe.whave=pe.wsize):(Q<(me=pe.wsize-pe.wnext)&&(me=Q),s.arraySet(pe.window,fe,z-Q,me,pe.wnext),(Q-=me)?(s.arraySet(pe.window,fe,z-Q,Q,0),pe.wnext=Q,pe.whave=pe.wsize):(pe.wnext+=me,pe.wnext===pe.wsize&&(pe.wnext=0),pe.whave<pe.wsize&&(pe.whave+=me))),0}i.inflateReset=L,i.inflateReset2=U,i.inflateResetKeep=R,i.inflateInit=function(j){return te(j,15)},i.inflateInit2=te,i.inflate=function(j,fe){var z,Q,me,pe,xe,ce,ve,ee,re,se,Y,J,Se,Me,Ce,Re,je,Ge,ct,pt,W,He,_e,ge,ue=0,he=new s.Buf8(4),Ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return E;(z=j.state).mode===12&&(z.mode=13),xe=j.next_out,me=j.output,ve=j.avail_out,pe=j.next_in,Q=j.input,ce=j.avail_in,ee=z.hold,re=z.bits,se=ce,Y=ve,He=b;e:for(;;)switch(z.mode){case I:if(z.wrap===0){z.mode=13;break}for(;re<16;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}if(2&z.wrap&&ee===35615){he[z.check=0]=255&ee,he[1]=ee>>>8&255,z.check=u(z.check,he,2,0),re=ee=0,z.mode=2;break}if(z.flags=0,z.head&&(z.head.done=!1),!(1&z.wrap)||(((255&ee)<<8)+(ee>>8))%31){j.msg="incorrect header check",z.mode=30;break}if((15&ee)!=8){j.msg="unknown compression method",z.mode=30;break}if(re-=4,W=8+(15&(ee>>>=4)),z.wbits===0)z.wbits=W;else if(W>z.wbits){j.msg="invalid window size",z.mode=30;break}z.dmax=1<<W,j.adler=z.check=1,z.mode=512&ee?10:12,re=ee=0;break;case 2:for(;re<16;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}if(z.flags=ee,(255&z.flags)!=8){j.msg="unknown compression method",z.mode=30;break}if(57344&z.flags){j.msg="unknown header flags set",z.mode=30;break}z.head&&(z.head.text=ee>>8&1),512&z.flags&&(he[0]=255&ee,he[1]=ee>>>8&255,z.check=u(z.check,he,2,0)),re=ee=0,z.mode=3;case 3:for(;re<32;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}z.head&&(z.head.time=ee),512&z.flags&&(he[0]=255&ee,he[1]=ee>>>8&255,he[2]=ee>>>16&255,he[3]=ee>>>24&255,z.check=u(z.check,he,4,0)),re=ee=0,z.mode=4;case 4:for(;re<16;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}z.head&&(z.head.xflags=255&ee,z.head.os=ee>>8),512&z.flags&&(he[0]=255&ee,he[1]=ee>>>8&255,z.check=u(z.check,he,2,0)),re=ee=0,z.mode=5;case 5:if(1024&z.flags){for(;re<16;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}z.length=ee,z.head&&(z.head.extra_len=ee),512&z.flags&&(he[0]=255&ee,he[1]=ee>>>8&255,z.check=u(z.check,he,2,0)),re=ee=0}else z.head&&(z.head.extra=null);z.mode=6;case 6:if(1024&z.flags&&(ce<(J=z.length)&&(J=ce),J&&(z.head&&(W=z.head.extra_len-z.length,z.head.extra||(z.head.extra=new Array(z.head.extra_len)),s.arraySet(z.head.extra,Q,pe,J,W)),512&z.flags&&(z.check=u(z.check,Q,J,pe)),ce-=J,pe+=J,z.length-=J),z.length))break e;z.length=0,z.mode=7;case 7:if(2048&z.flags){if(ce===0)break e;for(J=0;W=Q[pe+J++],z.head&&W&&z.length<65536&&(z.head.name+=String.fromCharCode(W)),W&&J<ce;);if(512&z.flags&&(z.check=u(z.check,Q,J,pe)),ce-=J,pe+=J,W)break e}else z.head&&(z.head.name=null);z.length=0,z.mode=8;case 8:if(4096&z.flags){if(ce===0)break e;for(J=0;W=Q[pe+J++],z.head&&W&&z.length<65536&&(z.head.comment+=String.fromCharCode(W)),W&&J<ce;);if(512&z.flags&&(z.check=u(z.check,Q,J,pe)),ce-=J,pe+=J,W)break e}else z.head&&(z.head.comment=null);z.mode=9;case 9:if(512&z.flags){for(;re<16;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}if(ee!==(65535&z.check)){j.msg="header crc mismatch",z.mode=30;break}re=ee=0}z.head&&(z.head.hcrc=z.flags>>9&1,z.head.done=!0),j.adler=z.check=0,z.mode=12;break;case 10:for(;re<32;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}j.adler=z.check=N(ee),re=ee=0,z.mode=11;case 11:if(z.havedict===0)return j.next_out=xe,j.avail_out=ve,j.next_in=pe,j.avail_in=ce,z.hold=ee,z.bits=re,2;j.adler=z.check=1,z.mode=12;case 12:if(fe===5||fe===6)break e;case 13:if(z.last){ee>>>=7&re,re-=7&re,z.mode=27;break}for(;re<3;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}switch(z.last=1&ee,re-=1,3&(ee>>>=1)){case 0:z.mode=14;break;case 1:if(Ee(z),z.mode=20,fe!==6)break;ee>>>=2,re-=2;break e;case 2:z.mode=17;break;case 3:j.msg="invalid block type",z.mode=30}ee>>>=2,re-=2;break;case 14:for(ee>>>=7&re,re-=7&re;re<32;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}if((65535&ee)!=(ee>>>16^65535)){j.msg="invalid stored block lengths",z.mode=30;break}if(z.length=65535&ee,re=ee=0,z.mode=15,fe===6)break e;case 15:z.mode=16;case 16:if(J=z.length){if(ce<J&&(J=ce),ve<J&&(J=ve),J===0)break e;s.arraySet(me,Q,pe,J,xe),ce-=J,pe+=J,ve-=J,xe+=J,z.length-=J;break}z.mode=12;break;case 17:for(;re<14;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}if(z.nlen=257+(31&ee),ee>>>=5,re-=5,z.ndist=1+(31&ee),ee>>>=5,re-=5,z.ncode=4+(15&ee),ee>>>=4,re-=4,286<z.nlen||30<z.ndist){j.msg="too many length or distance symbols",z.mode=30;break}z.have=0,z.mode=18;case 18:for(;z.have<z.ncode;){for(;re<3;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}z.lens[Ke[z.have++]]=7&ee,ee>>>=3,re-=3}for(;z.have<19;)z.lens[Ke[z.have++]]=0;if(z.lencode=z.lendyn,z.lenbits=7,_e={bits:z.lenbits},He=l(0,z.lens,0,19,z.lencode,0,z.work,_e),z.lenbits=_e.bits,He){j.msg="invalid code lengths set",z.mode=30;break}z.have=0,z.mode=19;case 19:for(;z.have<z.nlen+z.ndist;){for(;Re=(ue=z.lencode[ee&(1<<z.lenbits)-1])>>>16&255,je=65535&ue,!((Ce=ue>>>24)<=re);){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}if(je<16)ee>>>=Ce,re-=Ce,z.lens[z.have++]=je;else{if(je===16){for(ge=Ce+2;re<ge;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}if(ee>>>=Ce,re-=Ce,z.have===0){j.msg="invalid bit length repeat",z.mode=30;break}W=z.lens[z.have-1],J=3+(3&ee),ee>>>=2,re-=2}else if(je===17){for(ge=Ce+3;re<ge;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}re-=Ce,W=0,J=3+(7&(ee>>>=Ce)),ee>>>=3,re-=3}else{for(ge=Ce+7;re<ge;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}re-=Ce,W=0,J=11+(127&(ee>>>=Ce)),ee>>>=7,re-=7}if(z.have+J>z.nlen+z.ndist){j.msg="invalid bit length repeat",z.mode=30;break}for(;J--;)z.lens[z.have++]=W}}if(z.mode===30)break;if(z.lens[256]===0){j.msg="invalid code -- missing end-of-block",z.mode=30;break}if(z.lenbits=9,_e={bits:z.lenbits},He=l(m,z.lens,0,z.nlen,z.lencode,0,z.work,_e),z.lenbits=_e.bits,He){j.msg="invalid literal/lengths set",z.mode=30;break}if(z.distbits=6,z.distcode=z.distdyn,_e={bits:z.distbits},He=l(y,z.lens,z.nlen,z.ndist,z.distcode,0,z.work,_e),z.distbits=_e.bits,He){j.msg="invalid distances set",z.mode=30;break}if(z.mode=20,fe===6)break e;case 20:z.mode=21;case 21:if(6<=ce&&258<=ve){j.next_out=xe,j.avail_out=ve,j.next_in=pe,j.avail_in=ce,z.hold=ee,z.bits=re,d(j,Y),xe=j.next_out,me=j.output,ve=j.avail_out,pe=j.next_in,Q=j.input,ce=j.avail_in,ee=z.hold,re=z.bits,z.mode===12&&(z.back=-1);break}for(z.back=0;Re=(ue=z.lencode[ee&(1<<z.lenbits)-1])>>>16&255,je=65535&ue,!((Ce=ue>>>24)<=re);){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}if(Re&&(240&Re)==0){for(Ge=Ce,ct=Re,pt=je;Re=(ue=z.lencode[pt+((ee&(1<<Ge+ct)-1)>>Ge)])>>>16&255,je=65535&ue,!(Ge+(Ce=ue>>>24)<=re);){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}ee>>>=Ge,re-=Ge,z.back+=Ge}if(ee>>>=Ce,re-=Ce,z.back+=Ce,z.length=je,Re===0){z.mode=26;break}if(32&Re){z.back=-1,z.mode=12;break}if(64&Re){j.msg="invalid literal/length code",z.mode=30;break}z.extra=15&Re,z.mode=22;case 22:if(z.extra){for(ge=z.extra;re<ge;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}z.length+=ee&(1<<z.extra)-1,ee>>>=z.extra,re-=z.extra,z.back+=z.extra}z.was=z.length,z.mode=23;case 23:for(;Re=(ue=z.distcode[ee&(1<<z.distbits)-1])>>>16&255,je=65535&ue,!((Ce=ue>>>24)<=re);){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}if((240&Re)==0){for(Ge=Ce,ct=Re,pt=je;Re=(ue=z.distcode[pt+((ee&(1<<Ge+ct)-1)>>Ge)])>>>16&255,je=65535&ue,!(Ge+(Ce=ue>>>24)<=re);){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}ee>>>=Ge,re-=Ge,z.back+=Ge}if(ee>>>=Ce,re-=Ce,z.back+=Ce,64&Re){j.msg="invalid distance code",z.mode=30;break}z.offset=je,z.extra=15&Re,z.mode=24;case 24:if(z.extra){for(ge=z.extra;re<ge;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}z.offset+=ee&(1<<z.extra)-1,ee>>>=z.extra,re-=z.extra,z.back+=z.extra}if(z.offset>z.dmax){j.msg="invalid distance too far back",z.mode=30;break}z.mode=25;case 25:if(ve===0)break e;if(J=Y-ve,z.offset>J){if((J=z.offset-J)>z.whave&&z.sane){j.msg="invalid distance too far back",z.mode=30;break}Se=J>z.wnext?(J-=z.wnext,z.wsize-J):z.wnext-J,J>z.length&&(J=z.length),Me=z.window}else Me=me,Se=xe-z.offset,J=z.length;for(ve<J&&(J=ve),ve-=J,z.length-=J;me[xe++]=Me[Se++],--J;);z.length===0&&(z.mode=21);break;case 26:if(ve===0)break e;me[xe++]=z.length,ve--,z.mode=21;break;case 27:if(z.wrap){for(;re<32;){if(ce===0)break e;ce--,ee|=Q[pe++]<<re,re+=8}if(Y-=ve,j.total_out+=Y,z.total+=Y,Y&&(j.adler=z.check=z.flags?u(z.check,me,Y,xe-Y):c(z.check,me,Y,xe-Y)),Y=ve,(z.flags?ee:N(ee))!==z.check){j.msg="incorrect data check",z.mode=30;break}re=ee=0}z.mode=28;case 28:if(z.wrap&&z.flags){for(;re<32;){if(ce===0)break e;ce--,ee+=Q[pe++]<<re,re+=8}if(ee!==(4294967295&z.total)){j.msg="incorrect length check",z.mode=30;break}re=ee=0}z.mode=29;case 29:He=1;break e;case 30:He=-3;break e;case 31:return-4;case 32:default:return E}return j.next_out=xe,j.avail_out=ve,j.next_in=pe,j.avail_in=ce,z.hold=ee,z.bits=re,(z.wsize||Y!==j.avail_out&&z.mode<30&&(z.mode<27||fe!==4))&&Fe(j,j.output,j.next_out,Y-j.avail_out)?(z.mode=31,-4):(se-=j.avail_in,Y-=j.avail_out,j.total_in+=se,j.total_out+=Y,z.total+=Y,z.wrap&&Y&&(j.adler=z.check=z.flags?u(z.check,me,Y,j.next_out-Y):c(z.check,me,Y,j.next_out-Y)),j.data_type=z.bits+(z.last?64:0)+(z.mode===12?128:0)+(z.mode===20||z.mode===15?256:0),(se==0&&Y===0||fe===4)&&He===b&&(He=-5),He)},i.inflateEnd=function(j){if(!j||!j.state)return E;var fe=j.state;return fe.window&&(fe.window=null),j.state=null,b},i.inflateGetHeader=function(j,fe){var z;return j&&j.state?(2&(z=j.state).wrap)==0?E:((z.head=fe).done=!1,b):E},i.inflateSetDictionary=function(j,fe){var z,Q=fe.length;return j&&j.state?(z=j.state).wrap!==0&&z.mode!==11?E:z.mode===11&&c(1,fe,Q,0)!==z.check?-3:Fe(j,fe,Q,Q)?(z.mode=31,-4):(z.havedict=1,b):E},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var s=t("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(m,y,b,E,I,S,P,N){var k,R,L,U,te,V,oe,de,Ee,Fe=N.bits,j=0,fe=0,z=0,Q=0,me=0,pe=0,xe=0,ce=0,ve=0,ee=0,re=null,se=0,Y=new s.Buf16(16),J=new s.Buf16(16),Se=null,Me=0;for(j=0;j<=15;j++)Y[j]=0;for(fe=0;fe<E;fe++)Y[y[b+fe]]++;for(me=Fe,Q=15;1<=Q&&Y[Q]===0;Q--);if(Q<me&&(me=Q),Q===0)return I[S++]=20971520,I[S++]=20971520,N.bits=1,0;for(z=1;z<Q&&Y[z]===0;z++);for(me<z&&(me=z),j=ce=1;j<=15;j++)if(ce<<=1,(ce-=Y[j])<0)return-1;if(0<ce&&(m===0||Q!==1))return-1;for(J[1]=0,j=1;j<15;j++)J[j+1]=J[j]+Y[j];for(fe=0;fe<E;fe++)y[b+fe]!==0&&(P[J[y[b+fe]]++]=fe);if(V=m===0?(re=Se=P,19):m===1?(re=c,se-=257,Se=u,Me-=257,256):(re=d,Se=l,-1),j=z,te=S,xe=fe=ee=0,L=-1,U=(ve=1<<(pe=me))-1,m===1&&852<ve||m===2&&592<ve)return 1;for(;;){for(oe=j-xe,Ee=P[fe]<V?(de=0,P[fe]):P[fe]>V?(de=Se[Me+P[fe]],re[se+P[fe]]):(de=96,0),k=1<<j-xe,z=R=1<<pe;I[te+(ee>>xe)+(R-=k)]=oe<<24|de<<16|Ee|0,R!==0;);for(k=1<<j-1;ee&k;)k>>=1;if(k!==0?(ee&=k-1,ee+=k):ee=0,fe++,--Y[j]==0){if(j===Q)break;j=y[b+P[fe]]}if(me<j&&(ee&U)!==L){for(xe===0&&(xe=me),te+=z,ce=1<<(pe=j-xe);pe+xe<Q&&!((ce-=Y[pe+xe])<=0);)pe++,ce<<=1;if(ve+=1<<pe,m===1&&852<ve||m===2&&592<ve)return 1;I[L=ee&U]=me<<24|pe<<16|te-S|0}}return ee!==0&&(I[te+ee]=j-xe<<24|64<<16|0),N.bits=me,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var s=t("../utils/common"),c=0,u=1;function d(ue){for(var he=ue.length;0<=--he;)ue[he]=0}var l=0,m=29,y=256,b=y+1+m,E=30,I=19,S=2*b+1,P=15,N=16,k=7,R=256,L=16,U=17,te=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],oe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Fe=new Array(2*(b+2));d(Fe);var j=new Array(2*E);d(j);var fe=new Array(512);d(fe);var z=new Array(256);d(z);var Q=new Array(m);d(Q);var me,pe,xe,ce=new Array(E);function ve(ue,he,Ke,Ve,Oe){this.static_tree=ue,this.extra_bits=he,this.extra_base=Ke,this.elems=Ve,this.max_length=Oe,this.has_stree=ue&&ue.length}function ee(ue,he){this.dyn_tree=ue,this.max_code=0,this.stat_desc=he}function re(ue){return ue<256?fe[ue]:fe[256+(ue>>>7)]}function se(ue,he){ue.pending_buf[ue.pending++]=255&he,ue.pending_buf[ue.pending++]=he>>>8&255}function Y(ue,he,Ke){ue.bi_valid>N-Ke?(ue.bi_buf|=he<<ue.bi_valid&65535,se(ue,ue.bi_buf),ue.bi_buf=he>>N-ue.bi_valid,ue.bi_valid+=Ke-N):(ue.bi_buf|=he<<ue.bi_valid&65535,ue.bi_valid+=Ke)}function J(ue,he,Ke){Y(ue,Ke[2*he],Ke[2*he+1])}function Se(ue,he){for(var Ke=0;Ke|=1&ue,ue>>>=1,Ke<<=1,0<--he;);return Ke>>>1}function Me(ue,he,Ke){var Ve,Oe,et=new Array(P+1),be=0;for(Ve=1;Ve<=P;Ve++)et[Ve]=be=be+Ke[Ve-1]<<1;for(Oe=0;Oe<=he;Oe++){var Ae=ue[2*Oe+1];Ae!==0&&(ue[2*Oe]=Se(et[Ae]++,Ae))}}function Ce(ue){var he;for(he=0;he<b;he++)ue.dyn_ltree[2*he]=0;for(he=0;he<E;he++)ue.dyn_dtree[2*he]=0;for(he=0;he<I;he++)ue.bl_tree[2*he]=0;ue.dyn_ltree[2*R]=1,ue.opt_len=ue.static_len=0,ue.last_lit=ue.matches=0}function Re(ue){8<ue.bi_valid?se(ue,ue.bi_buf):0<ue.bi_valid&&(ue.pending_buf[ue.pending++]=ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0}function je(ue,he,Ke,Ve){var Oe=2*he,et=2*Ke;return ue[Oe]<ue[et]||ue[Oe]===ue[et]&&Ve[he]<=Ve[Ke]}function Ge(ue,he,Ke){for(var Ve=ue.heap[Ke],Oe=Ke<<1;Oe<=ue.heap_len&&(Oe<ue.heap_len&&je(he,ue.heap[Oe+1],ue.heap[Oe],ue.depth)&&Oe++,!je(he,Ve,ue.heap[Oe],ue.depth));)ue.heap[Ke]=ue.heap[Oe],Ke=Oe,Oe<<=1;ue.heap[Ke]=Ve}function ct(ue,he,Ke){var Ve,Oe,et,be,Ae=0;if(ue.last_lit!==0)for(;Ve=ue.pending_buf[ue.d_buf+2*Ae]<<8|ue.pending_buf[ue.d_buf+2*Ae+1],Oe=ue.pending_buf[ue.l_buf+Ae],Ae++,Ve===0?J(ue,Oe,he):(J(ue,(et=z[Oe])+y+1,he),(be=V[et])!==0&&Y(ue,Oe-=Q[et],be),J(ue,et=re(--Ve),Ke),(be=oe[et])!==0&&Y(ue,Ve-=ce[et],be)),Ae<ue.last_lit;);J(ue,R,he)}function pt(ue,he){var Ke,Ve,Oe,et=he.dyn_tree,be=he.stat_desc.static_tree,Ae=he.stat_desc.has_stree,Ze=he.stat_desc.elems,ut=-1;for(ue.heap_len=0,ue.heap_max=S,Ke=0;Ke<Ze;Ke++)et[2*Ke]!==0?(ue.heap[++ue.heap_len]=ut=Ke,ue.depth[Ke]=0):et[2*Ke+1]=0;for(;ue.heap_len<2;)et[2*(Oe=ue.heap[++ue.heap_len]=ut<2?++ut:0)]=1,ue.depth[Oe]=0,ue.opt_len--,Ae&&(ue.static_len-=be[2*Oe+1]);for(he.max_code=ut,Ke=ue.heap_len>>1;1<=Ke;Ke--)Ge(ue,et,Ke);for(Oe=Ze;Ke=ue.heap[1],ue.heap[1]=ue.heap[ue.heap_len--],Ge(ue,et,1),Ve=ue.heap[1],ue.heap[--ue.heap_max]=Ke,ue.heap[--ue.heap_max]=Ve,et[2*Oe]=et[2*Ke]+et[2*Ve],ue.depth[Oe]=(ue.depth[Ke]>=ue.depth[Ve]?ue.depth[Ke]:ue.depth[Ve])+1,et[2*Ke+1]=et[2*Ve+1]=Oe,ue.heap[1]=Oe++,Ge(ue,et,1),2<=ue.heap_len;);ue.heap[--ue.heap_max]=ue.heap[1],function(X,B){var w,v,A,Z,ae,Ne,ze=B.dyn_tree,_t=B.max_code,xt=B.stat_desc.static_tree,At=B.stat_desc.has_stree,Ir=B.stat_desc.extra_bits,cr=B.stat_desc.extra_base,Kn=B.stat_desc.max_length,Br=0;for(Z=0;Z<=P;Z++)X.bl_count[Z]=0;for(ze[2*X.heap[X.heap_max]+1]=0,w=X.heap_max+1;w<S;w++)Kn<(Z=ze[2*ze[2*(v=X.heap[w])+1]+1]+1)&&(Z=Kn,Br++),ze[2*v+1]=Z,_t<v||(X.bl_count[Z]++,ae=0,cr<=v&&(ae=Ir[v-cr]),Ne=ze[2*v],X.opt_len+=Ne*(Z+ae),At&&(X.static_len+=Ne*(xt[2*v+1]+ae)));if(Br!==0){do{for(Z=Kn-1;X.bl_count[Z]===0;)Z--;X.bl_count[Z]--,X.bl_count[Z+1]+=2,X.bl_count[Kn]--,Br-=2}while(0<Br);for(Z=Kn;Z!==0;Z--)for(v=X.bl_count[Z];v!==0;)_t<(A=X.heap[--w])||(ze[2*A+1]!==Z&&(X.opt_len+=(Z-ze[2*A+1])*ze[2*A],ze[2*A+1]=Z),v--)}}(ue,he),Me(et,ut,ue.bl_count)}function W(ue,he,Ke){var Ve,Oe,et=-1,be=he[1],Ae=0,Ze=7,ut=4;for(be===0&&(Ze=138,ut=3),he[2*(Ke+1)+1]=65535,Ve=0;Ve<=Ke;Ve++)Oe=be,be=he[2*(Ve+1)+1],++Ae<Ze&&Oe===be||(Ae<ut?ue.bl_tree[2*Oe]+=Ae:Oe!==0?(Oe!==et&&ue.bl_tree[2*Oe]++,ue.bl_tree[2*L]++):Ae<=10?ue.bl_tree[2*U]++:ue.bl_tree[2*te]++,et=Oe,ut=(Ae=0)===be?(Ze=138,3):Oe===be?(Ze=6,3):(Ze=7,4))}function He(ue,he,Ke){var Ve,Oe,et=-1,be=he[1],Ae=0,Ze=7,ut=4;for(be===0&&(Ze=138,ut=3),Ve=0;Ve<=Ke;Ve++)if(Oe=be,be=he[2*(Ve+1)+1],!(++Ae<Ze&&Oe===be)){if(Ae<ut)for(;J(ue,Oe,ue.bl_tree),--Ae!=0;);else Oe!==0?(Oe!==et&&(J(ue,Oe,ue.bl_tree),Ae--),J(ue,L,ue.bl_tree),Y(ue,Ae-3,2)):Ae<=10?(J(ue,U,ue.bl_tree),Y(ue,Ae-3,3)):(J(ue,te,ue.bl_tree),Y(ue,Ae-11,7));et=Oe,ut=(Ae=0)===be?(Ze=138,3):Oe===be?(Ze=6,3):(Ze=7,4)}}d(ce);var _e=!1;function ge(ue,he,Ke,Ve){Y(ue,(l<<1)+(Ve?1:0),3),function(Oe,et,be,Ae){Re(Oe),se(Oe,be),se(Oe,~be),s.arraySet(Oe.pending_buf,Oe.window,et,be,Oe.pending),Oe.pending+=be}(ue,he,Ke)}i._tr_init=function(ue){_e||(function(){var he,Ke,Ve,Oe,et,be=new Array(P+1);for(Oe=Ve=0;Oe<m-1;Oe++)for(Q[Oe]=Ve,he=0;he<1<<V[Oe];he++)z[Ve++]=Oe;for(z[Ve-1]=Oe,Oe=et=0;Oe<16;Oe++)for(ce[Oe]=et,he=0;he<1<<oe[Oe];he++)fe[et++]=Oe;for(et>>=7;Oe<E;Oe++)for(ce[Oe]=et<<7,he=0;he<1<<oe[Oe]-7;he++)fe[256+et++]=Oe;for(Ke=0;Ke<=P;Ke++)be[Ke]=0;for(he=0;he<=143;)Fe[2*he+1]=8,he++,be[8]++;for(;he<=255;)Fe[2*he+1]=9,he++,be[9]++;for(;he<=279;)Fe[2*he+1]=7,he++,be[7]++;for(;he<=287;)Fe[2*he+1]=8,he++,be[8]++;for(Me(Fe,b+1,be),he=0;he<E;he++)j[2*he+1]=5,j[2*he]=Se(he,5);me=new ve(Fe,V,y+1,b,P),pe=new ve(j,oe,0,E,P),xe=new ve(new Array(0),de,0,I,k)}(),_e=!0),ue.l_desc=new ee(ue.dyn_ltree,me),ue.d_desc=new ee(ue.dyn_dtree,pe),ue.bl_desc=new ee(ue.bl_tree,xe),ue.bi_buf=0,ue.bi_valid=0,Ce(ue)},i._tr_stored_block=ge,i._tr_flush_block=function(ue,he,Ke,Ve){var Oe,et,be=0;0<ue.level?(ue.strm.data_type===2&&(ue.strm.data_type=function(Ae){var Ze,ut=4093624447;for(Ze=0;Ze<=31;Ze++,ut>>>=1)if(1&ut&&Ae.dyn_ltree[2*Ze]!==0)return c;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return u;for(Ze=32;Ze<y;Ze++)if(Ae.dyn_ltree[2*Ze]!==0)return u;return c}(ue)),pt(ue,ue.l_desc),pt(ue,ue.d_desc),be=function(Ae){var Ze;for(W(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),W(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),pt(Ae,Ae.bl_desc),Ze=I-1;3<=Ze&&Ae.bl_tree[2*Ee[Ze]+1]===0;Ze--);return Ae.opt_len+=3*(Ze+1)+5+5+4,Ze}(ue),Oe=ue.opt_len+3+7>>>3,(et=ue.static_len+3+7>>>3)<=Oe&&(Oe=et)):Oe=et=Ke+5,Ke+4<=Oe&&he!==-1?ge(ue,he,Ke,Ve):ue.strategy===4||et===Oe?(Y(ue,2+(Ve?1:0),3),ct(ue,Fe,j)):(Y(ue,4+(Ve?1:0),3),function(Ae,Ze,ut,X){var B;for(Y(Ae,Ze-257,5),Y(Ae,ut-1,5),Y(Ae,X-4,4),B=0;B<X;B++)Y(Ae,Ae.bl_tree[2*Ee[B]+1],3);He(Ae,Ae.dyn_ltree,Ze-1),He(Ae,Ae.dyn_dtree,ut-1)}(ue,ue.l_desc.max_code+1,ue.d_desc.max_code+1,be+1),ct(ue,ue.dyn_ltree,ue.dyn_dtree)),Ce(ue),Ve&&Re(ue)},i._tr_tally=function(ue,he,Ke){return ue.pending_buf[ue.d_buf+2*ue.last_lit]=he>>>8&255,ue.pending_buf[ue.d_buf+2*ue.last_lit+1]=255&he,ue.pending_buf[ue.l_buf+ue.last_lit]=255&Ke,ue.last_lit++,he===0?ue.dyn_ltree[2*Ke]++:(ue.matches++,he--,ue.dyn_ltree[2*(z[Ke]+y+1)]++,ue.dyn_dtree[2*re(he)]++),ue.last_lit===ue.lit_bufsize-1},i._tr_align=function(ue){Y(ue,2,3),J(ue,R,Fe),function(he){he.bi_valid===16?(se(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):8<=he.bi_valid&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)}(ue)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(s){(function(c,u){if(!c.setImmediate){var d,l,m,y,b=1,E={},I=!1,S=c.document,P=Object.getPrototypeOf&&Object.getPrototypeOf(c);P=P&&P.setTimeout?P:c,d={}.toString.call(c.process)==="[object process]"?function(L){Hr.nextTick(function(){k(L)})}:function(){if(c.postMessage&&!c.importScripts){var L=!0,U=c.onmessage;return c.onmessage=function(){L=!1},c.postMessage("","*"),c.onmessage=U,L}}()?(y="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",R,!1):c.attachEvent("onmessage",R),function(L){c.postMessage(y+L,"*")}):c.MessageChannel?((m=new MessageChannel).port1.onmessage=function(L){k(L.data)},function(L){m.port2.postMessage(L)}):S&&"onreadystatechange"in S.createElement("script")?(l=S.documentElement,function(L){var U=S.createElement("script");U.onreadystatechange=function(){k(L),U.onreadystatechange=null,l.removeChild(U),U=null},l.appendChild(U)}):function(L){setTimeout(k,0,L)},P.setImmediate=function(L){typeof L!="function"&&(L=new Function(""+L));for(var U=new Array(arguments.length-1),te=0;te<U.length;te++)U[te]=arguments[te+1];var V={callback:L,args:U};return E[b]=V,d(b),b++},P.clearImmediate=N}function N(L){delete E[L]}function k(L){if(I)setTimeout(k,0,L);else{var U=E[L];if(U){I=!0;try{(function(te){var V=te.callback,oe=te.args;switch(oe.length){case 0:V();break;case 1:V(oe[0]);break;case 2:V(oe[0],oe[1]);break;case 3:V(oe[0],oe[1],oe[2]);break;default:V.apply(u,oe)}})(U)}finally{N(L),I=!1}}}}function R(L){L.source===c&&typeof L.data=="string"&&L.data.indexOf(y)===0&&k(+L.data.slice(y.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Z2)),Z2.exports}var PG=RG();const $R=Zc(PG);class Kw{static async allFilesForBrowser(e,t){try{let n=[];const i=await(e==null?void 0:e.fileManager.readdir("browser/"+t));for(const[s,c]of Object.entries(i)){const u={path:s,isDirectory:c.isDirectory};if(u.isDirectory){const d=await Kw.allFilesForBrowser(e,u.path)||[];n=[...n,u,...d]}else n.push(u)}return n}catch(n){return console.error(n),[]}}static extractFilename(e){const t=e.lastIndexOf("/");return t===-1?e:e.slice(t+1)}static extractFilenameWithoutExtension(e){const t=Kw.extractFilename(e);return t.slice(0,t.lastIndexOf("."))}static async contents(e,t,n){return await Promise.all(n.map(async i=>i.isDirectory?"":await e.readFile("browser/"+t+"/"+i.path)))}}const BG=({client:r})=>{const[e,t]=at.useState(!1),[n,i]=at.useState(!1),[s,c]=at.useState(!1),[u,d]=at.useState(null),[l,m]=at.useState([]),[y,b]=at.useState(""),[E,I]=at.useState(!1),[S,P]=at.useState([]),[N,k]=at.useState(""),[R,L]=at.useState(!1),[U,te]=at.useState(!1),[V,oe]=at.useState([]),[de,Ee]=at.useState(!1),{pxe:Fe,setPXE:j,setNodeURL:fe,setAztecNode:z,setPXEInitialized:Q,setLogs:me,wallet:pe,setWallet:xe}=at.useContext(_G);at.useEffect(()=>{ce()},[]),at.useEffect(()=>{const Ce=new WebSocket("ws://localhost:8082");return Ce.onopen=()=>console.log("WebSocket connected"),Ce.onmessage=Re=>{oe(je=>[...je,Re.data]),console.log("WebSocket log:",Re.data)},Ce.onerror=Re=>console.error("WebSocket error:",Re),()=>Ce.close()},[]);const ce=async()=>{const Ce=await se("browser/aztec");P(Ce),k(Ce[0]||"")},ve=Ce=>{k(Ce.target.value)},ee=async()=>{i(!0),d(null);try{await v_.initNetworkStore();const Ce="http://localhost:8080",Re=await v_.connectToNode(Ce);z(Re),fe(Ce);const je=await v_.initPXE(Re,me);j(je),Q(!0),c(!0);const Ge=await kG(),ct=[];for(const pt of Ge){const W=await CG(je,pt.secret,pt.signingKey,pt.salt);await W.register();const He=await W.getWallet(),_e=He.getAddress().toString();ct.push({address:_e,walletInstance:He})}m(ct.map(({address:pt})=>({address:pt}))),b(ct[0].address),xe(ct[0].walletInstance)}catch(Ce){console.error(Ce),d("Could not connect to the Aztec Sandbox. Is the Sandbox running?")}finally{i(!1)}},re=Ce=>{const Re=Ce.target.value;b(Re)},se=async Ce=>{if(!r)return[];const Re=[],je=async Ge=>{const ct=await r.fileManager.readdir(Ge);Object.keys(ct).some(W=>W.endsWith("Nargo.toml"))&&Re.push(Ge.replace("browser/",""));for(const[W,He]of Object.entries(ct))if(He.isDirectory){const _e=W.split("/").pop();await je(Ge+"/"+_e)}};return await je(Ce),Re},Y=async Ce=>(await Kw.allFilesForBrowser(r,Ce)).filter(je=>!je.path.startsWith(`${Ce}/target`)),J=async(Ce,Re)=>{const je=new $R;return await Promise.all(Ce.map(async Ge=>{if(!Ge.isDirectory){const ct=await r.fileManager.readFile(Ge.path),W=Ge.path.replace("browser/","").replace(`${Re}/`,"");je.file(W,ct)}})),je.generateAsync({type:"blob"})},Se=async()=>{if(!N){oe(Ce=>[...Ce,"No target project selected!"]);return}Ee(!0),d(null);try{const Ce=await Y(N),Re=await J(Ce,N),je=Me(),Ge=new FormData;Ge.append("file",Re,`${N}.zip`),Ge.append("projectPath",N);const ct=await Xn.post(`http://localhost:3000/compile?requestId=${je}`,Ge,{responseType:"arraybuffer"});oe(W=>[...W,`Project "${N}" uploaded, compiling...`]);const pt=await $R.loadAsync(ct.data);await Promise.all(Object.entries(pt.files).map(async([W,He])=>{if(!He.dir){const _e=await He.async("string"),ge=`browser/${N}/target/${W}`;await r.fileManager.writeFile(ge,_e),oe(ue=>[...ue,`File written to Remix: ${ge}`])}})),oe(W=>[...W,"Compilation completed!"])}catch(Ce){d("Compilation failed."),oe(Re=>[...Re,`Error: ${Ce.message}`])}finally{Ee(!1)}},Me=()=>{const Ce=new Date().toISOString().replace(/[-:]/g,"").replace(/\..+/,""),Re=Math.random().toString(36).substring(2,8);return`${Ce}_${Re}`};return yi(zb,{children:[yi(qa,{className:"mb-3",children:[yi(qa.Header,{onClick:()=>t(!e),"aria-controls":"env-collapse","aria-expanded":e,className:"d-flex align-items-center justify-content-between",style:{cursor:"pointer"},children:["Environment",e?tr(Jg,{}):tr(Xg,{})]}),tr($0,{in:e,children:tr("div",{id:"env-collapse",children:yi(qa.Body,{children:[yi("p",{style:{fontSize:"0.85rem",color:"#6c757d"},children:["Currently, only Aztec Sandbox is supported."," ",tr("a",{href:"https://docs.aztec.network/sandbox",target:"_blank",rel:"noopener noreferrer",children:"Learn more"})]}),tr(ax,{variant:Fe?"success":"primary",className:"w-100 mb-2",onClick:ee,disabled:n||s,children:n?yi(zb,{children:[tr(ox,{animation:"border",size:"sm"})," Connecting..."]}):s?" Connected":"Connect to Aztec Sandbox"}),u&&tr(FD,{variant:"danger",className:"mt-2",children:u}),l.length>0&&yi(rd.Group,{className:"mt-3",children:[tr(rd.Label,{children:"Sandbox Accounts"}),tr(q4,{children:tr(rd.Control,{className:"custom-select",value:y,as:"select",onChange:re,style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:l.map((Ce,Re)=>tr("option",{value:Ce.address,children:`Account ${Re+1}: ${Ce.address.slice(0,6)}...${Ce.address.slice(-4)}`},Ce.address))})})]})]})})})]}),yi(qa,{className:"mb-3",children:[yi(qa.Header,{onClick:()=>I(!E),"aria-controls":"compile-collapse","aria-expanded":E,className:"d-flex align-items-center justify-content-between",style:{cursor:"pointer"},children:[tr("div",{className:"d-flex align-items-center",children:"Compile & Deploy"}),E?tr(Jg,{}):tr(Xg,{})]}),tr($0,{in:E,children:tr("div",{id:"compile-collapse",style:{transition:"height 0.3s ease-in-out",overflow:"hidden"},children:tr(qa.Body,{children:yi(rd,{children:[yi(rd.Group,{children:[yi(rd.Text,{className:"text-muted",children:[tr("small",{children:"TARGET PROJECT "}),tr("span",{style:{cursor:"pointer"},onClick:ce,children:tr(pB,{})})]}),tr(q4,{className:"mt-2",children:yi(rd.Control,{className:"custom-select",as:"select",value:N,onChange:ve,children:[tr("option",{value:"",children:"-- Select Project --"}),S.map((Ce,Re)=>tr("option",{value:Ce,children:Ce},Re))]})}),tr("small",{className:"text-muted mt-2 d-block",children:"The project must be located under the `aztec` folder in the root directory."})]}),tr(ax,{variant:"primary",className:"w-100 mt-3",disabled:!N||de,onClick:Se,children:de?yi(zb,{children:[tr(ox,{animation:"border",size:"sm"})," Compiling..."]}):"Compile"}),yi("div",{className:"mt-3",children:[tr("small",{className:"text-muted",children:"Compilation Logs:"}),tr("div",{style:{maxHeight:"200px",overflowY:"auto",background:"#f8f9fa",padding:"10px"},children:V.map((Ce,Re)=>tr("div",{style:{fontSize:"0.75rem",whiteSpace:"pre-line"},children:Ce},Re))})]})]})})})})]}),yi(qa,{className:"mb-3",children:[yi(qa.Header,{onClick:()=>L(!R),"aria-controls":"deploy-collapse","aria-expanded":R,className:"d-flex align-items-center justify-content-between",style:{cursor:"pointer"},children:[tr("div",{className:"d-flex align-items-center",children:"Interact"}),R?tr(Jg,{}):tr(Xg,{})]}),tr($0,{in:R,children:tr("div",{id:"deploy-collapse",style:{transition:"height 0.3s ease-in-out",overflow:"hidden"},children:tr(qa.Body,{children:tr("p",{className:"text-muted",style:{fontSize:"0.85rem"},children:"Deploy your contract here."})})})})]}),yi(qa,{className:"mb-3",children:[yi(qa.Header,{onClick:()=>te(!U),"aria-controls":"interact-collapse","aria-expanded":U,className:"d-flex align-items-center justify-content-between",style:{cursor:"pointer"},children:[tr("div",{className:"d-flex align-items-center",children:"Proof"}),U?tr(Jg,{}):tr(Xg,{})]}),tr($0,{in:U,children:tr("div",{id:"interact-collapse",style:{transition:"height 0.3s ease-in-out",overflow:"hidden"},children:tr(qa.Body,{children:tr("p",{className:"text-muted",style:{fontSize:"0.85rem"},children:"Interact with your deployed contract."})})})})]})]})};var K2={},gA=function(r,e){return gA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},gA(r,e)};function R5(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gA(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Gw=function(){return Gw=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Gw.apply(this,arguments)};function P5(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function B5(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(s=(i<3?c(s):i>3?c(e,t,s):c(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function N5(r,e){return function(t,n){e(t,n,r)}}function O5(r,e,t,n,i,s){function c(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",l=!e&&r?n.static?r:r.prototype:null,m=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),y,b=!1,E=t.length-1;E>=0;E--){var I={};for(var S in n)I[S]=S==="access"?{}:n[S];for(var S in n.access)I.access[S]=n.access[S];I.addInitializer=function(N){if(b)throw new TypeError("Cannot add initializers after decoration has completed");s.push(c(N||null))};var P=(0,t[E])(u==="accessor"?{get:m.get,set:m.set}:m[d],I);if(u==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(y=c(P.get))&&(m.get=y),(y=c(P.set))&&(m.set=y),(y=c(P.init))&&i.unshift(y)}else(y=c(P))&&(u==="field"?i.unshift(y):m[d]=y)}l&&Object.defineProperty(l,n.name,m),b=!0}function F5(r,e,t){for(var n=arguments.length>2,i=0;i<e.length;i++)t=n?e[i].call(r,t):e[i].call(r);return n?t:void 0}function L5(r){return typeof r=="symbol"?r:"".concat(r)}function D5(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function M5(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function j5(r,e,t,n){function i(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function u(m){try{l(n.next(m))}catch(y){c(y)}}function d(m){try{l(n.throw(m))}catch(y){c(y)}}function l(m){m.done?s(m.value):i(m.value).then(u,d)}l((n=n.apply(r,e||[])).next())})}function $5(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(l){return function(m){return d([l,m])}}function d(l){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,l[0]&&(t=0)),t;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){t.label=l[1];break}if(l[0]===6&&t.label<s[1]){t.label=s[1],s=l;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(l);break}s[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(m){l=[6,m],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var zv=Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]};function U5(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zv(e,r,t)}function Yw(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $C(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return s}function z5(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat($C(arguments[e]));return r}function H5(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],c=0,u=s.length;c<u;c++,i++)n[i]=s[c];return n}function q5(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))}function am(r){return this instanceof am?(this.v=r,this):new am(r)}function V5(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(E){return function(I){return Promise.resolve(I).then(E,y)}}function u(E,I){n[E]&&(i[E]=function(S){return new Promise(function(P,N){s.push([E,S,P,N])>1||d(E,S)})},I&&(i[E]=I(i[E])))}function d(E,I){try{l(n[E](I))}catch(S){b(s[0][3],S)}}function l(E){E.value instanceof am?Promise.resolve(E.value.v).then(m,y):b(s[0][2],E)}function m(E){d("next",E)}function y(E){d("throw",E)}function b(E,I){E(I),s.shift(),s.length&&d(s[0][0],s[0][1])}}function W5(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(c){return(t=!t)?{value:am(r[i](c)),done:!1}:s?s(c):c}:s}}function Z5(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Yw=="function"?Yw(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(c){return new Promise(function(u,d){c=r[s](c),i(u,d,c.done,c.value)})}}function i(s,c,u,d){Promise.resolve(d).then(function(l){s({value:l,done:u})},c)}}function K5(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var NG=Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e},_A=function(r){return _A=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},_A(r)};function G5(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t=_A(r),n=0;n<t.length;n++)t[n]!=="default"&&zv(e,r,t[n]);return NG(e,r),e}function Y5(r){return r&&r.__esModule?r:{default:r}}function X5(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function J5(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t}function Q5(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function e8(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],t&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),r.stack.push({value:e,dispose:n,async:t})}else t&&r.stack.push({async:!0});return e}var OG=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var n=new Error(t);return n.name="SuppressedError",n.error=r,n.suppressed=e,n};function t8(r){function e(s){r.error=r.hasError?new OG(s,r.error,"An error was suppressed during disposal."):s,r.hasError=!0}var t,n=0;function i(){for(;t=r.stack.pop();)try{if(!t.async&&n===1)return n=0,r.stack.push(t),Promise.resolve().then(i);if(t.dispose){var s=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(s).then(i,function(c){return e(c),i()})}else n|=1}catch(c){e(c)}if(n===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return i()}function r8(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,i,s,c){return n?e?".jsx":".js":i&&(!s||!c)?t:i+s+"."+c.toLowerCase()+"js"}):r}const FG={__extends:R5,__assign:Gw,__rest:P5,__decorate:B5,__param:N5,__esDecorate:O5,__runInitializers:F5,__propKey:L5,__setFunctionName:D5,__metadata:M5,__awaiter:j5,__generator:$5,__createBinding:zv,__exportStar:U5,__values:Yw,__read:$C,__spread:z5,__spreadArrays:H5,__spreadArray:q5,__await:am,__asyncGenerator:V5,__asyncDelegator:W5,__asyncValues:Z5,__makeTemplateObject:K5,__importStar:G5,__importDefault:Y5,__classPrivateFieldGet:X5,__classPrivateFieldSet:J5,__classPrivateFieldIn:Q5,__addDisposableResource:e8,__disposeResources:t8,__rewriteRelativeImportExtension:r8},LG=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:e8,get __assign(){return Gw},__asyncDelegator:W5,__asyncGenerator:V5,__asyncValues:Z5,__await:am,__awaiter:j5,__classPrivateFieldGet:X5,__classPrivateFieldIn:Q5,__classPrivateFieldSet:J5,__createBinding:zv,__decorate:B5,__disposeResources:t8,__esDecorate:O5,__exportStar:U5,__extends:R5,__generator:$5,__importDefault:Y5,__importStar:G5,__makeTemplateObject:K5,__metadata:M5,__param:N5,__propKey:L5,__read:$C,__rest:P5,__rewriteRelativeImportExtension:r8,__runInitializers:F5,__setFunctionName:D5,__spread:z5,__spreadArray:q5,__spreadArrays:H5,__values:Yw,default:FG},Symbol.toStringTag,{value:"Module"})),Cn=wP(LG);var ad={},G2={},od={},UR;function n8(){if(UR)return od;UR=1,Object.defineProperty(od,"__esModule",{value:!0}),od.getApiMap=od.createApi=void 0;function r(t,n){if(typeof n.name!="string")throw new Error("Profile should have a name");const i=(c,u)=>{t.on.call(t,n.name,c,u)},s=(n.methods||[]).reduce((c,u)=>Object.assign(Object.assign({},c),{[u]:t.call.bind(t,n.name,u)}),{});return Object.assign({on:i},s)}od.createApi=r;function e(t,n){return Object.keys(n).reduce((i,s)=>{const c=n[s];return Object.assign(Object.assign({},i),{[s]:r(t,c)})},{})}return od.getApiMap=e,od}var Y2={},Q0={exports:{}},zR;function DG(){if(zR)return Q0.exports;zR=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(R,L,U){return Function.prototype.apply.call(R,L,U)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:t=function(R){return Object.getOwnPropertyNames(R)};function n(k){console&&console.warn&&console.warn(k)}var i=Number.isNaN||function(R){return R!==R};function s(){s.init.call(this)}Q0.exports=s,Q0.exports.once=N,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(k){if(typeof k!="number"||k<0||i(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");c=k}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||i(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function d(k){return k._maxListeners===void 0?s.defaultMaxListeners:k._maxListeners}s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(R){for(var L=[],U=1;U<arguments.length;U++)L.push(arguments[U]);var te=R==="error",V=this._events;if(V!==void 0)te=te&&V.error===void 0;else if(!te)return!1;if(te){var oe;if(L.length>0&&(oe=L[0]),oe instanceof Error)throw oe;var de=new Error("Unhandled error."+(oe?" ("+oe.message+")":""));throw de.context=oe,de}var Ee=V[R];if(Ee===void 0)return!1;if(typeof Ee=="function")e(Ee,this,L);else for(var Fe=Ee.length,j=I(Ee,Fe),U=0;U<Fe;++U)e(j[U],this,L);return!0};function l(k,R,L,U){var te,V,oe;if(u(L),V=k._events,V===void 0?(V=k._events=Object.create(null),k._eventsCount=0):(V.newListener!==void 0&&(k.emit("newListener",R,L.listener?L.listener:L),V=k._events),oe=V[R]),oe===void 0)oe=V[R]=L,++k._eventsCount;else if(typeof oe=="function"?oe=V[R]=U?[L,oe]:[oe,L]:U?oe.unshift(L):oe.push(L),te=d(k),te>0&&oe.length>te&&!oe.warned){oe.warned=!0;var de=new Error("Possible EventEmitter memory leak detected. "+oe.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");de.name="MaxListenersExceededWarning",de.emitter=k,de.type=R,de.count=oe.length,n(de)}return k}s.prototype.addListener=function(R,L){return l(this,R,L,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(R,L){return l(this,R,L,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(k,R,L){var U={fired:!1,wrapFn:void 0,target:k,type:R,listener:L},te=m.bind(U);return te.listener=L,U.wrapFn=te,te}s.prototype.once=function(R,L){return u(L),this.on(R,y(this,R,L)),this},s.prototype.prependOnceListener=function(R,L){return u(L),this.prependListener(R,y(this,R,L)),this},s.prototype.removeListener=function(R,L){var U,te,V,oe,de;if(u(L),te=this._events,te===void 0)return this;if(U=te[R],U===void 0)return this;if(U===L||U.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete te[R],te.removeListener&&this.emit("removeListener",R,U.listener||L));else if(typeof U!="function"){for(V=-1,oe=U.length-1;oe>=0;oe--)if(U[oe]===L||U[oe].listener===L){de=U[oe].listener,V=oe;break}if(V<0)return this;V===0?U.shift():S(U,V),U.length===1&&(te[R]=U[0]),te.removeListener!==void 0&&this.emit("removeListener",R,de||L)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(R){var L,U,te;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[R]),this;if(arguments.length===0){var V=Object.keys(U),oe;for(te=0;te<V.length;++te)oe=V[te],oe!=="removeListener"&&this.removeAllListeners(oe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=U[R],typeof L=="function")this.removeListener(R,L);else if(L!==void 0)for(te=L.length-1;te>=0;te--)this.removeListener(R,L[te]);return this};function b(k,R,L){var U=k._events;if(U===void 0)return[];var te=U[R];return te===void 0?[]:typeof te=="function"?L?[te.listener||te]:[te]:L?P(te):I(te,te.length)}s.prototype.listeners=function(R){return b(this,R,!0)},s.prototype.rawListeners=function(R){return b(this,R,!1)},s.listenerCount=function(k,R){return typeof k.listenerCount=="function"?k.listenerCount(R):E.call(k,R)},s.prototype.listenerCount=E;function E(k){var R=this._events;if(R!==void 0){var L=R[k];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function I(k,R){for(var L=new Array(R),U=0;U<R;++U)L[U]=k[U];return L}function S(k,R){for(;R+1<k.length;R++)k[R]=k[R+1];k.pop()}function P(k){for(var R=new Array(k.length),L=0;L<R.length;++L)R[L]=k[L].listener||k[L];return R}function N(k,R){return new Promise(function(L,U){function te(){V!==void 0&&k.removeListener("error",V),L([].slice.call(arguments))}var V;R!=="error"&&(V=function(de){k.removeListener(R,te),U(de)},k.once("error",V)),k.once(R,te)})}return Q0.exports}var X2={},J2={},Q2={},HR;function MG(){return HR||(HR=1,Object.defineProperty(Q2,"__esModule",{value:!0})),Q2}var eS={},tS={},qR;function jG(){return qR||(qR=1,Object.defineProperty(tS,"__esModule",{value:!0})),tS}var rS={},VR;function $G(){return VR||(VR=1,Object.defineProperty(rS,"__esModule",{value:!0})),rS}var WR;function UG(){return WR||(WR=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(jG(),r),e.__exportStar($G(),r)}(eS)),eS}var kg={},ZR;function zG(){return ZR||(ZR=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.compilerProfile=void 0,kg.compilerProfile={name:"solidity",methods:["compile","getCompilationResult","compileWithParameters","setCompilerConfig"],events:["compilationFinished"]}),kg}var KR;function UC(){return KR||(KR=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(MG(),r),e.__exportStar(UG(),r),e.__exportStar(zG(),r)}(J2)),J2}var nS={},iS={},GR;function HG(){return GR||(GR=1,Object.defineProperty(iS,"__esModule",{value:!0})),iS}var sS={},YR;function qG(){return YR||(YR=1,Object.defineProperty(sS,"__esModule",{value:!0})),sS}var Rg={},XR;function VG(){return XR||(XR=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.contentImportProfile=void 0,Rg.contentImportProfile={name:"contentImport",methods:["resolve","resolveAndSave"]}),Rg}var JR;function i8(){return JR||(JR=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(HG(),r),e.__exportStar(qG(),r),e.__exportStar(VG(),r)}(nS)),nS}var aS={},oS={},QR;function WG(){return QR||(QR=1,Object.defineProperty(oS,"__esModule",{value:!0})),oS}var cS={},e6;function ZG(){return e6||(e6=1,Object.defineProperty(cS,"__esModule",{value:!0})),cS}var Pg={},t6;function KG(){return t6||(t6=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.editorProfile=void 0,Pg.editorProfile={name:"editor",methods:["discardHighlight","highlight","addAnnotation","clearAnnotations","discardHighlightAt","gotoLine"]}),Pg}var r6;function zC(){return r6||(r6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(WG(),r),e.__exportStar(ZG(),r),e.__exportStar(KG(),r)}(aS)),aS}var uS={},lS={},n6;function GG(){return n6||(n6=1,Object.defineProperty(lS,"__esModule",{value:!0})),lS}var fS={},i6;function YG(){return i6||(i6=1,Object.defineProperty(fS,"__esModule",{value:!0})),fS}var Bg={},s6;function XG(){return s6||(s6=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.filSystemProfile=void 0,Bg.filSystemProfile={name:"fileManager",displayName:"Native Filemanager for Remix vscode plugin",description:"Provides communication between vscode filemanager and remix-plugin",location:"sidePanel",documentation:"https://remix-ide.readthedocs.io/en/latest/solidity_editor.html",version:"0.0.1",methods:["getFolder","getCurrentFile","getFile","setFile","switchFile","open","writeFile","readFile","rename","copyFile","mkdir","readdir","closeAllFiles","closeFile","remove"],events:["currentFileChanged","fileAdded","fileClosed","fileRemoved","fileRenamed","fileSaved","noFileSelected","folderAdded"]}),Bg}var a6;function HC(){return a6||(a6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(GG(),r),e.__exportStar(YG(),r),e.__exportStar(XG(),r)}(uS)),uS}var dS={},hS={},o6;function JG(){return o6||(o6=1,Object.defineProperty(hS,"__esModule",{value:!0})),hS}var Ng={},c6;function QG(){return c6||(c6=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.filePanelProfile=void 0,Ng.filePanelProfile={name:"filePanel",displayName:"File explorers",description:"Provides communication between remix file explorers and remix-plugin",location:"sidePanel",documentation:"",version:"0.0.1",methods:["getCurrentWorkspace","getWorkspaces","createWorkspace","registerContextMenuItem","renameWorkspace","deleteWorkspace"],events:["setWorkspace","workspaceRenamed","workspaceDeleted","workspaceCreated"]}),Ng}var pS={},u6;function eY(){return u6||(u6=1,Object.defineProperty(pS,"__esModule",{value:!0})),pS}var l6;function s8(){return l6||(l6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(JG(),r),e.__exportStar(QG(),r),e.__exportStar(eY(),r)}(dS)),dS}var mS={},gS={},f6;function tY(){return f6||(f6=1,Object.defineProperty(gS,"__esModule",{value:!0})),gS}var Og={},d6;function rY(){return d6||(d6=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.dGitProfile=void 0,Og.dGitProfile={name:"dGitProvider",methods:["clone","addremote","delremote","remotes","init","status","log","commit","add","reset","rm","lsfiles","readblob","resolveref","branch","branches","checkout","currentbranch","zip","push","pull","setIpfsConfig","getItem","setItem","localStorageUsed"]}),Og}var h6;function a8(){return h6||(h6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(tY(),r),e.__exportStar(rY(),r)}(mS)),mS}var _S={},yS={},p6;function nY(){return p6||(p6=1,Object.defineProperty(yS,"__esModule",{value:!0})),yS}var Fg={},m6;function iY(){return m6||(m6=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.gitProfile=void 0,Fg.gitProfile={name:"remixd.git",methods:["clone","checkout","init","add","commit","fetch","pull","push","reset","status","remote","log"]}),Fg}var g6;function o8(){return g6||(g6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(nY(),r),e.__exportStar(iY(),r)}(_S)),_S}var wS={},vS={},_6;function sY(){return _6||(_6=1,Object.defineProperty(vS,"__esModule",{value:!0})),vS}var bS={},y6;function aY(){return y6||(y6=1,Object.defineProperty(bS,"__esModule",{value:!0})),bS}var Lg={},w6;function oY(){return w6||(w6=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.networkProfile=void 0,Lg.networkProfile={name:"network",methods:["addNetwork","detectNetwork","getEndpoint","getNetworkProvider","removeNetwork"],events:["providerChanged"]}),Lg}var v6;function qC(){return v6||(v6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(sY(),r),e.__exportStar(aY(),r),e.__exportStar(oY(),r)}(wS)),wS}var ES={},SS={},b6;function cY(){return b6||(b6=1,Object.defineProperty(SS,"__esModule",{value:!0})),SS}var Dg={},E6;function uY(){return E6||(E6=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.pluginManagerProfile=void 0,Dg.pluginManagerProfile={name:"manager",methods:["getProfile","updateProfile","activatePlugin","deactivatePlugin","isActive","canCall"],events:["pluginActivated","pluginDeactivated","profileAdded","profileUpdated"]}),Dg}var S6;function VC(){return S6||(S6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(cY(),r),e.__exportStar(uY(),r)}(ES)),ES}var xS={},AS={},x6;function lY(){return x6||(x6=1,Object.defineProperty(AS,"__esModule",{value:!0})),AS}var Mg={},A6;function fY(){return A6||(A6=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.settingsProfile=void 0,Mg.settingsProfile={name:"settings",methods:["getGithubAccessToken"]}),Mg}var C6;function c8(){return C6||(C6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(lY(),r),e.__exportStar(fY(),r)}(xS)),xS}var CS={},TS={},T6;function dY(){return T6||(T6=1,Object.defineProperty(TS,"__esModule",{value:!0})),TS}var jg={},I6;function hY(){return I6||(I6=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.themeProfile=void 0,jg.themeProfile={name:"theme",methods:["currentTheme"],events:["themeChanged"]}),jg}var IS={},k6;function pY(){return k6||(k6=1,Object.defineProperty(IS,"__esModule",{value:!0})),IS}var R6;function u8(){return R6||(R6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(dY(),r),e.__exportStar(hY(),r),e.__exportStar(pY(),r)}(CS)),CS}var kS={},RS={},P6;function mY(){return P6||(P6=1,Object.defineProperty(RS,"__esModule",{value:!0})),RS}var PS={},B6;function gY(){return B6||(B6=1,Object.defineProperty(PS,"__esModule",{value:!0})),PS}var $g={},N6;function _Y(){return N6||(N6=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.udappProfile=void 0,$g.udappProfile={name:"udapp",methods:["createVMAccount","getAccounts","sendTransaction","getSettings","setEnvironmentMode"],events:["newTransaction"]}),$g}var O6;function WC(){return O6||(O6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(mY(),r),e.__exportStar(gY(),r),e.__exportStar(_Y(),r)}(kS)),kS}var BS={},NS={},F6;function yY(){return F6||(F6=1,Object.defineProperty(NS,"__esModule",{value:!0})),NS}var OS={},L6;function wY(){return L6||(L6=1,Object.defineProperty(OS,"__esModule",{value:!0})),OS}var Ug={},D6;function vY(){return D6||(D6=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.unitTestProfile=void 0,Ug.unitTestProfile={name:"unitTest",methods:["testFromPath","testFromSource"]}),Ug}var M6;function l8(){return M6||(M6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(yY(),r),e.__exportStar(wY(),r),e.__exportStar(vY(),r)}(BS)),BS}var FS={},LS={},j6;function bY(){return j6||(j6=1,Object.defineProperty(LS,"__esModule",{value:!0})),LS}var zg={},$6;function EY(){return $6||($6=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.windowProfile=void 0,zg.windowProfile={name:"window",methods:["prompt","confirm","alert"]}),zg}var U6;function SY(){return U6||(U6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(bY(),r),e.__exportStar(EY(),r)}(FS)),FS}var cd={},DS={},MS={},z6;function xY(){return z6||(z6=1,Object.defineProperty(MS,"__esModule",{value:!0})),MS}var Hg={},H6;function AY(){return H6||(H6=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.vscodeExtProfile=void 0,Hg.vscodeExtProfile={name:"vscodeExtAPI",methods:["executeCommand"]}),Hg}var q6;function CY(){return q6||(q6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(xY(),r),e.__exportStar(AY(),r)}(DS)),DS}var jS={},$S={},V6;function TY(){return V6||(V6=1,Object.defineProperty($S,"__esModule",{value:!0})),$S}var US={},W6;function IY(){return W6||(W6=1,Object.defineProperty(US,"__esModule",{value:!0})),US}var qg={},Z6;function kY(){return Z6||(Z6=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.terminalProfile=void 0,qg.terminalProfile={name:"terminal",methods:["log"]}),qg}var K6;function RY(){return K6||(K6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(TY(),r),e.__exportStar(IY(),r),e.__exportStar(kY(),r)}(jS)),jS}var G6;function PY(){if(G6)return cd;G6=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.remixProfiles=cd.remixApi=void 0;const r=UC(),e=HC(),t=zC(),n=qC(),i=WC(),s=u8(),c=l8(),u=i8(),d=c8(),l=o8(),m=CY(),y=VC(),b=s8(),E=a8(),I=RY();return cd.remixApi=Object.freeze({manager:y.pluginManagerProfile,solidity:Object.assign(Object.assign({},r.compilerProfile),{name:"solidity"}),fileManager:Object.assign(Object.assign({},e.filSystemProfile),{name:"fileManager"}),dGitProvider:E.dGitProfile,filePanel:b.filePanelProfile,solidityUnitTesting:Object.assign(Object.assign({},c.unitTestProfile),{name:"solidityUnitTesting"}),editor:t.editorProfile,network:n.networkProfile,udapp:i.udappProfile,contentImport:u.contentImportProfile,settings:d.settingsProfile,theme:s.themeProfile,vscodeExtAPI:m.vscodeExtProfile,terminal:I.terminalProfile}),cd.remixProfiles=Object.freeze({manager:y.pluginManagerProfile,solidity:Object.assign(Object.assign({},r.compilerProfile),{name:"solidity"}),fileManager:Object.assign(Object.assign({},e.filSystemProfile),{name:"fileManager"}),git:Object.assign(Object.assign({},l.gitProfile),{name:"git"}),dGitProvider:E.dGitProfile,filePanel:b.filePanelProfile,solidityUnitTesting:Object.assign(Object.assign({},c.unitTestProfile),{name:"solidityUnitTesting"}),editor:t.editorProfile,network:n.networkProfile,udapp:i.udappProfile,contentImport:u.contentImportProfile,settings:d.settingsProfile,theme:s.themeProfile,vscodeExtAPI:m.vscodeExtProfile,terminal:I.terminalProfile}),cd}var Vg={},Y6;function BY(){if(Y6)return Vg;Y6=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.standardProfiles=void 0;const r=UC(),e=HC(),t=zC(),n=qC(),i=WC(),s=VC();return Vg.standardProfiles=Object.freeze({manager:s.pluginManagerProfile,solidity:Object.assign(Object.assign({},r.compilerProfile),{name:"solidity"}),fileManager:Object.assign(Object.assign({},e.filSystemProfile),{name:"fileManager"}),editor:t.editorProfile,network:n.networkProfile,udapp:i.udappProfile}),Vg}var X6;function NY(){return X6||(X6=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(UC(),r),e.__exportStar(i8(),r),e.__exportStar(zC(),r),e.__exportStar(HC(),r),e.__exportStar(s8(),r),e.__exportStar(a8(),r),e.__exportStar(o8(),r),e.__exportStar(qC(),r),e.__exportStar(VC(),r),e.__exportStar(c8(),r),e.__exportStar(u8(),r),e.__exportStar(WC(),r),e.__exportStar(l8(),r),e.__exportStar(SY(),r),e.__exportStar(PY(),r),e.__exportStar(BY(),r)}(X2)),X2}var zS={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yA=function(r,e){return yA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},yA(r,e)};function OY(r,e){yA(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var wA=function(){return wA=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},wA.apply(this,arguments)};function FY(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function LY(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(s=(i<3?c(s):i>3?c(e,t,s):c(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function DY(r,e){return function(t,n){e(t,n,r)}}function MY(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function jY(r,e,t,n){function i(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function u(m){try{l(n.next(m))}catch(y){c(y)}}function d(m){try{l(n.throw(m))}catch(y){c(y)}}function l(m){m.done?s(m.value):i(m.value).then(u,d)}l((n=n.apply(r,e||[])).next())})}function $Y(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(l){return function(m){return d([l,m])}}function d(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){t.label=l[1];break}if(l[0]===6&&t.label<s[1]){t.label=s[1],s=l;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(l);break}s[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(m){l=[6,m],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var ZC=Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]};function UY(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ZC(e,r,t)}function vA(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function f8(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return s}function zY(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(f8(arguments[e]));return r}function HY(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],c=0,u=s.length;c<u;c++,i++)n[i]=s[c];return n}function J_(r){return this instanceof J_?(this.v=r,this):new J_(r)}function qY(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(b){n[b]&&(i[b]=function(E){return new Promise(function(I,S){s.push([b,E,I,S])>1||u(b,E)})})}function u(b,E){try{d(n[b](E))}catch(I){y(s[0][3],I)}}function d(b){b.value instanceof J_?Promise.resolve(b.value.v).then(l,m):y(s[0][2],b)}function l(b){u("next",b)}function m(b){u("throw",b)}function y(b,E){b(E),s.shift(),s.length&&u(s[0][0],s[0][1])}}function VY(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(c){return(t=!t)?{value:J_(r[i](c)),done:i==="return"}:s?s(c):c}:s}}function WY(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof vA=="function"?vA(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(c){return new Promise(function(u,d){c=r[s](c),i(u,d,c.done,c.value)})}}function i(s,c,u,d){Promise.resolve(d).then(function(l){s({value:l,done:u})},c)}}function ZY(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var KY=Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e};function GY(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ZC(e,r,t);return KY(e,r),e}function YY(r){return r&&r.__esModule?r:{default:r}}function XY(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function JY(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const QY=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return wA},__asyncDelegator:VY,__asyncGenerator:qY,__asyncValues:WY,__await:J_,__awaiter:jY,__classPrivateFieldGet:XY,__classPrivateFieldSet:JY,__createBinding:ZC,__decorate:LY,__exportStar:UY,__extends:OY,__generator:$Y,__importDefault:YY,__importStar:GY,__makeTemplateObject:ZY,__metadata:MY,__param:DY,__read:f8,__rest:FY,__spread:zY,__spreadArrays:HY,__values:vA},Symbol.toStringTag,{value:"Module"})),KC=wP(QY);var ud={},J6;function eX(){if(J6)return ud;J6=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.listenEvent=ud.callEvent=void 0;function r(t,n,i){return`[${t}] ${n}-${i}`}ud.callEvent=r;function e(t,n){return`[${t}] ${n}`}return ud.listenEvent=e,ud}var ld={},Q6;function d8(){if(Q6)return ld;Q6=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.getRootPath=ld.getMethodPath=void 0;function r(t,n){if(!n)return t;const i=n.split(".");return i.shift(),i.push(t),i.join(".")}ld.getMethodPath=r;function e(t){return t.split(".").shift()}return ld.getRootPath=e,ld}var HS={},eP;function tX(){return eP||(eP=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.PluginService=r.activateService=r.createService=r.getMethods=r.isPluginService=void 0;const e=KC,t=d8();r.isPluginService=u=>u instanceof c;function n(u){if(u.methods){for(const d of u.methods)if(!(d in u))throw new Error(`Method ${d} is not part of serivce`);return u.methods}if(r.isPluginService(u)){const d=Object.getPrototypeOf(u);return Object.getOwnPropertyNames(d).filter(l=>l!=="constructor"&&!l.startsWith("_"))}else return Object.getOwnPropertyNames(u).filter(d=>typeof u[d]=="function"&&!d.startsWith("_"))}r.getMethods=n;function i(u,d){if(d.path&&t.getRootPath(d.path)!==u)throw new Error(`Service path ${d.path} is different from the one provided: ${u}`);const l=n(d);for(const m of l)if(!(m in d))throw new Error(`Method ${m} is not part of service ${u}`);return r.isPluginService(d)?(d.methods||(d.methods=l),d):Object.assign(Object.assign({},d),{methods:l,path:u})}r.createService=i;function s(u,d){u.methods=[...u.methods||[],...d.methods];const l=n(d);for(const m of l)u[`${d.path}.${m}`]=d[m].bind(d);return u.call("manager","updateProfile",{methods:u.methods})}r.activateService=s;class c{emit(d,...l){this.plugin.emit(d,...l)}createService(d,l){return e.__awaiter(this,void 0,void 0,function*(){if(this.methods.includes(d))throw new Error("A service cannot have the same name as an exposed method");const m=`${this.path}.${d}`,y=i(m,l);return yield s(this.plugin,y),y})}prepareService(d,l){if(this.methods.includes(d))throw new Error("A service cannot have the same name as an exposed method");const m=`${this.path}.${d}`;this.plugin.activateService[m]=()=>e.__awaiter(this,void 0,void 0,function*(){const y=l(),b=i(m,y);return yield s(this.plugin,b),delete this.plugin.activateService[m],b})}}r.PluginService=c}(HS)),HS}var Wg={},tP;function rX(){if(tP)return Wg;tP=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.PluginQueueItem=void 0;const r=KC;class e{constructor(n,i,s,c,u,d){this.options={},this.resolve=n,this.reject=i,this.method=c,this.request=s,this.timer=void 0,this.timedout=!1,this.canceled=!1,this.finished=!1,this.running=!1,this.args=d,this.options=u}setCurrentRequest(n){throw new Error("Cannot call this directly")}callMethod(n,i){throw new Error("Cannot call this directly")}letContinue(){throw new Error("Cannot call this directly")}cancel(){this.canceled=!0,clearTimeout(this.timer),this.reject(`[CANCEL] Canceled call ${this.method} from ${this.request.from}`),this.running&&this.letContinue()}run(){return r.__awaiter(this,void 0,void 0,function*(){if(this.canceled){this.letContinue();return}this.timer=setTimeout(()=>{this.timedout=!0,this.reject(`[TIMEOUT] Timeout for call ${this.method} from ${this.request.from}`),this.letContinue()},this.options.queueTimeout||1e4),this.running=!0,this.setCurrentRequest(this.request);try{const n=yield this.callMethod(this.method,this.args);if(this.timedout||this.canceled)return;this.resolve(n)}catch(n){this.reject(n)}this.finished=!0,this.running=!1,clearTimeout(this.timer),this.letContinue()})}}return Wg.PluginQueueItem=e,Wg}var qS={},rP;function nX(){return rP||(rP=1,Object.defineProperty(qS,"__esModule",{value:!0})),qS}var VS={},nP;function iX(){return nP||(nP=1,Object.defineProperty(VS,"__esModule",{value:!0})),VS}var WS={},iP;function sX(){return iP||(iP=1,Object.defineProperty(WS,"__esModule",{value:!0})),WS}var ZS={},sP;function aX(){return sP||(sP=1,Object.defineProperty(ZS,"__esModule",{value:!0})),ZS}var KS={},aP;function oX(){return aP||(aP=1,Object.defineProperty(KS,"__esModule",{value:!0})),KS}var GS={},oP;function cX(){return oP||(oP=1,Object.defineProperty(GS,"__esModule",{value:!0})),GS}var YS={},cP;function uX(){return cP||(cP=1,Object.defineProperty(YS,"__esModule",{value:!0})),YS}var XS={},uP;function lX(){return uP||(uP=1,Object.defineProperty(XS,"__esModule",{value:!0})),XS}var lP;function GC(){return lP||(lP=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=KC;e.__exportStar(eX(),r),e.__exportStar(d8(),r),e.__exportStar(tX(),r),e.__exportStar(rX(),r),e.__exportStar(nX(),r),e.__exportStar(iX(),r),e.__exportStar(sX(),r),e.__exportStar(aX(),r),e.__exportStar(oX(),r),e.__exportStar(cX(),r),e.__exportStar(uX(),r),e.__exportStar(lX(),r)}(zS)),zS}var fP;function h8(){return fP||(fP=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.PluginClient=r.handleConnectionError=r.defaultOptions=void 0;const e=Cn,t=DG(),n=NY(),i=GC();r.defaultOptions={customTheme:!1,customApi:n.remixProfiles};function s(u){const d=u?`Make sure the port of the IDE is ${u.port}`:"If you are using a local IDE, make sure to add devMode in client options";throw new Error(`Not connected to the IDE. ${d}`)}r.handleConnectionError=s;class c{constructor(d={}){this.id=0,this.isLoaded=!1,this.events=new t.EventEmitter,this.activateService={},this.options=Object.assign(Object.assign({},r.defaultOptions),d),this.events.once("loaded",()=>{this.isLoaded=!0,this.onActivation&&this.onActivation()})}onload(d){return new Promise((l,m)=>{const y=()=>{l(),d&&d()};this.isLoaded?y():this.events.once("loaded",()=>y())})}askUserPermission(d,l){if(!this.currentRequest)return Promise.resolve(!0);if(this.methods.includes(d)){const m=this.currentRequest.from,y=this.name;return this.call("manager","canCall",m,y,d,l)}else return Promise.resolve(!1)}canDeactivate(d){return!0}call(d,l,...m){return this.isLoaded||s(this.options.devMode),this.id++,new Promise((y,b)=>{const E=i.callEvent(d,l,this.id);this.events.once(E,(I,S)=>{S?b(new Error(`Error from IDE : ${S}`)):y(I)}),this.events.emit("send",{action:"request",name:d,key:l,payload:m,id:this.id})})}cancel(d,l){this.isLoaded||s(this.options.devMode),this.events.emit("send",{action:"cancel",name:d,key:l})}on(d,l,m){const y=i.listenEvent(d,l);this.events.on(y,m),this.events.emit("send",{action:"on",name:d,key:l,id:this.id})}once(d,l,m){const y=i.listenEvent(d,l);this.events.once(y,m),this.events.emit("send",{action:"once",name:d,key:l,id:this.id})}off(d,l){const m=i.listenEvent(d,l);this.events.removeAllListeners(m),this.events.emit("send",{action:"off",name:d,key:l,id:this.id})}emit(d,...l){this.isLoaded||s(this.options.devMode),this.events.emit("send",{action:"emit",key:d,payload:l})}createService(d,l){return e.__awaiter(this,void 0,void 0,function*(){if(this.methods&&this.methods.includes(d))throw new Error("A service cannot have the same name as an exposed method");const m=i.createService(d,l);return yield i.activateService(this,m),m})}prepareService(d,l){return this.activateService[d]=()=>e.__awaiter(this,void 0,void 0,function*(){if(this.methods&&this.methods.includes(d))throw new Error("A service cannot have the same name as an exposed method");const m=yield l(),y=i.createService(d,m);return yield i.activateService(this,y),delete this.activateService[d],y})}}r.PluginClient=c}(Y2)),Y2}var ga={},dP;function fX(){if(dP)return ga;dP=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.createConnectorClient=ga.applyApi=ga.connectClient=ga.isPluginMessage=ga.isHandshake=void 0;const r=Cn,e=GC(),t=h8(),n=n8();function i(d){return d.key==="handshake"&&(d.action==="request"||d.action==="call")}ga.isHandshake=i;function s(d){return typeof d=="object"&&"action"in d&&"name"in d}ga.isPluginMessage=s;function c(d,l=new t.PluginClient){let m=!1;return d.on(({action:y,key:b,name:E,payload:I,id:S,requestInfo:P,error:N})=>r.__awaiter(this,void 0,void 0,function*(){try{if(i({action:y,key:b})){m||(m=!0,l.events.on("send",R=>d.send(R)),l.events.emit("loaded"),l.name=I[0]);const k={action:"response",name:E,key:b,id:S,payload:l.methods};d.send(k);return}if(!m)throw new Error("Handshake before communicating");switch(y){case"emit":case"notification":{l.events.emit(e.listenEvent(E,b),...I);break}case"response":{l.events.emit(e.callEvent(E,b,S),I,N),delete l.currentRequest;break}case"call":case"request":{const k=P&&P.path,R=e.getMethodPath(b,k);if(!l[R])throw new Error(`Method ${R} doesn't exist on plugin ${E}`);l.currentRequest=P;const L=yield l[R](...I),U={action:"response",name:E,key:b,id:S,payload:L};d.send(U);break}}}catch(k){console.error(k);const R={action:y==="request"?"response":y,name:E,key:b,id:S,error:k.message||k};d.send(R)}})),m||d.send({action:"request",key:"handshake",id:-1}),l}ga.connectClient=c;function u(d){const l=d.options.customApi||{};for(const m in l){if(d[m]){const y=`Your plugin client should have a method/attribut named "${m}" as it is the name of another plugin. `,b=`To prevent this set the option "customApi" to "null" in the client's options. `,E='For exemple: "const client = createClient(new PluginClient<any, any>({ customApi: null }))".';throw new Error(y+b+E)}d[m]=n.createApi(d,l[m])}}return ga.applyApi=u,ga.createConnectorClient=(d,l=new t.PluginClient)=>{const m=l;return c(d,m),u(m),m},ga}var Zg={},hP;function dX(){if(hP)return Zg;hP=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.PluginNode=void 0;const r=GC();class e{constructor(n,i){this.path=n,this.client=i}get(n){return new e(`${this.path}.${n}`,this.client)}call(n,...i){return this.client.call(this.path,n,i)}on(n,i){this.client.on(r.getRootPath(this.path),n,i)}}return Zg.PluginNode=e,Zg}var Co={},pP;function hX(){if(pP)return Co;pP=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.checkOrigin=Co.getDevmodeOrigins=Co.getOriginsFromUrl=Co.remixOrgins=void 0;const r=Cn;Co.remixOrgins="https://gist.githubusercontent.com/EthereumRemix/091ccc57986452bbb33f57abfb13d173/raw/3367e019335746b73288e3710af2922d4c8ef5a3/origins.json";function e(i){return r.__awaiter(this,void 0,void 0,function*(){return(yield fetch(i)).json()})}Co.getOriginsFromUrl=e;function t({devMode:i}){const s=i.port?[`http://127.0.0.1:${i.port}`,`http://localhost:${i.port}`,`https://127.0.0.1:${i.port}`,`https://localhost:${i.port}`]:[],c=i.origins?typeof i.origins=="string"?[i.origins]:i.origins:[];return[...s,...c]}Co.getDevmodeOrigins=t;function n(i,s={}){return r.__awaiter(this,void 0,void 0,function*(){let c=[];if(s.allowOrigins)if(Array.isArray(s.allowOrigins))c=c.concat(s.allowOrigins);else{const u=yield e(s.allowOrigins);c=c.concat(u)}else if(s.devMode){const u=t(s);c=c.concat(u)}else return!0;return c.includes(i)})}return Co.checkOrigin=n,Co}var mP;function pX(){return mP||(mP=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(n8(),r),e.__exportStar(h8(),r),e.__exportStar(fX(),r),e.__exportStar(dX(),r),e.__exportStar(hX(),r)}(G2)),G2}var Kg={},gP;function p8(){if(gP)return Kg;gP=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.listenOnThemeChanged=void 0;const r=Cn;function e(n,i){return r.__awaiter(this,void 0,void 0,function*(){if(i&&i.customTheme)return;const s=document.createElement("link");return s.setAttribute("rel","stylesheet"),document.head.prepend(s),n.onload(()=>r.__awaiter(this,void 0,void 0,function*(){n.on("theme","themeChanged",u=>t(s,u));const c=yield n.call("theme","currentTheme");t(s,c)})),s})}Kg.listenOnThemeChanged=e;function t(n,i){n.setAttribute("href",i.url.replace(/^http:/,"").replace(/^https:/,"")),document.documentElement.style.setProperty("--theme",i.quality)}return Kg}var _P;function mX(){if(_P)return ad;_P=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.createClient=ad.IframeConnector=void 0;const r=Cn,e=pX(),t=p8();class n{constructor(s){this.options=s}send(s){this.source?this.source.postMessage(s,this.origin):e.isHandshake(s)&&window.parent.postMessage(s,"*")}on(s){window.addEventListener("message",c=>r.__awaiter(this,void 0,void 0,function*(){if(!c.source||!c.data||!e.isPluginMessage(c.data))return;if(!(yield e.checkOrigin(c.origin,this.options)))return console.warn("Origin provided is not allow in message",c);e.isHandshake(c.data)&&(this.source=c.source,this.origin=c.origin),s(c.data)}),!1)}}return ad.IframeConnector=n,ad.createClient=(i=new e.PluginClient)=>{const s=i,c=i.options,u=new n(c);return e.connectClient(u,s),e.applyApi(s),c.customTheme||t.listenOnThemeChanged(s),s},ad}var yP;function gX(){return yP||(yP=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(mX(),r),e.__exportStar(p8(),r)}(K2)),K2}var _X=gX();function yX(){const[r,e]=at.useState(null),[t,n]=at.useState(!1);return at.useEffect(()=>{t||(async()=>{const s=_X.createClient();await s.onload(),e(s),n(!0)})(),console.debug("%cwellcome-to-aztec-plugin!","color:yellow")},[]),tr("div",{className:"App",children:tr(rB,{children:r&&tr(BG,{client:r})})})}LL.createRoot(document.getElementById("root")).render(tr(at.StrictMode,{children:tr(yX,{})}));
